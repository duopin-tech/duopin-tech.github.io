/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function t(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return t=>t in e}!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const e={},n=[],i=()=>{},r=()=>!1,o=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),s=t=>t.startsWith("onUpdate:"),a=Object.assign,l=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},c=Object.prototype.hasOwnProperty,u=(t,e)=>c.call(t,e),d=Array.isArray,h=t=>"[object Map]"===_(t),f=t=>"[object Set]"===_(t),p=t=>"[object Date]"===_(t),m=t=>"function"==typeof t,v=t=>"string"==typeof t,g=t=>"symbol"==typeof t,y=t=>null!==t&&"object"==typeof t,b=t=>(y(t)||m(t))&&m(t.then)&&m(t.catch),w=Object.prototype.toString,_=t=>w.call(t),x=t=>"[object Object]"===_(t),S=t=>v(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,M=t(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),C=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},k=/-(\w)/g,E=C((t=>t.replace(k,((t,e)=>e?e.toUpperCase():"")))),T=/\B([A-Z])/g,A=C((t=>t.replace(T,"-$1").toLowerCase())),N=C((t=>t.charAt(0).toUpperCase()+t.slice(1))),I=C((t=>t?`on${N(t)}`:"")),R=(t,e)=>!Object.is(t,e),O=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},L=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},D=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let P;const B=()=>P||(P="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function F(t){if(d(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=v(i)?V(i):F(i);if(r)for(const t in r)e[t]=r[t]}return e}if(v(t)||y(t))return t}const U=/;(?![^(]*\))/g,H=/:([^]+)/,z=/\/\*[^]*?\*\//g;function V(t){const e={};return t.replace(z,"").split(U).forEach((t=>{if(t){const n=t.split(H);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function $(t){let e="";if(v(t))e=t;else if(d(t))for(let n=0;n<t.length;n++){const i=$(t[n]);i&&(e+=i+" ")}else if(y(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function G(t){if(!t)return null;let{class:e,style:n}=t;return e&&!v(e)&&(t.class=$(e)),n&&(t.style=F(n)),t}const j=t("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function W(t){return!!t||""===t}function K(t,e){if(t===e)return!0;let n=p(t),i=p(e);if(n||i)return!(!n||!i)&&t.getTime()===e.getTime();if(n=g(t),i=g(e),n||i)return t===e;if(n=d(t),i=d(e),n||i)return!(!n||!i)&&function(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=K(t[i],e[i]);return n}(t,e);if(n=y(t),i=y(e),n||i){if(!n||!i)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t){const i=t.hasOwnProperty(n),r=e.hasOwnProperty(n);if(i&&!r||!i&&r||!K(t[n],e[n]))return!1}}return String(t)===String(e)}function q(t,e){return t.findIndex((t=>K(t,e)))}const Y=t=>!(!t||!0!==t._),X=t=>v(t)?t:null==t?"":d(t)||y(t)&&(t.toString===w||!m(t.toString))?Y(t)?X(t.value):JSON.stringify(t,Z,2):String(t),Z=(t,e)=>Y(e)?Z(t,e.value):h(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n],i)=>(t[J(e,i)+" =>"]=n,t)),{})}:f(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>J(t)))}:g(e)?J(e):!y(e)||d(e)||x(e)?e:String(e),J=(t,e="")=>{var n;return g(t)?`Symbol(${null!=(n=t.description)?n:e})`:t};
/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let Q,tt;class et{constructor(t=!1){this.detached=t,this.T=!0,this.effects=[],this.cleanups=[],this.N=!1,this.parent=Q,!t&&Q&&(this.index=(Q.scopes||(Q.scopes=[])).push(this)-1)}get active(){return this.T}pause(){if(this.T){let t,e;if(this.N=!0,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this.T&&this.N){let t,e;if(this.N=!1,this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this.T){const e=Q;try{return Q=this,t()}finally{Q=e}}}on(){Q=this}off(){Q=this.parent}stop(t){if(this.T){let e,n;for(this.T=!1,e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(this.effects.length=0,e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0}}}function nt(t){return new et(t)}function it(){return Q}function rt(t,e=!1){Q&&Q.cleanups.push(t)}const ot=new WeakSet;class st{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Q&&Q.active&&Q.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,ot.has(this)&&(ot.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||ut(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,St(this),ft(this);const t=tt,e=bt;tt=this,bt=!0;try{return this.fn()}finally{pt(this),tt=t,bt=e,this.flags&=-3}}stop(){if(1&this.flags){for(let t=this.deps;t;t=t.nextDep)gt(t);this.deps=this.depsTail=void 0,St(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?ot.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){mt(this)&&this.run()}get dirty(){return mt(this)}}let at,lt,ct=0;function ut(t,e=!1){if(t.flags|=8,e)return t.next=lt,void(lt=t);t.next=at,at=t}function dt(){ct++}function ht(){if(--ct>0)return;if(lt){let t=lt;for(lt=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let t;for(;at;){let n=at;for(at=void 0;n;){const i=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(e){t||(t=e)}n=i}}if(t)throw t}function ft(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function pt(t){let e,n=t.depsTail,i=n;for(;i;){const t=i.prevDep;-1===i.version?(i===n&&(n=t),gt(i),yt(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=t}t.deps=e,t.depsTail=n}function mt(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(vt(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t.I}function vt(t){if(4&t.flags&&!(16&t.flags))return;if(t.flags&=-17,t.globalVersion===Mt)return;t.globalVersion=Mt;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!mt(t))return void(t.flags&=-3);const n=tt,i=bt;tt=t,bt=!0;try{ft(t);const n=t.fn(t.R);(0===e.version||R(n,t.R))&&(t.R=n,e.version++)}catch(r){throw e.version++,r}finally{tt=n,bt=i,pt(t),t.flags&=-3}}function gt(t,e=!1){const{dep:n,prevSub:i,nextSub:r}=t;if(i&&(i.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let t=n.computed.deps;t;t=t.nextDep)gt(t,!0)}e||--n.sc||!n.map||n.map.delete(n.key)}function yt(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let bt=!0;const wt=[];function _t(){wt.push(bt),bt=!1}function xt(){const t=wt.pop();bt=void 0===t||t}function St(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const t=tt;tt=void 0;try{e()}finally{tt=t}}}let Mt=0,Ct=class{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class kt{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!tt||!bt||tt===this.computed)return;let e=this.activeLink;if(void 0===e||e.sub!==tt)e=this.activeLink=new Ct(tt,this),tt.deps?(e.prevDep=tt.depsTail,tt.depsTail.nextDep=e,tt.depsTail=e):tt.deps=tt.depsTail=e,Et(e);else if(-1===e.version&&(e.version=this.version,e.nextDep)){const t=e.nextDep;t.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=t),e.prevDep=tt.depsTail,e.nextDep=void 0,tt.depsTail.nextDep=e,tt.depsTail=e,tt.deps===e&&(tt.deps=t)}return e}trigger(t){this.version++,Mt++,this.notify(t)}notify(t){dt();try{0;for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{ht()}}}function Et(t){if(t.dep.sc++,4&t.sub.flags){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let t=e.deps;t;t=t.nextDep)Et(t)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Tt=new WeakMap,At=Symbol(""),Nt=Symbol(""),It=Symbol("");function Rt(t,e,n){if(bt&&tt){let e=Tt.get(t);e||Tt.set(t,e=new Map);let i=e.get(n);i||(e.set(n,i=new kt),i.map=e,i.key=n),i.track()}}function Ot(t,e,n,i,r,o){const s=Tt.get(t);if(!s)return void Mt++;const a=t=>{t&&t.trigger()};if(dt(),"clear"===e)s.forEach(a);else{const r=d(t),o=r&&S(n);if(r&&"length"===n){const t=Number(i);s.forEach(((e,n)=>{("length"===n||n===It||!g(n)&&n>=t)&&a(e)}))}else switch((void 0!==n||s.has(void 0))&&a(s.get(n)),o&&a(s.get(It)),e){case"add":r?o&&a(s.get("length")):(a(s.get(At)),h(t)&&a(s.get(Nt)));break;case"delete":r||(a(s.get(At)),h(t)&&a(s.get(Nt)));break;case"set":h(t)&&a(s.get(At))}}ht()}function Lt(t){const e=be(t);return e===t?e:(Rt(e,0,It),ge(t)?e:e.map(_e))}function Dt(t){return Rt(t=be(t),0,It),t}const Pt={__proto__:null,[Symbol.iterator](){return Bt(this,Symbol.iterator,_e)},concat(...t){return Lt(this).concat(...t.map((t=>d(t)?Lt(t):t)))},entries(){return Bt(this,"entries",(t=>(t[1]=_e(t[1]),t)))},every(t,e){return Ut(this,"every",t,e,void 0,arguments)},filter(t,e){return Ut(this,"filter",t,e,(t=>t.map(_e)),arguments)},find(t,e){return Ut(this,"find",t,e,_e,arguments)},findIndex(t,e){return Ut(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Ut(this,"findLast",t,e,_e,arguments)},findLastIndex(t,e){return Ut(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Ut(this,"forEach",t,e,void 0,arguments)},includes(...t){return zt(this,"includes",t)},indexOf(...t){return zt(this,"indexOf",t)},join(t){return Lt(this).join(t)},lastIndexOf(...t){return zt(this,"lastIndexOf",t)},map(t,e){return Ut(this,"map",t,e,void 0,arguments)},pop(){return Vt(this,"pop")},push(...t){return Vt(this,"push",t)},reduce(t,...e){return Ht(this,"reduce",t,e)},reduceRight(t,...e){return Ht(this,"reduceRight",t,e)},shift(){return Vt(this,"shift")},some(t,e){return Ut(this,"some",t,e,void 0,arguments)},splice(...t){return Vt(this,"splice",t)},toReversed(){return Lt(this).toReversed()},toSorted(t){return Lt(this).toSorted(t)},toSpliced(...t){return Lt(this).toSpliced(...t)},unshift(...t){return Vt(this,"unshift",t)},values(){return Bt(this,"values",_e)}};function Bt(t,e,n){const i=Dt(t),r=i[e]();return i===t||ge(t)||(r.O=r.next,r.next=()=>{const t=r.O();return t.value&&(t.value=n(t.value)),t}),r}const Ft=Array.prototype;function Ut(t,e,n,i,r,o){const s=Dt(t),a=s!==t&&!ge(t),l=s[e];if(l!==Ft[e]){const e=l.apply(t,o);return a?_e(e):e}let c=n;s!==t&&(a?c=function(e,i){return n.call(this,_e(e),i,t)}:n.length>2&&(c=function(e,i){return n.call(this,e,i,t)}));const u=l.call(s,c,i);return a&&r?r(u):u}function Ht(t,e,n,i){const r=Dt(t);let o=n;return r!==t&&(ge(t)?n.length>3&&(o=function(e,i,r){return n.call(this,e,i,r,t)}):o=function(e,i,r){return n.call(this,e,_e(i),r,t)}),r[e](o,...i)}function zt(t,e,n){const i=be(t);Rt(i,0,It);const r=i[e](...n);return-1!==r&&!1!==r||!ye(n[0])?r:(n[0]=be(n[0]),i[e](...n))}function Vt(t,e,n=[]){_t(),dt();const i=be(t)[e].apply(t,n);return ht(),xt(),i}const $t=t("__proto__,__v_isRef,__isVue"),Gt=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(g));function jt(t){g(t)||(t=String(t));const e=be(this);return Rt(e,0,t),e.hasOwnProperty(t)}class Wt{constructor(t=!1,e=!1){this.P=t,this.U=e}get(t,e,n){if("__v_skip"===e)return t.V;const i=this.P,r=this.U;if("__v_isReactive"===e)return!i;if("__v_isReadonly"===e)return i;if("__v_isShallow"===e)return r;if("__v_raw"===e)return n===(i?r?ce:le:r?ae:se).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=d(t);if(!i){let t;if(o&&(t=Pt[e]))return t;if("hasOwnProperty"===e)return jt}const s=Reflect.get(t,e,Se(t)?t:n);return(g(e)?Gt.has(e):$t(e))?s:(i||Rt(t,0,e),r?s:Se(s)?o&&S(e)?s:s.value:y(s)?i?fe(s):de(s):s)}}class Kt extends Wt{constructor(t=!1){super(!1,t)}set(t,e,n,i){let r=t[e];if(!this.U){const e=ve(r);if(ge(n)||ve(n)||(r=be(r),n=be(n)),!d(t)&&Se(r)&&!Se(n))return!e&&(r.value=n,!0)}const o=d(t)&&S(e)?Number(e)<t.length:u(t,e),s=Reflect.set(t,e,n,Se(t)?t:i);return t===be(i)&&(o?R(n,r)&&Ot(t,"set",e,n):Ot(t,"add",e,n)),s}deleteProperty(t,e){const n=u(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Ot(t,"delete",e,void 0),i}has(t,e){const n=Reflect.has(t,e);return g(e)&&Gt.has(e)||Rt(t,0,e),n}ownKeys(t){return Rt(t,0,d(t)?"length":At),Reflect.ownKeys(t)}}class qt extends Wt{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const Yt=new Kt,Xt=new qt,Zt=new Kt(!0),Jt=t=>t,Qt=t=>Reflect.getPrototypeOf(t);function te(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function ee(t,e){const n={get(n){const i=this.G,r=be(i),o=be(n);t||(R(n,o)&&Rt(r,0,n),Rt(r,0,o));const{has:s}=Qt(r),a=e?Jt:t?xe:_e;return s.call(r,n)?a(i.get(n)):s.call(r,o)?a(i.get(o)):void(i!==r&&i.get(n))},get size(){const e=this.G;return!t&&Rt(be(e),0,At),Reflect.get(e,"size",e)},has(e){const n=this.G,i=be(n),r=be(e);return t||(R(e,r)&&Rt(i,0,e),Rt(i,0,r)),e===r?n.has(e):n.has(e)||n.has(r)},forEach(n,i){const r=this,o=r.G,s=be(o),a=e?Jt:t?xe:_e;return!t&&Rt(s,0,At),o.forEach(((t,e)=>n.call(i,a(t),a(e),r)))}};a(n,t?{add:te("add"),set:te("set"),delete:te("delete"),clear:te("clear")}:{add(t){e||ge(t)||ve(t)||(t=be(t));const n=be(this);return Qt(n).has.call(n,t)||(n.add(t),Ot(n,"add",t,t)),this},set(t,n){e||ge(n)||ve(n)||(n=be(n));const i=be(this),{has:r,get:o}=Qt(i);let s=r.call(i,t);s||(t=be(t),s=r.call(i,t));const a=o.call(i,t);return i.set(t,n),s?R(n,a)&&Ot(i,"set",t,n):Ot(i,"add",t,n),this},delete(t){const e=be(this),{has:n,get:i}=Qt(e);let r=n.call(e,t);r||(t=be(t),r=n.call(e,t)),i&&i.call(e,t);const o=e.delete(t);return r&&Ot(e,"delete",t,void 0),o},clear(){const t=be(this),e=0!==t.size,n=t.clear();return e&&Ot(t,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach((i=>{n[i]=function(t,e,n){return function(...i){const r=this.G,o=be(r),s=h(o),a="entries"===t||t===Symbol.iterator&&s,l="keys"===t&&s,c=r[t](...i),u=n?Jt:e?xe:_e;return!e&&Rt(o,0,l?Nt:At),{next(){const{value:t,done:e}=c.next();return e?{value:t,done:e}:{value:a?[u(t[0]),u(t[1])]:u(t),done:e}},[Symbol.iterator](){return this}}}}(i,t,e)})),n}function ne(t,e){const n=ee(t,e);return(e,i,r)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get(u(n,i)&&i in e?n:e,i,r)}const ie={get:ne(!1,!1)},re={get:ne(!1,!0)},oe={get:ne(!0,!1)},se=new WeakMap,ae=new WeakMap,le=new WeakMap,ce=new WeakMap;function ue(t){return t.V||!Object.isExtensible(t)?0:function(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((t=>_(t).slice(8,-1))(t))}function de(t){return ve(t)?t:pe(t,!1,Yt,ie,se)}function he(t){return pe(t,!1,Zt,re,ae)}function fe(t){return pe(t,!0,Xt,oe,le)}function pe(t,e,n,i,r){if(!y(t))return t;if(t.G&&(!e||!t.j))return t;const o=r.get(t);if(o)return o;const s=ue(t);if(0===s)return t;const a=new Proxy(t,2===s?i:n);return r.set(t,a),a}function me(t){return ve(t)?me(t.G):!(!t||!t.j)}function ve(t){return!(!t||!t.W)}function ge(t){return!(!t||!t.K)}function ye(t){return!!t&&!!t.G}function be(t){const e=t&&t.G;return e?be(e):t}function we(t){return!u(t,"__v_skip")&&Object.isExtensible(t)&&L(t,"__v_skip",!0),t}const _e=t=>y(t)?de(t):t,xe=t=>y(t)?fe(t):t;function Se(t){return!!t&&!0===t._}function Me(t){return ke(t,!1)}function Ce(t){return ke(t,!0)}function ke(t,e){return Se(t)?t:new Ee(t,e)}class Ee{constructor(t,e){this.dep=new kt,this._=!0,this.K=!1,this.X=e?t:be(t),this.R=e?t:_e(t),this.K=e}get value(){return this.dep.track(),this.R}set value(t){const e=this.X,n=this.K||ge(t)||ve(t);t=n?t:be(t),R(t,e)&&(this.X=t,this.R=n?t:_e(t),this.dep.trigger())}}function Te(t){return Se(t)?t.value:t}const Ae={get:(t,e,n)=>"__v_raw"===e?t:Te(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Se(r)&&!Se(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function Ne(t){return me(t)?t:new Proxy(t,Ae)}class Ie{constructor(t){this._=!0,this.R=void 0;const e=this.dep=new kt,{get:n,set:i}=t(e.track.bind(e),e.trigger.bind(e));this.J=n,this.tt=i}get value(){return this.R=this.J()}set value(t){this.tt(t)}}function Re(t){const e=d(t)?new Array(t.length):{};for(const n in t)e[n]=Pe(t,n);return e}class Oe{constructor(t,e,n){this.et=t,this.nt=e,this.it=n,this._=!0,this.R=void 0}get value(){const t=this.et[this.nt];return this.R=void 0===t?this.it:t}set value(t){this.et[this.nt]=t}get dep(){return function(t,e){const n=Tt.get(t);return n&&n.get(e)}(be(this.et),this.nt)}}class Le{constructor(t){this.rt=t,this._=!0,this.W=!0,this.R=void 0}get value(){return this.R=this.rt()}}function De(t,e,n){return Se(t)?t:m(t)?new Le(t):y(t)&&arguments.length>1?Pe(t,e,n):Me(t)}function Pe(t,e,n){const i=t[e];return Se(i)?i:new Oe(t,e,n)}class Be{constructor(t,e,n){this.fn=t,this.setter=e,this.R=void 0,this.dep=new kt(this),this._=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Mt-1,this.next=void 0,this.effect=this,this.W=!e,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&tt!==this)return ut(this,!0),!0}get value(){const t=this.dep.track();return vt(this),t&&(t.version=this.dep.version),this.R}set value(t){this.setter&&this.setter(t)}}const Fe={},Ue=new WeakMap;let He;function ze(t,n,r=e){const{immediate:o,deep:s,once:a,scheduler:c,augmentJob:u,call:h}=r,f=t=>s?t:ge(t)||!1===s||0===s?Ve(t,1):Ve(t);let p,v,g,y,b=!1,w=!1;if(Se(t)?(v=()=>t.value,b=ge(t)):me(t)?(v=()=>f(t),b=!0):d(t)?(w=!0,b=t.some((t=>me(t)||ge(t))),v=()=>t.map((t=>Se(t)?t.value:me(t)?f(t):m(t)?h?h(t,2):t():void 0))):v=m(t)?n?h?()=>h(t,2):t:()=>{if(g){_t();try{g()}finally{xt()}}const e=He;He=p;try{return h?h(t,3,[y]):t(y)}finally{He=e}}:i,n&&s){const t=v,e=!0===s?1/0:s;v=()=>Ve(t(),e)}const _=it(),x=()=>{p.stop(),_&&_.active&&l(_.effects,p)};if(a&&n){const t=n;n=(...e)=>{t(...e),x()}}let S=w?new Array(t.length).fill(Fe):Fe;const M=t=>{if(1&p.flags&&(p.dirty||t))if(n){const t=p.run();if(s||b||(w?t.some(((t,e)=>R(t,S[e]))):R(t,S))){g&&g();const e=He;He=p;try{const e=[t,S===Fe?void 0:w&&S[0]===Fe?[]:S,y];h?h(n,3,e):n(...e),S=t}finally{He=e}}}else p.run()};return u&&u(M),p=new st(v),p.scheduler=c?()=>c(M,!1):M,y=t=>function(t,e=!1,n=He){if(n){let e=Ue.get(n);e||Ue.set(n,e=[]),e.push(t)}}(t,!1,p),g=p.onStop=()=>{const t=Ue.get(p);if(t){if(h)h(t,4);else for(const e of t)e();Ue.delete(p)}},n?o?M(!0):S=p.run():c?c(M.bind(null,!0),!0):p.run(),x.pause=p.pause.bind(p),x.resume=p.resume.bind(p),x.stop=x,x}function Ve(t,e=1/0,n){if(e<=0||!y(t)||t.V)return t;if((n=n||new Set).has(t))return t;if(n.add(t),e--,Se(t))Ve(t.value,e,n);else if(d(t))for(let i=0;i<t.length;i++)Ve(t[i],e,n);else if(f(t)||h(t))t.forEach((t=>{Ve(t,e,n)}));else if(x(t)){for(const i in t)Ve(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Ve(t[i],e,n)}return t}
/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function $e(t,e,n,i){try{return i?t(...i):t()}catch(r){je(r,e,n)}}function Ge(t,e,n,i){if(m(t)){const r=$e(t,e,n,i);return r&&b(r)&&r.catch((t=>{je(t,e,n)})),r}if(d(t)){const r=[];for(let o=0;o<t.length;o++)r.push(Ge(t[o],e,n,i));return r}}function je(t,n,i,r=!0){n&&n.vnode;const{errorHandler:o,throwUnhandledErrorInProduction:s}=n&&n.appContext.config||e;if(n){let e=n.parent;const r=n.proxy,s=`https://vuejs.org/error-reference/#runtime-${i}`;for(;e;){const n=e.ec;if(n)for(let e=0;e<n.length;e++)if(!1===n[e](t,r,s))return;e=e.parent}if(o)return _t(),$e(o,null,10,[t,r,s]),void xt()}!function(t,e,n,i=!0,r=!1){if(r)throw t}(t,0,0,r,s)}const We=[];let Ke=-1;const qe=[];let Ye=null,Xe=0;const Ze=Promise.resolve();let Je=null;function Qe(t){const e=Je||Ze;return t?e.then(this?t.bind(this):t):e}function tn(t){if(!(1&t.flags)){const e=on(t),n=We[We.length-1];!n||!(2&t.flags)&&e>=on(n)?We.push(t):We.splice(function(t){let e=Ke+1,n=We.length;for(;e<n;){const i=e+n>>>1,r=We[i],o=on(r);o<t||o===t&&2&r.flags?e=i+1:n=i}return e}(e),0,t),t.flags|=1,en()}}function en(){Je||(Je=Ze.then(sn))}function nn(t,e,n=Ke+1){for(;n<We.length;n++){const e=We[n];if(e&&2&e.flags){if(t&&e.id!==t.uid)continue;We.splice(n,1),n--,4&e.flags&&(e.flags&=-2),e(),4&e.flags||(e.flags&=-2)}}}function rn(t){if(qe.length){const t=[...new Set(qe)].sort(((t,e)=>on(t)-on(e)));if(qe.length=0,Ye)return void Ye.push(...t);for(Ye=t,Xe=0;Xe<Ye.length;Xe++){const t=Ye[Xe];4&t.flags&&(t.flags&=-2),8&t.flags||t(),t.flags&=-2}Ye=null,Xe=0}}const on=t=>null==t.id?2&t.flags?-1:1/0:t.id;function sn(t){try{for(Ke=0;Ke<We.length;Ke++){const t=We[Ke];!t||8&t.flags||(4&t.flags&&(t.flags&=-2),$e(t,t.i,t.i?15:14),4&t.flags||(t.flags&=-2))}}finally{for(;Ke<We.length;Ke++){const t=We[Ke];t&&(t.flags&=-2)}Ke=-1,We.length=0,rn(),Je=null,(We.length||qe.length)&&sn()}}let an=null,ln=null;function cn(t){const e=an;return an=t,ln=t&&t.type.ot||null,e}function un(t,e=an,n){if(!e)return t;if(t.st)return t;const i=(...n)=>{i.lt&&Lr(-1);const r=cn(e);let o;try{o=t(...n)}finally{cn(r),i.lt&&Lr(1)}return o};return i.st=!0,i.ct=!0,i.lt=!0,i}function dn(t,n){if(null===an)return t;const i=po(an),r=t.dirs||(t.dirs=[]);for(let o=0;o<n.length;o++){let[t,s,a,l=e]=n[o];t&&(m(t)&&(t={mounted:t,updated:t}),t.deep&&Ve(s),r.push({dir:t,instance:i,value:s,oldValue:void 0,arg:a,modifiers:l}))}return t}function hn(t,e,n,i){const r=t.dirs,o=e&&e.dirs;for(let s=0;s<r.length;s++){const a=r[s];o&&(a.oldValue=o[s].value);let l=a.dir[i];l&&(_t(),Ge(l,n,8,[t.el,a,t,e]),xt())}}const fn=Symbol("_vte"),pn=t=>t.dt,mn=t=>t&&(t.disabled||""===t.disabled),vn=t=>t&&(t.defer||""===t.defer),gn=t=>"undefined"!=typeof SVGElement&&t instanceof SVGElement,yn=t=>"function"==typeof MathMLElement&&t instanceof MathMLElement,bn=(t,e)=>{const n=t&&t.to;if(v(n)){if(e){return e(n)}return null}return n},wn={name:"Teleport",dt:!0,process(t,e,n,i,r,o,s,a,l,c){const{mc:u,pc:d,pbc:h,o:{insert:f,querySelector:p,createText:m,createComment:v}}=c,g=mn(e.props);let{shapeFlag:y,children:b,dynamicChildren:w}=e;if(null==t){const t=e.el=m(""),c=e.anchor=m("");f(t,n,i),f(c,n,i);const d=(t,e)=>{16&y&&(r&&r.isCE&&(r.ce.ht=t),u(b,t,e,r,o,s,a,l))},h=()=>{const t=e.target=bn(e.props,p),n=Mn(t,e,m,f);t&&("svg"!==s&&gn(t)?s="svg":"mathml"!==s&&yn(t)&&(s="mathml"),g||(d(t,n),Sn(e,!1)))};g&&(d(n,c),Sn(e,!0)),vn(e.props)?ir((()=>{h(),e.el.ft=!0}),o):h()}else{if(vn(e.props)&&!t.el.ft)return void ir((()=>{wn.process(t,e,n,i,r,o,s,a,l,c),delete t.el.ft}),o);e.el=t.el,e.targetStart=t.targetStart;const u=e.anchor=t.anchor,f=e.target=t.target,m=e.targetAnchor=t.targetAnchor,v=mn(t.props),y=v?n:f,b=v?u:m;if("svg"===s||gn(f)?s="svg":("mathml"===s||yn(f))&&(s="mathml"),w?(h(t.dynamicChildren,w,y,r,o,s,a),ar(t,e,!0)):l||d(t,e,y,b,r,o,s,a,!1),g)v?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):_n(e,n,u,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=bn(e.props,p);t&&_n(e,t,null,c,0)}else v&&_n(e,f,m,c,1);Sn(e,g)}},remove(t,e,n,{um:i,o:{remove:r}},o){const{shapeFlag:s,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:h}=t;if(d&&(r(c),r(u)),o&&r(l),16&s){const t=o||!mn(h);for(let r=0;r<a.length;r++){const o=a[r];i(o,e,n,t,!!o.dynamicChildren)}}},move:_n,hydrate:function(t,e,n,i,r,o,{o:{nextSibling:s,parentNode:a,querySelector:l,insert:c,createText:u}},d){const h=e.target=bn(e.props,l);if(h){const l=mn(e.props),f=h.vt||h.firstChild;if(16&e.shapeFlag)if(l)e.anchor=d(s(t),e,a(t),n,i,r,o),e.targetStart=f,e.targetAnchor=f&&s(f);else{e.anchor=s(t);let a=f;for(;a;){if(a&&8===a.nodeType)if("teleport start anchor"===a.data)e.targetStart=a;else if("teleport anchor"===a.data){e.targetAnchor=a,h.vt=e.targetAnchor&&s(e.targetAnchor);break}a=s(a)}e.targetAnchor||Mn(h,e,u,c),d(f&&s(f),e,h,n,i,r,o)}Sn(e,l)}return e.anchor&&s(e.anchor)}};function _n(t,e,n,{o:{insert:i},m:r},o=2){0===o&&i(t.targetAnchor,e,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=t,d=2===o;if(d&&i(s,e,n),(!d||mn(u))&&16&l)for(let h=0;h<c.length;h++)r(c[h],e,n,2);d&&i(a,e,n)}const xn=wn;function Sn(t,e){const n=t.ctx;if(n&&n.ut){let i,r;for(e?(i=t.el,r=t.anchor):(i=t.targetStart,r=t.targetAnchor);i&&i!==r;)1===i.nodeType&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function Mn(t,e,n,i){const r=e.targetStart=n(""),o=e.targetAnchor=n("");return r[fn]=o,t&&(i(r,t),i(o,t)),o}const Cn=Symbol("_leaveCb"),kn=Symbol("_enterCb");function En(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Zn((()=>{t.isMounted=!0})),ti((()=>{t.isUnmounting=!0})),t}const Tn=[Function,Array],An={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Tn,onEnter:Tn,onAfterEnter:Tn,onEnterCancelled:Tn,onBeforeLeave:Tn,onLeave:Tn,onAfterLeave:Tn,onLeaveCancelled:Tn,onBeforeAppear:Tn,onAppear:Tn,onAfterAppear:Tn,onAppearCancelled:Tn},Nn=t=>{const e=t.subTree;return e.component?Nn(e.component):e};function In(t){let e=t[0];if(t.length>1)for(const n of t)if(n.type!==Tr){e=n;break}return e}const Rn={name:"BaseTransition",props:An,setup(t,{slots:e}){const n=no(),i=En();return()=>{const r=e.default&&Fn(e.default(),!0);if(!r||!r.length)return;const o=In(r),s=be(t),{mode:a}=s;if(i.isLeaving)return Dn(o);const l=Pn(o);if(!l)return Dn(o);let c=Ln(l,s,i,n,(t=>c=t));l.type!==Tr&&Bn(l,c);let u=n.subTree&&Pn(n.subTree);if(u&&u.type!==Tr&&!Ur(l,u)&&Nn(n).type!==Tr){let t=Ln(u,s,i,n);if(Bn(u,t),"out-in"===a&&l.type!==Tr)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,8&n.job.flags||n.update(),delete t.afterLeave,u=void 0},Dn(o);"in-out"===a&&l.type!==Tr?t.delayLeave=(t,e,n)=>{On(i,u)[String(u.key)]=u,t[Cn]=()=>{e(),t[Cn]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{n(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function On(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Ln(t,e,n,i,r){const{appear:o,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:v,onBeforeAppear:g,onAppear:y,onAfterAppear:b,onAppearCancelled:w}=e,_=String(t.key),x=On(n,t),S=(t,e)=>{t&&Ge(t,i,9,e)},M=(t,e)=>{const n=e[1];S(t,e),d(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},C={mode:s,persisted:a,beforeEnter(e){let i=l;if(!n.isMounted){if(!o)return;i=g||l}e[Cn]&&e[Cn](!0);const r=x[_];r&&Ur(t,r)&&r.el[Cn]&&r.el[Cn](),S(i,[e])},enter(t){let e=c,i=u,r=h;if(!n.isMounted){if(!o)return;e=y||c,i=b||u,r=w||h}let s=!1;const a=t[kn]=e=>{s||(s=!0,S(e?r:i,[t]),C.delayedLeave&&C.delayedLeave(),t[kn]=void 0)};e?M(e,[t,a]):a()},leave(e,i){const r=String(t.key);if(e[kn]&&e[kn](!0),n.isUnmounting)return i();S(f,[e]);let o=!1;const s=e[Cn]=n=>{o||(o=!0,i(),S(n?v:m,[e]),e[Cn]=void 0,x[r]===t&&delete x[r])};x[r]=t,p?M(p,[e,s]):s()},clone(t){const o=Ln(t,e,n,i,r);return r&&r(o),o}};return C}function Dn(t){if($n(t))return(t=jr(t)).children=null,t}function Pn(t){if(!$n(t))return pn(t.type)&&t.children?In(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(16&e)return n[0];if(32&e&&m(n.default))return n.default()}}function Bn(t,e){6&t.shapeFlag&&t.component?(t.transition=e,Bn(t.component.subTree,e)):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Fn(t,e=!1,n){let i=[],r=0;for(let o=0;o<t.length;o++){let s=t[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===kr?(128&s.patchFlag&&r++,i=i.concat(Fn(s.children,e,a))):(e||s.type!==Tr)&&i.push(null!=a?jr(s,{key:a}):s)}if(r>1)for(let o=0;o<i.length;o++)i[o].patchFlag=-2;return i}
/*! #__NO_SIDE_EFFECTS__ */function Un(t,e){return m(t)?(()=>a({name:t.name},e,{setup:t}))():t}function Hn(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function zn(t,n,i,r,o=!1){if(d(t))return void t.forEach(((t,e)=>zn(t,n&&(d(n)?n[e]:n),i,r,o)));if(Vn(r)&&!o)return void(512&r.shapeFlag&&r.type.gt&&r.component.subTree.component&&zn(t,n,i,r.component.subTree));const s=4&r.shapeFlag?po(r.component):r.el,a=o?null:s,{i:c,r:h}=t,f=n&&n.r,p=c.refs===e?c.refs={}:c.refs,g=c.setupState,y=be(g),b=g===e?()=>!1:t=>u(y,t);if(null!=f&&f!==h&&(v(f)?(p[f]=null,b(f)&&(g[f]=null)):Se(f)&&(f.value=null)),m(h))$e(h,c,12,[a,p]);else{const e=v(h),n=Se(h);if(e||n){const r=()=>{if(t.f){const n=e?b(h)?g[h]:p[h]:h.value;o?d(n)&&l(n,s):d(n)?n.includes(s)||n.push(s):e?(p[h]=[s],b(h)&&(g[h]=p[h])):(h.value=[s],t.k&&(p[t.k]=h.value))}else e?(p[h]=a,b(h)&&(g[h]=a)):n&&(h.value=a,t.k&&(p[t.k]=a))};a?(r.id=-1,ir(r,i)):r()}}}B().requestIdleCallback,B().cancelIdleCallback;const Vn=t=>!!t.type.yt,$n=t=>t.type.bt;function Gn(t,e){Wn(t,"a",e)}function jn(t,e){Wn(t,"da",e)}function Wn(t,e,n=eo){const i=t.wt||(t.wt=()=>{let e=n;for(;e;){if(e.isDeactivated)return;e=e.parent}return t()});if(qn(e,i,n),n){let t=n.parent;for(;t&&t.parent;)$n(t.parent.vnode)&&Kn(i,e,n,t),t=t.parent}}function Kn(t,e,n,i){const r=qn(e,t,i,!0);ei((()=>{l(i[e],r)}),n)}function qn(t,e,n=eo,i=!1){if(n){const r=n[t]||(n[t]=[]),o=e._t||(e._t=(...i)=>{_t();const r=oo(n),o=Ge(e,n,t,i);return r(),xt(),o});return i?r.unshift(o):r.push(o),o}}const Yn=t=>(e,n=eo)=>{lo&&"sp"!==t||qn(t,((...t)=>e(...t)),n)},Xn=Yn("bm"),Zn=Yn("m"),Jn=Yn("bu"),Qn=Yn("u"),ti=Yn("bum"),ei=Yn("um"),ni=Yn("sp"),ii=Yn("rtg"),ri=Yn("rtc");function oi(t,e=eo){qn("ec",t,e)}const si="components";function ai(t,e){return di(si,t,!0,e)||t}const li=Symbol.for("v-ndc");function ci(t){return v(t)?di(si,t,!1)||t:t||li}function ui(t){return di("directives",t)}function di(t,e,n=!0,i=!1){const r=an||eo;if(r){const n=r.type;if(t===si){const t=mo(n,!1);if(t&&(t===e||t===E(e)||t===N(E(e))))return n}const o=hi(r[t]||n[t],e)||hi(r.appContext[t],e);return!o&&i?n:o}}function hi(t,e){return t&&(t[e]||t[E(e)]||t[N(E(e))])}function fi(t,e,n,i){let r;const o=n,s=d(t);if(s||v(t)){let n=!1;s&&me(t)&&(n=!ge(t),t=Dt(t)),r=new Array(t.length);for(let i=0,s=t.length;i<s;i++)r[i]=e(n?_e(t[i]):t[i],i,void 0,o)}else if("number"==typeof t){r=new Array(t);for(let n=0;n<t;n++)r[n]=e(n+1,n,void 0,o)}else if(y(t))if(t[Symbol.iterator])r=Array.from(t,((t,n)=>e(t,n,void 0,o)));else{const n=Object.keys(t);r=new Array(n.length);for(let i=0,s=n.length;i<s;i++){const s=n[i];r[i]=e(t[s],s,i,o)}}else r=[];return r}function pi(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(d(i))for(let e=0;e<i.length;e++)t[i[e].name]=i[e].fn;else i&&(t[i.name]=i.key?(...t)=>{const e=i.fn(...t);return e&&(e.key=i.key),e}:i.fn)}return t}function mi(t,e,n={},i,r){if(an.ce||an.parent&&Vn(an.parent)&&an.parent.ce)return"default"!==e&&(n.name=e),Rr(),Br(kr,null,[$r("slot",n,i&&i())],64);let o=t[e];o&&o.ct&&(o.lt=!1),Rr();const s=o&&vi(o(n)),a=n.key||s&&s.key,l=Br(kr,{key:(a&&!g(a)?a:`_${e}`)+(!s&&i?"_fb":"")},s||(i?i():[]),s&&1===t.xt?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o.ct&&(o.lt=!0),l}function vi(t){return t.some((t=>!Fr(t)||t.type!==Tr&&!(t.type===kr&&!vi(t.children))))?t:null}const gi=t=>t?ao(t)?po(t):gi(t.parent):null,yi=a(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>gi(t.parent),$root:t=>gi(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Ai(t),$forceUpdate:t=>t.f||(t.f=()=>{tn(t.update)}),$nextTick:t=>t.n||(t.n=Qe.bind(t.proxy)),$watch:t=>mr.bind(t)}),bi=(t,n)=>t!==e&&!t.St&&u(t,n),wi={get({xt:t},n){if("__v_skip"===n)return!0;const{ctx:i,setupState:r,data:o,props:s,accessCache:a,type:l,appContext:c}=t;let d;if("$"!==n[0]){const l=a[n];if(void 0!==l)switch(l){case 1:return r[n];case 2:return o[n];case 4:return i[n];case 3:return s[n]}else{if(bi(r,n))return a[n]=1,r[n];if(o!==e&&u(o,n))return a[n]=2,o[n];if((d=t.propsOptions[0])&&u(d,n))return a[n]=3,s[n];if(i!==e&&u(i,n))return a[n]=4,i[n];Ci&&(a[n]=0)}}const h=yi[n];let f,p;return h?("$attrs"===n&&Rt(t.attrs,0,""),h(t)):(f=l.Mt)&&(f=f[n])?f:i!==e&&u(i,n)?(a[n]=4,i[n]):(p=c.config.globalProperties,u(p,n)?p[n]:void 0)},set({xt:t},n,i){const{data:r,setupState:o,ctx:s}=t;return bi(o,n)?(o[n]=i,!0):r!==e&&u(r,n)?(r[n]=i,!0):!u(t.props,n)&&(("$"!==n[0]||!(n.slice(1)in t))&&(s[n]=i,!0))},has({xt:{data:t,setupState:n,accessCache:i,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!i[a]||t!==e&&u(t,a)||bi(n,a)||(l=s[0])&&u(l,a)||u(r,a)||u(yi,a)||u(o.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t.xt.accessCache[e]=0:u(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function _i(){return Si().slots}function xi(){return Si().attrs}function Si(){const t=no();return t.setupContext||(t.setupContext=fo(t))}function Mi(t){return d(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let Ci=!0;function ki(t){const e=Ai(t),n=t.proxy,r=t.ctx;Ci=!1,e.beforeCreate&&Ei(e.beforeCreate,t,"bc");const{data:o,computed:s,methods:a,watch:l,provide:c,inject:u,created:h,beforeMount:f,mounted:p,beforeUpdate:v,updated:g,activated:b,deactivated:w,beforeDestroy:_,beforeUnmount:x,destroyed:S,unmounted:M,render:C,renderTracked:k,renderTriggered:E,errorCaptured:T,serverPrefetch:A,expose:N,inheritAttrs:I,components:R,directives:O,filters:L}=e;if(u&&function(t,e){d(t)&&(t=Oi(t));for(const n in t){const i=t[n];let r;r=y(i)?"default"in i?Vi(i.from||n,i.default,!0):Vi(i.from||n):Vi(i),Se(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:t=>r.value=t}):e[n]=r}}(u,r,null),a)for(const i in a){const t=a[i];m(t)&&(r[i]=t.bind(n))}if(o){const e=o.call(n,n);y(e)&&(t.data=de(e))}if(Ci=!0,s)for(const d in s){const t=s[d],e=m(t)?t.bind(n,n):m(t.get)?t.get.bind(n,n):i,o=!m(t)&&m(t.set)?t.set.bind(n):i,a=vo({get:e,set:o});Object.defineProperty(r,d,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t})}if(l)for(const i in l)Ti(l[i],r,n,i);if(c){const t=m(c)?c.call(n):c;Reflect.ownKeys(t).forEach((e=>{zi(e,t[e])}))}function D(t,e){d(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(h&&Ei(h,t,"c"),D(Xn,f),D(Zn,p),D(Jn,v),D(Qn,g),D(Gn,b),D(jn,w),D(oi,T),D(ri,k),D(ii,E),D(ti,x),D(ei,M),D(ni,A),d(N))if(N.length){const e=t.exposed||(t.exposed={});N.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});C&&t.render===i&&(t.render=C),null!=I&&(t.inheritAttrs=I),R&&(t.components=R),O&&(t.directives=O),A&&Hn(t)}function Ei(t,e,n){Ge(d(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Ti(t,e,n,i){let r=i.includes(".")?vr(n,i):()=>n[i];if(v(t)){const n=e[t];m(n)&&fr(r,n)}else if(m(t))fr(r,t.bind(n));else if(y(t))if(d(t))t.forEach((t=>Ti(t,e,n,i)));else{const i=m(t.handler)?t.handler.bind(n):e[t.handler];m(i)&&fr(r,i,t)}}function Ai(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=t.appContext,a=o.get(e);let l;return a?l=a:r.length||n||i?(l={},r.length&&r.forEach((t=>Ni(l,t,s,!0))),Ni(l,e,s)):l=e,y(e)&&o.set(e,l),l}function Ni(t,e,n,i=!1){const{mixins:r,extends:o}=e;o&&Ni(t,o,n,!0),r&&r.forEach((e=>Ni(t,e,n,!0)));for(const s in e)if(i&&"expose"===s);else{const i=Ii[s]||n&&n[s];t[s]=i?i(t[s],e[s]):e[s]}return t}const Ii={data:Ri,props:Pi,emits:Pi,methods:Di,computed:Di,beforeCreate:Li,created:Li,beforeMount:Li,mounted:Li,beforeUpdate:Li,updated:Li,beforeDestroy:Li,beforeUnmount:Li,destroyed:Li,unmounted:Li,activated:Li,deactivated:Li,errorCaptured:Li,serverPrefetch:Li,components:Di,directives:Di,watch:function(t,e){if(!t)return e;if(!e)return t;const n=a(Object.create(null),t);for(const i in e)n[i]=Li(t[i],e[i]);return n},provide:Ri,inject:function(t,e){return Di(Oi(t),Oi(e))}};function Ri(t,e){return e?t?function(){return a(m(t)?t.call(this,this):t,m(e)?e.call(this,this):e)}:e:t}function Oi(t){if(d(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Li(t,e){return t?[...new Set([].concat(t,e))]:e}function Di(t,e){return t?a(Object.create(null),t,e):e}function Pi(t,e){return t?d(t)&&d(e)?[...new Set([...t,...e])]:a(Object.create(null),Mi(t),Mi(null!=e?e:{})):e}function Bi(){return{app:null,config:{isNativeTag:r,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fi=0;function Ui(t,e){return function(e,n=null){m(e)||(e=a({},e)),null==n||y(n)||(n=null);const i=Bi(),r=new WeakSet,o=[];let s=!1;const l=i.app={Ct:Fi++,kt:e,Et:n,Tt:null,At:i,Nt:null,version:yo,get config(){return i.config},set config(t){},use:(t,...e)=>(r.has(t)||(t&&m(t.install)?(r.add(t),t.install(l,...e)):m(t)&&(r.add(t),t(l,...e))),l),mixin:t=>(i.mixins.includes(t)||i.mixins.push(t),l),component:(t,e)=>e?(i.components[t]=e,l):i.components[t],directive:(t,e)=>e?(i.directives[t]=e,l):i.directives[t],mount(r,o,a){if(!s){const o=l.It||$r(e,n);return o.appContext=i,!0===a?a="svg":!1===a&&(a=void 0),t(o,r,a),s=!0,l.Tt=r,r.Rt=l,po(o.component)}},onUnmount(t){o.push(t)},unmount(){s&&(Ge(o,l.Nt,16),t(null,l.Tt),delete l.Tt.Rt)},provide:(t,e)=>(i.provides[t]=e,l),runWithContext(t){const e=Hi;Hi=l;try{return t()}finally{Hi=e}}};return l}}let Hi=null;function zi(t,e){if(eo){let n=eo.provides;const i=eo.parent&&eo.parent.provides;i===n&&(n=eo.provides=Object.create(i)),n[t]=e}else;}function Vi(t,e,n=!1){const i=eo||an;if(i||Hi){const r=Hi?Hi.At.provides:i?null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&m(e)?e.call(i&&i.proxy):e}}const $i={},Gi=()=>Object.create($i),ji=t=>Object.getPrototypeOf(t)===$i;function Wi(t,n,i,r){const[o,s]=t.propsOptions;let a,l=!1;if(n)for(let e in n){if(M(e))continue;const c=n[e];let d;o&&u(o,d=E(e))?s&&s.includes(d)?(a||(a={}))[d]=c:i[d]=c:wr(t.emitsOptions,e)||e in r&&c===r[e]||(r[e]=c,l=!0)}if(s){const n=be(i),r=a||e;for(let e=0;e<s.length;e++){const a=s[e];i[a]=Ki(o,n,a,r[a],t,!u(r,a))}}return l}function Ki(t,e,n,i,r,o){const s=t[n];if(null!=s){const t=u(s,"default");if(t&&void 0===i){const t=s.default;if(s.type!==Function&&!s.skipFactory&&m(t)){const{propsDefaults:o}=r;if(n in o)i=o[n];else{const s=oo(r);i=o[n]=t.call(null,e),s()}}else i=t;r.ce&&r.ce.Ot(n,i)}s[0]&&(o&&!t?i=!1:!s[1]||""!==i&&i!==A(n)||(i=!0))}return i}const qi=new WeakMap;function Yi(t,i,r=!1){const o=r?qi:i.propsCache,s=o.get(t);if(s)return s;const l=t.props,c={},h=[];let f=!1;if(!m(t)){const e=t=>{f=!0;const[e,n]=Yi(t,i,!0);a(c,e),n&&h.push(...n)};!r&&i.mixins.length&&i.mixins.forEach(e),t.extends&&e(t.extends),t.mixins&&t.mixins.forEach(e)}if(!l&&!f)return y(t)&&o.set(t,n),n;if(d(l))for(let n=0;n<l.length;n++){const t=E(l[n]);Xi(t)&&(c[t]=e)}else if(l)for(const e in l){const t=E(e);if(Xi(t)){const n=l[e],i=c[t]=d(n)||m(n)?{type:n}:a({},n),r=i.type;let o=!1,s=!0;if(d(r))for(let t=0;t<r.length;++t){const e=r[t],n=m(e)&&e.name;if("Boolean"===n){o=!0;break}"String"===n&&(s=!1)}else o=m(r)&&"Boolean"===r.name;i[0]=o,i[1]=s,(o||u(i,"default"))&&h.push(t)}}const p=[c,h];return y(t)&&o.set(t,p),p}function Xi(t){return"$"!==t[0]&&!M(t)}const Zi=t=>"_"===t[0]||"$stable"===t,Ji=t=>d(t)?t.map(qr):[qr(t)],Qi=(t,e,n)=>{if(e.st)return e;const i=un(((...t)=>Ji(e(...t))),n);return i.ct=!1,i},tr=(t,e,n)=>{const i=t.Lt;for(const r in t){if(Zi(r))continue;const n=t[r];if(m(n))e[r]=Qi(0,n,i);else if(null!=n){const t=Ji(n);e[r]=()=>t}}},er=(t,e)=>{const n=Ji(e);t.slots.default=()=>n},nr=(t,e,n)=>{for(const i in e)(n||"_"!==i)&&(t[i]=e[i])},ir=function(t,e){e&&e.pendingBranch?d(t)?e.effects.push(...t):e.effects.push(t):(d(n=t)?qe.push(...n):Ye&&-1===n.id?Ye.splice(Xe+1,0,n):1&n.flags||(qe.push(n),n.flags|=1),en());var n};function rr(t){return function(t){B().Dt=!0;const{insert:r,remove:o,patchProp:s,createElement:a,createText:l,createComment:c,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:m=i,insertStaticContent:v}=t,g=(t,e,n,i=null,r=null,o=null,s=void 0,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!Ur(t,e)&&(i=J(t),K(t,r,o,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=e;switch(c){case Er:y(t,e,n,i);break;case Tr:w(t,e,n,i);break;case Ar:null==t&&_(e,n,i,s);break;case kr:P(t,e,n,i,r,o,s,a,l);break;default:1&d?C(t,e,n,i,r,o,s,a,l):6&d?F(t,e,n,i,r,o,s,a,l):(64&d||128&d)&&c.process(t,e,n,i,r,o,s,a,l,nt)}null!=u&&r&&zn(u,t&&t.ref,o,e||t,!e)},y=(t,e,n,i)=>{if(null==t)r(e.el=l(e.children),n,i);else{const n=e.el=t.el;e.children!==t.children&&d(n,e.children)}},w=(t,e,n,i)=>{null==t?r(e.el=c(e.children||""),n,i):e.el=t.el},_=(t,e,n,i)=>{[t.el,t.anchor]=v(t.children,e,n,i,t.el,t.anchor)},x=({el:t,anchor:e},n,i)=>{let o;for(;t&&t!==e;)o=p(t),r(t,n,i),t=o;r(e,n,i)},S=({el:t,anchor:e})=>{let n;for(;t&&t!==e;)n=p(t),o(t),t=n;o(e)},C=(t,e,n,i,r,o,s,a,l)=>{"svg"===e.type?s="svg":"math"===e.type&&(s="mathml"),null==t?k(e,n,i,r,o,s,a,l):I(t,e,r,o,s,a,l)},k=(t,e,n,i,o,l,c,u)=>{let d,f;const{props:p,shapeFlag:m,transition:v,dirs:g}=t;if(d=t.el=a(t.type,l,p&&p.is,p),8&m?h(d,t.children):16&m&&N(t.children,d,null,i,o,or(t,l),c,u),g&&hn(t,null,i,"created"),T(d,t,t.scopeId,c,i),p){for(const t in p)"value"===t||M(t)||s(d,t,null,p[t],l,i);"value"in p&&s(d,"value",null,p.value,l),(f=p.onVnodeBeforeMount)&&Jr(f,i,t)}g&&hn(t,null,i,"beforeMount");const y=function(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}(o,v);y&&v.beforeEnter(d),r(d,e,n),((f=p&&p.onVnodeMounted)||y||g)&&ir((()=>{f&&Jr(f,i,t),y&&v.enter(d),g&&hn(t,null,i,"mounted")}),o)},T=(t,e,n,i,r)=>{if(n&&m(t,n),i)for(let o=0;o<i.length;o++)m(t,i[o]);if(r){let n=r.subTree;if(e===n||Cr(n.type)&&(n.ssContent===e||n.ssFallback===e)){const e=r.vnode;T(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},N=(t,e,n,i,r,o,s,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?Yr(t[c]):qr(t[c]);g(null,l,e,n,i,r,o,s,a)}},I=(t,n,i,r,o,a,l)=>{const c=n.el=t.el;let{patchFlag:u,dynamicChildren:d,dirs:f}=n;u|=16&t.patchFlag;const p=t.props||e,m=n.props||e;let v;if(i&&sr(i,!1),(v=m.onVnodeBeforeUpdate)&&Jr(v,i,n,t),f&&hn(n,t,i,"beforeUpdate"),i&&sr(i,!0),(p.innerHTML&&null==m.innerHTML||p.textContent&&null==m.textContent)&&h(c,""),d?R(t.dynamicChildren,d,c,i,r,or(n,o),a):l||$(t,n,c,null,i,r,or(n,o),a,!1),u>0){if(16&u)D(c,p,m,i,o);else if(2&u&&p.class!==m.class&&s(c,"class",null,m.class,o),4&u&&s(c,"style",p.style,m.style,o),8&u){const t=n.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e],r=p[n],a=m[n];a===r&&"value"!==n||s(c,n,r,a,o,i)}}1&u&&t.children!==n.children&&h(c,n.children)}else l||null!=d||D(c,p,m,i,o);((v=m.onVnodeUpdated)||f)&&ir((()=>{v&&Jr(v,i,n,t),f&&hn(n,t,i,"updated")}),r)},R=(t,e,n,i,r,o,s)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],u=l.el&&(l.type===kr||!Ur(l,c)||70&l.shapeFlag)?f(l.el):n;g(l,c,u,null,i,r,o,s,!0)}},D=(t,n,i,r,o)=>{if(n!==i){if(n!==e)for(const e in n)M(e)||e in i||s(t,e,n[e],null,o,r);for(const e in i){if(M(e))continue;const a=i[e],l=n[e];a!==l&&"value"!==e&&s(t,e,l,a,o,r)}"value"in i&&s(t,"value",n.value,i.value,o)}},P=(t,e,n,i,o,s,a,c,u)=>{const d=e.el=t?t.el:l(""),h=e.anchor=t?t.anchor:l("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=e;m&&(c=c?c.concat(m):m),null==t?(r(d,n,i),r(h,n,i),N(e.children||[],n,h,o,s,a,c,u)):f>0&&64&f&&p&&t.dynamicChildren?(R(t.dynamicChildren,p,n,o,s,a,c),(null!=e.key||o&&e===o.subTree)&&ar(t,e,!0)):$(t,e,n,h,o,s,a,c,u)},F=(t,e,n,i,r,o,s,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?r.ctx.activate(e,n,i,s,l):U(e,n,i,r,o,s,l):H(t,e,l)},U=(t,n,i,r,o,s,a)=>{const l=t.component=function(t,n,i){const r=t.type,o=(n?n.appContext:t.appContext)||Qr,s={uid:to++,vnode:t,type:r,parent:n,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new et(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(o.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Yi(r,o),emitsOptions:br(r,o),emit:null,emitted:null,propsDefaults:e,inheritAttrs:r.inheritAttrs,ctx:e,data:e,props:e,attrs:e,slots:e,refs:e,setupState:e,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};s.ctx={xt:s},s.root=n?n.root:s,s.emit=yr.bind(null,s),t.ce&&t.ce(s);return s}(t,r,o);if($n(t)&&(l.ctx.renderer=nt),function(t,e=!1,n=!1){e&&ro(e);const{props:i,children:r}=t.vnode,o=ao(t);(function(t,e,n,i=!1){const r={},o=Gi();t.propsDefaults=Object.create(null),Wi(t,e,r,o);for(const s in t.propsOptions[0])s in r||(r[s]=void 0);n?t.props=i?r:he(r):t.type.props?t.props=r:t.props=o,t.attrs=o})(t,i,o,e),((t,e,n)=>{const i=t.slots=Gi();if(32&t.vnode.shapeFlag){const t=e.xt;t?(nr(i,e,n),n&&L(i,"_",t,!0)):tr(e,i)}else e&&er(t,e)})(t,r,n);const s=o?function(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,wi);const{setup:i}=n;if(i){_t();const n=t.setupContext=i.length>1?fo(t):null,r=oo(t),o=$e(i,t,0,[t.props,n]),s=b(o);if(xt(),r(),!s&&!t.sp||Vn(t)||Hn(t),s){if(o.then(so,so),e)return o.then((e=>{co(t,e)})).catch((e=>{je(e,t,0)}));t.asyncDep=o}else co(t,o)}else uo(t)}(t,e):void 0;e&&ro(!1)}(l,!1,a),l.asyncDep){if(o&&o.registerDep(l,z,a),!t.el){const t=l.subTree=$r(Tr);w(null,t,n,i)}}else z(l,t,n,i,o,s,a)},H=(t,e,n)=>{const i=e.component=t.component;if(function(t,e,n){const{props:i,children:r,component:o}=t,{props:s,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==s&&(i?!s||Mr(i,s,c):!!s);if(1024&l)return!0;if(16&l)return i?Mr(i,s,c):!!s;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==i[n]&&!wr(c,n))return!0}}return!1}(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void V(i,e,n);i.next=e,i.update()}else e.el=t.el,i.vnode=e},z=(t,e,n,i,r,o,s)=>{const a=()=>{if(t.isMounted){let{next:e,bu:n,u:i,parent:l,vnode:c}=t;{const n=lr(t);if(n)return e&&(e.el=c.el,V(t,e,s)),void n.asyncDep.then((()=>{t.isUnmounted||a()}))}let u,d=e;sr(t,!1),e?(e.el=c.el,V(t,e,s)):e=c,n&&O(n),(u=e.props&&e.props.onVnodeBeforeUpdate)&&Jr(u,l,e,c),sr(t,!0);const h=_r(t),p=t.subTree;t.subTree=h,g(p,h,f(p.el),J(p),t,r,o),e.el=h.el,null===d&&function({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i!==t)break;(t=e.vnode).el=n,e=e.parent}}(t,h.el),i&&ir(i,r),(u=e.props&&e.props.onVnodeUpdated)&&ir((()=>Jr(u,l,e,c)),r)}else{let s;const{el:a,props:l}=e,{bm:c,m:u,parent:d,root:h,type:f}=t,p=Vn(e);sr(t,!1),c&&O(c),!p&&(s=l&&l.onVnodeBeforeMount)&&Jr(s,d,e),sr(t,!0);{h.ce&&h.ce.Pt(f);const s=t.subTree=_r(t);g(null,s,n,i,t,r,o),e.el=s.el}if(u&&ir(u,r),!p&&(s=l&&l.onVnodeMounted)){const t=e;ir((()=>Jr(s,d,t)),r)}(256&e.shapeFlag||d&&Vn(d.vnode)&&256&d.vnode.shapeFlag)&&t.a&&ir(t.a,r),t.isMounted=!0,e=n=i=null}};t.scope.on();const l=t.effect=new st(a);t.scope.off();const c=t.update=l.run.bind(l),u=t.job=l.runIfDirty.bind(l);u.i=t,u.id=t.uid,l.scheduler=()=>tn(u),sr(t,!0),c()},V=(t,n,i)=>{n.component=t;const r=t.vnode.props;t.vnode=n,t.next=null,function(t,e,n,i){const{props:r,attrs:o,vnode:{patchFlag:s}}=t,a=be(r),[l]=t.propsOptions;let c=!1;if(!(i||s>0)||16&s){let i;Wi(t,e,r,o)&&(c=!0);for(const o in a)e&&(u(e,o)||(i=A(o))!==o&&u(e,i))||(l?!n||void 0===n[o]&&void 0===n[i]||(r[o]=Ki(l,a,o,void 0,t,!0)):delete r[o]);if(o!==a)for(const t in o)e&&u(e,t)||(delete o[t],c=!0)}else if(8&s){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];if(wr(t.emitsOptions,s))continue;const d=e[s];if(l)if(u(o,s))d!==o[s]&&(o[s]=d,c=!0);else{const e=E(s);r[e]=Ki(l,a,e,d,t,!1)}else d!==o[s]&&(o[s]=d,c=!0)}}c&&Ot(t.attrs,"set","")}(t,n.props,r,i),((t,n,i)=>{const{vnode:r,slots:o}=t;let s=!0,a=e;if(32&r.shapeFlag){const t=n.xt;t?i&&1===t?s=!1:nr(o,n,i):(s=!n.$stable,tr(n,o)),a=n}else n&&(er(t,n),a={default:1});if(s)for(const e in o)Zi(e)||null!=a[e]||delete o[e]})(t,n.children,i),_t(),nn(t),xt()},$=(t,e,n,i,r,o,s,a,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,d=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void j(c,d,n,i,r,o,s,a,l);if(256&f)return void G(c,d,n,i,r,o,s,a,l)}8&p?(16&u&&Z(c,r,o),d!==c&&h(n,d)):16&u?16&p?j(c,d,n,i,r,o,s,a,l):Z(c,r,o,!0):(8&u&&h(n,""),16&p&&N(d,n,i,r,o,s,a,l))},G=(t,e,i,r,o,s,a,l,c)=>{e=e||n;const u=(t=t||n).length,d=e.length,h=Math.min(u,d);let f;for(f=0;f<h;f++){const n=e[f]=c?Yr(e[f]):qr(e[f]);g(t[f],n,i,null,o,s,a,l,c)}u>d?Z(t,o,s,!0,!1,h):N(e,i,r,o,s,a,l,c,h)},j=(t,e,i,r,o,s,a,l,c)=>{let u=0;const d=e.length;let h=t.length-1,f=d-1;for(;u<=h&&u<=f;){const n=t[u],r=e[u]=c?Yr(e[u]):qr(e[u]);if(!Ur(n,r))break;g(n,r,i,null,o,s,a,l,c),u++}for(;u<=h&&u<=f;){const n=t[h],r=e[f]=c?Yr(e[f]):qr(e[f]);if(!Ur(n,r))break;g(n,r,i,null,o,s,a,l,c),h--,f--}if(u>h){if(u<=f){const t=f+1,n=t<d?e[t].el:r;for(;u<=f;)g(null,e[u]=c?Yr(e[u]):qr(e[u]),i,n,o,s,a,l,c),u++}}else if(u>f)for(;u<=h;)K(t[u],o,s,!0),u++;else{const p=u,m=u,v=new Map;for(u=m;u<=f;u++){const t=e[u]=c?Yr(e[u]):qr(e[u]);null!=t.key&&v.set(t.key,u)}let y,b=0;const w=f-m+1;let _=!1,x=0;const S=new Array(w);for(u=0;u<w;u++)S[u]=0;for(u=p;u<=h;u++){const n=t[u];if(b>=w){K(n,o,s,!0);continue}let r;if(null!=n.key)r=v.get(n.key);else for(y=m;y<=f;y++)if(0===S[y-m]&&Ur(n,e[y])){r=y;break}void 0===r?K(n,o,s,!0):(S[r-m]=u+1,r>=x?x=r:_=!0,g(n,e[r],i,null,o,s,a,l,c),b++)}const M=_?function(t){const e=t.slice(),n=[0];let i,r,o,s,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(r=n[n.length-1],t[r]<l){e[i]=r,n.push(i);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,t[n[a]]<l?o=a+1:s=a;l<t[n[o]]&&(o>0&&(e[i]=n[o-1]),n[o]=i)}}o=n.length,s=n[o-1];for(;o-- >0;)n[o]=s,s=e[s];return n}(S):n;for(y=M.length-1,u=w-1;u>=0;u--){const t=m+u,n=e[t],h=t+1<d?e[t+1].el:r;0===S[u]?g(null,n,i,h,o,s,a,l,c):_&&(y<0||u!==M[y]?W(n,i,h,2):y--)}}},W=(t,e,n,i,o=null)=>{const{el:s,type:a,transition:l,children:c,shapeFlag:u}=t;if(6&u)return void W(t.component.subTree,e,n,i);if(128&u)return void t.suspense.move(e,n,i);if(64&u)return void a.move(t,e,n,nt);if(a===kr){r(s,e,n);for(let t=0;t<c.length;t++)W(c[t],e,n,i);return void r(t.anchor,e,n)}if(a===Ar)return void x(t,e,n);if(2!==i&&1&u&&l)if(0===i)l.beforeEnter(s),r(s,e,n),ir((()=>l.enter(s)),o);else{const{leave:t,delayLeave:i,afterLeave:o}=l,a=()=>r(s,e,n),c=()=>{t(s,(()=>{a(),o&&o()}))};i?i(s,a,c):c()}else r(s,e,n)},K=(t,e,n,i=!1,r=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h,cacheIndex:f}=t;if(-2===d&&(r=!1),null!=a&&zn(a,null,n,t,!0),null!=f&&(e.renderCache[f]=void 0),256&u)return void e.ctx.deactivate(t);const p=1&u&&h,m=!Vn(t);let v;if(m&&(v=s&&s.onVnodeBeforeUnmount)&&Jr(v,e,t),6&u)X(t.component,n,i);else{if(128&u)return void t.suspense.unmount(n,i);p&&hn(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,nt,i):c&&!c.hasOnce&&(o!==kr||d>0&&64&d)?Z(c,e,n,!1,!0):(o===kr&&384&d||!r&&16&u)&&Z(l,e,n),i&&q(t)}(m&&(v=s&&s.onVnodeUnmounted)||p)&&ir((()=>{v&&Jr(v,e,t),p&&hn(t,null,e,"unmounted")}),n)},q=t=>{const{type:e,el:n,anchor:i,transition:r}=t;if(e===kr)return void Y(n,i);if(e===Ar)return void S(t);const s=()=>{o(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:i}=r,o=()=>e(n,s);i?i(t.el,s,o):o()}else s()},Y=(t,e)=>{let n;for(;t!==e;)n=p(t),o(t),t=n;o(e)},X=(t,e,n)=>{const{bum:i,scope:r,job:o,subTree:s,um:a,m:l,a:c}=t;cr(l),cr(c),i&&O(i),r.stop(),o&&(o.flags|=8,K(s,t,e,n)),a&&ir(a,e),ir((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},Z=(t,e,n,i=!1,r=!1,o=0)=>{for(let s=o;s<t.length;s++)K(t[s],e,n,i,r)},J=t=>{if(6&t.shapeFlag)return J(t.component.subTree);if(128&t.shapeFlag)return t.suspense.next();const e=p(t.anchor||t.el),n=e&&e[fn];return n?p(n):e};let Q=!1;const tt=(t,e,n)=>{null==t?e.Bt&&K(e.Bt,null,null,!0):g(e.Bt||null,t,e,null,null,null,n),e.Bt=t,Q||(Q=!0,nn(),rn(),Q=!1)},nt={p:g,um:K,m:W,r:q,mt:U,mc:N,pc:$,pbc:R,n:J,o:t};let it;return{render:tt,hydrate:it,createApp:Ui(tt)}}(t)}function or({type:t,props:e},n){return"svg"===n&&"foreignObject"===t||"mathml"===n&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function sr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ar(t,e,n=!1){const i=t.children,r=e.children;if(d(i)&&d(r))for(let o=0;o<i.length;o++){const t=i[o];let e=r[o];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=r[o]=Yr(r[o]),e.el=t.el),n||-2===e.patchFlag||ar(t,e)),e.type===Er&&(e.el=t.el)}}function lr(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:lr(e)}function cr(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ur=Symbol.for("v-scx"),dr=()=>Vi(ur);function hr(t,e){return pr(t,null,e)}function fr(t,e,n){return pr(t,e,n)}function pr(t,n,r=e){const{immediate:o,deep:s,flush:l,once:c}=r,u=a({},r),d=n&&o||!n&&"post"!==l;let h;if(lo)if("sync"===l){const t=dr();h=t.Ft||(t.Ft=[])}else if(!d){const t=()=>{};return t.stop=i,t.resume=i,t.pause=i,t}const f=eo;u.call=(t,e,n)=>Ge(t,f,e,n);let p=!1;"post"===l?u.scheduler=t=>{ir(t,f&&f.suspense)}:"sync"!==l&&(p=!0,u.scheduler=(t,e)=>{e?t():tn(t)}),u.augmentJob=t=>{n&&(t.flags|=4),p&&(t.flags|=2,f&&(t.id=f.uid,t.i=f))};const m=ze(t,n,u);return lo&&(h?h.push(m):d&&m()),m}function mr(t,e,n){const i=this.proxy,r=v(t)?t.includes(".")?vr(i,t):()=>i[t]:t.bind(i,i);let o;m(e)?o=e:(o=e.handler,n=e);const s=oo(this),a=pr(r,o.bind(i),n);return s(),a}function vr(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}const gr=(t,e)=>"modelValue"===e||"model-value"===e?t.modelModifiers:t[`${e}Modifiers`]||t[`${E(e)}Modifiers`]||t[`${A(e)}Modifiers`];function yr(t,n,...i){if(t.isUnmounted)return;const r=t.vnode.props||e;let o=i;const s=n.startsWith("update:"),a=s&&gr(r,n.slice(7));let l;a&&(a.trim&&(o=i.map((t=>v(t)?t.trim():t))),a.number&&(o=i.map(D)));let c=r[l=I(n)]||r[l=I(E(n))];!c&&s&&(c=r[l=I(A(n))]),c&&Ge(c,t,6,o);const u=r[l+"Once"];if(u){if(t.emitted){if(t.emitted[l])return}else t.emitted={};t.emitted[l]=!0,Ge(u,t,6,o)}}function br(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(void 0!==r)return r;const o=t.emits;let s={},l=!1;if(!m(t)){const i=t=>{const n=br(t,e,!0);n&&(l=!0,a(s,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return o||l?(d(o)?o.forEach((t=>s[t]=null)):a(s,o),y(t)&&i.set(t,s),s):(y(t)&&i.set(t,null),null)}function wr(t,e){return!(!t||!o(e))&&(e=e.slice(2).replace(/Once$/,""),u(t,e[0].toLowerCase()+e.slice(1))||u(t,A(e))||u(t,e))}function _r(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:d,props:h,data:f,setupState:p,ctx:m,inheritAttrs:v}=t,g=cn(t);let y,b;try{if(4&n.shapeFlag){const t=r||i,e=t;y=qr(u.call(e,t,d,h,p,f,m)),b=l}else{const t=e;0,y=qr(t.length>1?t(h,{attrs:l,slots:a,emit:c}):t(h,null)),b=e.props?l:xr(l)}}catch(_){Nr.length=0,je(_,t,1),y=$r(Tr)}let w=y;if(b&&!1!==v){const t=Object.keys(b),{shapeFlag:e}=w;t.length&&7&e&&(o&&t.some(s)&&(b=Sr(b,o)),w=jr(w,b,!1,!0))}return n.dirs&&(w=jr(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&Bn(w,n.transition),y=w,cn(g),y}const xr=t=>{let e;for(const n in t)("class"===n||"style"===n||o(n))&&((e||(e={}))[n]=t[n]);return e},Sr=(t,e)=>{const n={};for(const i in t)s(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function Mr(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(e[o]!==t[o]&&!wr(n,o))return!0}return!1}const Cr=t=>t.Ut;const kr=Symbol.for("v-fgt"),Er=Symbol.for("v-txt"),Tr=Symbol.for("v-cmt"),Ar=Symbol.for("v-stc"),Nr=[];let Ir=null;function Rr(t=!1){Nr.push(Ir=t?null:[])}let Or=1;function Lr(t,e=!1){Or+=t,t<0&&Ir&&e&&(Ir.hasOnce=!0)}function Dr(t){return t.dynamicChildren=Or>0?Ir||n:null,Nr.pop(),Ir=Nr[Nr.length-1]||null,Or>0&&Ir&&Ir.push(t),t}function Pr(t,e,n,i,r,o){return Dr(Vr(t,e,n,i,r,o,!0))}function Br(t,e,n,i,r){return Dr($r(t,e,n,i,r,!0))}function Fr(t){return!!t&&!0===t.Ht}function Ur(t,e){return t.type===e.type&&t.key===e.key}const Hr=({key:t})=>null!=t?t:null,zr=({ref:t,ref_key:e,ref_for:n})=>("number"==typeof t&&(t=""+t),null!=t?v(t)||Se(t)||m(t)?{i:an,r:t,k:e,f:!!n}:t:null);function Vr(t,e=null,n=null,i=0,r=null,o=(t===kr?0:1),s=!1,a=!1){const l={Ht:!0,V:!0,type:t,props:e,key:e&&Hr(e),ref:e&&zr(e),scopeId:ln,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:an};return a?(Xr(l,n),128&o&&t.normalize(l)):n&&(l.shapeFlag|=v(n)?8:16),Or>0&&!s&&Ir&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&Ir.push(l),l}const $r=function(t,e=null,n=null,i=0,r=null,o=!1){t&&t!==li||(t=Tr);if(Fr(t)){const i=jr(t,e,!0);return n&&Xr(i,n),Or>0&&!o&&Ir&&(6&i.shapeFlag?Ir[Ir.indexOf(t)]=i:Ir.push(i)),i.patchFlag=-2,i}s=t,m(s)&&"zt"in s&&(t=t.zt);var s;if(e){e=Gr(e);let{class:t,style:n}=e;t&&!v(t)&&(e.class=$(t)),y(n)&&(ye(n)&&!d(n)&&(n=a({},n)),e.style=F(n))}const l=v(t)?1:Cr(t)?128:pn(t)?64:y(t)?4:m(t)?2:0;return Vr(t,e,n,i,r,l,o,!0)};function Gr(t){return t?ye(t)||ji(t)?a({},t):t:null}function jr(t,e,n=!1,i=!1){const{props:r,ref:o,patchFlag:s,children:a,transition:l}=t,c=e?Zr(r||{},e):r,u={Ht:!0,V:!0,type:t.type,props:c,key:c&&Hr(c),ref:e&&e.ref?n&&o?d(o)?o.concat(zr(e)):[o,zr(e)]:zr(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kr?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jr(t.ssContent),ssFallback:t.ssFallback&&jr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&Bn(u,l.clone(u)),u}function Wr(t=" ",e=0){return $r(Er,null,t,e)}function Kr(t="",e=!1){return e?(Rr(),Br(Tr,null,t)):$r(Tr,null,t)}function qr(t){return null==t||"boolean"==typeof t?$r(Tr):d(t)?$r(kr,null,t.slice()):Fr(t)?Yr(t):$r(Er,null,String(t))}function Yr(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:jr(t)}function Xr(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if(d(e))n=16;else if("object"==typeof e){if(65&i){const n=e.default;return void(n&&(n.ct&&(n.lt=!1),Xr(t,n()),n.ct&&(n.lt=!0)))}{n=32;const i=e.xt;i||ji(e)?3===i&&an&&(1===an.slots.xt?e.xt=1:(e.xt=2,t.patchFlag|=1024)):e.Lt=an}}else m(e)?(e={default:e,Lt:an},n=32):(e=String(e),64&i?(n=16,e=[Wr(e)]):n=8);t.children=e,t.shapeFlag|=n}function Zr(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=$([e.class,i.class]));else if("style"===t)e.style=F([e.style,i.style]);else if(o(t)){const n=e[t],r=i[t];!r||n===r||d(n)&&n.includes(r)||(e[t]=n?[].concat(n,r):r)}else""!==t&&(e[t]=i[t])}return e}function Jr(t,e,n,i=null){Ge(t,e,7,[n,i])}const Qr=Bi();let to=0;let eo=null;const no=()=>eo||an;let io,ro;{const t=B(),e=(e,n)=>{let i;return(i=t[e])||(i=t[e]=[]),i.push(n),t=>{i.length>1?i.forEach((e=>e(t))):i[0](t)}};io=e("__VUE_INSTANCE_SETTERS__",(t=>eo=t)),ro=e("__VUE_SSR_SETTERS__",(t=>lo=t))}const oo=t=>{const e=eo;return io(t),t.scope.on(),()=>{t.scope.off(),io(e)}},so=()=>{eo&&eo.scope.off(),io(null)};function ao(t){return 4&t.vnode.shapeFlag}let lo=!1;function co(t,e,n){m(e)?t.type.Vt?t.ssrRender=e:t.render=e:y(e)&&(t.setupState=Ne(e)),uo(t)}function uo(t,e,n){const r=t.type;t.render||(t.render=r.render||i);{const e=oo(t);_t();try{ki(t)}finally{xt(),e()}}}const ho={get:(t,e)=>(Rt(t,0,""),t[e])};function fo(t){const e=e=>{t.exposed=e||{}};return{attrs:new Proxy(t.attrs,ho),slots:t.slots,emit:t.emit,expose:e}}function po(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ne(we(t.exposed)),{get:(e,n)=>n in e?e[n]:n in yi?yi[n](t):void 0,has:(t,e)=>e in t||e in yi})):t.proxy}function mo(t,e=!0){return m(t)?t.displayName||t.name:t.name||e&&t.$t}const vo=(t,e)=>{const n=function(t,e,n=!1){let i,r;return m(t)?i=t:(i=t.get,r=t.set),new Be(i,r,n)}(t,0,lo);return n};function go(t,e,n){const i=arguments.length;return 2===i?y(e)&&!d(e)?Fr(e)?$r(t,null,[e]):$r(t,e):$r(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Fr(n)&&(n=[n]),$r(t,e,n))}const yo="3.5.13",bo=i;
/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let wo;const _o="undefined"!=typeof window&&window.trustedTypes;if(_o)try{wo=_o.createPolicy("vue",{createHTML:t=>t})}catch(ax){}const xo=wo?t=>wo.createHTML(t):t=>t,So="undefined"!=typeof document?document:null,Mo=So&&So.createElement("template"),Co={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r="svg"===e?So.createElementNS("http://www.w3.org/2000/svg",t):"mathml"===e?So.createElementNS("http://www.w3.org/1998/Math/MathML",t):n?So.createElement(t,{is:n}):So.createElement(t);return"select"===t&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:t=>So.createTextNode(t),createComment:t=>So.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>So.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,o){const s=n?n.previousSibling:e.lastChild;if(r&&(r===o||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),r!==o&&(r=r.nextSibling););else{Mo.innerHTML=xo("svg"===i?`<svg>${t}</svg>`:"mathml"===i?`<math>${t}</math>`:t);const r=Mo.content;if("svg"===i||"mathml"===i){const t=r.firstChild;for(;t.firstChild;)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},ko="transition",Eo="animation",To=Symbol("_vtc"),Ao={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},No=a({},An,Ao),Io=t=>(t.displayName="Transition",t.props=No,t),Ro=Io(((t,{slots:e})=>go(Rn,Do(t),e))),Oo=(t,e=[])=>{d(t)?t.forEach((t=>t(...e))):t&&t(...e)},Lo=t=>!!t&&(d(t)?t.some((t=>t.length>1)):t.length>1);function Do(t){const e={};for(const a in t)a in Ao||(e[a]=t[a]);if(!1===t.css)return e;const{name:n="v",type:i,duration:r,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:u=s,appearToClass:d=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,m=function(t){if(null==t)return null;if(y(t))return[Po(t.enter),Po(t.leave)];{const e=Po(t);return[e,e]}}(r),v=m&&m[0],g=m&&m[1],{onBeforeEnter:b,onEnter:w,onEnterCancelled:_,onLeave:x,onLeaveCancelled:S,onBeforeAppear:M=b,onAppear:C=w,onAppearCancelled:k=_}=e,E=(t,e,n,i)=>{t.Gt=i,Fo(t,e?d:l),Fo(t,e?u:s),n&&n()},T=(t,e)=>{t.jt=!1,Fo(t,h),Fo(t,p),Fo(t,f),e&&e()},A=t=>(e,n)=>{const r=t?C:w,s=()=>E(e,t,n);Oo(r,[e,s]),Uo((()=>{Fo(e,t?c:o),Bo(e,t?d:l),Lo(r)||zo(e,i,v,s)}))};return a(e,{onBeforeEnter(t){Oo(b,[t]),Bo(t,o),Bo(t,s)},onBeforeAppear(t){Oo(M,[t]),Bo(t,c),Bo(t,u)},onEnter:A(!1),onAppear:A(!0),onLeave(t,e){t.jt=!0;const n=()=>T(t,e);Bo(t,h),t.Gt?(Bo(t,f),jo()):(jo(),Bo(t,f)),Uo((()=>{t.jt&&(Fo(t,h),Bo(t,p),Lo(x)||zo(t,i,g,n))})),Oo(x,[t,n])},onEnterCancelled(t){E(t,!1,void 0,!0),Oo(_,[t])},onAppearCancelled(t){E(t,!0,void 0,!0),Oo(k,[t])},onLeaveCancelled(t){T(t),Oo(S,[t])}})}function Po(t){const e=(t=>{const e=v(t)?Number(t):NaN;return isNaN(e)?t:e})(t);return e}function Bo(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t[To]||(t[To]=new Set)).add(e)}function Fo(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const n=t[To];n&&(n.delete(e),n.size||(t[To]=void 0))}function Uo(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let Ho=0;function zo(t,e,n,i){const r=t.Wt=++Ho,o=()=>{r===t.Wt&&i()};if(null!=n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=Vo(t,e);if(!s)return i();const c=s+"end";let u=0;const d=()=>{t.removeEventListener(c,h),o()},h=e=>{e.target===t&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),a+1),t.addEventListener(c,h)}function Vo(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),r=i(`${ko}Delay`),o=i(`${ko}Duration`),s=$o(r,o),a=i(`${Eo}Delay`),l=i(`${Eo}Duration`),c=$o(a,l);let u=null,d=0,h=0;e===ko?s>0&&(u=ko,d=s,h=o.length):e===Eo?c>0&&(u=Eo,d=c,h=l.length):(d=Math.max(s,c),u=d>0?s>c?ko:Eo:null,h=u?u===ko?o.length:l.length:0);return{type:u,timeout:d,propCount:h,hasTransform:u===ko&&/\b(transform|all)(,|$)/.test(i(`${ko}Property`).toString())}}function $o(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map(((e,n)=>Go(e)+Go(t[n]))))}function Go(t){return"auto"===t?0:1e3*Number(t.slice(0,-1).replace(",","."))}function jo(){return document.body.offsetHeight}const Wo=Symbol("_vod"),Ko=Symbol("_vsh"),qo={beforeMount(t,{value:e},{transition:n}){t[Wo]="none"===t.style.display?"":t.style.display,n&&e?n.beforeEnter(t):Yo(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Yo(t,!0),i.enter(t)):i.leave(t,(()=>{Yo(t,!1)})):Yo(t,e))},beforeUnmount(t,{value:e}){Yo(t,e)}};function Yo(t,e){t.style.display=e?t[Wo]:"none",t[Ko]=!e}const Xo=Symbol(""),Zo=/(^|;)\s*display\s*:/;const Jo=/\s*!important$/;function Qo(t,e,n){if(d(n))n.forEach((n=>Qo(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=function(t,e){const n=es[e];if(n)return n;let i=E(e);if("filter"!==i&&i in t)return es[e]=i;i=N(i);for(let r=0;r<ts.length;r++){const n=ts[r]+i;if(n in t)return es[e]=n}return e}(t,e);Jo.test(n)?t.setProperty(A(i),n.replace(Jo,""),"important"):t[i]=n}}const ts=["Webkit","Moz","ms"],es={};const ns="http://www.w3.org/1999/xlink";function is(t,e,n,i,r,o=j(e)){i&&e.startsWith("xlink:")?null==n?t.removeAttributeNS(ns,e.slice(6,e.length)):t.setAttributeNS(ns,e,n):null==n||o&&!W(n)?t.removeAttribute(e):t.setAttribute(e,o?"":g(n)?String(n):n)}function rs(t,e,n,i,r){if("innerHTML"===e||"textContent"===e)return void(null!=n&&(t[e]="innerHTML"===e?xo(n):n));const o=t.tagName;if("value"===e&&"PROGRESS"!==o&&!o.includes("-")){const i="OPTION"===o?t.getAttribute("value")||"":t.value,r=null==n?"checkbox"===t.type?"on":"":String(n);return i===r&&"R"in t||(t.value=r),null==n&&t.removeAttribute(e),void(t.R=n)}let s=!1;if(""===n||null==n){const i=typeof t[e];"boolean"===i?n=W(n):null==n&&"string"===i?(n="",s=!0):"number"===i&&(n=0,s=!0)}try{t[e]=n}catch(ax){}s&&t.removeAttribute(r||e)}function os(t,e,n,i){t.addEventListener(e,n,i)}const ss=Symbol("_vei");function as(t,e,n,i,r=null){const o=t[ss]||(t[ss]={}),s=o[e];if(i&&s)s.value=i;else{const[n,a]=function(t){let e;if(ls.test(t)){let n;for(e={};n=t.match(ls);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):A(t.slice(2));return[n,e]}(e);if(i){const s=o[e]=function(t,e){const n=t=>{if(t.Kt){if(t.Kt<=n.attached)return}else t.Kt=Date.now();Ge(function(t,e){if(d(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t.qt=!0},e.map((t=>e=>!e.qt&&t&&t(e)))}return e}(t,n.value),e,5,[t])};return n.value=t,n.attached=ds(),n}(i,r);os(t,n,s,a)}else s&&(!function(t,e,n,i){t.removeEventListener(e,n,i)}(t,n,s,a),o[e]=void 0)}}const ls=/(?:Once|Passive|Capture)$/;let cs=0;const us=Promise.resolve(),ds=()=>cs||(us.then((()=>cs=0)),cs=Date.now());const hs=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123;const fs=new WeakMap,ps=new WeakMap,ms=Symbol("_moveCb"),vs=Symbol("_enterCb"),gs=t=>(delete t.props.mode,t),ys=gs({name:"TransitionGroup",props:a({},No,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=no(),i=En();let r,o;return Qn((()=>{if(!r.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!function(t,e,n){const i=t.cloneNode(),r=t[To];r&&r.forEach((t=>{t.split(/\s+/).forEach((t=>t&&i.classList.remove(t)))}));n.split(/\s+/).forEach((t=>t&&i.classList.add(t))),i.style.display="none";const o=1===e.nodeType?e:e.parentNode;o.appendChild(i);const{hasTransform:s}=Vo(i);return o.removeChild(i),s}(r[0].el,n.vnode.el,e))return;r.forEach(ws),r.forEach(_s);const i=r.filter(xs);jo(),i.forEach((t=>{const n=t.el,i=n.style;Bo(n,e),i.transform=i.webkitTransform=i.transitionDuration="";const r=n[ms]=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",r),n[ms]=null,Fo(n,e))};n.addEventListener("transitionend",r)}))})),()=>{const s=be(t),a=Do(s);let l=s.tag||kr;if(r=[],o)for(let t=0;t<o.length;t++){const e=o[t];e.el&&e.el instanceof Element&&(r.push(e),Bn(e,Ln(e,a,i,n)),fs.set(e,e.el.getBoundingClientRect()))}o=e.default?Fn(e.default()):[];for(let t=0;t<o.length;t++){const e=o[t];null!=e.key&&Bn(e,Ln(e,a,i,n))}return $r(l,null,o)}}}),bs=ys;function ws(t){const e=t.el;e[ms]&&e[ms](),e[vs]&&e[vs]()}function _s(t){ps.set(t,t.el.getBoundingClientRect())}function xs(t){const e=fs.get(t),n=ps.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${i}px,${r}px)`,e.transitionDuration="0s",t}}const Ss=t=>{const e=t.props["onUpdate:modelValue"]||!1;return d(e)?t=>O(e,t):e};function Ms(t){t.target.composing=!0}function Cs(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ks=Symbol("_assign"),Es={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[ks]=Ss(r);const o=i||r.props&&"number"===r.props.type;os(t,e?"change":"input",(e=>{if(e.target.composing)return;let i=t.value;n&&(i=i.trim()),o&&(i=D(i)),t[ks](i)})),n&&os(t,"change",(()=>{t.value=t.value.trim()})),e||(os(t,"compositionstart",Ms),os(t,"compositionend",Cs),os(t,"change",Cs))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:r,number:o}},s){if(t[ks]=Ss(s),t.composing)return;const a=null==e?"":e;if((!o&&"number"!==t.type||/^0\d/.test(t.value)?t.value:D(t.value))!==a){if(document.activeElement===t&&"range"!==t.type){if(i&&e===n)return;if(r&&t.value.trim()===a)return}t.value=a}}},Ts={deep:!0,created(t,e,n){t[ks]=Ss(n),os(t,"change",(()=>{const e=t.Yt,n=Is(t),i=t.checked,r=t[ks];if(d(e)){const t=q(e,n),o=-1!==t;if(i&&!o)r(e.concat(n));else if(!i&&o){const n=[...e];n.splice(t,1),r(n)}}else if(f(e)){const t=new Set(e);i?t.add(n):t.delete(n),r(t)}else r(Rs(t,i))}))},mounted:As,beforeUpdate(t,e,n){t[ks]=Ss(n),As(t,e,n)}};function As(t,{value:e,oldValue:n},i){let r;if(t.Yt=e,d(e))r=q(e,i.props.value)>-1;else if(f(e))r=e.has(i.props.value);else{if(e===n)return;r=K(e,Rs(t,!0))}t.checked!==r&&(t.checked=r)}const Ns={created(t,{value:e},n){t.checked=K(e,n.props.value),t[ks]=Ss(n),os(t,"change",(()=>{t[ks](Is(t))}))},beforeUpdate(t,{value:e,oldValue:n},i){t[ks]=Ss(i),e!==n&&(t.checked=K(e,i.props.value))}};function Is(t){return"R"in t?t.R:t.value}function Rs(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const Os=["ctrl","shift","alt","meta"],Ls={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&0!==t.button,middle:t=>"button"in t&&1!==t.button,right:t=>"button"in t&&2!==t.button,exact:(t,e)=>Os.some((n=>t[`${n}Key`]&&!e.includes(n)))},Ds=(t,e)=>{const n=t.Xt||(t.Xt={}),i=e.join(".");return n[i]||(n[i]=(n,...i)=>{for(let t=0;t<e.length;t++){const i=Ls[e[t]];if(i&&i(n,e))return}return t(n,...i)})},Ps={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bs=(t,e)=>{const n=t.Zt||(t.Zt={}),i=e.join(".");return n[i]||(n[i]=n=>{if(!("key"in n))return;const i=A(n.key);return e.some((t=>t===i||Ps[t]===i))?t(n):void 0})},Fs=a({patchProp:(t,e,n,i,r,a)=>{const l="svg"===r;"class"===e?function(t,e,n){const i=t[To];i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}(t,i,l):"style"===e?function(t,e,n){const i=t.style,r=v(n);let o=!1;if(n&&!r){if(e)if(v(e))for(const t of e.split(";")){const e=t.slice(0,t.indexOf(":")).trim();null==n[e]&&Qo(i,e,"")}else for(const t in e)null==n[t]&&Qo(i,t,"");for(const t in n)"display"===t&&(o=!0),Qo(i,t,n[t])}else if(r){if(e!==n){const t=i[Xo];t&&(n+=";"+t),i.cssText=n,o=Zo.test(n)}}else e&&t.removeAttribute("style");Wo in t&&(t[Wo]=o?i.display:"",t[Ko]&&(i.display="none"))}(t,n,i):o(e)?s(e)||as(t,e,0,i,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):function(t,e,n,i){if(i)return"innerHTML"===e||"textContent"===e||!!(e in t&&hs(e)&&m(n));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}if(hs(e)&&v(n))return!1;return e in t}(t,e,i,l))?(rs(t,e,i),t.tagName.includes("-")||"value"!==e&&"checked"!==e&&"selected"!==e||is(t,e,i,l,0,"value"!==e)):!t.Jt||!/[A-Z]/.test(e)&&v(i)?("true-value"===e?t.Qt=i:"false-value"===e&&(t.te=i),is(t,e,i,l)):rs(t,E(e),i,0,e)}},Co);let Us;function Hs(){return Us||(Us=rr(Fs))}const zs=(...t)=>{Hs().render(...t)},Vs=(...t)=>{const e=Hs().createApp(...t),{mount:n}=e;return e.mount=t=>{const i=function(t){if(v(t)){return document.querySelector(t)}return t}
/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */(t);if(!i)return;const r=e.kt;m(r)||r.render||r.template||(r.template=i.innerHTML),1===i.nodeType&&(i.textContent="");const o=n(i,!1,function(t){if(t instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&t instanceof MathMLElement)return"mathml"}(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};let $s;const Gs=t=>$s=t,js=Symbol();function Ws(t){return t&&"object"==typeof t&&"[object Object]"===Object.prototype.toString.call(t)&&"function"!=typeof t.toJSON}var Ks,qs;(qs=Ks||(Ks={})).direct="direct",qs.patchObject="patch object",qs.patchFunction="patch function";const Ys=()=>{};function Xs(t,e,n,i=Ys){t.push(e);const r=()=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),i())};return!n&&it()&&rt(r),r}function Zs(t,...e){t.slice().forEach((t=>{t(...e)}))}const Js=t=>t(),Qs=Symbol(),ta=Symbol();function ea(t,e){t instanceof Map&&e instanceof Map?e.forEach(((e,n)=>t.set(n,e))):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],r=t[n];Ws(r)&&Ws(i)&&t.hasOwnProperty(n)&&!Se(i)&&!me(i)?t[n]=ea(r,i):t[n]=i}return t}const na=Symbol();const{assign:ia}=Object;function ra(t,e,n={},i,r,o){let s;const a=ia({actions:{}},n),l={deep:!0};let c,u,d,h=[],f=[];const p=i.state.value[t];let m;function v(e){let n;c=u=!1,"function"==typeof e?(e(i.state.value[t]),n={type:Ks.patchFunction,storeId:t,events:d}):(ea(i.state.value[t],e),n={type:Ks.patchObject,payload:e,storeId:t,events:d});const r=m=Symbol();Qe().then((()=>{m===r&&(c=!0)})),u=!0,Zs(h,n,i.state.value[t])}o||p||(i.state.value[t]={}),Me({});const g=o?function(){const{state:t}=n,e=t?t():{};this.$patch((t=>{ia(t,e)}))}:Ys;const y=(e,n="")=>{if(Qs in e)return e[ta]=n,e;const r=function(){Gs(i);const n=Array.from(arguments),o=[],s=[];let a;Zs(f,{args:n,name:r[ta],store:b,after:function(t){o.push(t)},onError:function(t){s.push(t)}});try{a=e.apply(this&&this.$id===t?this:b,n)}catch(l){throw Zs(s,l),l}return a instanceof Promise?a.then((t=>(Zs(o,t),t))).catch((t=>(Zs(s,t),Promise.reject(t)))):(Zs(o,a),a)};return r[Qs]=!0,r[ta]=n,r},b=de({ee:i,$id:t,$onAction:Xs.bind(null,f),$patch:v,$reset:g,$subscribe(e,n={}){const r=Xs(h,e,n.detached,(()=>o())),o=s.run((()=>fr((()=>i.state.value[t]),(i=>{("sync"===n.flush?u:c)&&e({storeId:t,type:Ks.direct,events:d},i)}),ia({},l,n))));return r},$dispose:function(){s.stop(),h=[],f=[],i.ne.delete(t)}});i.ne.set(t,b);const w=(i.oe&&i.oe.runWithContext||Js)((()=>i.se.run((()=>(s=nt()).run((()=>e({action:y})))))));for(const S in w){const e=w[S];if(Se(e)&&(!Se(x=e)||!x.effect)||me(e))o||(!p||Ws(_=e)&&_.hasOwnProperty(na)||(Se(e)?e.value=p[S]:ea(e,p[S])),i.state.value[t][S]=e);else if("function"==typeof e){const t=y(e,S);w[S]=t,a.actions[S]=e}}var _,x;return ia(b,w),ia(be(b),w),Object.defineProperty(b,"$state",{get:()=>i.state.value[t],set:t=>{v((e=>{ia(e,t)}))}}),i.ee.forEach((t=>{ia(b,s.run((()=>t({store:b,app:i.oe,pinia:i,options:a}))))})),p&&o&&n.hydrate&&n.hydrate(b.$state,p),c=!0,u=!0,b}
/*! #__NO_SIDE_EFFECTS__ */function oa(t,e,n){let i;const r="function"==typeof e;function o(n,o){(n=n||(!!(eo||an||Hi)?Vi(js,null):null))&&Gs(n),(n=$s).ne.has(t)||(r?ra(t,e,i,n):function(t,e,n){const{state:i,actions:r,getters:o}=e,s=n.state.value[t];let a;a=ra(t,(function(){s||(n.state.value[t]=i?i():{});const e=Re(n.state.value[t]);return ia(e,r,Object.keys(o||{}).reduce(((e,i)=>(e[i]=we(vo((()=>{Gs(n);const e=n.ne.get(t);return o[i].call(e,e)}))),e)),{}))}),e,n,0,!0)}(t,i,n));return n.ne.get(t)}return i=r?n:e,o.$id=t,o}const sa=oa("language",{state:()=>({currentLang:"zh"}),actions:{setLanguage(t){this.currentLang=t}}}),aa=Symbol("INSTALLED_KEY"),la=Symbol(),ca="el",ua=(t,e,n,i,r)=>{let o=`${t}-${e}`;return n&&(o+=`-${n}`),i&&(o+=`__${i}`),r&&(o+=`--${r}`),o},da=Symbol("namespaceContextKey"),ha=t=>{const e=t||(no()?Vi(da,Me(ca)):Me(ca));return vo((()=>Te(e)||ca))},fa=(t,e)=>{const n=ha(e);return{namespace:n,b:(e="")=>ua(n.value,t,e,"",""),e:e=>e?ua(n.value,t,"",e,""):"",m:e=>e?ua(n.value,t,"","",e):"",be:(e,i)=>e&&i?ua(n.value,t,e,i,""):"",em:(e,i)=>e&&i?ua(n.value,t,"",e,i):"",bm:(e,i)=>e&&i?ua(n.value,t,e,"",i):"",bem:(e,i,r)=>e&&i&&r?ua(n.value,t,e,i,r):"",is:(t,...e)=>{const n=!(e.length>=1)||e[0];return t&&n?`is-${t}`:""},cssVar:t=>{const e={};for(const i in t)t[i]&&(e[`--${n.value}-${i}`]=t[i]);return e},cssVarName:t=>`--${n.value}-${t}`,cssVarBlock:e=>{const i={};for(const r in e)e[r]&&(i[`--${n.value}-${t}-${r}`]=e[r]);return i},cssVarBlockName:e=>`--${n.value}-${t}-${e}`}};var pa="object"==typeof global&&global&&global.Object===Object&&global,ma="object"==typeof self&&self&&self.Object===Object&&self,va=pa||ma||Function("return this")(),ga=va.Symbol,ya=Object.prototype,ba=ya.hasOwnProperty,wa=ya.toString,_a=ga?ga.toStringTag:void 0;var xa=Object.prototype.toString;var Sa=ga?ga.toStringTag:void 0;function Ma(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Sa&&Sa in Object(t)?function(t){var e=ba.call(t,_a),n=t[_a];try{t[_a]=void 0;var i=!0}catch(ax){}var r=wa.call(t);return i&&(e?t[_a]=n:delete t[_a]),r}(t):function(t){return xa.call(t)}(t)}function Ca(t){return null!=t&&"object"==typeof t}function ka(t){return"symbol"==typeof t||Ca(t)&&"[object Symbol]"==Ma(t)}function Ea(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}var Ta=Array.isArray,Aa=ga?ga.prototype:void 0,Na=Aa?Aa.toString:void 0;function Ia(t){if("string"==typeof t)return t;if(Ta(t))return Ea(t,Ia)+"";if(ka(t))return Na?Na.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}var Ra=/\s/;var Oa=/^\s+/;function La(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&Ra.test(t.charAt(e)););return e}(t)+1).replace(Oa,""):t}function Da(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Pa=/^[-+]0x[0-9a-f]+$/i,Ba=/^0b[01]+$/i,Fa=/^0o[0-7]+$/i,Ua=parseInt;function Ha(t){if("number"==typeof t)return t;if(ka(t))return NaN;if(Da(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Da(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=La(t);var n=Ba.test(t);return n||Fa.test(t)?Ua(t.slice(2),n?2:8):Pa.test(t)?NaN:+t}function za(t){return t}function Va(t){if(!Da(t))return!1;var e=Ma(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var $a,Ga=va["ae"],ja=($a=/[^.]+$/.exec(Ga&&Ga.keys&&Ga.keys.IE_PROTO||""))?"Symbol(src)_1."+$a:"";var Wa=Function.prototype.toString;function Ka(t){if(null!=t){try{return Wa.call(t)}catch(ax){}try{return t+""}catch(ax){}}return""}var qa=/^\[object .+?Constructor\]$/,Ya=Function.prototype,Xa=Object.prototype,Za=Ya.toString,Ja=Xa.hasOwnProperty,Qa=RegExp("^"+Za.call(Ja).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tl(t){return!(!Da(t)||(e=t,ja&&ja in e))&&(Va(t)?Qa:qa).test(Ka(t));var e}function el(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return tl(n)?n:void 0}var nl=el(va,"WeakMap"),il=Object.create,rl=function(){function t(){}return function(e){if(!Da(e))return{};if(il)return il(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function ol(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var sl=Date.now;var al,ll,cl,ul=function(){try{var t=el(Object,"defineProperty");return t({},"",{}),t}catch(ax){}}(),dl=ul?function(t,e){return ul(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:za,hl=(al=dl,ll=0,cl=0,function(){var t=sl(),e=16-(t-cl);if(cl=t,e>0){if(++ll>=800)return arguments[0]}else ll=0;return al.apply(void 0,arguments)});function fl(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function pl(t){return t!=t}function ml(t,e){return!!(null==t?0:t.length)&&function(t,e,n){return e==e?function(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):fl(t,pl,n)}(t,e,0)>-1}var vl=/^(?:0|[1-9]\d*)$/;function gl(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&vl.test(t))&&t>-1&&t%1==0&&t<e}function yl(t,e,n){"__proto__"==e&&ul?ul(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function bl(t,e){return t===e||t!=t&&e!=e}var wl=Object.prototype.hasOwnProperty;function _l(t,e,n){var i=t[e];wl.call(t,e)&&bl(i,n)&&(void 0!==n||e in t)||yl(t,e,n)}function xl(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],l=void 0;void 0===l&&(l=t[a]),r?yl(n,a,l):_l(n,a,l)}return n}var Sl=Math.max;function Ml(t,e,n){return e=Sl(void 0===e?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=Sl(i.length-e,0),s=Array(o);++r<o;)s[r]=i[e+r];r=-1;for(var a=Array(e+1);++r<e;)a[r]=i[r];return a[e]=n(s),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,a)}}function Cl(t,e){return hl(Ml(t,e,za),t+"")}function kl(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function El(t){return null!=t&&kl(t.length)&&!Va(t)}var Tl=Object.prototype;function Al(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Tl)}function Nl(t){return Ca(t)&&"[object Arguments]"==Ma(t)}var Il=Object.prototype,Rl=Il.hasOwnProperty,Ol=Il.propertyIsEnumerable,Ll=Nl(function(){return arguments}())?Nl:function(t){return Ca(t)&&Rl.call(t,"callee")&&!Ol.call(t,"callee")};var Dl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Pl=Dl&&"object"==typeof module&&module&&!module.nodeType&&module,Bl=Pl&&Pl.exports===Dl?va.Buffer:void 0,Fl=(Bl?Bl.isBuffer:void 0)||function(){return!1},Ul={};function Hl(t){return function(e){return t(e)}}Ul["[object Float32Array]"]=Ul["[object Float64Array]"]=Ul["[object Int8Array]"]=Ul["[object Int16Array]"]=Ul["[object Int32Array]"]=Ul["[object Uint8Array]"]=Ul["[object Uint8ClampedArray]"]=Ul["[object Uint16Array]"]=Ul["[object Uint32Array]"]=!0,Ul["[object Arguments]"]=Ul["[object Array]"]=Ul["[object ArrayBuffer]"]=Ul["[object Boolean]"]=Ul["[object DataView]"]=Ul["[object Date]"]=Ul["[object Error]"]=Ul["[object Function]"]=Ul["[object Map]"]=Ul["[object Number]"]=Ul["[object Object]"]=Ul["[object RegExp]"]=Ul["[object Set]"]=Ul["[object String]"]=Ul["[object WeakMap]"]=!1;var zl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vl=zl&&"object"==typeof module&&module&&!module.nodeType&&module,$l=Vl&&Vl.exports===zl&&pa.process,Gl=function(){try{var t=Vl&&Vl.require&&Vl.require("util").types;return t||$l&&$l.binding&&$l.binding("util")}catch(ax){}}(),jl=Gl&&Gl.isTypedArray,Wl=jl?Hl(jl):function(t){return Ca(t)&&kl(t.length)&&!!Ul[Ma(t)]},Kl=Object.prototype.hasOwnProperty;function ql(t,e){var n=Ta(t),i=!n&&Ll(t),r=!n&&!i&&Fl(t),o=!n&&!i&&!r&&Wl(t),s=n||i||r||o,a=s?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],l=a.length;for(var c in t)!e&&!Kl.call(t,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||gl(c,l))||a.push(c);return a}function Yl(t,e){return function(n){return t(e(n))}}var Xl=Yl(Object.keys,Object),Zl=Object.prototype.hasOwnProperty;function Jl(t){return El(t)?ql(t):function(t){if(!Al(t))return Xl(t);var e=[];for(var n in Object(t))Zl.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var Ql=Object.prototype.hasOwnProperty;function tc(t){if(!Da(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=Al(t),n=[];for(var i in t)("constructor"!=i||!e&&Ql.call(t,i))&&n.push(i);return n}function ec(t){return El(t)?ql(t,!0):tc(t)}var nc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ic=/^\w*$/;function rc(t,e){if(Ta(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ka(t))||(ic.test(t)||!nc.test(t)||null!=e&&t in Object(e))}var oc=el(Object,"create");var sc=Object.prototype.hasOwnProperty;var ac=Object.prototype.hasOwnProperty;function lc(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function cc(t,e){for(var n=t.length;n--;)if(bl(t[n][0],e))return n;return-1}lc.prototype.clear=function(){this.le=oc?oc(null):{},this.size=0},lc.prototype.delete=function(t){var e=this.has(t)&&delete this.le[t];return this.size-=e?1:0,e},lc.prototype.get=function(t){var e=this.le;if(oc){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return sc.call(e,t)?e[t]:void 0},lc.prototype.has=function(t){var e=this.le;return oc?void 0!==e[t]:ac.call(e,t)},lc.prototype.set=function(t,e){var n=this.le;return this.size+=this.has(t)?0:1,n[t]=oc&&void 0===e?"__lodash_hash_undefined__":e,this};var uc=Array.prototype.splice;function dc(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}dc.prototype.clear=function(){this.le=[],this.size=0},dc.prototype.delete=function(t){var e=this.le,n=cc(e,t);return!(n<0)&&(n==e.length-1?e.pop():uc.call(e,n,1),--this.size,!0)},dc.prototype.get=function(t){var e=this.le,n=cc(e,t);return n<0?void 0:e[n][1]},dc.prototype.has=function(t){return cc(this.le,t)>-1},dc.prototype.set=function(t,e){var n=this.le,i=cc(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};var hc=el(va,"Map");function fc(t,e){var n,i,r=t.le;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function pc(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}pc.prototype.clear=function(){this.size=0,this.le={hash:new lc,map:new(hc||dc),string:new lc}},pc.prototype.delete=function(t){var e=fc(this,t).delete(t);return this.size-=e?1:0,e},pc.prototype.get=function(t){return fc(this,t).get(t)},pc.prototype.has=function(t){return fc(this,t).has(t)},pc.prototype.set=function(t,e){var n=fc(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function mc(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(mc.Cache||pc),n}mc.Cache=pc;var vc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gc=/\\(\\)?/g,yc=function(t){var e=mc(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(vc,(function(t,n,i,r){e.push(i?r.replace(gc,"$1"):n||t)})),e}));function bc(t,e){return Ta(t)?t:rc(t,e)?[t]:yc(function(t){return null==t?"":Ia(t)}(t))}function wc(t){if("string"==typeof t||ka(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function _c(t,e){for(var n=0,i=(e=bc(e,t)).length;null!=t&&n<i;)t=t[wc(e[n++])];return n&&n==i?t:void 0}function xc(t,e,n){var i=null==t?void 0:_c(t,e);return void 0===i?n:i}function Sc(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var Mc=ga?ga.isConcatSpreadable:void 0;function Cc(t){return Ta(t)||Ll(t)||!!(Mc&&t&&t[Mc])}function kc(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=Cc),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?kc(a,e-1,n,i,r):Sc(r,a):i||(r[r.length]=a)}return r}function Ec(t){return(null==t?0:t.length)?kc(t,1):[]}function Tc(t){return hl(Ml(t,void 0,Ec),t+"")}var Ac=Yl(Object.getPrototypeOf,Object),Nc=Function.prototype,Ic=Object.prototype,Rc=Nc.toString,Oc=Ic.hasOwnProperty,Lc=Rc.call(Object);function Dc(t){if(!Ca(t)||"[object Object]"!=Ma(t))return!1;var e=Ac(t);if(null===e)return!0;var n=Oc.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Rc.call(n)==Lc}function Pc(){if(!arguments.length)return[];var t=arguments[0];return Ta(t)?t:[t]}function Bc(t){var e=this.le=new dc(t);this.size=e.size}Bc.prototype.clear=function(){this.le=new dc,this.size=0},Bc.prototype.delete=function(t){var e=this.le,n=e.delete(t);return this.size=e.size,n},Bc.prototype.get=function(t){return this.le.get(t)},Bc.prototype.has=function(t){return this.le.has(t)},Bc.prototype.set=function(t,e){var n=this.le;if(n instanceof dc){var i=n.le;if(!hc||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.le=new pc(i)}return n.set(t,e),this.size=n.size,this};var Fc="object"==typeof exports&&exports&&!exports.nodeType&&exports,Uc=Fc&&"object"==typeof module&&module&&!module.nodeType&&module,Hc=Uc&&Uc.exports===Fc?va.Buffer:void 0,zc=Hc?Hc.allocUnsafe:void 0;function Vc(t,e){if(e)return t.slice();var n=t.length,i=zc?zc(n):new t.constructor(n);return t.copy(i),i}function $c(){return[]}var Gc=Object.prototype.propertyIsEnumerable,jc=Object.getOwnPropertySymbols,Wc=jc?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}(jc(t),(function(e){return Gc.call(t,e)})))}:$c;var Kc=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Sc(e,Wc(t)),t=Ac(t);return e}:$c;function qc(t,e,n){var i=e(t);return Ta(t)?i:Sc(i,n(t))}function Yc(t){return qc(t,Jl,Wc)}function Xc(t){return qc(t,ec,Kc)}var Zc=el(va,"DataView"),Jc=el(va,"Promise"),Qc=el(va,"Set"),tu="[object Map]",eu="[object Promise]",nu="[object Set]",iu="[object WeakMap]",ru="[object DataView]",ou=Ka(Zc),su=Ka(hc),au=Ka(Jc),lu=Ka(Qc),cu=Ka(nl),uu=Ma;(Zc&&uu(new Zc(new ArrayBuffer(1)))!=ru||hc&&uu(new hc)!=tu||Jc&&uu(Jc.resolve())!=eu||Qc&&uu(new Qc)!=nu||nl&&uu(new nl)!=iu)&&(uu=function(t){var e=Ma(t),n="[object Object]"==e?t.constructor:void 0,i=n?Ka(n):"";if(i)switch(i){case ou:return ru;case su:return tu;case au:return eu;case lu:return nu;case cu:return iu}return e});var du=Object.prototype.hasOwnProperty;var hu=va.Uint8Array;function fu(t){var e=new t.constructor(t.byteLength);return new hu(e).set(new hu(t)),e}var pu=/\w*$/;var mu=ga?ga.prototype:void 0,vu=mu?mu.valueOf:void 0;function gu(t,e){var n=e?fu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function yu(t,e,n){var i,r,o,s=t.constructor;switch(e){case"[object ArrayBuffer]":return fu(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return function(t,e){var n=e?fu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gu(t,n);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return(o=new(r=t).constructor(r.source,pu.exec(r))).lastIndex=r.lastIndex,o;case"[object Symbol]":return i=t,vu?Object(vu.call(i)):{}}}function bu(t){return"function"!=typeof t.constructor||Al(t)?{}:rl(Ac(t))}var wu=Gl&&Gl.isMap,_u=wu?Hl(wu):function(t){return Ca(t)&&"[object Map]"==uu(t)};var xu=Gl&&Gl.isSet,Su=xu?Hl(xu):function(t){return Ca(t)&&"[object Set]"==uu(t)},Mu="[object Arguments]",Cu="[object Function]",ku="[object Object]",Eu={};function Tu(t,e,n,i,r,o){var s,a=1&e,l=2&e,c=4&e;if(n&&(s=r?n(t,i,r,o):n(t)),void 0!==s)return s;if(!Da(t))return t;var u=Ta(t);if(u){if(s=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&du.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!a)return ol(t,s)}else{var d=uu(t),h=d==Cu||"[object GeneratorFunction]"==d;if(Fl(t))return Vc(t,a);if(d==ku||d==Mu||h&&!r){if(s=l||h?{}:bu(t),!a)return l?function(t,e){return xl(t,Kc(t),e)}(t,function(t,e){return t&&xl(e,ec(e),t)}(s,t)):function(t,e){return xl(t,Wc(t),e)}(t,function(t,e){return t&&xl(e,Jl(e),t)}(s,t))}else{if(!Eu[d])return r?t:{};s=yu(t,d,a)}}o||(o=new Bc);var f=o.get(t);if(f)return f;o.set(t,s),Su(t)?t.forEach((function(i){s.add(Tu(i,e,n,i,t,o))})):_u(t)&&t.forEach((function(i,r){s.set(r,Tu(i,e,n,r,t,o))}));var p=u?void 0:(c?l?Xc:Yc:l?ec:Jl)(t);return function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););}(p||t,(function(i,r){p&&(i=t[r=i]),_l(s,r,Tu(i,e,n,r,t,o))})),s}Eu[Mu]=Eu["[object Array]"]=Eu["[object ArrayBuffer]"]=Eu["[object DataView]"]=Eu["[object Boolean]"]=Eu["[object Date]"]=Eu["[object Float32Array]"]=Eu["[object Float64Array]"]=Eu["[object Int8Array]"]=Eu["[object Int16Array]"]=Eu["[object Int32Array]"]=Eu["[object Map]"]=Eu["[object Number]"]=Eu[ku]=Eu["[object RegExp]"]=Eu["[object Set]"]=Eu["[object String]"]=Eu["[object Symbol]"]=Eu["[object Uint8Array]"]=Eu["[object Uint8ClampedArray]"]=Eu["[object Uint16Array]"]=Eu["[object Uint32Array]"]=!0,Eu["[object Error]"]=Eu[Cu]=Eu["[object WeakMap]"]=!1;function Au(t){return Tu(t,4)}function Nu(t){return Tu(t,5)}function Iu(t){var e=-1,n=null==t?0:t.length;for(this.le=new pc;++e<n;)this.add(t[e])}function Ru(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function Ou(t,e){return t.has(e)}Iu.prototype.add=Iu.prototype.push=function(t){return this.le.set(t,"__lodash_hash_undefined__"),this},Iu.prototype.has=function(t){return this.le.has(t)};function Lu(t,e,n,i,r,o){var s=1&n,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(t),u=o.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,f=2&n?new Iu:void 0;for(o.set(t,e),o.set(e,t);++d<a;){var p=t[d],m=e[d];if(i)var v=s?i(m,p,d,e,t,o):i(p,m,d,t,e,o);if(void 0!==v){if(v)continue;h=!1;break}if(f){if(!Ru(e,(function(t,e){if(!Ou(f,e)&&(p===t||r(p,t,n,i,o)))return f.push(e)}))){h=!1;break}}else if(p!==m&&!r(p,m,n,i,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Du(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function Pu(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var Bu=ga?ga.prototype:void 0,Fu=Bu?Bu.valueOf:void 0;var Uu=Object.prototype.hasOwnProperty;var Hu="[object Arguments]",zu="[object Array]",Vu="[object Object]",$u=Object.prototype.hasOwnProperty;function Gu(t,e,n,i,r,o){var s=Ta(t),a=Ta(e),l=s?zu:uu(t),c=a?zu:uu(e),u=(l=l==Hu?Vu:l)==Vu,d=(c=c==Hu?Vu:c)==Vu,h=l==c;if(h&&Fl(t)){if(!Fl(e))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Bc),s||Wl(t)?Lu(t,e,n,i,r,o):function(t,e,n,i,r,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new hu(t),new hu(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return bl(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Du;case"[object Set]":var l=1&i;if(a||(a=Pu),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;i|=2,s.set(t,e);var u=Lu(a(t),a(e),i,r,o,s);return s.delete(t),u;case"[object Symbol]":if(Fu)return Fu.call(t)==Fu.call(e)}return!1}(t,e,l,n,i,r,o);if(!(1&n)){var f=u&&$u.call(t,"__wrapped__"),p=d&&$u.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,v=p?e.value():e;return o||(o=new Bc),r(m,v,n,i,o)}}return!!h&&(o||(o=new Bc),function(t,e,n,i,r,o){var s=1&n,a=Yc(t),l=a.length;if(l!=Yc(e).length&&!s)return!1;for(var c=l;c--;){var u=a[c];if(!(s?u in e:Uu.call(e,u)))return!1}var d=o.get(t),h=o.get(e);if(d&&h)return d==e&&h==t;var f=!0;o.set(t,e),o.set(e,t);for(var p=s;++c<l;){var m=t[u=a[c]],v=e[u];if(i)var g=s?i(v,m,u,e,t,o):i(m,v,u,t,e,o);if(!(void 0===g?m===v||r(m,v,n,i,o):g)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(t),o.delete(e),f}(t,e,n,i,r,o))}function ju(t,e,n,i,r){return t===e||(null==t||null==e||!Ca(t)&&!Ca(e)?t!=t&&e!=e:Gu(t,e,n,i,ju,r))}function Wu(t){return t==t&&!Da(t)}function Ku(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}function qu(t){var e=function(t){for(var e=Jl(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,Wu(r)]}return e}(t);return 1==e.length&&e[0][2]?Ku(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,i){var r=n.length,o=r;if(null==t)return!o;for(t=Object(t);r--;){var s=n[r];if(s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var a=(s=n[r])[0],l=t[a],c=s[1];if(s[2]){if(void 0===l&&!(a in t))return!1}else if(!ju(c,l,3,i,new Bc))return!1}return!0}(n,0,e)}}function Yu(t,e){return null!=t&&e in Object(t)}function Xu(t,e){return null!=t&&function(t,e,n){for(var i=-1,r=(e=bc(e,t)).length,o=!1;++i<r;){var s=wc(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&kl(r)&&gl(s,r)&&(Ta(t)||Ll(t))}(t,e,Yu)}function Zu(t){return rc(t)?(e=wc(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return _c(e,t)}}(t);var e}function Ju(t){return"function"==typeof t?t:null==t?za:"object"==typeof t?Ta(t)?(e=t[0],n=t[1],rc(e)&&Wu(n)?Ku(wc(e),n):function(t){var i=xc(t,e);return void 0===i&&i===n?Xu(t,e):ju(n,i,3)}):qu(t):Zu(t);var e,n}var Qu=function(t,e,n){for(var i=-1,r=Object(t),o=n(t),s=o.length;s--;){var a=o[++i];if(!1===e(r[a],a,r))break}return t};var td,ed=(td=function(t,e){return t&&Qu(t,e,Jl)},function(t,e){if(null==t)return t;if(!El(t))return td(t,e);for(var n=t.length,i=-1,r=Object(t);++i<n&&!1!==e(r[i],i,r););return t}),nd=function(){return va.Date.now()},id=Math.max,rd=Math.min;function od(t,e,n){var i,r,o,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=i,o=r;return i=r=void 0,c=e,s=t.apply(o,n)}function p(t){var n=t-l;return void 0===l||n>=e||n<0||d&&t-c>=o}function m(){var t=nd();if(p(t))return v(t);a=setTimeout(m,function(t){var n=e-(t-l);return d?rd(n,o-(t-c)):n}(t))}function v(t){return a=void 0,h&&i?f(t):(i=r=void 0,s)}function g(){var t=nd(),n=p(t);if(i=arguments,r=this,l=t,n){if(void 0===a)return function(t){return c=t,a=setTimeout(m,e),u?f(t):s}(l);if(d)return clearTimeout(a),a=setTimeout(m,e),f(l)}return void 0===a&&(a=setTimeout(m,e)),s}return e=Ha(e)||0,Da(n)&&(u=!!n.leading,o=(d="maxWait"in n)?id(Ha(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h),g.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},g.flush=function(){return void 0===a?s:v(nd())},g}function sd(t,e,n){(void 0!==n&&!bl(t[e],n)||void 0===n&&!(e in t))&&yl(t,e,n)}function ad(t){return Ca(t)&&El(t)}function ld(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function cd(t,e,n,i,r,o,s){var a=ld(t,n),l=ld(e,n),c=s.get(l);if(c)sd(t,n,c);else{var u,d=o?o(a,l,n+"",t,e,s):void 0,h=void 0===d;if(h){var f=Ta(l),p=!f&&Fl(l),m=!f&&!p&&Wl(l);d=l,f||p||m?Ta(a)?d=a:ad(a)?d=ol(a):p?(h=!1,d=Vc(l,!0)):m?(h=!1,d=gu(l,!0)):d=[]:Dc(l)||Ll(l)?(d=a,Ll(a)?d=xl(u=a,ec(u)):Da(a)&&!Va(a)||(d=bu(l))):h=!1}h&&(s.set(l,d),r(d,l,i,o,s),s.delete(l)),sd(t,n,d)}}function ud(t,e,n,i,r){t!==e&&Qu(e,(function(o,s){if(r||(r=new Bc),Da(o))cd(t,e,s,n,ud,i,r);else{var a=i?i(ld(t,s),o,s+"",t,e,r):void 0;void 0===a&&(a=o),sd(t,s,a)}}),ec)}function dd(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return fl(t,Ju(e),r,!0)}function hd(t,e){var n=-1,i=El(t)?Array(t.length):[];return ed(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}function fd(t,e){return kc(function(t,e){return(Ta(t)?Ea:hd)(t,Ju(e))}(t,e),1)}var pd=1/0;function md(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function vd(t,e){return e.length<2?t:_c(t,function(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),(n=n>r?r:n)<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(r);++i<r;)o[i]=t[i+e];return o}(e,0,-1))}function gd(t,e){return ju(t,e)}function yd(t){return null==t}function bd(t){return null===t}function wd(t){return void 0===t}var _d,xd=(_d=function(t,e,n){ud(t,e,n)},Cl((function(t,e){var n=-1,i=e.length,r=i>1?e[i-1]:void 0,o=i>2?e[2]:void 0;for(r=_d.length>3&&"function"==typeof r?(i--,r):void 0,o&&function(t,e,n){if(!Da(n))return!1;var i=typeof e;return!!("number"==i?El(n)&&gl(e,n.length):"string"==i&&e in n)&&bl(n[e],t)}(e[0],e[1],o)&&(r=i<3?void 0:r,i=1),t=Object(t);++n<i;){var s=e[n];s&&_d(t,s,n,r)}return t})));function Sd(t,e){return null==(t=vd(t,e=bc(e,t)))||delete t[wc((n=e,i=null==n?0:n.length,i?n[i-1]:void 0))];var n,i}function Md(t){return Dc(t)?void 0:t}var Cd=Tc((function(t,e){var n={};if(null==t)return n;var i=!1;e=Ea(e,(function(e){return e=bc(e,t),i||(i=e.length>1),e})),xl(t,Xc(t),n),i&&(n=Tu(n,7,Md));for(var r=e.length;r--;)Sd(n,e[r]);return n}));function kd(t,e,n,i){if(!Da(t))return t;for(var r=-1,o=(e=bc(e,t)).length,s=o-1,a=t;null!=a&&++r<o;){var l=wc(e[r]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(r!=s){var u=a[l];void 0===(c=void 0)&&(c=Da(u)?u:gl(e[r+1])?[]:{})}_l(a,l,c),a=a[l]}return t}function Ed(t,e){return function(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=_c(t,s);n(a,s)&&kd(o,bc(s,t),a)}return o}(t,e,(function(e,n){return Xu(t,n)}))}var Td=Tc((function(t,e){return null==t?{}:Ed(t,e)}));function Ad(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Da(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),od(t,e,{leading:i,maxWait:e,trailing:r})}var Nd=Qc&&1/Pu(new Qc([,-0]))[1]==1/0?function(t){return new Qc(t)}:function(){};var Id=Cl((function(t){return function(t,e,n){var i=-1,r=ml,o=t.length,s=!0,a=[],l=a;if(o>=200){var c=Nd(t);if(c)return Pu(c);s=!1,r=Ou,l=new Iu}else l=a;t:for(;++i<o;){var u=t[i],d=u;if(u=0!==u?u:0,s&&d==d){for(var h=l.length;h--;)if(l[h]===d)continue t;a.push(u)}else r(l,d,n)||(l!==a&&l.push(d),a.push(u))}return a}(kc(t,1,ad,!0))}));const Rd=t=>void 0===t,Od=t=>"boolean"==typeof t,Ld=t=>"number"==typeof t,Dd=t=>!t&&0!==t||d(t)&&0===t.length||y(t)&&!Object.keys(t).length,Pd=t=>"undefined"!=typeof Element&&t instanceof Element,Bd=t=>yd(t),Fd=t=>t===window;var Ud,Hd=Object.defineProperty,zd=Object.defineProperties,Vd=Object.getOwnPropertyDescriptors,$d=Object.getOwnPropertySymbols,Gd=Object.prototype.hasOwnProperty,jd=Object.prototype.propertyIsEnumerable,Wd=(t,e,n)=>e in t?Hd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function Kd(t,e){const n=Ce();var i,r;return hr((()=>{n.value=t()}),(i=((t,e)=>{for(var n in e||(e={}))Gd.call(e,n)&&Wd(t,n,e[n]);if($d)for(var n of $d(e))jd.call(e,n)&&Wd(t,n,e[n]);return t})({},e),r={flush:null!=void 0?void 0:"sync"},zd(i,Vd(r)))),fe(n)}const qd="undefined"!=typeof window,Yd=t=>"function"==typeof t,Xd=()=>{},Zd=qd&&(null==(Ud=null==window?void 0:window.navigator)?void 0:Ud.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Jd(t){return"function"==typeof t?t():Te(t)}function Qd(t,e){return function(...n){return new Promise(((i,r)=>{Promise.resolve(t((()=>e.apply(this,n)),{fn:e,thisArg:this,args:n})).then(i).catch(r)}))}}function th(t,e){let n,i,r;const o=Me(!0),s=()=>{o.value=!0,r()};fr(t,s,{flush:"sync"});const a=Yd(e)?e:e.get,l=Yd(e)?void 0:e.set,c=new Ie(((t,e)=>(i=t,r=e,{get:()=>(o.value&&(n=a(),o.value=!1),i(),n),set(t){null==l||l(t)}})));return Object.isExtensible(c)&&(c.trigger=s),c}function eh(t){return!!it()&&(rt(t),!0)}function nh(t,e=200,n={}){return Qd(function(t,e={}){let n,i,r=Xd;const o=t=>{clearTimeout(t),r(),r=Xd};return s=>{const a=Jd(t),l=Jd(e.maxWait);return n&&o(n),a<=0||void 0!==l&&l<=0?(i&&(o(i),i=null),Promise.resolve(s())):new Promise(((t,c)=>{r=e.rejectOnCancel?c:t,l&&!i&&(i=setTimeout((()=>{n&&o(n),i=null,t(s())}),l)),n=setTimeout((()=>{i&&o(i),i=null,t(s())}),a)}))}}(e,n),t)}function ih(t,e=200,n=!1,i=!0,r=!1){return Qd(function(t,e=!0,n=!0,i=!1){let r,o,s=0,a=!0,l=Xd;const c=()=>{r&&(clearTimeout(r),r=void 0,l(),l=Xd)};return u=>{const d=Jd(t),h=Date.now()-s,f=()=>o=u();return c(),d<=0?(s=Date.now(),f()):(h>d&&(n||!a)?(s=Date.now(),f()):e&&(o=new Promise(((t,e)=>{l=i?e:t,r=setTimeout((()=>{s=Date.now(),a=!0,t(f()),c()}),Math.max(0,d-h))}))),n||r||(r=setTimeout((()=>a=!0),d)),a=!1,o)}}(e,n,i,r),t)}function rh(t,e=!0){no()?Zn(t):e?t():Qe(t)}function oh(t,e,n={}){const{immediate:i=!0}=n,r=Me(!1);let o=null;function s(){o&&(clearTimeout(o),o=null)}function a(){r.value=!1,s()}function l(...n){s(),r.value=!0,o=setTimeout((()=>{r.value=!1,o=null,t(...n)}),Jd(e))}return i&&(r.value=!0,qd&&l()),eh(a),{isPending:fe(r),start:l,stop:a}}function sh(t){var e;const n=Jd(t);return null!=(e=null==n?void 0:n.$el)?e:n}const ah=qd?window:void 0,lh=qd?window.document:void 0;function ch(...t){let e,n,i,r;if("string"==typeof t[0]||Array.isArray(t[0])?([n,i,r]=t,e=ah):[e,n,i,r]=t,!e)return Xd;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const o=[],s=()=>{o.forEach((t=>t())),o.length=0},a=fr((()=>[sh(e),Jd(r)]),(([t,e])=>{s(),t&&o.push(...n.flatMap((n=>i.map((i=>((t,e,n,i)=>(t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)))(t,n,i,e))))))}),{immediate:!0,flush:"post"}),l=()=>{a(),s()};return eh(l),l}let uh=!1;function dh(t,e,n={}){const{window:i=ah,ignore:r=[],capture:o=!0,detectIframe:s=!1}=n;if(!i)return;Zd&&!uh&&(uh=!0,Array.from(i.document.body.children).forEach((t=>t.addEventListener("click",Xd))));let a=!0;const l=t=>r.some((e=>{if("string"==typeof e)return Array.from(i.document.querySelectorAll(e)).some((e=>e===t.target||t.composedPath().includes(e)));{const n=sh(e);return n&&(t.target===n||t.composedPath().includes(n))}})),c=[ch(i,"click",(n=>{const i=sh(t);i&&i!==n.target&&!n.composedPath().includes(i)&&(0===n.detail&&(a=!l(n)),a?e(n):a=!0)}),{passive:!0,capture:o}),ch(i,"pointerdown",(e=>{const n=sh(t);n&&(a=!e.composedPath().includes(n)&&!l(e))}),{passive:!0}),s&&ch(i,"blur",(n=>{var r;const o=sh(t);"IFRAME"!==(null==(r=i.document.activeElement)?void 0:r.tagName)||(null==o?void 0:o.contains(i.document.activeElement))||e(n)}))].filter(Boolean);return()=>c.forEach((t=>t()))}function hh(t,e=!1){const n=Me(),i=()=>n.value=Boolean(t());return i(),rh(i,e),n}const fh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ph="__vueuse_ssr_handlers__";fh[ph]=fh[ph]||{};var mh=Object.getOwnPropertySymbols,vh=Object.prototype.hasOwnProperty,gh=Object.prototype.propertyIsEnumerable;function yh(t,e,n={}){const i=n,{window:r=ah}=i,o=((t,e)=>{var n={};for(var i in t)vh.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&mh)for(var i of mh(t))e.indexOf(i)<0&&gh.call(t,i)&&(n[i]=t[i]);return n})(i,["window"]);let s;const a=hh((()=>r&&"ResizeObserver"in r)),l=()=>{s&&(s.disconnect(),s=void 0)},c=fr((()=>sh(t)),(t=>{l(),a.value&&r&&t&&(s=new ResizeObserver(e),s.observe(t,o))}),{immediate:!0,flush:"post"}),u=()=>{l(),c()};return eh(u),{isSupported:a,stop:u}}function bh(t,e={}){const{reset:n=!0,windowResize:i=!0,windowScroll:r=!0,immediate:o=!0}=e,s=Me(0),a=Me(0),l=Me(0),c=Me(0),u=Me(0),d=Me(0),h=Me(0),f=Me(0);function p(){const e=sh(t);if(!e)return void(n&&(s.value=0,a.value=0,l.value=0,c.value=0,u.value=0,d.value=0,h.value=0,f.value=0));const i=e.getBoundingClientRect();s.value=i.height,a.value=i.bottom,l.value=i.left,c.value=i.right,u.value=i.top,d.value=i.width,h.value=i.x,f.value=i.y}return yh(t,p),fr((()=>sh(t)),(t=>!t&&p())),r&&ch("scroll",p,{capture:!0,passive:!0}),i&&ch("resize",p,{passive:!0}),rh((()=>{o&&p()})),{height:s,bottom:a,left:l,right:c,top:u,width:d,x:h,y:f,update:p}}var wh,_h,xh=Object.getOwnPropertySymbols,Sh=Object.prototype.hasOwnProperty,Mh=Object.prototype.propertyIsEnumerable;function Ch(t,e,n={}){const i=n,{window:r=ah}=i,o=((t,e)=>{var n={};for(var i in t)Sh.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&xh)for(var i of xh(t))e.indexOf(i)<0&&Mh.call(t,i)&&(n[i]=t[i]);return n})(i,["window"]);let s;const a=hh((()=>r&&"MutationObserver"in r)),l=()=>{s&&(s.disconnect(),s=void 0)},c=fr((()=>sh(t)),(t=>{l(),a.value&&r&&t&&(s=new MutationObserver(e),s.observe(t,o))}),{immediate:!0}),u=()=>{l(),c()};return eh(u),{isSupported:a,stop:u}}(_h=wh||(wh={})).UP="UP",_h.RIGHT="RIGHT",_h.DOWN="DOWN",_h.LEFT="LEFT",_h.NONE="NONE";var kh=Object.defineProperty,Eh=Object.getOwnPropertySymbols,Th=Object.prototype.hasOwnProperty,Ah=Object.prototype.propertyIsEnumerable,Nh=(t,e,n)=>e in t?kh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function Ih(t,e,n,i={}){var r,o,s;const{clone:a=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:d}=i,h=no(),f=n||(null==h?void 0:h.emit)||(null==(r=null==h?void 0:h.$emit)?void 0:r.bind(h))||(null==(s=null==(o=null==h?void 0:h.proxy)?void 0:o.$emit)?void 0:s.bind(null==h?void 0:h.proxy));let p=c;e||(e="modelValue"),p=c||p||`update:${e.toString()}`;const m=t=>{return a?Yd(a)?a(t):(e=t,JSON.parse(JSON.stringify(e))):t;var e},v=()=>void 0!==t[e]?m(t[e]):d;if(l){const n=Me(v());return fr((()=>t[e]),(t=>n.value=m(t))),fr(n,(n=>{(n!==t[e]||u)&&f(p,n)}),{deep:u}),n}return vo({get:()=>v(),set(t){f(p,t)}})}((t,e)=>{for(var n in e||(e={}))Th.call(e,n)&&Nh(t,n,e[n]);if(Eh)for(var n of Eh(e))Ah.call(e,n)&&Nh(t,n,e[n])})({linear:function(t){return t}},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});class Rh extends Error{constructor(t){super(t),this.name="ElementPlusError"}}function Oh(t,e){throw new Rh(`[${t}] ${e}`)}const Lh={current:0},Dh=Me(0),Ph=Symbol("elZIndexContextKey"),Bh=Symbol("zIndexContextKey"),Fh=t=>{const e=no()?Vi(Ph,Lh):Lh,n=t||(no()?Vi(Bh,void 0):void 0),i=vo((()=>{const t=Te(n);return Ld(t)?t:2e3})),r=vo((()=>i.value+Dh.value));return!qd&&Vi(Ph),{initialZIndex:i,currentZIndex:r,nextZIndex:()=>(e.current++,Dh.value=e.current,r.value)}};var Uh={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const Hh=t=>(e,n)=>zh(e,n,Te(t)),zh=(t,e,n)=>xc(n,t,t).replace(/\{(\w+)\}/g,((t,n)=>{var i;return`${null!=(i=null==e?void 0:e[n])?i:`{${n}}`}`})),Vh=Symbol("localeContextKey"),$h=t=>{const e=t||Vi(Vh,Me());return(t=>({lang:vo((()=>Te(t).name)),locale:Se(t)?t:Me(t),t:Hh(t)}))(vo((()=>e.value||Uh)))},Gh="__epPropKey",jh=(t,e)=>{if(!y(t)||y(n=t)&&n[Gh])return t;var n;const{values:i,required:r,default:o,type:s,validator:a}=t,l=i||a?n=>{let r=!1,s=[];if(i&&(s=Array.from(i),u(t,"default")&&s.push(o),r||(r=s.includes(n))),a&&(r||(r=a(n))),!r&&s.length>0){const t=[...new Set(s)].map((t=>JSON.stringify(t))).join(", ");bo(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${t}], got value ${JSON.stringify(n)}.`)}return r}:void 0,c={type:s,required:!!r,validator:l,[Gh]:!0};return u(t,"default")&&(c.default=o),c},Wh=t=>md(Object.entries(t).map((([t,e])=>[t,jh(e,t)]))),Kh=["","default","small","large"],qh=jh({type:String,values:Kh,required:!1}),Yh=Symbol("size"),Xh=()=>{const t=Vi(Yh,{});return vo((()=>Te(t.size)||""))},Zh=Symbol("emptyValuesContextKey"),Jh=["",void 0,null],Qh=Wh({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>m(t)?!t():!t}}),tf=(t,e)=>{const n=no()?Vi(Zh,Me({})):Me({}),i=vo((()=>t.emptyValues||n.value.emptyValues||Jh)),r=vo((()=>m(t.valueOnClear)?t.valueOnClear():void 0!==t.valueOnClear?t.valueOnClear:m(n.value.valueOnClear)?n.value.valueOnClear():void 0!==n.value.valueOnClear?n.value.valueOnClear:void 0!==e?e:undefined));return i.value.includes(r.value),{emptyValues:i,valueOnClear:r,isEmptyValue:t=>i.value.includes(t)}},ef=t=>Object.keys(t),nf=t=>Object.entries(t),rf=(t,e,n)=>({get value(){return xc(t,e,n)},set value(n){!function(t,e,n){null==t||kd(t,e,n)}(t,e,n)}}),of=Me();function sf(t,e=void 0){const n=no()?Vi(la,of):of;return t?vo((()=>{var i,r;return null!=(r=null==(i=n.value)?void 0:i[t])?r:e})):n}function af(t,e){const n=sf(),i=fa(t,vo((()=>{var t;return(null==(t=n.value)?void 0:t.namespace)||ca}))),r=$h(vo((()=>{var t;return null==(t=n.value)?void 0:t.locale}))),o=Fh(vo((()=>{var t;return(null==(t=n.value)?void 0:t.zIndex)||2e3}))),s=vo((()=>{var t;return Te(e)||(null==(t=n.value)?void 0:t.size)||""}));return lf(vo((()=>Te(n)||{}))),{ns:i,locale:r,zIndex:o,size:s}}const lf=(t,e,n=!1)=>{var i;const r=!!no(),o=r?sf():void 0,s=null!=(i=null==e?void 0:e.provide)?i:r?zi:void 0;if(!s)return;const a=vo((()=>{const e=Te(t);return(null==o?void 0:o.value)?cf(o.value,e):e}));return s(la,a),s(Vh,vo((()=>a.value.locale))),s(da,vo((()=>a.value.namespace))),s(Bh,vo((()=>a.value.zIndex))),s(Yh,{size:vo((()=>a.value.size||""))}),s(Zh,vo((()=>({emptyValues:a.value.emptyValues,valueOnClear:a.value.valueOnClear})))),!n&&of.value||(of.value=a.value),a},cf=(t,e)=>{const n=[...new Set([...ef(t),...ef(e)])],i={};for(const r of n)i[r]=void 0!==e[r]?e[r]:t[r];return i},uf="update:modelValue",df="change",hf="input",ff=Wh({zIndex:{type:[Number,String],default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),pf={scroll:({scrollTop:t,fixed:e})=>Ld(t)&&Od(e),[df]:t=>Od(t)};var mf=(t,e)=>{const n=t.zt||t;for(const[i,r]of e)n[i]=r;return n};const vf=t=>qd?window.requestAnimationFrame(t):setTimeout(t,16),gf=t=>qd?window.cancelAnimationFrame(t):clearTimeout(t),yf=(t="")=>t.split(" ").filter((t=>!!t.trim())),bf=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},wf=(t,e)=>{t&&e.trim()&&t.classList.add(...yf(e))},_f=(t,e)=>{t&&e.trim()&&t.classList.remove(...yf(e))},xf=(t,e)=>{var n;if(!qd||!t||!e)return"";let i=E(e);"float"===i&&(i="cssFloat");try{const e=t.style[i];if(e)return e;const r=null==(n=document.defaultView)?void 0:n.getComputedStyle(t,"");return r?r[i]:""}catch(ax){return t.style[i]}},Sf=(t,e,n)=>{if(t&&e)if(y(e))nf(e).forEach((([e,n])=>Sf(t,e,n)));else{const i=E(e);t.style[i]=n}};function Mf(t,e="px"){return t?Ld(t)||v(n=t)&&!Number.isNaN(Number(n))?`${t}${e}`:v(t)?t:void 0:"";var n}const Cf=(t,e)=>{if(!qd)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],i=xf(t,n);return["scroll","auto","overlay"].some((t=>i.includes(t)))},kf=(t,e)=>{if(!qd)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(Cf(n,e))return n;n=n.parentNode}return n};let Ef;const Tf=t=>{var e;if(!qd)return 0;if(void 0!==Ef)return Ef;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const i=n.offsetWidth;n.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",n.appendChild(r);const o=r.offsetWidth;return null==(e=n.parentNode)||e.removeChild(n),Ef=i-o,Ef};function Af(t,e){if(!qd)return;if(!e)return void(t.scrollTop=0);const n=[];let i=e.offsetParent;for(;null!==i&&t!==i&&t.contains(i);)n.push(i),i=i.offsetParent;const r=e.offsetTop+n.reduce(((t,e)=>t+e.offsetTop),0),o=r+e.offsetHeight,s=t.scrollTop,a=s+t.clientHeight;r<s?t.scrollTop=r:o>a&&(t.scrollTop=o-t.clientHeight)}const Nf=(t,e)=>Fd(e)?t.ownerDocument.documentElement:e,If=t=>Fd(t)?window.scrollY:t.scrollTop,Rf="ElAffix";const Of=(t,e)=>{if(t.install=n=>{for(const i of[t,...Object.values(null!=e?e:{})])n.component(i.name,i)},e)for(const[n,i]of Object.entries(e))t[n]=i;return t},Lf=(t,e)=>(t.install=n=>{t.At=n.At,n.config.globalProperties[e]=t},t),Df=t=>(t.install=i,t),Pf=Of(mf(Un({...Un({name:Rf}),props:ff,emits:pf,setup(t,{expose:e,emit:n}){const i=t,r=fa("affix"),o=Ce(),s=Ce(),a=Ce(),{height:l}=function(t={}){const{window:e=ah,initialWidth:n=1/0,initialHeight:i=1/0,listenOrientation:r=!0,includeScrollbar:o=!0}=t,s=Me(n),a=Me(i),l=()=>{e&&(o?(s.value=e.innerWidth,a.value=e.innerHeight):(s.value=e.document.documentElement.clientWidth,a.value=e.document.documentElement.clientHeight))};return l(),rh(l),ch("resize",l,{passive:!0}),r&&ch("orientationchange",l,{passive:!0}),{width:s,height:a}}(),{height:c,width:u,top:d,bottom:h,update:f}=bh(s,{windowScroll:!1}),p=bh(o),m=Me(!1),v=Me(0),g=Me(0),y=vo((()=>({height:m.value?`${c.value}px`:"",width:m.value?`${u.value}px`:""}))),b=vo((()=>{if(!m.value)return{};const t=i.offset?Mf(i.offset):0;return{height:`${c.value}px`,width:`${u.value}px`,top:"top"===i.position?t:"",bottom:"bottom"===i.position?t:"",transform:g.value?`translateY(${g.value}px)`:"",zIndex:i.zIndex}})),w=()=>{if(!a.value)return;v.value=a.value instanceof Window?document.documentElement.scrollTop:a.value.scrollTop||0;const{position:t,target:e,offset:n}=i,r=n+c.value;if("top"===t)if(e){const t=p.bottom.value-r;m.value=n>d.value&&p.bottom.value>0,g.value=t<0?t:0}else m.value=n>d.value;else if(e){const t=l.value-p.top.value-r;m.value=l.value-n<h.value&&l.value>p.top.value,g.value=t<0?-t:0}else m.value=l.value-n<h.value};return fr(m,(t=>n("change",t))),Zn((()=>{var t;i.target?(o.value=null!=(t=document.querySelector(i.target))?t:void 0,o.value||Oh(Rf,`Target does not exist: ${i.target}`)):o.value=document.documentElement,a.value=kf(s.value,!0),f()})),ch(a,"scroll",(()=>{f(),n("scroll",{scrollTop:v.value,fixed:m.value})})),hr(w),e({update:w,updateRoot:f}),(t,e)=>(Rr(),Pr("div",{ref_key:"root",ref:s,class:$(Te(r).b()),style:F(Te(y))},[Vr("div",{class:$({[Te(r).m("fixed")]:m.value}),style:F(Te(b))},[mi(t.$slots,"default")],6)],6))}}),[["__file","affix.vue"]])),Bf=Wh({size:{type:[Number,String]},color:{type:String}});const Ff=Of(mf(Un({...Un({name:"ElIcon",inheritAttrs:!1}),props:Bf,setup(t){const e=t,n=fa("icon"),i=vo((()=>{const{size:t,color:n}=e;return t||n?{fontSize:Rd(t)?void 0:Mf(t),"--color":n}:{}}));return(t,e)=>(Rr(),Pr("i",Zr({class:Te(n).b(),style:Te(i)},t.$attrs),[mi(t.$slots,"default")],16))}}),[["__file","icon.vue"]]));
/*! Element Plus Icons Vue v2.3.1 */var Uf=Un({name:"ArrowDown",$t:"arrow-down",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}),Hf=Un({name:"ArrowLeft",$t:"arrow-left",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}),zf=Un({name:"ArrowRight",$t:"arrow-right",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}),Vf=Un({name:"ArrowUp",$t:"arrow-up",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}),$f=Un({name:"Back",$t:"back",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),Vr("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}),Gf=Un({name:"Calendar",$t:"calendar",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}),jf=Un({name:"CaretRight",$t:"caret-right",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}),Wf=Un({name:"CaretTop",$t:"caret-top",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}),Kf=Un({name:"Check",$t:"check",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}),qf=Un({name:"CircleCheckFilled",$t:"circle-check-filled",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}),Yf=Un({name:"CircleCheck",$t:"circle-check",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Vr("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}),Xf=Un({name:"CircleCloseFilled",$t:"circle-close-filled",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}),Zf=Un({name:"CircleClose",$t:"circle-close",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),Vr("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}),Jf=Un({name:"Clock",$t:"clock",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),Vr("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),Vr("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}),Qf=Un({name:"Close",$t:"close",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}),tp=Un({name:"DArrowLeft",$t:"d-arrow-left",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}),ep=Un({name:"DArrowRight",$t:"d-arrow-right",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}),np=Un({name:"Delete",$t:"delete",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}),ip=Un({name:"Document",$t:"document",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}),rp=Un({name:"FullScreen",$t:"full-screen",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}),op=Un({name:"Hide",$t:"hide",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),Vr("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}),sp=Un({name:"InfoFilled",$t:"info-filled",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}),ap=Un({name:"Loading",$t:"loading",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}),lp=Un({name:"Minus",$t:"minus",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}),cp=Un({name:"MoreFilled",$t:"more-filled",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}),up=Un({name:"More",$t:"more",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}),dp=Un({name:"PictureFilled",$t:"picture-filled",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}),hp=Un({name:"Plus",$t:"plus",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}),fp=Un({name:"QuestionFilled",$t:"question-filled",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}),pp=Un({name:"RefreshLeft",$t:"refresh-left",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}),mp=Un({name:"RefreshRight",$t:"refresh-right",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}),vp=Un({name:"ScaleToOriginal",$t:"scale-to-original",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}),gp=Un({name:"Search",$t:"search",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}),yp=Un({name:"SortDown",$t:"sort-down",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}),bp=Un({name:"SortUp",$t:"sort-up",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}),wp=Un({name:"StarFilled",$t:"star-filled",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}),_p=Un({name:"Star",$t:"star",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}),xp=Un({name:"SuccessFilled",$t:"success-filled",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}),Sp=Un({name:"View",$t:"view",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}),Mp=Un({name:"WarningFilled",$t:"warning-filled",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}),Cp=Un({name:"ZoomIn",$t:"zoom-in",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}),kp=Un({name:"ZoomOut",$t:"zoom-out",setup:t=>(t,e)=>(Rr(),Pr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[Vr("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))});const Ep=[String,Object,Function],Tp={Close:Qf},Ap={Close:Qf,SuccessFilled:xp,InfoFilled:sp,WarningFilled:Mp,CircleCloseFilled:Xf},Np={success:xp,warning:Mp,error:Xf,info:sp},Ip={validating:ap,success:Yf,error:Zf},Rp=Wh({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:ef(Np),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:["light","dark"],default:"light"}}),Op={close:t=>t instanceof MouseEvent};const Lp=Of(mf(Un({...Un({name:"ElAlert"}),props:Rp,emits:Op,setup(t,{emit:e}){const n=t,{Close:i}=Ap,r=_i(),o=fa("alert"),s=Me(!0),a=vo((()=>Np[n.type])),l=vo((()=>!(!n.description&&!r.default))),c=t=>{s.value=!1,e("close",t)};return(t,e)=>(Rr(),Br(Ro,{name:Te(o).b("fade"),persisted:""},{default:un((()=>[dn(Vr("div",{class:$([Te(o).b(),Te(o).m(t.type),Te(o).is("center",t.center),Te(o).is(t.effect)]),role:"alert"},[t.showIcon&&Te(a)?(Rr(),Br(Te(Ff),{key:0,class:$([Te(o).e("icon"),{[Te(o).is("big")]:Te(l)}])},{default:un((()=>[(Rr(),Br(ci(Te(a))))])),xt:1},8,["class"])):Kr("v-if",!0),Vr("div",{class:$(Te(o).e("content"))},[t.title||t.$slots.title?(Rr(),Pr("span",{key:0,class:$([Te(o).e("title"),{"with-description":Te(l)}])},[mi(t.$slots,"title",{},(()=>[Wr(X(t.title),1)]))],2)):Kr("v-if",!0),Te(l)?(Rr(),Pr("p",{key:1,class:$(Te(o).e("description"))},[mi(t.$slots,"default",{},(()=>[Wr(X(t.description),1)]))],2)):Kr("v-if",!0),t.closable?(Rr(),Pr(kr,{key:2},[t.closeText?(Rr(),Pr("div",{key:0,class:$([Te(o).e("close-btn"),Te(o).is("customed")]),onClick:c},X(t.closeText),3)):(Rr(),Br(Te(Ff),{key:1,class:$(Te(o).e("close-btn")),onClick:c},{default:un((()=>[$r(Te(i))])),xt:1},8,["class"]))],64)):Kr("v-if",!0)],2)],2),[[qo,s.value]])])),xt:3},8,["name"]))}}),[["__file","alert.vue"]])),Dp=()=>qd&&/firefox/i.test(window.navigator.userAgent);let Pp;const Bp={height:"0",visibility:"hidden",overflow:Dp()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},Fp=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function Up(t,e=1,n){var i;Pp||(Pp=document.createElement("textarea"),document.body.appendChild(Pp));const{paddingSize:r,borderSize:o,boxSizing:s,contextStyle:a}=function(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),i=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),r=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:Fp.map((t=>[t,e.getPropertyValue(t)])),paddingSize:i,borderSize:r,boxSizing:n}}(t);a.forEach((([t,e])=>null==Pp?void 0:Pp.style.setProperty(t,e))),Object.entries(Bp).forEach((([t,e])=>null==Pp?void 0:Pp.style.setProperty(t,e,"important"))),Pp.value=t.value||t.placeholder||"";let l=Pp.scrollHeight;const c={};"border-box"===s?l+=o:"content-box"===s&&(l-=r),Pp.value="";const u=Pp.scrollHeight-r;if(Ld(e)){let t=u*e;"border-box"===s&&(t=t+r+o),l=Math.max(t,l),c.minHeight=`${t}px`}if(Ld(n)){let t=u*n;"border-box"===s&&(t=t+r+o),l=Math.min(t,l)}return c.height=`${l}px`,null==(i=Pp.parentNode)||i.removeChild(Pp),Pp=void 0,c}const Hp=Wh({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),zp=t=>Td(Hp,t),Vp=Wh({id:{type:String,default:void 0},size:qh,disabled:Boolean,modelValue:{type:[String,Number,Object],default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:Ep},prefixIcon:{type:Ep},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:[Object,Array,String],default:()=>({})},autofocus:Boolean,rows:{type:Number,default:2},...zp(["ariaLabel"])}),$p={[uf]:t=>v(t),input:t=>v(t),change:t=>v(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},Gp=["class","style"],jp=/^on[A-Z]/,Wp=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,i=vo((()=>((null==n?void 0:n.value)||[]).concat(Gp))),r=no();return vo(r?()=>{var t;return md(Object.entries(null==(t=r.proxy)?void 0:t.$attrs).filter((([t])=>!(i.value.includes(t)||e&&jp.test(t)))))}:()=>({}))},Kp=Symbol("formContextKey"),qp=Symbol("formItemContextKey"),Yp={prefix:Math.floor(1e4*Math.random()),current:0},Xp=Symbol("elIdInjection"),Zp=()=>no()?Vi(Xp,Yp):Yp,Jp=t=>{const e=Zp(),n=ha();return Kd((()=>Te(t)||`${n.value}-id-${e.prefix}-${e.current++}`))},Qp=()=>({form:Vi(Kp,void 0),formItem:Vi(qp,void 0)}),tm=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:i})=>{n||(n=Me(!1)),i||(i=Me(!1));const r=Me();let o;const s=vo((()=>{var n;return!!(!t.label&&!t.ariaLabel&&e&&e.inputIds&&(null==(n=e.inputIds)?void 0:n.length)<=1)}));return Zn((()=>{o=fr([De(t,"id"),n],(([t,n])=>{const o=null!=t?t:n?void 0:Jp().value;o!==r.value&&((null==e?void 0:e.removeInputId)&&(r.value&&e.removeInputId(r.value),(null==i?void 0:i.value)||n||!o||e.addInputId(o)),r.value=o)}),{immediate:!0})})),ei((()=>{o&&o(),(null==e?void 0:e.removeInputId)&&r.value&&e.removeInputId(r.value)})),{isLabeledByFormItem:s,inputId:r}},em=t=>{const e=no();return vo((()=>{var n,i;return null==(i=null==(n=null==e?void 0:e.proxy)?void 0:n.$props)?void 0:i[t]}))},nm=(t,e={})=>{const n=Me(void 0),i=e.prop?n:em("size"),r=e.global?n:Xh(),o=e.form?{size:void 0}:Vi(Kp,void 0),s=e.formItem?{size:void 0}:Vi(qp,void 0);return vo((()=>i.value||Te(t)||(null==s?void 0:s.size)||(null==o?void 0:o.size)||r.value||""))},im=t=>{const e=em("disabled"),n=Vi(Kp,void 0);return vo((()=>e.value||Te(t)||(null==n?void 0:n.disabled)||!1))};function rm(t,{beforeFocus:e,afterFocus:n,beforeBlur:i,afterBlur:r}={}){const o=no(),{emit:s}=o,a=Ce(),l=Me(!1),c=t=>{!!m(e)&&e(t)||l.value||(l.value=!0,s("focus",t),null==n||n())},u=t=>{var e;!!m(i)&&i(t)||t.relatedTarget&&(null==(e=a.value)?void 0:e.contains(t.relatedTarget))||(l.value=!1,s("blur",t),null==r||r())};return fr(a,(t=>{t&&t.setAttribute("tabindex","-1")})),ch(a,"focus",c,!0),ch(a,"blur",u,!0),ch(a,"click",(()=>{var e,n;(null==(e=a.value)?void 0:e.contains(document.activeElement))&&a.value!==document.activeElement||null==(n=t.value)||n.focus()}),!0),{isFocused:l,wrapperRef:a,handleFocus:c,handleBlur:u}}function om({afterComposition:t,emit:e}){const n=Me(!1),i=t=>{var i;null==e||e("compositionupdate",t);const r=null==(i=t.target)?void 0:i.value,o=r[r.length-1]||"";n.value=!(t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t))(o)},r=i=>{null==e||e("compositionend",i),n.value&&(n.value=!1,Qe((()=>t(i))))};return{isComposing:n,handleComposition:t=>{"compositionend"===t.type?r(t):i(t)},handleCompositionStart:t=>{null==e||e("compositionstart",t),n.value=!0},handleCompositionUpdate:i,handleCompositionEnd:r}}const sm=Of(mf(Un({...Un({name:"ElInput",inheritAttrs:!1}),props:Vp,emits:$p,setup(t,{expose:e,emit:n}){const r=t,o=xi(),s=Wp(),a=_i(),l=vo((()=>["textarea"===r.type?v.b():m.b(),m.m(f.value),m.is("disabled",p.value),m.is("exceed",z.value),{[m.b("group")]:a.prepend||a.append,[m.m("prefix")]:a.prefix||r.prefixIcon,[m.m("suffix")]:a.suffix||r.suffixIcon||r.clearable||r.showPassword,[m.bm("suffix","password-clear")]:P.value&&B.value,[m.b("hidden")]:"hidden"===r.type},o.class])),c=vo((()=>[m.e("wrapper"),m.is("focus",k.value)])),{form:u,formItem:d}=Qp(),{inputId:h}=tm(r,{formItemContext:d}),f=nm(),p=im(),m=fa("input"),v=fa("textarea"),g=Ce(),b=Ce(),w=Me(!1),_=Me(!1),x=Me(),S=Ce(r.inputStyle),M=vo((()=>g.value||b.value)),{wrapperRef:C,isFocused:k,handleFocus:E,handleBlur:T}=rm(M,{beforeFocus:()=>p.value,afterBlur(){var t;r.validateEvent&&(null==(t=null==d?void 0:d.validate)||t.call(d,"blur").catch((t=>{})))}}),A=vo((()=>{var t;return null!=(t=null==u?void 0:u.statusIcon)&&t})),N=vo((()=>(null==d?void 0:d.validateState)||"")),I=vo((()=>N.value&&Ip[N.value])),R=vo((()=>_.value?Sp:op)),O=vo((()=>[o.style])),L=vo((()=>[r.inputStyle,S.value,{resize:r.resize}])),D=vo((()=>yd(r.modelValue)?"":String(r.modelValue))),P=vo((()=>r.clearable&&!p.value&&!r.readonly&&!!D.value&&(k.value||w.value))),B=vo((()=>r.showPassword&&!p.value&&!!D.value&&(!!D.value||k.value))),U=vo((()=>r.showWordLimit&&!!r.maxlength&&("text"===r.type||"textarea"===r.type)&&!p.value&&!r.readonly&&!r.showPassword)),H=vo((()=>D.value.length)),z=vo((()=>!!U.value&&H.value>Number(r.maxlength))),V=vo((()=>!!a.suffix||!!r.suffixIcon||P.value||r.showPassword||U.value||!!N.value&&A.value)),[G,j]=function(t){let e;return[function(){if(null==t.value)return;const{selectionStart:n,selectionEnd:i,value:r}=t.value;if(null==n||null==i)return;const o=r.slice(0,Math.max(0,n)),s=r.slice(Math.max(0,i));e={selectionStart:n,selectionEnd:i,value:r,beforeTxt:o,afterTxt:s}},function(){if(null==t.value||null==e)return;const{value:n}=t.value,{beforeTxt:i,afterTxt:r,selectionStart:o}=e;if(null==i||null==r||null==o)return;let s=n.length;if(n.endsWith(r))s=n.length-r.length;else if(n.startsWith(i))s=i.length;else{const t=i[o-1],e=n.indexOf(t,o-1);-1!==e&&(s=e+1)}t.value.setSelectionRange(s,s)}]}(g);yh(b,(t=>{if(K(),!U.value||"both"!==r.resize)return;const e=t[0],{width:n}=e.contentRect;x.value={right:`calc(100% - ${n+15+6}px)`}}));const W=()=>{const{type:t,autosize:e}=r;if(qd&&"textarea"===t&&b.value)if(e){const t=y(e)?e.minRows:void 0,n=y(e)?e.maxRows:void 0,i=Up(b.value,t,n);S.value={overflowY:"hidden",...i},Qe((()=>{b.value.offsetHeight,S.value=i}))}else S.value={minHeight:Up(b.value).minHeight}},K=(t=>{let e=!1;return()=>{var n;if(e||!r.autosize)return;null===(null==(n=b.value)?void 0:n.offsetParent)||(t(),e=!0)}})(W),q=()=>{const t=M.value,e=r.formatter?r.formatter(D.value):D.value;t&&t.value!==e&&(t.value=e)},Y=async t=>{G();let{value:e}=t.target;r.formatter&&r.parser&&(e=r.parser(e)),J.value||(e!==D.value?(n(uf,e),n("input",e),await Qe(),q(),j()):q())},Z=t=>{let{value:e}=t.target;r.formatter&&r.parser&&(e=r.parser(e)),n("change",e)},{isComposing:J,handleCompositionStart:Q,handleCompositionUpdate:tt,handleCompositionEnd:et}=om({emit:n,afterComposition:Y}),nt=()=>{G(),_.value=!_.value,setTimeout(j)},it=t=>{w.value=!1,n("mouseleave",t)},rt=t=>{w.value=!0,n("mouseenter",t)},ot=t=>{n("keydown",t)},st=()=>{n(uf,""),n("change",""),n("clear"),n("input","")};return fr((()=>r.modelValue),(()=>{var t;Qe((()=>W())),r.validateEvent&&(null==(t=null==d?void 0:d.validate)||t.call(d,"change").catch((t=>{})))})),fr(D,(()=>q())),fr((()=>r.type),(async()=>{await Qe(),q(),W()})),Zn((()=>{!r.formatter&&r.parser,q(),Qe(W)})),e({input:g,textarea:b,ref:M,textareaStyle:L,autosize:De(r,"autosize"),isComposing:J,focus:()=>{var t;return null==(t=M.value)?void 0:t.focus()},blur:()=>{var t;return null==(t=M.value)?void 0:t.blur()},select:()=>{var t;null==(t=M.value)||t.select()},clear:st,resizeTextarea:W}),(t,e)=>(Rr(),Pr("div",{class:$([Te(l),{[Te(m).bm("group","append")]:t.$slots.append,[Te(m).bm("group","prepend")]:t.$slots.prepend}]),style:F(Te(O)),onMouseenter:rt,onMouseleave:it},[Kr(" input "),"textarea"!==t.type?(Rr(),Pr(kr,{key:0},[Kr(" prepend slot "),t.$slots.prepend?(Rr(),Pr("div",{key:0,class:$(Te(m).be("group","prepend"))},[mi(t.$slots,"prepend")],2)):Kr("v-if",!0),Vr("div",{ref_key:"wrapperRef",ref:C,class:$(Te(c))},[Kr(" prefix slot "),t.$slots.prefix||t.prefixIcon?(Rr(),Pr("span",{key:0,class:$(Te(m).e("prefix"))},[Vr("span",{class:$(Te(m).e("prefix-inner"))},[mi(t.$slots,"prefix"),t.prefixIcon?(Rr(),Br(Te(Ff),{key:0,class:$(Te(m).e("icon"))},{default:un((()=>[(Rr(),Br(ci(t.prefixIcon)))])),xt:1},8,["class"])):Kr("v-if",!0)],2)],2)):Kr("v-if",!0),Vr("input",Zr({id:Te(h),ref_key:"input",ref:g,class:Te(m).e("inner")},Te(s),{minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?_.value?"text":"password":t.type,disabled:Te(p),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.ariaLabel,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,role:t.containerRole,onCompositionstart:Te(Q),onCompositionupdate:Te(tt),onCompositionend:Te(et),onInput:Y,onChange:Z,onKeydown:ot}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),Kr(" suffix slot "),Te(V)?(Rr(),Pr("span",{key:1,class:$(Te(m).e("suffix"))},[Vr("span",{class:$(Te(m).e("suffix-inner"))},[Te(P)&&Te(B)&&Te(U)?Kr("v-if",!0):(Rr(),Pr(kr,{key:0},[mi(t.$slots,"suffix"),t.suffixIcon?(Rr(),Br(Te(Ff),{key:0,class:$(Te(m).e("icon"))},{default:un((()=>[(Rr(),Br(ci(t.suffixIcon)))])),xt:1},8,["class"])):Kr("v-if",!0)],64)),Te(P)?(Rr(),Br(Te(Ff),{key:1,class:$([Te(m).e("icon"),Te(m).e("clear")]),onMousedown:Ds(Te(i),["prevent"]),onClick:st},{default:un((()=>[$r(Te(Zf))])),xt:1},8,["class","onMousedown"])):Kr("v-if",!0),Te(B)?(Rr(),Br(Te(Ff),{key:2,class:$([Te(m).e("icon"),Te(m).e("password")]),onClick:nt},{default:un((()=>[(Rr(),Br(ci(Te(R))))])),xt:1},8,["class"])):Kr("v-if",!0),Te(U)?(Rr(),Pr("span",{key:3,class:$(Te(m).e("count"))},[Vr("span",{class:$(Te(m).e("count-inner"))},X(Te(H))+" / "+X(t.maxlength),3)],2)):Kr("v-if",!0),Te(N)&&Te(I)&&Te(A)?(Rr(),Br(Te(Ff),{key:4,class:$([Te(m).e("icon"),Te(m).e("validateIcon"),Te(m).is("loading","validating"===Te(N))])},{default:un((()=>[(Rr(),Br(ci(Te(I))))])),xt:1},8,["class"])):Kr("v-if",!0)],2)],2)):Kr("v-if",!0)],2),Kr(" append slot "),t.$slots.append?(Rr(),Pr("div",{key:1,class:$(Te(m).be("group","append"))},[mi(t.$slots,"append")],2)):Kr("v-if",!0)],64)):(Rr(),Pr(kr,{key:1},[Kr(" textarea "),Vr("textarea",Zr({id:Te(h),ref_key:"textarea",ref:b,class:[Te(v).e("inner"),Te(m).is("focus",Te(k))]},Te(s),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:Te(p),readonly:t.readonly,autocomplete:t.autocomplete,style:Te(L),"aria-label":t.ariaLabel,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,rows:t.rows,role:t.containerRole,onCompositionstart:Te(Q),onCompositionupdate:Te(tt),onCompositionend:Te(et),onInput:Y,onFocus:Te(E),onBlur:Te(T),onChange:Z,onKeydown:ot}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),Te(U)?(Rr(),Pr("span",{key:0,style:F(x.value),class:$(Te(m).e("count"))},X(Te(H))+" / "+X(t.maxlength),7)):Kr("v-if",!0)],64))],38))}}),[["__file","input.vue"]])),am={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},lm=Symbol("scrollbarContextKey"),cm=Wh({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),um=Un({$t:"thumb",props:cm,setup(t){const e=t,n=Vi(lm),i=fa("scrollbar");n||Oh("Thumb","can not inject scrollbar context");const r=Me(),o=Me(),s=Me({}),a=Me(!1);let l=!1,c=!1,u=qd?document.onselectstart:null;const d=vo((()=>am[e.vertical?"vertical":"horizontal"])),h=vo((()=>(({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}))({size:e.size,move:e.move,bar:d.value}))),f=vo((()=>r.value[d.value.offset]**2/n.wrapElement[d.value.scrollSize]/e.ratio/o.value[d.value.offset])),p=t=>{var e;if(t.stopPropagation(),t.ctrlKey||[1,2].includes(t.button))return;null==(e=window.getSelection())||e.removeAllRanges(),v(t);const n=t.currentTarget;n&&(s.value[d.value.axis]=n[d.value.offset]-(t[d.value.client]-n.getBoundingClientRect()[d.value.direction]))},m=t=>{if(!o.value||!r.value||!n.wrapElement)return;const e=100*(Math.abs(t.target.getBoundingClientRect()[d.value.direction]-t[d.value.client])-o.value[d.value.offset]/2)*f.value/r.value[d.value.offset];n.wrapElement[d.value.scroll]=e*n.wrapElement[d.value.scrollSize]/100},v=t=>{t.stopImmediatePropagation(),l=!0,document.addEventListener("mousemove",g),document.addEventListener("mouseup",y),u=document.onselectstart,document.onselectstart=()=>!1},g=t=>{if(!r.value||!o.value)return;if(!1===l)return;const e=s.value[d.value.axis];if(!e)return;const i=100*(-1*(r.value.getBoundingClientRect()[d.value.direction]-t[d.value.client])-(o.value[d.value.offset]-e))*f.value/r.value[d.value.offset];n.wrapElement[d.value.scroll]=i*n.wrapElement[d.value.scrollSize]/100},y=()=>{l=!1,s.value[d.value.axis]=0,document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y),b(),c&&(a.value=!1)};ti((()=>{b(),document.removeEventListener("mouseup",y)}));const b=()=>{document.onselectstart!==u&&(document.onselectstart=u)};return ch(De(n,"scrollbarElement"),"mousemove",(()=>{c=!1,a.value=!!e.size})),ch(De(n,"scrollbarElement"),"mouseleave",(()=>{c=!0,a.value=l})),(t,e)=>(Rr(),Br(Ro,{name:Te(i).b("fade"),persisted:""},{default:un((()=>[dn(Vr("div",{ref_key:"instance",ref:r,class:$([Te(i).e("bar"),Te(i).is(Te(d).key)]),onMousedown:m},[Vr("div",{ref_key:"thumb",ref:o,class:$(Te(i).e("thumb")),style:F(Te(h)),onMousedown:p},null,38)],34),[[qo,t.always||a.value]])])),xt:1},8,["name"]))}});var dm=mf(um,[["__file","thumb.vue"]]);var hm=mf(Un({$t:"bar",props:Wh({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),setup(t,{expose:e}){const n=t,i=Vi(lm),r=Me(0),o=Me(0),s=Me(""),a=Me(""),l=Me(1),c=Me(1);return e({handleScroll:t=>{if(t){const e=t.offsetHeight-4,n=t.offsetWidth-4;o.value=100*t.scrollTop/e*l.value,r.value=100*t.scrollLeft/n*c.value}},update:()=>{const t=null==i?void 0:i.wrapElement;if(!t)return;const e=t.offsetHeight-4,r=t.offsetWidth-4,o=e**2/t.scrollHeight,u=r**2/t.scrollWidth,d=Math.max(o,n.minSize),h=Math.max(u,n.minSize);l.value=o/(e-o)/(d/(e-d)),c.value=u/(r-u)/(h/(r-h)),a.value=d+4<e?`${d}px`:"",s.value=h+4<r?`${h}px`:""}}),(t,e)=>(Rr(),Pr(kr,null,[$r(dm,{move:r.value,ratio:c.value,size:s.value,always:t.always},null,8,["move","ratio","size","always"]),$r(dm,{move:o.value,ratio:l.value,size:a.value,vertical:"",always:t.always},null,8,["move","ratio","size","always"])],64))}}),[["__file","bar.vue"]]);const fm=Wh({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:[String,Object,Array],default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...zp(["ariaLabel","ariaOrientation"])}),pm={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(Ld)};const mm=Of(mf(Un({...Un({name:"ElScrollbar"}),props:fm,emits:pm,setup(t,{expose:e,emit:n}){const i=t,r=fa("scrollbar");let o,s,a=0,l=0;const c=Me(),u=Me(),d=Me(),h=Me(),f=vo((()=>{const t={};return i.height&&(t.height=Mf(i.height)),i.maxHeight&&(t.maxHeight=Mf(i.maxHeight)),[i.wrapStyle,t]})),p=vo((()=>[i.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!i.native}])),m=vo((()=>[r.e("view"),i.viewClass])),v=()=>{var t;u.value&&(null==(t=h.value)||t.handleScroll(u.value),a=u.value.scrollTop,l=u.value.scrollLeft,n("scroll",{scrollTop:u.value.scrollTop,scrollLeft:u.value.scrollLeft}))};const g=()=>{var t;null==(t=h.value)||t.update()};return fr((()=>i.noresize),(t=>{t?(null==o||o(),null==s||s()):(({stop:o}=yh(d,g)),s=ch("resize",g))}),{immediate:!0}),fr((()=>[i.maxHeight,i.height]),(()=>{i.native||Qe((()=>{var t;g(),u.value&&(null==(t=h.value)||t.handleScroll(u.value))}))})),zi(lm,de({scrollbarElement:c,wrapElement:u})),Gn((()=>{u.value&&(u.value.scrollTop=a,u.value.scrollLeft=l)})),Zn((()=>{i.native||Qe((()=>{g()}))})),Qn((()=>g())),e({wrapRef:u,update:g,scrollTo:function(t,e){y(t)?u.value.scrollTo(t):Ld(t)&&Ld(e)&&u.value.scrollTo(t,e)},setScrollTop:t=>{Ld(t)&&(u.value.scrollTop=t)},setScrollLeft:t=>{Ld(t)&&(u.value.scrollLeft=t)},handleScroll:v}),(t,e)=>(Rr(),Pr("div",{ref_key:"scrollbarRef",ref:c,class:$(Te(r).b())},[Vr("div",{ref_key:"wrapRef",ref:u,class:$(Te(p)),style:F(Te(f)),tabindex:t.tabindex,onScroll:v},[(Rr(),Br(ci(t.tag),{id:t.id,ref_key:"resizeRef",ref:d,class:$(Te(m)),style:F(t.viewStyle),role:t.role,"aria-label":t.ariaLabel,"aria-orientation":t.ariaOrientation},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),t.native?Kr("v-if",!0):(Rr(),Br(hm,{key:0,ref_key:"barRef",ref:h,always:t.always,"min-size":t.minSize},null,8,["always","min-size"]))],2))}}),[["__file","scrollbar.vue"]])),vm=Symbol("popper"),gm=Symbol("popperContent"),ym=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],bm=Wh({role:{type:String,values:ym,default:"tooltip"}});var wm=mf(Un({...Un({name:"ElPopper",inheritAttrs:!1}),props:bm,setup(t,{expose:e}){const n=t,i={triggerRef:Me(),popperInstanceRef:Me(),contentRef:Me(),referenceRef:Me(),role:vo((()=>n.role))};return e(i),zi(vm,i),(t,e)=>mi(t.$slots,"default")}}),[["__file","popper.vue"]]);const _m=Wh({arrowOffset:{type:Number,default:5}});var xm=mf(Un({...Un({name:"ElPopperArrow",inheritAttrs:!1}),props:_m,setup(t,{expose:e}){const n=t,i=fa("popper"),{arrowOffset:r,arrowRef:o,arrowStyle:s}=Vi(gm,void 0);return fr((()=>n.arrowOffset),(t=>{r.value=t})),ti((()=>{o.value=void 0})),e({arrowRef:o}),(t,e)=>(Rr(),Pr("span",{ref_key:"arrowRef",ref:o,class:$(Te(i).e("arrow")),style:F(Te(s)),"data-popper-arrow":""},null,6))}}),[["__file","arrow.vue"]]);const Sm=Wh({virtualRef:{type:Object},virtualTriggering:Boolean,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onContextmenu:{type:Function},id:String,open:Boolean}),Mm=Symbol("elForwardRef"),Cm=t=>Array.from(t.querySelectorAll('a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])')).filter((t=>km(t)&&(t=>"fixed"!==getComputedStyle(t).position&&null!==t.offsetParent)(t))),km=t=>{if(t.tabIndex>0||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||"true"===t.getAttribute("aria-disabled"))return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!==t.rel;case"INPUT":return!("hidden"===t.type||"file"===t.type);case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},Em=function(t,e,...n){let i;i=e.includes("mouse")||e.includes("click")?"MouseEvents":e.includes("key")?"KeyboardEvent":"HTMLEvents";const r=document.createEvent(i);return r.initEvent(e,...n),t.dispatchEvent(r),t},Tm=t=>!t.getAttribute("aria-owns"),Am=(t,e,n)=>{const{parentNode:i}=t;if(!i)return null;const r=i.querySelectorAll(n);return r[Array.prototype.indexOf.call(r,t)+e]||null},Nm=t=>{t&&(t.focus(),!Tm(t)&&t.click())},Im=Un({name:"ElOnlyChild",setup(t,{slots:e,attrs:n}){var r;const o=Vi(Mm),s=(a=null!=(r=null==o?void 0:o.setForwardRef)?r:i,{mounted(t){a(t)},updated(t){a(t)},unmounted(){a(null)}});var a;return()=>{var t;const i=null==(t=e.default)?void 0:t.call(e,n);if(!i)return null;if(i.length>1)return null;const r=Rm(i);return r?dn(jr(r,n),[[s]]):null}}});function Rm(t){if(!t)return null;const e=t;for(const n of e){if(y(n))switch(n.type){case Tr:continue;case Er:case"svg":return Om(n);case kr:return Rm(n.children);default:return n}return Om(n)}return null}function Om(t){const e=fa("only-child");return $r("span",{class:e.e("content")},[t])}var Lm=mf(Un({...Un({name:"ElPopperTrigger",inheritAttrs:!1}),props:Sm,setup(t,{expose:e}){const n=t,{role:i,triggerRef:r}=Vi(vm,void 0);var o;o=r,zi(Mm,{setForwardRef:t=>{o.value=t}});const s=vo((()=>l.value?n.id:void 0)),a=vo((()=>{if(i&&"tooltip"===i.value)return n.open&&n.id?n.id:void 0})),l=vo((()=>{if(i&&"tooltip"!==i.value)return i.value})),c=vo((()=>l.value?`${n.open}`:void 0));let u;const d=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return Zn((()=>{fr((()=>n.virtualRef),(t=>{t&&(r.value=sh(t))}),{immediate:!0}),fr(r,((t,e)=>{null==u||u(),u=void 0,Pd(t)&&(d.forEach((i=>{var r;const o=n[i];o&&(t.addEventListener(i.slice(2).toLowerCase(),o),null==(r=null==e?void 0:e.removeEventListener)||r.call(e,i.slice(2).toLowerCase(),o))})),km(t)&&(u=fr([s,a,l,c],(e=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(((n,i)=>{yd(e[i])?t.removeAttribute(n):t.setAttribute(n,e[i])}))}),{immediate:!0}))),Pd(e)&&km(e)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((t=>e.removeAttribute(t)))}),{immediate:!0})})),ti((()=>{if(null==u||u(),u=void 0,r.value&&Pd(r.value)){const t=r.value;d.forEach((e=>{const i=n[e];i&&t.removeEventListener(e.slice(2).toLowerCase(),i)})),r.value=void 0}})),e({triggerRef:r}),(t,e)=>t.virtualTriggering?Kr("v-if",!0):(Rr(),Br(Te(Im),Zr({key:0},t.$attrs,{"aria-controls":Te(s),"aria-describedby":Te(a),"aria-expanded":Te(c),"aria-haspopup":Te(l)}),{default:un((()=>[mi(t.$slots,"default")])),xt:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}}),[["__file","trigger.vue"]]);const Dm="focus-trap.focus-after-trapped",Pm="focus-trap.focus-after-released",Bm={cancelable:!0,bubbles:!1},Fm={cancelable:!0,bubbles:!1},Um="focusAfterTrapped",Hm="focusAfterReleased",zm=Symbol("elFocusTrap"),Vm=Me(),$m=Me(0),Gm=Me(0);let jm=0;const Wm=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const e="INPUT"===t.tagName&&"hidden"===t.type;return t.disabled||t.hidden||e?NodeFilter.FILTER_SKIP:t.tabIndex>=0||t===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},Km=(t,e)=>{for(const n of t)if(!qm(n,e))return n},qm=(t,e)=>{if("hidden"===getComputedStyle(t).visibility)return!0;for(;t;){if(e&&t===e)return!1;if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1},Ym=(t,e)=>{if(t&&t.focus){const n=document.activeElement;let i=!1;!Pd(t)||km(t)||t.getAttribute("tabindex")||(t.setAttribute("tabindex","-1"),i=!0),t.focus({preventScroll:!0}),Gm.value=window.performance.now(),t!==n&&(t=>t instanceof HTMLInputElement&&"select"in t)(t)&&e&&t.select(),Pd(t)&&i&&t.removeAttribute("tabindex")}};function Xm(t,e){const n=[...t],i=t.indexOf(e);return-1!==i&&n.splice(i,1),n}const Zm=(()=>{let t=[];return{push:e=>{const n=t[0];n&&e!==n&&n.pause(),t=Xm(t,e),t.unshift(e)},remove:e=>{var n,i;t=Xm(t,e),null==(i=null==(n=t[0])?void 0:n.resume)||i.call(n)}}})(),Jm=()=>{Vm.value="pointer",$m.value=window.performance.now()},Qm=()=>{Vm.value="keyboard",$m.value=window.performance.now()},tv=t=>new CustomEvent("focus-trap.focusout-prevented",{...Fm,detail:t}),ev={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let nv=[];const iv=t=>{t.code===ev.esc&&nv.forEach((e=>e(t)))},rv=Un({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[Um,Hm,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=Me();let i,r;const{focusReason:o}=(Zn((()=>{0===jm&&(document.addEventListener("mousedown",Jm),document.addEventListener("touchstart",Jm),document.addEventListener("keydown",Qm)),jm++})),ti((()=>{jm--,jm<=0&&(document.removeEventListener("mousedown",Jm),document.removeEventListener("touchstart",Jm),document.removeEventListener("keydown",Qm))})),{focusReason:Vm,lastUserFocusTimestamp:$m,lastAutomatedFocusTimestamp:Gm});var s;s=n=>{t.trapped&&!a.paused&&e("release-requested",n)},Zn((()=>{0===nv.length&&document.addEventListener("keydown",iv),qd&&nv.push(s)})),ti((()=>{nv=nv.filter((t=>t!==s)),0===nv.length&&qd&&document.removeEventListener("keydown",iv)}));const a={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},l=n=>{if(!t.loop&&!t.trapped)return;if(a.paused)return;const{code:i,altKey:r,ctrlKey:s,metaKey:l,currentTarget:c,shiftKey:u}=n,{loop:d}=t,h=i===ev.tab&&!r&&!s&&!l,f=document.activeElement;if(h&&f){const t=c,[i,r]=(t=>{const e=Wm(t);return[Km(e,t),Km(e.reverse(),t)]})(t);if(i&&r)if(u||f!==r){if(u&&[i,t].includes(f)){const t=tv({focusReason:o.value});e("focusout-prevented",t),t.defaultPrevented||(n.preventDefault(),d&&Ym(r,!0))}}else{const t=tv({focusReason:o.value});e("focusout-prevented",t),t.defaultPrevented||(n.preventDefault(),d&&Ym(i,!0))}else if(f===t){const t=tv({focusReason:o.value});e("focusout-prevented",t),t.defaultPrevented||n.preventDefault()}}};zi(zm,{focusTrapRef:n,onKeydown:l}),fr((()=>t.focusTrapEl),(t=>{t&&(n.value=t)}),{immediate:!0}),fr([n],(([t],[e])=>{t&&(t.addEventListener("keydown",l),t.addEventListener("focusin",d),t.addEventListener("focusout",h)),e&&(e.removeEventListener("keydown",l),e.removeEventListener("focusin",d),e.removeEventListener("focusout",h))}));const c=t=>{e(Um,t)},u=t=>e(Hm,t),d=o=>{const s=Te(n);if(!s)return;const l=o.target,c=o.relatedTarget,u=l&&s.contains(l);if(!t.trapped){c&&s.contains(c)||(i=c)}u&&e("focusin",o),a.paused||t.trapped&&(u?r=l:Ym(r,!0))},h=i=>{const s=Te(n);if(!a.paused&&s)if(t.trapped){const n=i.relatedTarget;yd(n)||s.contains(n)||setTimeout((()=>{if(!a.paused&&t.trapped){const t=tv({focusReason:o.value});e("focusout-prevented",t),t.defaultPrevented||Ym(r,!0)}}),0)}else{const t=i.target;t&&s.contains(t)||e("focusout",i)}};async function f(){await Qe();const e=Te(n);if(e){Zm.push(a);const n=e.contains(document.activeElement)?i:document.activeElement;i=n;if(!e.contains(n)){const i=new Event(Dm,Bm);e.addEventListener(Dm,c),e.dispatchEvent(i),i.defaultPrevented||Qe((()=>{let i=t.focusStartEl;v(i)||(Ym(i),document.activeElement!==i&&(i="first")),"first"===i&&((t,e=!1)=>{const n=document.activeElement;for(const i of t)if(Ym(i,e),document.activeElement!==n)return})(Wm(e),!0),document.activeElement!==n&&"container"!==i||Ym(e)}))}}}function p(){const t=Te(n);if(t){t.removeEventListener(Dm,c);const e=new CustomEvent(Pm,{...Bm,detail:{focusReason:o.value}});t.addEventListener(Pm,u),t.dispatchEvent(e),e.defaultPrevented||"keyboard"!=o.value&&$m.value>Gm.value&&!t.contains(document.activeElement)||Ym(null!=i?i:document.body),t.removeEventListener(Pm,u),Zm.remove(a)}}return Zn((()=>{t.trapped&&f(),fr((()=>t.trapped),(t=>{t?f():p()}))})),ti((()=>{t.trapped&&p(),n.value&&(n.value.removeEventListener("keydown",l),n.value.removeEventListener("focusin",d),n.value.removeEventListener("focusout",h),n.value=void 0)})),{onKeydown:l}}});var ov=mf(rv,[["render",function(t,e,n,i,r,o){return mi(t.$slots,"default",{handleKeydown:t.onKeydown})}],["__file","focus-trap.vue"]]),sv="top",av="bottom",lv="right",cv="left",uv="auto",dv=[sv,av,lv,cv],hv="start",fv="end",pv="viewport",mv="popper",vv=dv.reduce((function(t,e){return t.concat([e+"-"+hv,e+"-"+fv])}),[]),gv=[].concat(dv,[uv]).reduce((function(t,e){return t.concat([e,e+"-"+hv,e+"-"+fv])}),[]),yv=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function bv(t){return t?(t.nodeName||"").toLowerCase():null}function wv(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function _v(t){return t instanceof wv(t).Element||t instanceof Element}function xv(t){return t instanceof wv(t).HTMLElement||t instanceof HTMLElement}function Sv(t){return"undefined"!=typeof ShadowRoot&&(t instanceof wv(t).ShadowRoot||t instanceof ShadowRoot)}var Mv={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},r=e.elements[t];!xv(r)||!bv(r)||(Object.assign(r.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],r=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});!xv(i)||!bv(i)||(Object.assign(i.style,o),Object.keys(r).forEach((function(t){i.removeAttribute(t)})))}))}},requires:["computeStyles"]};function Cv(t){return t.split("-")[0]}var kv=Math.max,Ev=Math.min,Tv=Math.round;function Av(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),i=1,r=1;if(xv(t)&&e){var o=t.offsetHeight,s=t.offsetWidth;s>0&&(i=Tv(n.width)/s||1),o>0&&(r=Tv(n.height)/o||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function Nv(t){var e=Av(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Iv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Sv(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Rv(t){return wv(t).getComputedStyle(t)}function Ov(t){return["table","td","th"].indexOf(bv(t))>=0}function Lv(t){return((_v(t)?t.ownerDocument:t.document)||window.document).documentElement}function Dv(t){return"html"===bv(t)?t:t.assignedSlot||t.parentNode||(Sv(t)?t.host:null)||Lv(t)}function Pv(t){return xv(t)&&"fixed"!==Rv(t).position?t.offsetParent:null}function Bv(t){for(var e=wv(t),n=Pv(t);n&&Ov(n)&&"static"===Rv(n).position;)n=Pv(n);return n&&("html"===bv(n)||"body"===bv(n)&&"static"===Rv(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&xv(t)&&"fixed"===Rv(t).position)return null;var n=Dv(t);for(Sv(n)&&(n=n.host);xv(n)&&["html","body"].indexOf(bv(n))<0;){var i=Rv(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||e&&"filter"===i.willChange||e&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(t)||e}function Fv(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Uv(t,e,n){return kv(t,Ev(e,n))}function Hv(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function zv(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}var Vv={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Cv(n.placement),l=Fv(a),c=[cv,lv].indexOf(a)>=0?"height":"width";if(o&&s){var u=function(t,e){return Hv("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:zv(t,dv))}(r.padding,n),d=Nv(o),h="y"===l?sv:cv,f="y"===l?av:lv,p=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],v=Bv(o),g=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=p/2-m/2,b=u[h],w=g-d[c]-u[f],_=g/2-d[c]/2+y,x=Uv(b,_,w),S=l;n.modifiersData[i]=((e={})[S]=x,e.centerOffset=x-_,e)}},effect:function(t){var e=t.state,n=t.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||!Iv(e.elements.popper,i)||(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $v(t){return t.split("-")[1]}var Gv={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jv(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=s.x,f=void 0===h?0:h,p=s.y,m=void 0===p?0:p,v="function"==typeof u?u({x:f,y:m}):{x:f,y:m};f=v.x,m=v.y;var g=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),b=cv,w=sv,_=window;if(c){var x=Bv(n),S="clientHeight",M="clientWidth";if(x===wv(n)&&("static"!==Rv(x=Lv(n)).position&&"absolute"===a&&(S="scrollHeight",M="scrollWidth")),r===sv||(r===cv||r===lv)&&o===fv)w=av,m-=(d&&x===_&&_.visualViewport?_.visualViewport.height:x[S])-i.height,m*=l?1:-1;if(r===cv||(r===sv||r===av)&&o===fv)b=lv,f-=(d&&x===_&&_.visualViewport?_.visualViewport.width:x[M])-i.width,f*=l?1:-1}var C,k=Object.assign({position:a},c&&Gv),E=!0===u?function(t){var e=t.x,n=t.y,i=window.devicePixelRatio||1;return{x:Tv(e*i)/i||0,y:Tv(n*i)/i||0}}({x:f,y:m}):{x:f,y:m};return f=E.x,m=E.y,l?Object.assign({},k,((C={})[w]=y?"0":"",C[b]=g?"0":"",C.transform=(_.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",C)):Object.assign({},k,((e={})[w]=y?m+"px":"",e[b]=g?f+"px":"",e.transform="",e))}var Wv={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,l=void 0===a||a,c={placement:Cv(e.placement),variation:$v(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,jv(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,jv(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},Kv={passive:!0};var qv={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=void 0===r||r,s=i.resize,a=void 0===s||s,l=wv(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach((function(t){t.addEventListener("scroll",n.update,Kv)})),a&&l.addEventListener("resize",n.update,Kv),function(){o&&c.forEach((function(t){t.removeEventListener("scroll",n.update,Kv)})),a&&l.removeEventListener("resize",n.update,Kv)}},data:{}},Yv={left:"right",right:"left",bottom:"top",top:"bottom"};function Xv(t){return t.replace(/left|right|bottom|top/g,(function(t){return Yv[t]}))}var Zv={start:"end",end:"start"};function Jv(t){return t.replace(/start|end/g,(function(t){return Zv[t]}))}function Qv(t){var e=wv(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function tg(t){return Av(Lv(t)).left+Qv(t).scrollLeft}function eg(t){var e=Rv(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function ng(t){return["html","body","#document"].indexOf(bv(t))>=0?t.ownerDocument.body:xv(t)&&eg(t)?t:ng(Dv(t))}function ig(t,e){var n;void 0===e&&(e=[]);var i=ng(t),r=i===(null==(n=t.ownerDocument)?void 0:n.body),o=wv(i),s=r?[o].concat(o.visualViewport||[],eg(i)?i:[]):i,a=e.concat(s);return r?a:a.concat(ig(Dv(s)))}function rg(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function og(t,e){return e===pv?rg(function(t){var e=wv(t),n=Lv(t),i=e.visualViewport,r=n.clientWidth,o=n.clientHeight,s=0,a=0;return i&&(r=i.width,o=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,a=i.offsetTop)),{width:r,height:o,x:s+tg(t),y:a}}(t)):_v(e)?function(t){var e=Av(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):rg(function(t){var e,n=Lv(t),i=Qv(t),r=null==(e=t.ownerDocument)?void 0:e.body,o=kv(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=kv(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+tg(t),l=-i.scrollTop;return"rtl"===Rv(r||n).direction&&(a+=kv(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}(Lv(t)))}function sg(t,e,n){var i="clippingParents"===e?function(t){var e=ig(Dv(t)),n=["absolute","fixed"].indexOf(Rv(t).position)>=0&&xv(t)?Bv(t):t;return _v(n)?e.filter((function(t){return _v(t)&&Iv(t,n)&&"body"!==bv(t)})):[]}(t):[].concat(e),r=[].concat(i,[n]),o=r[0],s=r.reduce((function(e,n){var i=og(t,n);return e.top=kv(i.top,e.top),e.right=Ev(i.right,e.right),e.bottom=Ev(i.bottom,e.bottom),e.left=kv(i.left,e.left),e}),og(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function ag(t){var e,n=t.reference,i=t.element,r=t.placement,o=r?Cv(r):null,s=r?$v(r):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(o){case sv:e={x:a,y:n.y-i.height};break;case av:e={x:a,y:n.y+n.height};break;case lv:e={x:n.x+n.width,y:l};break;case cv:e={x:n.x-i.width,y:l};break;default:e={x:n.x,y:n.y}}var c=o?Fv(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case hv:e[c]=e[c]-(n[u]/2-i[u]/2);break;case fv:e[c]=e[c]+(n[u]/2-i[u]/2)}}return e}function lg(t,e){void 0===e&&(e={});var n=e,i=n.placement,r=void 0===i?t.placement:i,o=n.boundary,s=void 0===o?"clippingParents":o,a=n.rootBoundary,l=void 0===a?pv:a,c=n.elementContext,u=void 0===c?mv:c,d=n.altBoundary,h=void 0!==d&&d,f=n.padding,p=void 0===f?0:f,m=Hv("number"!=typeof p?p:zv(p,dv)),v=u===mv?"reference":mv,g=t.rects.popper,y=t.elements[h?v:u],b=sg(_v(y)?y:y.contextElement||Lv(t.elements.popper),s,l),w=Av(t.elements.reference),_=ag({reference:w,element:g,placement:r}),x=rg(Object.assign({},g,_)),S=u===mv?x:w,M={top:b.top-S.top+m.top,bottom:S.bottom-b.bottom+m.bottom,left:b.left-S.left+m.left,right:S.right-b.right+m.right},C=t.modifiersData.offset;if(u===mv&&C){var k=C[r];Object.keys(M).forEach((function(t){var e=[lv,av].indexOf(t)>=0?1:-1,n=[sv,av].indexOf(t)>=0?"y":"x";M[t]+=k[n]*e}))}return M}var cg={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i].ue){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=void 0===f||f,m=n.allowedAutoPlacements,v=e.options.placement,g=Cv(v),y=l||(g===v||!p?[Xv(v)]:function(t){if(Cv(t)===uv)return[];var e=Xv(t);return[Jv(t),e,Jv(e)]}(v)),b=[v].concat(y).reduce((function(t,n){return t.concat(Cv(n)===uv?function(t,e){void 0===e&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?gv:l,u=$v(i),d=u?a?vv:vv.filter((function(t){return $v(t)===u})):dv,h=d.filter((function(t){return c.indexOf(t)>=0}));0===h.length&&(h=d);var f=h.reduce((function(e,n){return e[n]=lg(t,{placement:n,boundary:r,rootBoundary:o,padding:s})[Cv(n)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}(e,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)}),[]),w=e.rects.reference,_=e.rects.popper,x=new Map,S=!0,M=b[0],C=0;C<b.length;C++){var k=b[C],E=Cv(k),T=$v(k)===hv,A=[sv,av].indexOf(E)>=0,N=A?"width":"height",I=lg(e,{placement:k,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),R=A?T?lv:cv:T?av:sv;w[N]>_[N]&&(R=Xv(R));var O=Xv(R),L=[];if(o&&L.push(I[E]<=0),a&&L.push(I[R]<=0,I[O]<=0),L.every((function(t){return t}))){M=k,S=!1;break}x.set(k,L)}if(S)for(var D=function(t){var e=b.find((function(e){var n=x.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return M=e,"break"},P=p?3:1;P>0;P--){if("break"===D(P))break}e.placement!==M&&(e.modifiersData[i].ue=!0,e.placement=M,e.reset=!0)}},requiresIfExists:["offset"],data:{ue:!1}};function ug(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function dg(t){return[sv,lv,av,cv].some((function(e){return t[e]>=0}))}var hg={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,s=lg(e,{elementContext:"reference"}),a=lg(e,{altBoundary:!0}),l=ug(s,i),c=ug(a,r,o),u=dg(l),d=dg(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};var fg={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=void 0===r?[0,0]:r,s=gv.reduce((function(t,n){return t[n]=function(t,e,n){var i=Cv(t),r=[cv,sv].indexOf(i)>=0?-1:1,o="function"==typeof n?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[cv,lv].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,e.rects,o),t}),{}),a=s[e.placement],l=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=s}};var pg={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=ag({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})},data:{}};var mg={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=void 0===h||h,p=n.tetherOffset,m=void 0===p?0:p,v=lg(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),g=Cv(e.placement),y=$v(e.placement),b=!y,w=Fv(g),_=function(t){return"x"===t?"y":"x"}(w),x=e.modifiersData.popperOffsets,S=e.rects.reference,M=e.rects.popper,C="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,k="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),E=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,T={x:0,y:0};if(x){if(o){var A,N="y"===w?sv:cv,I="y"===w?av:lv,R="y"===w?"height":"width",O=x[w],L=O+v[N],D=O-v[I],P=f?-M[R]/2:0,B=y===hv?S[R]:M[R],F=y===hv?-M[R]:-S[R],U=e.elements.arrow,H=f&&U?Nv(U):{width:0,height:0},z=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},V=z[N],$=z[I],G=Uv(0,S[R],H[R]),j=b?S[R]/2-P-G-V-k.mainAxis:B-G-V-k.mainAxis,W=b?-S[R]/2+P+G+$+k.mainAxis:F+G+$+k.mainAxis,K=e.elements.arrow&&Bv(e.elements.arrow),q=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Y=null!=(A=null==E?void 0:E[w])?A:0,X=O+W-Y,Z=Uv(f?Ev(L,O+j-Y-q):L,O,f?kv(D,X):D);x[w]=Z,T[w]=Z-O}if(a){var J,Q="x"===w?sv:cv,tt="x"===w?av:lv,et=x[_],nt="y"===_?"height":"width",it=et+v[Q],rt=et-v[tt],ot=-1!==[sv,cv].indexOf(g),st=null!=(J=null==E?void 0:E[_])?J:0,at=ot?it:et-S[nt]-M[nt]-st+k.altAxis,lt=ot?et+S[nt]+M[nt]-st-k.altAxis:rt,ct=f&&ot?function(t,e,n){var i=Uv(t,e,n);return i>n?n:i}(at,et,lt):Uv(f?at:it,et,f?lt:rt);x[_]=ct,T[_]=ct-et}e.modifiersData[i]=T}},requiresIfExists:["offset"]};function vg(t,e,n){void 0===n&&(n=!1);var i=xv(e),r=xv(e)&&function(t){var e=t.getBoundingClientRect(),n=Tv(e.width)/t.offsetWidth||1,i=Tv(e.height)/t.offsetHeight||1;return 1!==n||1!==i}(e),o=Lv(e),s=Av(t,r),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==bv(e)||eg(o))&&(a=function(t){return t!==wv(t)&&xv(t)?function(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}(t):Qv(t)}(e)),xv(e)?((l=Av(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=tg(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function gg(t){var e=new Map,n=new Set,i=[];function r(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var i=e.get(t);i&&r(i)}})),i.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||r(t)})),i}function yg(t){var e;return function(){return e||(e=new Promise((function(n){Promise.resolve().then((function(){e=void 0,n(t())}))}))),e}}var bg={placement:"bottom",modifiers:[],strategy:"absolute"};function wg(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function _g(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,r=e.defaultOptions,o=void 0===r?bg:r;return function(t,e,n){void 0===n&&(n=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},bg,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},s=[],a=!1,l={state:r,setOptions:function(n){var a="function"==typeof n?n(r.options):n;c(),r.options=Object.assign({},o,r.options,a),r.scrollParents={reference:_v(t)?ig(t):t.contextElement?ig(t.contextElement):[],popper:ig(e)};var u=function(t){var e=gg(t);return yv.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(i,r.options.modifiers)));return r.orderedModifiers=u.filter((function(t){return t.enabled})),r.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var a=o({state:r,name:e,instance:l,options:i}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var t=r.elements,e=t.reference,n=t.popper;if(wg(e,n)){r.rects={reference:vg(e,Bv(n),"fixed"===r.options.strategy),popper:Nv(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(t){return r.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0;i<r.orderedModifiers.length;i++)if(!0!==r.reset){var o=r.orderedModifiers[i],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"==typeof s&&(r=s({state:r,options:u,name:d,instance:l})||r)}else r.reset=!1,i=-1}}},update:yg((function(){return new Promise((function(t){l.forceUpdate(),t(r)}))})),destroy:function(){c(),a=!0}};if(!wg(t,e))return l;function c(){s.forEach((function(t){return t()})),s=[]}return l.setOptions(n).then((function(t){!a&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}_g(),_g({defaultModifiers:[qv,pg,Wv,Mv]});var xg=_g({defaultModifiers:[qv,pg,Wv,Mv,fg,cg,mg,Vv,hg]});const Sg=Wh({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:Array,default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:gv,default:"bottom"},popperOptions:{type:Object,default:()=>({})},strategy:{type:String,values:["fixed","absolute"],default:"absolute"}}),Mg=Wh({...Sg,id:String,style:{type:[String,Array,Object]},className:{type:[String,Array,Object]},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:[String,Array,Object]},popperStyle:{type:[String,Array,Object]},referenceEl:{type:Object},triggerTargetEl:{type:Object},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...zp(["ariaLabel"])}),Cg={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},kg=(t,e=[])=>{const{placement:n,strategy:i,popperOptions:r}=t,o={placement:n,strategy:i,...r,modifiers:[...Eg(t),...e]};return function(t,e){e&&(t.modifiers=[...t.modifiers,...null!=e?e:[]])}(o,null==r?void 0:r.modifiers),o};function Eg(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:i}=t;return[{name:"offset",options:{offset:[0,null!=e?e:12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:n}}]}const Tg=(t,e,n={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:t})=>{const e=function(t){const e=Object.keys(t.elements),n=md(e.map((e=>[e,t.styles[e]||{}]))),i=md(e.map((e=>[e,t.attributes[e]])));return{styles:n,attributes:i}}(t);Object.assign(s.value,e)},requires:["computeStyles"]},r=vo((()=>{const{onFirstUpdate:t,placement:e,strategy:r,modifiers:o}=Te(n);return{onFirstUpdate:t,placement:e||"bottom",strategy:r||"absolute",modifiers:[...o||[],i,{name:"applyStyles",enabled:!1}]}})),o=Ce(),s=Me({styles:{popper:{position:Te(r).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=()=>{o.value&&(o.value.destroy(),o.value=void 0)};return fr(r,(t=>{const e=Te(o);e&&e.setOptions(t)}),{deep:!0}),fr([t,e],(([t,e])=>{a(),t&&e&&(o.value=xg(t,e,Te(r)))})),ti((()=>{a()})),{state:vo((()=>{var t;return{...(null==(t=Te(o))?void 0:t.state)||{}}})),styles:vo((()=>Te(s).styles)),attributes:vo((()=>Te(s).attributes)),update:()=>{var t;return null==(t=Te(o))?void 0:t.update()},forceUpdate:()=>{var t;return null==(t=Te(o))?void 0:t.forceUpdate()},instanceRef:vo((()=>Te(o)))}};const Ag=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:i,role:r}=Vi(vm,void 0),o=Me(),s=Me(),a=vo((()=>({name:"eventListeners",enabled:!!t.visible}))),l=vo((()=>{var t;const e=Te(o),n=null!=(t=Te(s))?t:0;return{name:"arrow",enabled:!wd(e),options:{element:e,padding:n}}})),c=vo((()=>({onFirstUpdate:()=>{p()},...kg(t,[Te(l),Te(a)])}))),u=vo((()=>(t=>{if(qd)return sh(t)})(t.referenceEl)||Te(i))),{attributes:d,state:h,styles:f,update:p,forceUpdate:m,instanceRef:v}=Tg(u,n,c);return fr(v,(t=>e.value=t)),Zn((()=>{fr((()=>{var t;return null==(t=Te(u))?void 0:t.getBoundingClientRect()}),(()=>{p()}))})),{attributes:d,arrowRef:o,contentRef:n,instanceRef:v,state:h,styles:f,role:r,forceUpdate:m,update:p}},Ng=Un({...Un({name:"ElPopperContent"}),props:Mg,emits:Cg,setup(t,{expose:e,emit:n}){const r=t,{focusStartRef:o,trapped:s,onFocusAfterReleased:a,onFocusAfterTrapped:l,onFocusInTrap:c,onFocusoutPrevented:u,onReleaseRequested:d}=((t,e)=>{const n=Me(!1),i=Me();return{focusStartRef:i,trapped:n,onFocusAfterReleased:t=>{var n;"pointer"!==(null==(n=t.detail)?void 0:n.focusReason)&&(i.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:e=>{t.visible&&!n.value&&(e.target&&(i.value=e.target),n.value=!0)},onFocusoutPrevented:e=>{t.trapping||("pointer"===e.detail.focusReason&&e.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}})(r,n),{attributes:h,arrowRef:f,contentRef:p,styles:m,instanceRef:v,role:g,update:y}=Ag(r),{ariaModal:b,arrowStyle:w,contentAttrs:_,contentClass:x,contentStyle:S,updateZIndex:M}=((t,{attributes:e,styles:n,role:i})=>{const{nextZIndex:r}=Fh(),o=fa("popper"),s=vo((()=>Te(e).popper)),a=Me(Ld(t.zIndex)?t.zIndex:r()),l=vo((()=>[o.b(),o.is("pure",t.pure),o.is(t.effect),t.popperClass])),c=vo((()=>[{zIndex:Te(a)},Te(n).popper,t.popperStyle||{}]));return{ariaModal:vo((()=>"dialog"===i.value?"false":void 0)),arrowStyle:vo((()=>Te(n).arrow||{})),contentAttrs:s,contentClass:l,contentStyle:c,contentZIndex:a,updateZIndex:()=>{a.value=Ld(t.zIndex)?t.zIndex:r()}}})(r,{styles:m,attributes:h,role:g}),C=Vi(qp,void 0),k=Me();let E;zi(gm,{arrowStyle:w,arrowRef:f,arrowOffset:k}),C&&zi(qp,{...C,addInputId:i,removeInputId:i});const T=(t=!0)=>{y(),t&&M()},A=()=>{T(!1),r.visible&&r.focusOnShow?s.value=!0:!1===r.visible&&(s.value=!1)};return Zn((()=>{fr((()=>r.triggerTargetEl),((t,e)=>{null==E||E(),E=void 0;const n=Te(t||p.value),i=Te(e||p.value);Pd(n)&&(E=fr([g,()=>r.ariaLabel,b,()=>r.id],(t=>{["role","aria-label","aria-modal","id"].forEach(((e,i)=>{yd(t[i])?n.removeAttribute(e):n.setAttribute(e,t[i])}))}),{immediate:!0})),i!==n&&Pd(i)&&["role","aria-label","aria-modal","id"].forEach((t=>{i.removeAttribute(t)}))}),{immediate:!0}),fr((()=>r.visible),A,{immediate:!0})})),ti((()=>{null==E||E(),E=void 0})),e({popperContentRef:p,popperInstanceRef:v,updatePopper:T,contentStyle:S}),(t,e)=>(Rr(),Pr("div",Zr({ref_key:"contentRef",ref:p},Te(_),{style:Te(S),class:Te(x),tabindex:"-1",onMouseenter:e=>t.$emit("mouseenter",e),onMouseleave:e=>t.$emit("mouseleave",e)}),[$r(Te(ov),{trapped:Te(s),"trap-on-focus-in":!0,"focus-trap-el":Te(p),"focus-start-el":Te(o),onFocusAfterTrapped:Te(l),onFocusAfterReleased:Te(a),onFocusin:Te(c),onFocusoutPrevented:Te(u),onReleaseRequested:Te(d)},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var Ig=mf(Ng,[["__file","content.vue"]]);const Rg=Of(wm),Og=Symbol("elTooltip");function Lg(){let t;const e=()=>window.clearTimeout(t);return eh((()=>e())),{registerTimeout:(n,i)=>{e(),t=window.setTimeout(n,i)},cancelTimeout:e}}const Dg=Wh({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),Pg=Wh({...Dg,...Mg,appendTo:{type:[String,Object]},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:Boolean,default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...zp(["ariaLabel"])}),Bg=Wh({...Sm,disabled:Boolean,trigger:{type:[String,Array],default:"hover"},triggerKeys:{type:Array,default:()=>[ev.enter,ev.numpadEnter,ev.space]}}),Fg=jh({type:Boolean,default:null}),Ug=jh({type:Function}),{useModelToggleProps:Hg,useModelToggleEmits:zg,useModelToggle:Vg}=(t=>{const e=`update:${t}`,n=`onUpdate:${t}`,i=[e];return{useModelToggle:({indicator:i,toggleReason:r,shouldHideWhenRouteChanges:o,shouldProceed:s,onShow:a,onHide:l})=>{const c=no(),{emit:u}=c,d=c.props,h=vo((()=>m(d[n]))),f=vo((()=>null===d[t])),p=t=>{!0!==i.value&&(i.value=!0,r&&(r.value=t),m(a)&&a(t))},v=t=>{!1!==i.value&&(i.value=!1,r&&(r.value=t),m(l)&&l(t))},g=t=>{if(!0===d.disabled||m(s)&&!s())return;const n=h.value&&qd;n&&u(e,!0),!f.value&&n||p(t)},y=t=>{if(!0===d.disabled||!qd)return;const n=h.value&&qd;n&&u(e,!1),!f.value&&n||v(t)},b=t=>{Od(t)&&(d.disabled&&t?h.value&&u(e,!1):i.value!==t&&(t?p():v()))};return fr((()=>d[t]),b),o&&void 0!==c.appContext.config.globalProperties.$route&&fr((()=>({...c.proxy.$route})),(()=>{o.value&&i.value&&y()})),Zn((()=>{b(d[t])})),{hide:y,show:g,toggle:()=>{i.value?y():g()},hasUpdateHandler:h}},useModelToggleProps:{[t]:Fg,[n]:Ug},useModelToggleEmits:i}})("visible"),$g=Wh({...bm,...Hg,...Pg,...Bg,..._m,showArrow:{type:Boolean,default:!0}}),Gg=[...zg,"before-show","before-hide","show","hide","open","close"],jg=(t,e,n)=>i=>{((t,e)=>d(t)?t.includes(e):t===e)(Te(t),e)&&n(i)},Wg=(t,e,{checkForDefaultPrevented:n=!0}={})=>i=>{const r=null==t?void 0:t(i);if(!1===n||!r)return null==e?void 0:e(i)},Kg=t=>e=>"mouse"===e.pointerType?t(e):void 0,qg=Un({...Un({name:"ElTooltipTrigger"}),props:Bg,setup(t,{expose:e}){const n=t,i=fa("tooltip"),{controlled:r,id:o,open:s,onOpen:a,onClose:l,onToggle:c}=Vi(Og,void 0),u=Me(null),d=()=>{if(Te(r)||n.disabled)return!0},h=De(n,"trigger"),f=Wg(d,jg(h,"hover",a)),p=Wg(d,jg(h,"hover",l)),m=Wg(d,jg(h,"click",(t=>{0===t.button&&c(t)}))),v=Wg(d,jg(h,"focus",a)),g=Wg(d,jg(h,"focus",l)),y=Wg(d,jg(h,"contextmenu",(t=>{t.preventDefault(),c(t)}))),b=Wg(d,(t=>{const{code:e}=t;n.triggerKeys.includes(e)&&(t.preventDefault(),c(t))}));return e({triggerRef:u}),(t,e)=>(Rr(),Br(Te(Lm),{id:Te(o),"virtual-ref":t.virtualRef,open:Te(s),"virtual-triggering":t.virtualTriggering,class:$(Te(i).e("trigger")),onBlur:Te(g),onClick:Te(m),onContextmenu:Te(y),onFocus:Te(v),onMouseenter:Te(f),onMouseleave:Te(p),onKeydown:Te(b)},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var Yg=mf(qg,[["__file","trigger.vue"]]);const Xg=Of(mf(Un({$t:"teleport",props:Wh({to:{type:[String,Object],required:!0},disabled:Boolean}),setup:t=>(t,e)=>t.disabled?mi(t.$slots,"default",{key:0}):(Rr(),Br(xn,{key:1,to:t.to},[mi(t.$slots,"default")],8,["to"]))}),[["__file","teleport.vue"]])),Zg=()=>{const t=ha(),e=Zp(),n=vo((()=>`${t.value}-popper-container-${e.prefix}`)),i=vo((()=>`#${n.value}`));return{id:n,selector:i}},Jg=()=>{const{id:t,selector:e}=Zg();return Xn((()=>{qd&&(document.body.querySelector(e.value)||(t=>{const e=document.createElement("div");e.id=t,document.body.appendChild(e)})(t.value))})),{id:t,selector:e}};var Qg=mf(Un({...Un({name:"ElTooltipContent",inheritAttrs:!1}),props:Pg,setup(t,{expose:e}){const n=t,{selector:i}=Zg(),r=fa("tooltip"),o=Me();let s;const{controlled:a,id:l,open:c,trigger:u,onClose:d,onOpen:h,onShow:f,onHide:p,onBeforeShow:m,onBeforeHide:v}=Vi(Og,void 0),g=vo((()=>n.transition||`${r.namespace.value}-fade-in-linear`)),y=vo((()=>n.persistent));ti((()=>{null==s||s()}));const b=vo((()=>!!Te(y)||Te(c))),w=vo((()=>!n.disabled&&Te(c))),_=vo((()=>n.appendTo||i.value)),x=vo((()=>{var t;return null!=(t=n.style)?t:{}})),S=Me(!0),M=()=>{p(),R()&&Ym(document.body),S.value=!0},C=()=>{if(Te(a))return!0},k=Wg(C,(()=>{n.enterable&&"hover"===Te(u)&&h()})),E=Wg(C,(()=>{"hover"===Te(u)&&d()})),T=()=>{var t,e;null==(e=null==(t=o.value)?void 0:t.updatePopper)||e.call(t),null==m||m()},A=()=>{null==v||v()},N=()=>{f(),s=dh(vo((()=>{var t;return null==(t=o.value)?void 0:t.popperContentRef})),(()=>{if(Te(a))return;"hover"!==Te(u)&&d()}))},I=()=>{n.virtualTriggering||d()},R=t=>{var e;const n=null==(e=o.value)?void 0:e.popperContentRef,i=(null==t?void 0:t.relatedTarget)||document.activeElement;return null==n?void 0:n.contains(i)};return fr((()=>Te(c)),(t=>{t?S.value=!1:null==s||s()}),{flush:"post"}),fr((()=>n.content),(()=>{var t,e;null==(e=null==(t=o.value)?void 0:t.updatePopper)||e.call(t)})),e({contentRef:o,isFocusInsideContent:R}),(t,e)=>(Rr(),Br(Te(Xg),{disabled:!t.teleported,to:Te(_)},{default:un((()=>[$r(Ro,{name:Te(g),onAfterLeave:M,onBeforeEnter:T,onAfterEnter:N,onBeforeLeave:A},{default:un((()=>[Te(b)?dn((Rr(),Br(Te(Ig),Zr({key:0,id:Te(l),ref_key:"contentRef",ref:o},t.$attrs,{"aria-label":t.ariaLabel,"aria-hidden":S.value,"boundaries-padding":t.boundariesPadding,"fallback-placements":t.fallbackPlacements,"gpu-acceleration":t.gpuAcceleration,offset:t.offset,placement:t.placement,"popper-options":t.popperOptions,strategy:t.strategy,effect:t.effect,enterable:t.enterable,pure:t.pure,"popper-class":t.popperClass,"popper-style":[t.popperStyle,Te(x)],"reference-el":t.referenceEl,"trigger-target-el":t.triggerTargetEl,visible:Te(w),"z-index":t.zIndex,onMouseenter:Te(k),onMouseleave:Te(E),onBlur:I,onClose:Te(d)}),{default:un((()=>[mi(t.$slots,"default")])),xt:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[qo,Te(w)]]):Kr("v-if",!0)])),xt:3},8,["name"])])),xt:3},8,["disabled","to"]))}}),[["__file","content.vue"]]);const ty=Of(mf(Un({...Un({name:"ElTooltip"}),props:$g,emits:Gg,setup(t,{expose:e,emit:n}){const i=t;Jg();const r=Jp(),o=Me(),s=Me(),a=()=>{var t;const e=Te(o);e&&(null==(t=e.popperInstanceRef)||t.update())},l=Me(!1),c=Me(),{show:u,hide:d,hasUpdateHandler:h}=Vg({indicator:l,toggleReason:c}),{onOpen:f,onClose:p}=(({showAfter:t,hideAfter:e,autoClose:n,open:i,close:r})=>{const{registerTimeout:o}=Lg(),{registerTimeout:s,cancelTimeout:a}=Lg();return{onOpen:e=>{o((()=>{i(e);const t=Te(n);Ld(t)&&t>0&&s((()=>{r(e)}),t)}),Te(t))},onClose:t=>{a(),o((()=>{r(t)}),Te(e))}}})({showAfter:De(i,"showAfter"),hideAfter:De(i,"hideAfter"),autoClose:De(i,"autoClose"),open:u,close:d}),m=vo((()=>Od(i.visible)&&!h.value));zi(Og,{controlled:m,id:r,open:fe(l),trigger:De(i,"trigger"),onOpen:t=>{f(t)},onClose:t=>{p(t)},onToggle:t=>{Te(l)?p(t):f(t)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:a}),fr((()=>i.disabled),(t=>{t&&l.value&&(l.value=!1)}));return jn((()=>l.value&&d())),e({popperRef:o,contentRef:s,isFocusInsideContent:t=>{var e;return null==(e=s.value)?void 0:e.isFocusInsideContent(t)},updatePopper:a,onOpen:f,onClose:p,hide:d}),(t,e)=>(Rr(),Br(Te(Rg),{ref_key:"popperRef",ref:o,role:t.role},{default:un((()=>[$r(Yg,{disabled:t.disabled,trigger:t.trigger,"trigger-keys":t.triggerKeys,"virtual-ref":t.virtualRef,"virtual-triggering":t.virtualTriggering},{default:un((()=>[t.$slots.default?mi(t.$slots,"default",{key:0}):Kr("v-if",!0)])),xt:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),$r(Qg,{ref_key:"contentRef",ref:s,"aria-label":t.ariaLabel,"boundaries-padding":t.boundariesPadding,content:t.content,disabled:t.disabled,effect:t.effect,enterable:t.enterable,"fallback-placements":t.fallbackPlacements,"hide-after":t.hideAfter,"gpu-acceleration":t.gpuAcceleration,offset:t.offset,persistent:t.persistent,"popper-class":t.popperClass,"popper-style":t.popperStyle,placement:t.placement,"popper-options":t.popperOptions,pure:t.pure,"raw-content":t.rawContent,"reference-el":t.referenceEl,"trigger-target-el":t.triggerTargetEl,"show-after":t.showAfter,strategy:t.strategy,teleported:t.teleported,transition:t.transition,"virtual-triggering":t.virtualTriggering,"z-index":t.zIndex,"append-to":t.appendTo},{default:un((()=>[mi(t.$slots,"content",{},(()=>[t.rawContent?(Rr(),Pr("span",{key:0,innerHTML:t.content},null,8,["innerHTML"])):(Rr(),Pr("span",{key:1},X(t.content),1))])),t.showArrow?(Rr(),Br(Te(xm),{key:0,"arrow-offset":t.arrowOffset},null,8,["arrow-offset"])):Kr("v-if",!0)])),xt:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])])),xt:3},8,["role"]))}}),[["__file","tooltip.vue"]])),ey=Wh({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:String,values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:[Function,Array],default:i},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:Pg.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...zp(["ariaLabel"])}),ny={[uf]:t=>v(t),[hf]:t=>v(t),[df]:t=>v(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>y(t)},iy="ElAutocomplete";const ry=Of(mf(Un({...Un({name:iy,inheritAttrs:!1}),props:ey,emits:ny,setup(t,{expose:e,emit:n}){const i=t,r=Wp(),o=xi(),s=im(),a=fa("autocomplete"),l=Me(),c=Me(),u=Me(),h=Me();let f=!1,p=!1;const m=Me([]),v=Me(-1),g=Me(""),y=Me(!1),b=Me(!1),w=Me(!1),_=Jp(),x=vo((()=>o.style)),S=vo((()=>(m.value.length>0||w.value)&&y.value)),M=vo((()=>!i.hideLoading&&w.value)),C=vo((()=>l.value?Array.from(l.value.$el.querySelectorAll("input")):[])),k=()=>{S.value&&(g.value=`${l.value.$el.offsetWidth}px`)},E=()=>{v.value=-1},T=async t=>{if(b.value)return;const e=t=>{w.value=!1,b.value||(d(t)?(m.value=t,v.value=i.highlightFirstItem?0:-1):Oh(iy,"autocomplete suggestions must be an array"))};if(w.value=!0,d(i.fetchSuggestions))e(i.fetchSuggestions);else{const n=await i.fetchSuggestions(t,e);d(n)&&e(n)}},A=od(T,i.debounce),N=t=>{const e=!!t;if(n(hf,t),n(uf,t),b.value=!1,y.value||(y.value=e),!i.triggerOnFocus&&!t)return b.value=!0,void(m.value=[]);A(t)},I=t=>{var e;s.value||("INPUT"!==(null==(e=t.target)?void 0:e.tagName)||C.value.includes(document.activeElement))&&(y.value=!0)},R=t=>{n(df,t)},O=t=>{p?p=!1:(y.value=!0,n("focus",t),i.triggerOnFocus&&!f&&A(String(i.modelValue)))},L=t=>{setTimeout((()=>{var e;(null==(e=u.value)?void 0:e.isFocusInsideContent())?p=!0:(y.value&&U(),n("blur",t))}))},D=()=>{y.value=!1,n(uf,""),n("clear")},P=async()=>{S.value&&v.value>=0&&v.value<m.value.length?H(m.value[v.value]):i.selectWhenUnmatched&&(n("select",{value:i.modelValue}),m.value=[],v.value=-1)},B=t=>{S.value&&(t.preventDefault(),t.stopPropagation(),U())},U=()=>{y.value=!1},H=async t=>{n(hf,t[i.valueKey]),n(uf,t[i.valueKey]),n("select",t),m.value=[],v.value=-1},z=t=>{if(!S.value||w.value)return;if(t<0)return void(v.value=-1);t>=m.value.length&&(t=m.value.length-1);const e=c.value.querySelector(`.${a.be("suggestion","wrap")}`),n=e.querySelectorAll(`.${a.be("suggestion","list")} li`)[t],i=e.scrollTop,{offsetTop:r,scrollHeight:o}=n;r+o>i+e.clientHeight&&(e.scrollTop+=o),r<i&&(e.scrollTop-=o),v.value=t,l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${v.value}`)},V=dh(h,(()=>{var t;(null==(t=u.value)?void 0:t.isFocusInsideContent())||S.value&&U()}));return ti((()=>{null==V||V()})),Zn((()=>{l.value.ref.setAttribute("role","textbox"),l.value.ref.setAttribute("aria-autocomplete","list"),l.value.ref.setAttribute("aria-controls","id"),l.value.ref.setAttribute("aria-activedescendant",`${_.value}-item-${v.value}`),f=l.value.ref.hasAttribute("readonly")})),e({highlightedIndex:v,activated:y,loading:w,inputRef:l,popperRef:u,suggestions:m,handleSelect:H,handleKeyEnter:P,focus:()=>{var t;null==(t=l.value)||t.focus()},blur:()=>{var t;null==(t=l.value)||t.blur()},close:U,highlight:z,getData:T}),(t,e)=>(Rr(),Br(Te(ty),{ref_key:"popperRef",ref:u,visible:Te(S),placement:t.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[Te(a).e("popper"),t.popperClass],teleported:t.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${Te(a).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:k,onHide:E},{content:un((()=>[Vr("div",{ref_key:"regionRef",ref:c,class:$([Te(a).b("suggestion"),Te(a).is("loading",Te(M))]),style:F({[t.fitInputWidth?"width":"minWidth"]:g.value,outline:"none"}),role:"region"},[$r(Te(mm),{id:Te(_),tag:"ul","wrap-class":Te(a).be("suggestion","wrap"),"view-class":Te(a).be("suggestion","list"),role:"listbox"},{default:un((()=>[Te(M)?(Rr(),Pr("li",{key:0},[mi(t.$slots,"loading",{},(()=>[$r(Te(Ff),{class:$(Te(a).is("loading"))},{default:un((()=>[$r(Te(ap))])),xt:1},8,["class"])]))])):(Rr(!0),Pr(kr,{key:1},fi(m.value,((e,n)=>(Rr(),Pr("li",{id:`${Te(_)}-item-${n}`,key:n,class:$({highlighted:v.value===n}),role:"option","aria-selected":v.value===n,onClick:t=>H(e)},[mi(t.$slots,"default",{item:e},(()=>[Wr(X(e[t.valueKey]),1)]))],10,["id","aria-selected","onClick"])))),128))])),xt:3},8,["id","wrap-class","view-class"])],6)])),default:un((()=>[Vr("div",{ref_key:"listboxRef",ref:h,class:$([Te(a).b(),t.$attrs.class]),style:F(Te(x)),role:"combobox","aria-haspopup":"listbox","aria-expanded":Te(S),"aria-owns":Te(_)},[$r(Te(sm),Zr({ref_key:"inputRef",ref:l},Te(r),{clearable:t.clearable,disabled:Te(s),name:t.name,"model-value":t.modelValue,"aria-label":t.ariaLabel,onInput:N,onChange:R,onFocus:O,onBlur:L,onClear:D,onKeydown:[Bs(Ds((t=>z(v.value-1)),["prevent"]),["up"]),Bs(Ds((t=>z(v.value+1)),["prevent"]),["down"]),Bs(P,["enter"]),Bs(U,["tab"]),Bs(B,["esc"])],onMousedown:I}),pi({xt:2},[t.$slots.prepend?{name:"prepend",fn:un((()=>[mi(t.$slots,"prepend")]))}:void 0,t.$slots.append?{name:"append",fn:un((()=>[mi(t.$slots,"append")]))}:void 0,t.$slots.prefix?{name:"prefix",fn:un((()=>[mi(t.$slots,"prefix")]))}:void 0,t.$slots.suffix?{name:"suffix",fn:un((()=>[mi(t.$slots,"suffix")]))}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])])),xt:3},8,["visible","placement","popper-class","teleported","transition"]))}}),[["__file","autocomplete.vue"]])),oy=Wh({size:{type:[Number,String],values:Kh,default:"",validator:t=>Ld(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Ep},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:String,default:"cover"}}),sy={error:t=>t instanceof Event},ay=Un({...Un({name:"ElAvatar"}),props:oy,emits:sy,setup(t,{emit:e}){const n=t,i=fa("avatar"),r=Me(!1),o=vo((()=>{const{size:t,icon:e,shape:r}=n,o=[i.b()];return v(t)&&o.push(i.m(t)),e&&o.push(i.m("icon")),r&&o.push(i.m(r)),o})),s=vo((()=>{const{size:t}=n;return Ld(t)?i.cssVarBlock({size:Mf(t)||""}):void 0})),a=vo((()=>({objectFit:n.fit})));function l(t){r.value=!0,e("error",t)}return fr((()=>n.src),(()=>r.value=!1)),(t,e)=>(Rr(),Pr("span",{class:$(Te(o)),style:F(Te(s))},[!t.src&&!t.srcSet||r.value?t.icon?(Rr(),Br(Te(Ff),{key:1},{default:un((()=>[(Rr(),Br(ci(t.icon)))])),xt:1})):mi(t.$slots,"default",{key:2}):(Rr(),Pr("img",{key:0,src:t.src,alt:t.alt,srcset:t.srcSet,style:F(Te(a)),onError:l},null,44,["src","alt","srcset"]))],6))}});const ly=Of(mf(ay,[["__file","avatar.vue"]])),cy={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},uy={click:t=>t instanceof MouseEvent},dy="ElBacktop";const hy=Of(mf(Un({...Un({name:dy}),props:cy,emits:uy,setup(t,{emit:e}){const n=t,i=fa("backtop"),{handleClick:r,visible:o}=((t,e,n)=>{const i=Ce(),r=Ce(),o=Me(!1),s=()=>{i.value&&(o.value=i.value.scrollTop>=t.visibilityHeight)},a=ih(s,300,!0);return ch(r,"scroll",a),Zn((()=>{var e;r.value=document,i.value=document.documentElement,t.target&&(i.value=null!=(e=document.querySelector(t.target))?e:void 0,i.value||Oh(n,`target does not exist: ${t.target}`),r.value=i.value),s()})),{visible:o,handleClick:t=>{var n;null==(n=i.value)||n.scrollTo({top:0,behavior:"smooth"}),e("click",t)}}})(n,e,dy),s=vo((()=>({right:`${n.right}px`,bottom:`${n.bottom}px`})));return(t,e)=>(Rr(),Br(Ro,{name:`${Te(i).namespace.value}-fade-in`},{default:un((()=>[Te(o)?(Rr(),Pr("div",{key:0,style:F(Te(s)),class:$(Te(i).b()),onClick:Ds(Te(r),["stop"])},[mi(t.$slots,"default",{},(()=>[$r(Te(Ff),{class:$(Te(i).e("icon"))},{default:un((()=>[$r(Te(Wf))])),xt:1},8,["class"])]))],14,["onClick"])):Kr("v-if",!0)])),xt:3},8,["name"]))}}),[["__file","backtop.vue"]])),fy=Wh({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:[String,Object,Array]},offset:{type:Array,default:[0,0]},badgeClass:{type:String}});const py=Of(mf(Un({...Un({name:"ElBadge"}),props:fy,setup(t,{expose:e}){const n=t,i=fa("badge"),r=vo((()=>n.isDot?"":Ld(n.value)&&Ld(n.max)&&n.max<n.value?`${n.max}+`:`${n.value}`)),o=vo((()=>{var t,e,i,r,o;return[{backgroundColor:n.color,marginRight:Mf(-(null!=(e=null==(t=n.offset)?void 0:t[0])?e:0)),marginTop:Mf(null!=(r=null==(i=n.offset)?void 0:i[1])?r:0)},null!=(o=n.badgeStyle)?o:{}]}));return e({content:r}),(t,e)=>(Rr(),Pr("div",{class:$(Te(i).b())},[mi(t.$slots,"default"),$r(Ro,{name:`${Te(i).namespace.value}-zoom-in-center`,persisted:""},{default:un((()=>[dn(Vr("sup",{class:$([Te(i).e("content"),Te(i).em("content",t.type),Te(i).is("fixed",!!t.$slots.default),Te(i).is("dot",t.isDot),Te(i).is("hide-zero",!t.showZero&&0===n.value),t.badgeClass]),style:F(Te(o))},[mi(t.$slots,"content",{value:Te(r)},(()=>[Wr(X(Te(r)),1)]))],6),[[qo,!t.hidden&&(Te(r)||t.isDot||t.$slots.content)]])])),xt:3},8,["name"])],2))}}),[["__file","badge.vue"]])),my=Symbol("breadcrumbKey"),vy=Wh({separator:{type:String,default:"/"},separatorIcon:{type:Ep}}),gy=Un({...Un({name:"ElBreadcrumb"}),props:vy,setup(t){const e=t,{t:n}=$h(),i=fa("breadcrumb"),r=Me();return zi(my,e),Zn((()=>{const t=r.value.querySelectorAll(`.${i.e("item")}`);t.length&&t[t.length-1].setAttribute("aria-current","page")})),(t,e)=>(Rr(),Pr("div",{ref_key:"breadcrumb",ref:r,class:$(Te(i).b()),"aria-label":Te(n)("el.breadcrumb.label"),role:"navigation"},[mi(t.$slots,"default")],10,["aria-label"]))}});var yy=mf(gy,[["__file","breadcrumb.vue"]]);const by=Wh({to:{type:[String,Object],default:""},replace:Boolean});var wy=mf(Un({...Un({name:"ElBreadcrumbItem"}),props:by,setup(t){const e=t,n=no(),i=Vi(my,void 0),r=fa("breadcrumb"),o=n.appContext.config.globalProperties.$router,s=Me(),a=()=>{e.to&&o&&(e.replace?o.replace(e.to):o.push(e.to))};return(t,e)=>{var n,o;return Rr(),Pr("span",{class:$(Te(r).e("item"))},[Vr("span",{ref_key:"link",ref:s,class:$([Te(r).e("inner"),Te(r).is("link",!!t.to)]),role:"link",onClick:a},[mi(t.$slots,"default")],2),(null==(n=Te(i))?void 0:n.separatorIcon)?(Rr(),Br(Te(Ff),{key:0,class:$(Te(r).e("separator"))},{default:un((()=>[(Rr(),Br(ci(Te(i).separatorIcon)))])),xt:1},8,["class"])):(Rr(),Pr("span",{key:1,class:$(Te(r).e("separator")),role:"presentation"},X(null==(o=Te(i))?void 0:o.separator),3))],2)}}}),[["__file","breadcrumb-item.vue"]]);const _y=Of(yy,{BreadcrumbItem:wy}),xy=Df(wy),Sy=Symbol("buttonGroupContextKey"),My=({from:t,replacement:e,scope:n,version:i,ref:r,type:o="API"},s)=>{fr((()=>Te(s)),(t=>{}),{immediate:!0})},Cy=["default","primary","success","warning","info","danger","text",""],ky=Wh({size:qh,disabled:Boolean,type:{type:String,values:Cy,default:""},icon:{type:Ep},nativeType:{type:String,values:["button","submit","reset"],default:"button"},loading:Boolean,loadingIcon:{type:Ep,default:()=>ap},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:[String,Object],default:"button"}}),Ey={click:t=>t instanceof MouseEvent};function Ty(t,e){(function(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!==t.indexOf("%")}(t);return t=360===e?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:t=360===e?(t<0?t%e+e:t%e)/parseFloat(String(e)):t%e/parseFloat(String(e))}function Ay(t){return Math.min(1,Math.max(0,t))}function Ny(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Iy(t){return t<=1?"".concat(100*Number(t),"%"):t}function Ry(t){return 1===t.length?"0"+t:String(t)}function Oy(t,e,n){t=Ty(t,255),e=Ty(e,255),n=Ty(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),o=0,s=0,a=(i+r)/2;if(i===r)s=0,o=0;else{var l=i-r;switch(s=a>.5?l/(2-i-r):l/(i+r),i){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4}o/=6}return{h:o,s:s,l:a}}function Ly(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*n*(e-t):n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Dy(t,e,n){t=Ty(t,255),e=Ty(e,255),n=Ty(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),o=0,s=i,a=i-r,l=0===i?0:a/i;if(i===r)o=0;else{switch(i){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4}o/=6}return{h:o,s:l,v:s}}function Py(t,e,n,i){var r=[Ry(Math.round(t).toString(16)),Ry(Math.round(e).toString(16)),Ry(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function By(t){return Fy(t)/255}function Fy(t){return parseInt(t,16)}var Uy={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Hy(t){var e,n,i,r={r:0,g:0,b:0},o=1,s=null,a=null,l=null,c=!1,u=!1;return"string"==typeof t&&(t=function(t){if(t=t.trim().toLowerCase(),0===t.length)return!1;var e=!1;if(Uy[t])t=Uy[t],e=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};var n=Gy.rgb.exec(t);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=Gy.rgba.exec(t),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=Gy.hsl.exec(t),n)return{h:n[1],s:n[2],l:n[3]};if(n=Gy.hsla.exec(t),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=Gy.hsv.exec(t),n)return{h:n[1],s:n[2],v:n[3]};if(n=Gy.hsva.exec(t),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=Gy.hex8.exec(t),n)return{r:Fy(n[1]),g:Fy(n[2]),b:Fy(n[3]),a:By(n[4]),format:e?"name":"hex8"};if(n=Gy.hex6.exec(t),n)return{r:Fy(n[1]),g:Fy(n[2]),b:Fy(n[3]),format:e?"name":"hex"};if(n=Gy.hex4.exec(t),n)return{r:Fy(n[1]+n[1]),g:Fy(n[2]+n[2]),b:Fy(n[3]+n[3]),a:By(n[4]+n[4]),format:e?"name":"hex8"};if(n=Gy.hex3.exec(t),n)return{r:Fy(n[1]+n[1]),g:Fy(n[2]+n[2]),b:Fy(n[3]+n[3]),format:e?"name":"hex"};return!1}(t)),"object"==typeof t&&(jy(t.r)&&jy(t.g)&&jy(t.b)?(e=t.r,n=t.g,i=t.b,r={r:255*Ty(e,255),g:255*Ty(n,255),b:255*Ty(i,255)},c=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):jy(t.h)&&jy(t.s)&&jy(t.v)?(s=Iy(t.s),a=Iy(t.v),r=function(t,e,n){t=6*Ty(t,360),e=Ty(e,100),n=Ty(n,100);var i=Math.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=i%6;return{r:255*[n,s,o,o,a,n][l],g:255*[a,n,n,s,o,o][l],b:255*[o,o,a,n,n,s][l]}}(t.h,s,a),c=!0,u="hsv"):jy(t.h)&&jy(t.s)&&jy(t.l)&&(s=Iy(t.s),l=Iy(t.l),r=function(t,e,n){var i,r,o;if(t=Ty(t,360),e=Ty(e,100),n=Ty(n,100),0===e)r=n,o=n,i=n;else{var s=n<.5?n*(1+e):n+e-n*e,a=2*n-s;i=Ly(a,s,t+1/3),r=Ly(a,s,t),o=Ly(a,s,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(t.h,s,l),c=!0,u="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(o=t.a)),o=Ny(o),{ok:c,format:t.format||u,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:o}}var zy="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),Vy="[\\s|\\(]+(".concat(zy,")[,|\\s]+(").concat(zy,")[,|\\s]+(").concat(zy,")\\s*\\)?"),$y="[\\s|\\(]+(".concat(zy,")[,|\\s]+(").concat(zy,")[,|\\s]+(").concat(zy,")[,|\\s]+(").concat(zy,")\\s*\\)?"),Gy={CSS_UNIT:new RegExp(zy),rgb:new RegExp("rgb"+Vy),rgba:new RegExp("rgba"+$y),hsl:new RegExp("hsl"+Vy),hsla:new RegExp("hsla"+$y),hsv:new RegExp("hsv"+Vy),hsva:new RegExp("hsva"+$y),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function jy(t){return Boolean(Gy.CSS_UNIT.exec(String(t)))}var Wy=function(){function t(e,n){var i;if(void 0===e&&(e=""),void 0===n&&(n={}),e instanceof t)return e;"number"==typeof e&&(e=function(t){return{r:t>>16,g:(65280&t)>>8,b:255&t}}(e)),this.originalInput=e;var r=Hy(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(i=n.format)&&void 0!==i?i:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},t.prototype.getLuminance=function(){var t=this.toRgb(),e=t.r/255,n=t.g/255,i=t.b/255;return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(t){return this.a=Ny(t),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){return 0===this.toHsl().s},t.prototype.toHsv=function(){var t=Dy(this.r,this.g,this.b);return{h:360*t.h,s:t.s,v:t.v,a:this.a}},t.prototype.toHsvString=function(){var t=Dy(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.v);return 1===this.a?"hsv(".concat(e,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(e,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var t=Oy(this.r,this.g,this.b);return{h:360*t.h,s:t.s,l:t.l,a:this.a}},t.prototype.toHslString=function(){var t=Oy(this.r,this.g,this.b),e=Math.round(360*t.h),n=Math.round(100*t.s),i=Math.round(100*t.l);return 1===this.a?"hsl(".concat(e,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(e,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(t){return void 0===t&&(t=!1),Py(this.r,this.g,this.b,t)},t.prototype.toHexString=function(t){return void 0===t&&(t=!1),"#"+this.toHex(t)},t.prototype.toHex8=function(t){return void 0===t&&(t=!1),function(t,e,n,i,r){var o,s=[Ry(Math.round(t).toString(16)),Ry(Math.round(e).toString(16)),Ry(Math.round(n).toString(16)),Ry((o=i,Math.round(255*parseFloat(o)).toString(16)))];return r&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))&&s[3].startsWith(s[3].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}(this.r,this.g,this.b,this.a,t)},t.prototype.toHex8String=function(t){return void 0===t&&(t=!1),"#"+this.toHex8(t)},t.prototype.toHexShortString=function(t){return void 0===t&&(t=!1),1===this.a?this.toHexString(t):this.toHex8String(t)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var t=Math.round(this.r),e=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(t,", ").concat(e,", ").concat(n,")"):"rgba(".concat(t,", ").concat(e,", ").concat(n,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var t=function(t){return"".concat(Math.round(100*Ty(t,255)),"%")};return{r:t(this.r),g:t(this.g),b:t(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var t=function(t){return Math.round(100*Ty(t,255))};return 1===this.a?"rgb(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%)"):"rgba(".concat(t(this.r),"%, ").concat(t(this.g),"%, ").concat(t(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var t="#"+Py(this.r,this.g,this.b,!1),e=0,n=Object.entries(Uy);e<n.length;e++){var i=n[e],r=i[0];if(t===i[1])return r}return!1},t.prototype.toString=function(t){var e=Boolean(t);t=null!=t?t:this.format;var n=!1,i=this.a<1&&this.a>=0;return e||!i||!t.startsWith("hex")&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this.a?this.toName():this.toRgbString()},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Ay(n.l),new t(n)},t.prototype.brighten=function(e){void 0===e&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-e/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-e/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-e/100*255))),new t(n)},t.prototype.darken=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Ay(n.l),new t(n)},t.prototype.tint=function(t){return void 0===t&&(t=10),this.mix("white",t)},t.prototype.shade=function(t){return void 0===t&&(t=10),this.mix("black",t)},t.prototype.desaturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Ay(n.s),new t(n)},t.prototype.saturate=function(e){void 0===e&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Ay(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,new t(n)},t.prototype.mix=function(e,n){void 0===n&&(n=50);var i=this.toRgb(),r=new t(e).toRgb(),o=n/100;return new t({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},t.prototype.analogous=function(e,n){void 0===e&&(e=6),void 0===n&&(n=30);var i=this.toHsl(),r=360/n,o=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(new t(i));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){void 0===e&&(e=6);for(var n=this.toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(new t({h:i,s:r,v:o})),o=(o+a)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),i=new t(e).toRgb(),r=n.a+i.a*(1-n.a);return new t({r:(n.r*n.a+i.r*i.a*(1-n.a))/r,g:(n.g*n.a+i.g*i.a*(1-n.a))/r,b:(n.b*n.a+i.b*i.a*(1-n.a))/r,a:r})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),i=n.h,r=[this],o=360/e,s=1;s<e;s++)r.push(new t({h:(i+s*o)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Ky(t,e=20){return t.mix("#141414",e).toString()}var qy=mf(Un({...Un({name:"ElButton"}),props:ky,emits:Ey,setup(t,{expose:e,emit:n}){const i=t,r=function(t){const e=im(),n=fa("button");return vo((()=>{let i={},r=t.color;if(r){const o=r.match(/var\((.*?)\)/);o&&(r=window.getComputedStyle(window.document.documentElement).getPropertyValue(o[1]));const s=new Wy(r),a=t.dark?s.tint(20).toString():Ky(s,20);if(t.plain)i=n.cssVarBlock({"bg-color":t.dark?Ky(s,90):s.tint(90).toString(),"text-color":r,"border-color":t.dark?Ky(s,50):s.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":a,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":a}),e.value&&(i[n.cssVarBlockName("disabled-bg-color")]=t.dark?Ky(s,90):s.tint(90).toString(),i[n.cssVarBlockName("disabled-text-color")]=t.dark?Ky(s,50):s.tint(50).toString(),i[n.cssVarBlockName("disabled-border-color")]=t.dark?Ky(s,80):s.tint(80).toString());else{const o=t.dark?Ky(s,30):s.tint(30).toString(),l=s.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(i=n.cssVarBlock({"bg-color":r,"text-color":l,"border-color":r,"hover-bg-color":o,"hover-text-color":l,"hover-border-color":o,"active-bg-color":a,"active-border-color":a}),e.value){const e=t.dark?Ky(s,50):s.tint(50).toString();i[n.cssVarBlockName("disabled-bg-color")]=e,i[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,i[n.cssVarBlockName("disabled-border-color")]=e}}}return i}))}(i),o=fa("button"),{de:s,he:a,fe:l,pe:c,Et:u,shouldAddSpace:d,handleClick:h}=((t,e)=>{My({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},vo((()=>"text"===t.type)));const n=Vi(Sy,void 0),i=sf("button"),{form:r}=Qp(),o=nm(vo((()=>null==n?void 0:n.size))),s=im(),a=Me(),l=_i(),c=vo((()=>t.type||(null==n?void 0:n.type)||"")),u=vo((()=>{var e,n,r;return null!=(r=null!=(n=t.autoInsertSpace)?n:null==(e=i.value)?void 0:e.autoInsertSpace)&&r})),d=vo((()=>"button"===t.tag?{ariaDisabled:s.value||t.loading,disabled:s.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{})),h=vo((()=>{var t;const e=null==(t=l.default)?void 0:t.call(l);if(u.value&&1===(null==e?void 0:e.length)){const t=e[0];if((null==t?void 0:t.type)===Er){const e=t.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(e.trim())}}return!1}));return{pe:s,he:o,fe:c,de:a,Et:d,shouldAddSpace:h,handleClick:n=>{s.value||t.loading?n.stopPropagation():("reset"===t.nativeType&&(null==r||r.resetFields()),e("click",n))}}})(i,n),f=vo((()=>[o.b(),o.m(l.value),o.m(a.value),o.is("disabled",c.value),o.is("loading",i.loading),o.is("plain",i.plain),o.is("round",i.round),o.is("circle",i.circle),o.is("text",i.text),o.is("link",i.link),o.is("has-bg",i.bg)]));return e({ref:s,size:a,type:l,disabled:c,shouldAddSpace:d}),(t,e)=>(Rr(),Br(ci(t.tag),Zr({ref_key:"_ref",ref:s},Te(u),{class:Te(f),style:Te(r),onClick:Te(h)}),{default:un((()=>[t.loading?(Rr(),Pr(kr,{key:0},[t.$slots.loading?mi(t.$slots,"loading",{key:0}):(Rr(),Br(Te(Ff),{key:1,class:$(Te(o).is("loading"))},{default:un((()=>[(Rr(),Br(ci(t.loadingIcon)))])),xt:1},8,["class"]))],64)):t.icon||t.$slots.icon?(Rr(),Br(Te(Ff),{key:1},{default:un((()=>[t.icon?(Rr(),Br(ci(t.icon),{key:0})):mi(t.$slots,"icon",{key:1})])),xt:3})):Kr("v-if",!0),t.$slots.default?(Rr(),Pr("span",{key:2,class:$({[Te(o).em("text","expand")]:Te(d)})},[mi(t.$slots,"default")],2)):Kr("v-if",!0)])),xt:3},16,["class","style","onClick"]))}}),[["__file","button.vue"]]);const Yy={size:ky.size,type:ky.type};var Xy=mf(Un({...Un({name:"ElButtonGroup"}),props:Yy,setup(t){const e=t;zi(Sy,de({size:De(e,"size"),type:De(e,"type")}));const n=fa("button");return(t,e)=>(Rr(),Pr("div",{class:$(Te(n).b("group"))},[mi(t.$slots,"default")],2))}}),[["__file","button-group.vue"]]);const Zy=Of(qy,{ButtonGroup:Xy}),Jy=Df(Xy);function Qy(t){return t&&t.me&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tb,eb={exports:{}};var nb=(tb||(tb=1,eb.exports=function(){var t=1e3,e=6e4,n=36e5,i="millisecond",r="second",o="minute",s="hour",a="day",l="week",c="month",u="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},g=function(t,e,n){var i=String(t);return!i||i.length>=e?t:""+Array(e+1-i.length).join(n)+t},y={s:g,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),i=Math.floor(n/60),r=n%60;return(e<=0?"+":"-")+g(i,2,"0")+":"+g(r,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var i=12*(n.year()-e.year())+(n.month()-e.month()),r=e.clone().add(i,c),o=n-r<0,s=e.clone().add(i+(o?-1:1),c);return+(-(i+(n-r)/(o?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:l,d:a,D:h,h:s,m:o,s:r,ms:i,Q:u}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",w={};w[b]=v;var _="$isDayjsObject",x=function(t){return t instanceof k||!(!t||!t[_])},S=function t(e,n,i){var r;if(!e)return b;if("string"==typeof e){var o=e.toLowerCase();w[o]&&(r=o),n&&(w[o]=n,r=o);var s=e.split("-");if(!r&&s.length>1)return t(s[0])}else{var a=e.name;w[a]=e,r=a}return!i&&r&&(b=r),r||!i&&b},M=function(t,e){if(x(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new k(n)},C=y;C.l=S,C.i=x,C.w=function(t,e){return M(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var k=function(){function v(t){this.$L=S(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[_]=!0}var g=v.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(C.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(p);if(i){var r=i[2]-1||0,o=(i[7]||"0").substring(0,3);return n?new Date(Date.UTC(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)):new Date(i[1],r,i[3]||1,i[4]||0,i[5]||0,i[6]||0,o)}}return new Date(e)}(t),this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return C},g.isValid=function(){return!(this.$d.toString()===f)},g.isSame=function(t,e){var n=M(t);return this.startOf(e)<=n&&n<=this.endOf(e)},g.isAfter=function(t,e){return M(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<M(t)},g.$g=function(t,e,n){return C.u(t)?this[e]:this.set(n,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var n=this,i=!!C.u(e)||e,u=C.p(t),f=function(t,e){var r=C.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return i?r:r.endOf(a)},p=function(t,e){return C.w(n.toDate()[t].apply(n.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},m=this.$W,v=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return i?f(1,0):f(31,11);case c:return i?f(1,v):f(0,v+1);case l:var b=this.$locale().weekStart||0,w=(m<b?m+7:m)-b;return f(i?g-w:g+(6-w),v);case a:case h:return p(y+"Hours",0);case s:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case r:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var n,l=C.p(t),u="set"+(this.$u?"UTC":""),f=(n={},n[a]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[o]=u+"Minutes",n[r]=u+"Seconds",n[i]=u+"Milliseconds",n)[l],p=l===a?this.$D+(e-this.$W):e;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[f](p),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[C.p(t)]()},g.add=function(i,u){var h,f=this;i=Number(i);var p=C.p(u),m=function(t){var e=M(f);return C.w(e.date(e.date()+Math.round(t*i)),f)};if(p===c)return this.set(c,this.$M+i);if(p===d)return this.set(d,this.$y+i);if(p===a)return m(1);if(p===l)return m(7);var v=(h={},h[o]=e,h[s]=n,h[r]=t,h)[p]||1,g=this.$d.getTime()+i*v;return C.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||f;var i=t||"YYYY-MM-DDTHH:mm:ssZ",r=C.z(this),o=this.$H,s=this.$m,a=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(t,n,r,o){return t&&(t[n]||t(e,i))||r[n].slice(0,o)},h=function(t){return C.s(o%12||12,t,"0")},p=u||function(t,e,n){var i=t<12?"AM":"PM";return n?i.toLowerCase():i};return i.replace(m,(function(t,i){return i||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return C.s(e.$y,4,"0");case"M":return a+1;case"MM":return C.s(a+1,2,"0");case"MMM":return d(n.monthsShort,a,c,3);case"MMMM":return d(c,a);case"D":return e.$D;case"DD":return C.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return d(n.weekdaysMin,e.$W,l,2);case"ddd":return d(n.weekdaysShort,e.$W,l,3);case"dddd":return l[e.$W];case"H":return String(o);case"HH":return C.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return p(o,s,!0);case"A":return p(o,s,!1);case"m":return String(s);case"mm":return C.s(s,2,"0");case"s":return String(e.$s);case"ss":return C.s(e.$s,2,"0");case"SSS":return C.s(e.$ms,3,"0");case"Z":return r}return null}(t)||r.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(i,h,f){var p,m=this,v=C.p(h),g=M(i),y=(g.utcOffset()-this.utcOffset())*e,b=this-g,w=function(){return C.m(m,g)};switch(v){case d:p=w()/12;break;case c:p=w();break;case u:p=w()/3;break;case l:p=(b-y)/6048e5;break;case a:p=(b-y)/864e5;break;case s:p=b/n;break;case o:p=b/e;break;case r:p=b/t;break;default:p=b}return f?p:C.a(p)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return w[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),i=S(t,e,!0);return i&&(n.$L=i),n},g.clone=function(){return C.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),E=k.prototype;return M.prototype=E,[["$ms",i],["$s",r],["$m",o],["$H",s],["$W",a],["$M",c],["$y",d],["$D",h]].forEach((function(t){E[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),M.extend=function(t,e){return t.$i||(t(e,k,M),t.$i=!0),M},M.locale=S,M.isDayjs=x,M.unix=function(t){return M(1e3*t)},M.en=w[b],M.Ls=w,M.p={},M}()),eb.exports);const ib=Qy(nb),rb=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],ob=t=>Array.from(Array.from({length:t}).keys()),sb=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),ab=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),lb=function(t,e){const n=p(t),i=p(e);return n&&i?t.getTime()===e.getTime():!n&&!i&&t===e},cb=function(t,e){const n=d(t),i=d(e);return n&&i?t.length===e.length&&t.every(((t,n)=>lb(t,e[n]))):!n&&!i&&lb(t,e)},ub=function(t,e,n){const i=Dd(e)||"x"===e?ib(t).locale(n):ib(t,e).locale(n);return i.isValid()?i:void 0},db=function(t,e,n){return Dd(e)?t:"x"===e?+t:ib(t).locale(n).format(e)},hb=(t,e)=>{var n;const i=[],r=null==e?void 0:e();for(let o=0;o<t;o++)i.push(null!=(n=null==r?void 0:r.includes(o))&&n);return i},fb=t=>d(t)?t.map((t=>t.toDate())):t.toDate(),pb=Wh({selectedDay:{type:Object},range:{type:Array},date:{type:Object,required:!0},hideHeader:{type:Boolean}}),mb={pick:t=>y(t)};var vb,gb={exports:{}};var yb=vb?gb.exports:(vb=1,gb.exports=function(t,e,n){var i=e.prototype,r=function(t){return t&&(t.indexOf?t:t.s)},o=function(t,e,n,i,o){var s=t.name?t:t.$locale(),a=r(s[e]),l=r(s[n]),c=a||l.map((function(t){return t.slice(0,i)}));if(!o)return c;var u=s.weekStart;return c.map((function(t,e){return c[(e+(u||0))%7]}))},s=function(){return n.Ls[n.locale()]},a=function(t,e){return t.formats[e]||t.formats[e.toUpperCase()].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))},l=function(){var t=this;return{months:function(e){return e?e.format("MMMM"):o(t,"months")},monthsShort:function(e){return e?e.format("MMM"):o(t,"monthsShort","months",3)},firstDayOfWeek:function(){return t.$locale().weekStart||0},weekdays:function(e){return e?e.format("dddd"):o(t,"weekdays")},weekdaysMin:function(e){return e?e.format("dd"):o(t,"weekdaysMin","weekdays",2)},weekdaysShort:function(e){return e?e.format("ddd"):o(t,"weekdaysShort","weekdays",3)},longDateFormat:function(e){return a(t.$locale(),e)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return l.bind(this)()},n.localeData=function(){var t=s();return{firstDayOfWeek:function(){return t.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(e){return a(t,e)},meridiem:t.meridiem,ordinal:t.ordinal}},n.months=function(){return o(s(),"months")},n.monthsShort=function(){return o(s(),"monthsShort","months",3)},n.weekdays=function(t){return o(s(),"weekdays",null,null,t)},n.weekdaysShort=function(t){return o(s(),"weekdaysShort","weekdays",3,t)},n.weekdaysMin=function(t){return o(s(),"weekdaysMin","weekdays",2,t)}});const bb=Qy(yb),wb=["sun","mon","tue","wed","thu","fri","sat"],_b=(t,e)=>{ib.extend(bb);const n=ib.localeData().firstDayOfWeek(),{t:i,lang:r}=$h(),o=ib().locale(r.value),s=vo((()=>!!t.range&&!!t.range.length)),a=vo((()=>{let e=[];if(s.value){const[n,i]=t.range,r=ob(i.date()-n.date()+1).map((t=>({text:n.date()+t,type:"current"})));let o=r.length%7;o=0===o?0:7-o;const s=ob(o).map(((t,e)=>({text:e+1,type:"next"})));e=r.concat(s)}else{const i=t.date.startOf("month").day(),r=((t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return ob(e).map(((t,i)=>n-(e-i-1)))})(t.date,(i-n+7)%7).map((t=>({text:t,type:"prev"}))),o=(t=>{const e=t.daysInMonth();return ob(e).map(((t,e)=>e+1))})(t.date).map((t=>({text:t,type:"current"})));e=[...r,...o];const s=7-(e.length%7||7),a=ob(s).map(((t,e)=>({text:e+1,type:"next"})));e=e.concat(a)}return(t=>ob(t.length/7).map((e=>{const n=7*e;return t.slice(n,n+7)})))(e)})),l=vo((()=>{const t=n;return 0===t?wb.map((t=>i(`el.datepicker.weeks.${t}`))):wb.slice(t).concat(wb.slice(0,t)).map((t=>i(`el.datepicker.weeks.${t}`)))})),c=(e,n)=>{switch(n){case"prev":return t.date.startOf("month").subtract(1,"month").date(e);case"next":return t.date.startOf("month").add(1,"month").date(e);case"current":return t.date.date(e)}};return{now:o,isInRange:s,rows:a,weekDays:l,getFormattedDate:c,handlePickDay:({text:t,type:n})=>{const i=c(t,n);e("pick",i)},getSlotData:({text:e,type:n})=>{const i=c(e,n);return{isSelected:i.isSame(t.selectedDay),type:`${n}-month`,day:i.format("YYYY-MM-DD"),date:i.toDate()}}}};var xb=mf(Un({...Un({name:"DateTable"}),props:pb,emits:mb,setup(t,{expose:e,emit:n}){const i=t,{isInRange:r,now:o,rows:s,weekDays:a,getFormattedDate:l,handlePickDay:c,getSlotData:u}=_b(i,n),d=fa("calendar-table"),h=fa("calendar-day"),f=({text:t,type:e})=>{const n=[e];if("current"===e){const r=l(t,e);r.isSame(i.selectedDay,"day")&&n.push(h.is("selected")),r.isSame(o,"day")&&n.push(h.is("today"))}return n};return e({getFormattedDate:l}),(t,e)=>(Rr(),Pr("table",{class:$([Te(d).b(),Te(d).is("range",Te(r))]),cellspacing:"0",cellpadding:"0"},[t.hideHeader?Kr("v-if",!0):(Rr(),Pr("thead",{key:0},[Vr("tr",null,[(Rr(!0),Pr(kr,null,fi(Te(a),(t=>(Rr(),Pr("th",{key:t,scope:"col"},X(t),1)))),128))])])),Vr("tbody",null,[(Rr(!0),Pr(kr,null,fi(Te(s),((e,n)=>(Rr(),Pr("tr",{key:n,class:$({[Te(d).e("row")]:!0,[Te(d).em("row","hide-border")]:0===n&&t.hideHeader})},[(Rr(!0),Pr(kr,null,fi(e,((e,n)=>(Rr(),Pr("td",{key:n,class:$(f(e)),onClick:t=>Te(c)(e)},[Vr("div",{class:$(Te(h).b())},[mi(t.$slots,"date-cell",{data:Te(u)(e)},(()=>[Vr("span",null,X(e.text),1)]))],2)],10,["onClick"])))),128))],2)))),128))])],2))}}),[["__file","date-table.vue"]]);const Sb=Wh({modelValue:{type:Date},range:{type:Array,validator:t=>d(t)&&2===t.length&&t.every((t=>p(t)))}}),Mb={[uf]:t=>p(t),[hf]:t=>p(t)},Cb=Un({...Un({name:"ElCalendar"}),props:Sb,emits:Mb,setup(t,{expose:e,emit:n}){const i=t,r=fa("calendar"),{calculateValidatedDateRange:o,date:s,pickDay:a,realSelectedDay:l,selectDate:c,validatedRange:u}=((t,e)=>{const{lang:n}=$h(),i=Me(),r=ib().locale(n.value),o=vo({get:()=>t.modelValue?a.value:i.value,set(t){if(!t)return;i.value=t;const n=t.toDate();e(hf,n),e(uf,n)}}),s=vo((()=>{if(!t.range||!d(t.range)||2!==t.range.length||t.range.some((t=>!p(t))))return[];const e=t.range.map((t=>ib(t).locale(n.value))),[i,r]=e;return i.isAfter(r)?[]:i.isSame(r,"month")?f(i,r):i.add(1,"month").month()!==r.month()?[]:f(i,r)})),a=vo((()=>t.modelValue?ib(t.modelValue).locale(n.value):o.value||(s.value.length?s.value[0][0]:r))),l=vo((()=>a.value.subtract(1,"month").date(1))),c=vo((()=>a.value.add(1,"month").date(1))),u=vo((()=>a.value.subtract(1,"year").date(1))),h=vo((()=>a.value.add(1,"year").date(1))),f=(t,e)=>{const n=t.startOf("week"),i=e.endOf("week"),r=n.get("month"),o=i.get("month");return r===o?[[n,i]]:(r+1)%12===o?((t,e)=>{const n=t.endOf("month"),i=e.startOf("month"),r=n.isSame(i,"week");return[[t,n],[(r?i.add(1,"week"):i).startOf("week"),e]]})(n,i):r+2===o||(r+1)%11===o?((t,e)=>{const n=t.endOf("month"),i=t.add(1,"month").startOf("month"),r=n.isSame(i,"week")?i.add(1,"week"):i,o=r.endOf("month"),s=e.startOf("month"),a=o.isSame(s,"week")?s.add(1,"week"):s;return[[t,n],[r.startOf("week"),o],[a.startOf("week"),e]]})(n,i):[]},m=t=>{o.value=t};return{calculateValidatedDateRange:f,date:a,realSelectedDay:o,pickDay:m,selectDate:t=>{const e={"prev-month":l.value,"next-month":c.value,"prev-year":u.value,"next-year":h.value,today:r}[t];e.isSame(a.value,"day")||m(e)},validatedRange:s}})(i,n),{t:h}=$h(),f=vo((()=>{const t=`el.datepicker.month${s.value.format("M")}`;return`${s.value.year()} ${h("el.datepicker.year")} ${h(t)}`}));return e({selectedDay:l,pickDay:a,selectDate:c,calculateValidatedDateRange:o}),(t,e)=>(Rr(),Pr("div",{class:$(Te(r).b())},[Vr("div",{class:$(Te(r).e("header"))},[mi(t.$slots,"header",{date:Te(f)},(()=>[Vr("div",{class:$(Te(r).e("title"))},X(Te(f)),3),0===Te(u).length?(Rr(),Pr("div",{key:0,class:$(Te(r).e("button-group"))},[$r(Te(Jy),null,{default:un((()=>[$r(Te(Zy),{size:"small",onClick:t=>Te(c)("prev-month")},{default:un((()=>[Wr(X(Te(h)("el.datepicker.prevMonth")),1)])),xt:1},8,["onClick"]),$r(Te(Zy),{size:"small",onClick:t=>Te(c)("today")},{default:un((()=>[Wr(X(Te(h)("el.datepicker.today")),1)])),xt:1},8,["onClick"]),$r(Te(Zy),{size:"small",onClick:t=>Te(c)("next-month")},{default:un((()=>[Wr(X(Te(h)("el.datepicker.nextMonth")),1)])),xt:1},8,["onClick"])])),xt:1})],2)):Kr("v-if",!0)]))],2),0===Te(u).length?(Rr(),Pr("div",{key:0,class:$(Te(r).e("body"))},[$r(xb,{date:Te(s),"selected-day":Te(l),onPick:Te(a)},pi({xt:2},[t.$slots["date-cell"]?{name:"date-cell",fn:un((e=>[mi(t.$slots,"date-cell",G(Gr(e)))]))}:void 0]),1032,["date","selected-day","onPick"])],2)):(Rr(),Pr("div",{key:1,class:$(Te(r).e("body"))},[(Rr(!0),Pr(kr,null,fi(Te(u),((e,n)=>(Rr(),Br(xb,{key:n,date:e[0],"selected-day":Te(l),range:e,"hide-header":0!==n,onPick:Te(a)},pi({xt:2},[t.$slots["date-cell"]?{name:"date-cell",fn:un((e=>[mi(t.$slots,"date-cell",G(Gr(e)))]))}:void 0]),1032,["date","selected-day","range","hide-header","onPick"])))),128))],2))],2))}});const kb=Of(mf(Cb,[["__file","calendar.vue"]])),Eb=Wh({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:[String,Object,Array],default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}});const Tb=Of(mf(Un({...Un({name:"ElCard"}),props:Eb,setup(t){const e=fa("card");return(t,n)=>(Rr(),Pr("div",{class:$([Te(e).b(),Te(e).is(`${t.shadow}-shadow`)])},[t.$slots.header||t.header?(Rr(),Pr("div",{key:0,class:$(Te(e).e("header"))},[mi(t.$slots,"header",{},(()=>[Wr(X(t.header),1)]))],2)):Kr("v-if",!0),Vr("div",{class:$([Te(e).e("body"),t.bodyClass]),style:F(t.bodyStyle)},[mi(t.$slots,"default")],6),t.$slots.footer||t.footer?(Rr(),Pr("div",{key:1,class:$(Te(e).e("footer"))},[mi(t.$slots,"footer",{},(()=>[Wr(X(t.footer),1)]))],2)):Kr("v-if",!0)],2))}}),[["__file","card.vue"]])),Ab=Wh({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),Nb={change:(t,e)=>[t,e].every(Ld)},Ib=Symbol("carouselContextKey"),Rb="ElCarouselItem";var Ob=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Ob||{});function Lb(t){return Fr(t)&&t.type===kr}function Db(t){return Fr(t)&&!Lb(t)&&!function(t){return Fr(t)&&t.type===Tr}(t)}const Pb=t=>{const e=d(t)?t:[t],n=[];return e.forEach((t=>{var e;d(t)?n.push(...Pb(t)):Fr(t)&&(null==(e=t.component)?void 0:e.subTree)?n.push(t,...Pb(t.component.subTree)):Fr(t)&&d(t.children)?n.push(...Pb(t.children)):Fr(t)&&2===t.shapeFlag?n.push(...Pb(t.type())):n.push(t)})),n},Bb=(t,e)=>{const n={},i=Ce([]);return{children:i,addChild:r=>{n[r.uid]=r,i.value=((t,e,n)=>Pb(t.subTree).filter((t=>{var n;return Fr(t)&&(null==(n=t.type)?void 0:n.name)===e&&!!t.component})).map((t=>t.component.uid)).map((t=>n[t])).filter((t=>!!t)))(t,e,n)},removeChild:t=>{delete n[t],i.value=i.value.filter((e=>e.uid!==t))}}},Fb=(t,e,n)=>{const{children:i,addChild:r,removeChild:o}=Bb(no(),Rb),s=_i(),a=Me(-1),l=Me(null),c=Me(!1),u=Me(),d=Me(0),h=Me(!0),f=Me(!0),p=Me(!1),m=vo((()=>"never"!==t.arrow&&!Te(b))),g=vo((()=>i.value.some((t=>t.props.label.toString().length>0)))),y=vo((()=>"card"===t.type)),b=vo((()=>"vertical"===t.direction)),w=vo((()=>"auto"!==t.height?{height:t.height}:{height:`${d.value}px`,overflow:"hidden"})),_=Ad((t=>{k(t)}),300,{trailing:!0}),x=Ad((e=>{!function(e){"hover"===t.trigger&&e!==a.value&&(a.value=e,f.value||(p.value=!0))}(e)}),300);function S(){l.value&&(clearInterval(l.value),l.value=null)}function M(){t.interval<=0||!t.autoplay||l.value||(l.value=setInterval((()=>C()),t.interval))}const C=()=>{f.value||(p.value=!0),f.value=!1,a.value<i.value.length-1?a.value=a.value+1:t.loop?a.value=0:p.value=!1};function k(e){if(f.value||(p.value=!0),f.value=!1,v(e)){const t=i.value.filter((t=>t.props.name===e));t.length>0&&(e=i.value.indexOf(t[0]))}if(e=Number(e),Number.isNaN(e)||e!==Math.floor(e))return;const n=i.value.length,r=a.value;a.value=e<0?t.loop?n-1:0:e>=n?t.loop?0:n-1:e,r===a.value&&E(r),T()}function E(t){i.value.forEach(((e,n)=>{e.translateItem(n,a.value,t)}))}function T(){S(),t.pauseOnHover||M()}fr((()=>a.value),((t,n)=>{E(n),h.value&&(t%=2,n%=2),n>-1&&e("change",t,n)})),fr((()=>t.autoplay),(t=>{t?M():S()})),fr((()=>t.loop),(()=>{k(a.value)})),fr((()=>t.interval),(()=>{T()}));const A=Ce();return Zn((()=>{fr((()=>i.value),(()=>{i.value.length>0&&k(t.initialIndex)}),{immediate:!0}),A.value=yh(u.value,(()=>{E()})),M()})),ti((()=>{S(),u.value&&A.value&&A.value.stop()})),zi(Ib,{root:u,isCardType:y,isVertical:b,items:i,loop:t.loop,cardScale:t.cardScale,addItem:r,removeItem:o,setActiveItem:k,setContainerHeight:function(e){"auto"===t.height&&(d.value=e)}}),{root:u,activeIndex:a,arrowDisplay:m,hasLabel:g,hover:c,isCardType:y,isTransitioning:p,items:i,isVertical:b,containerStyle:w,isItemsTwoLength:h,handleButtonEnter:function(t){Te(b)||i.value.forEach(((e,n)=>{t===function(t,e){var n,r,o,s;const a=Te(i),l=a.length;if(0===l||!t.states.inStage)return!1;const c=e+1,u=e-1,d=l-1,h=a[d].states.active,f=a[0].states.active,p=null==(r=null==(n=a[c])?void 0:n.states)?void 0:r.active,m=null==(s=null==(o=a[u])?void 0:o.states)?void 0:s.active;return e===d&&f||p?"left":!!(0===e&&h||m)&&"right"}(e,n)&&(e.states.hover=!0)}))},handleTransitionEnd:function(){p.value=!1},handleButtonLeave:function(){Te(b)||i.value.forEach((t=>{t.states.hover=!1}))},handleIndicatorClick:function(t){t!==a.value&&(f.value||(p.value=!0)),a.value=t},handleMouseEnter:function(){c.value=!0,t.pauseOnHover&&S()},handleMouseLeave:function(){c.value=!1,M()},setActiveItem:k,prev:function(){k(a.value-1)},next:function(){k(a.value+1)},PlaceholderItem:function(){var e;const n=null==(e=s.default)?void 0:e.call(s);if(!n)return null;const i=Pb(n).filter((t=>Fr(t)&&t.type.name===Rb));return 2===(null==i?void 0:i.length)&&t.loop&&!y.value?(h.value=!0,i):(h.value=!1,null)},isTwoLengthShow:t=>!h.value||(a.value<=1?t<=1:t>1),throttledArrowClick:_,throttledIndicatorHover:x}},Ub=Un({...Un({name:"ElCarousel"}),props:Ab,emits:Nb,setup(t,{expose:e,emit:n}){const i=t,{root:r,activeIndex:o,arrowDisplay:s,hasLabel:a,hover:l,isCardType:c,items:u,isVertical:d,containerStyle:h,handleButtonEnter:f,handleButtonLeave:p,isTransitioning:m,handleIndicatorClick:v,handleMouseEnter:g,handleMouseLeave:y,handleTransitionEnd:b,setActiveItem:w,prev:_,next:x,PlaceholderItem:S,isTwoLengthShow:M,throttledArrowClick:C,throttledIndicatorHover:k}=Fb(i,n),E=fa("carousel"),{t:T}=$h(),A=vo((()=>{const t=[E.b(),E.m(i.direction)];return Te(c)&&t.push(E.m("card")),t})),N=vo((()=>{const t=[E.e("container")];return i.motionBlur&&Te(m)&&u.value.length>1&&t.push(Te(d)?`${E.namespace.value}-transitioning-vertical`:`${E.namespace.value}-transitioning`),t})),I=vo((()=>{const t=[E.e("indicators"),E.em("indicators",i.direction)];return Te(a)&&t.push(E.em("indicators","labels")),"outside"===i.indicatorPosition&&t.push(E.em("indicators","outside")),Te(d)&&t.push(E.em("indicators","right")),t}));return e({activeIndex:o,setActiveItem:w,prev:_,next:x}),(t,e)=>(Rr(),Pr("div",{ref_key:"root",ref:r,class:$(Te(A)),onMouseenter:Ds(Te(g),["stop"]),onMouseleave:Ds(Te(y),["stop"])},[Te(s)?(Rr(),Br(Ro,{key:0,name:"carousel-arrow-left",persisted:""},{default:un((()=>[dn(Vr("button",{type:"button",class:$([Te(E).e("arrow"),Te(E).em("arrow","left")]),"aria-label":Te(T)("el.carousel.leftArrow"),onMouseenter:t=>Te(f)("left"),onMouseleave:Te(p),onClick:Ds((t=>Te(C)(Te(o)-1)),["stop"])},[$r(Te(Ff),null,{default:un((()=>[$r(Te(Hf))])),xt:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[qo,("always"===t.arrow||Te(l))&&(i.loop||Te(o)>0)]])])),xt:1})):Kr("v-if",!0),Te(s)?(Rr(),Br(Ro,{key:1,name:"carousel-arrow-right",persisted:""},{default:un((()=>[dn(Vr("button",{type:"button",class:$([Te(E).e("arrow"),Te(E).em("arrow","right")]),"aria-label":Te(T)("el.carousel.rightArrow"),onMouseenter:t=>Te(f)("right"),onMouseleave:Te(p),onClick:Ds((t=>Te(C)(Te(o)+1)),["stop"])},[$r(Te(Ff),null,{default:un((()=>[$r(Te(zf))])),xt:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[qo,("always"===t.arrow||Te(l))&&(i.loop||Te(o)<Te(u).length-1)]])])),xt:1})):Kr("v-if",!0),Vr("div",{class:$(Te(N)),style:F(Te(h)),onTransitionend:Te(b)},[$r(Te(S)),mi(t.$slots,"default")],46,["onTransitionend"]),"none"!==t.indicatorPosition?(Rr(),Pr("ul",{key:2,class:$(Te(I))},[(Rr(!0),Pr(kr,null,fi(Te(u),((e,n)=>dn((Rr(),Pr("li",{key:n,class:$([Te(E).e("indicator"),Te(E).em("indicator",t.direction),Te(E).is("active",n===Te(o))]),onMouseenter:t=>Te(k)(n),onClick:Ds((t=>Te(v)(n)),["stop"])},[Vr("button",{class:$(Te(E).e("button")),"aria-label":Te(T)("el.carousel.indicator",{index:n+1})},[Te(a)?(Rr(),Pr("span",{key:0},X(e.props.label),1)):Kr("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[qo,Te(M)(n)]]))),128))],2)):Kr("v-if",!0),i.motionBlur?(Rr(),Pr("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[Vr("defs",null,[Vr("filter",{id:"elCarouselHorizontal"},[Vr("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),Vr("filter",{id:"elCarouselVertical"},[Vr("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):Kr("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var Hb=mf(Ub,[["__file","carousel.vue"]]);const zb=Wh({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Vb=t=>{const e=Vi(Ib),n=no(),i=Me(),r=Me(!1),o=Me(0),s=Me(1),a=Me(!1),l=Me(!1),c=Me(!1),u=Me(!1),{isCardType:d,isVertical:h,cardScale:f}=e;const p=(t,n,r)=>{var p;const m=Te(d),v=null!=(p=e.items.value.length)?p:Number.NaN,g=t===n;m||Rd(r)||(u.value=g||t===r),!g&&v>2&&e.loop&&(t=function(t,e,n){const i=n-1,r=n/2;return 0===e&&t===i?-1:e===i&&0===t?n:t<e-1&&e-t>=r?n+1:t>e+1&&t-e>=r?-2:t}(t,n,v));const y=Te(h);a.value=g,m?(c.value=Math.round(Math.abs(t-n))<=1,o.value=function(t,n){var i,r;const o=Te(h)?(null==(i=e.root.value)?void 0:i.offsetHeight)||0:(null==(r=e.root.value)?void 0:r.offsetWidth)||0;return c.value?o*((2-f)*(t-n)+1)/4:t<n?-(1+f)*o/4:(3+f)*o/4}(t,n),s.value=Te(a)?1:f):o.value=function(t,n,i){const r=e.root.value;return r?((i?r.offsetHeight:r.offsetWidth)||0)*(t-n):0}(t,n,y),l.value=!0,g&&i.value&&e.setContainerHeight(i.value.offsetHeight)};return Zn((()=>{e.addItem({props:t,states:de({hover:r,translate:o,scale:s,active:a,ready:l,inStage:c,animating:u}),uid:n.uid,translateItem:p})})),ei((()=>{e.removeItem(n.uid)})),{carouselItemRef:i,active:a,animating:u,hover:r,inStage:c,isVertical:h,translate:o,isCardType:d,scale:s,ready:l,handleItemClick:function(){if(e&&Te(d)){const t=e.items.value.findIndex((({uid:t})=>t===n.uid));e.setActiveItem(t)}}}};var $b=mf(Un({...Un({name:Rb}),props:zb,setup(t){const e=t,n=fa("carousel"),{carouselItemRef:i,active:r,animating:o,hover:s,inStage:a,isVertical:l,translate:c,isCardType:u,scale:d,ready:h,handleItemClick:f}=Vb(e),p=vo((()=>[n.e("item"),n.is("active",r.value),n.is("in-stage",a.value),n.is("hover",s.value),n.is("animating",o.value),{[n.em("item","card")]:u.value,[n.em("item","card-vertical")]:u.value&&l.value}])),m=vo((()=>({transform:[`${"translate"+(Te(l)?"Y":"X")}(${Te(c)}px)`,`scale(${Te(d)})`].join(" ")})));return(t,e)=>dn((Rr(),Pr("div",{ref_key:"carouselItemRef",ref:i,class:$(Te(p)),style:F(Te(m)),onClick:Te(f)},[Te(u)?dn((Rr(),Pr("div",{key:0,class:$(Te(n).e("mask"))},null,2)),[[qo,!Te(r)]]):Kr("v-if",!0),mi(t.$slots,"default")],14,["onClick"])),[[qo,Te(h)]])}}),[["__file","carousel-item.vue"]]);const Gb=Of(Hb,{CarouselItem:$b}),jb=Df($b),Wb={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:qh,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...zp(["ariaControls"])},Kb={[uf]:t=>v(t)||Ld(t)||Od(t),change:t=>v(t)||Ld(t)||Od(t)},qb=Symbol("checkboxGroupContextKey"),Yb=(t,{model:e,isLimitExceeded:n,hasOwnLabel:i,isDisabled:r,isLabeledByFormItem:o})=>{const s=Vi(qb,void 0),{formItem:a}=Qp(),{emit:l}=no();function c(e){var n,i,r,o;return[!0,t.trueValue,t.trueLabel].includes(e)?null==(i=null!=(n=t.trueValue)?n:t.trueLabel)||i:null!=(o=null!=(r=t.falseValue)?r:t.falseLabel)&&o}const u=vo((()=>(null==s?void 0:s.validateEvent)||t.validateEvent));return fr((()=>t.modelValue),(()=>{u.value&&(null==a||a.validate("change").catch((t=>{})))})),{handleChange:function(t){if(n.value)return;const e=t.target;l("change",c(e.checked),t)},onClickRoot:async function(s){if(!n.value&&!i.value&&!r.value&&o.value){s.composedPath().some((t=>"LABEL"===t.tagName))||(e.value=c([!1,t.falseValue,t.falseLabel].includes(e.value)),await Qe(),function(t,e){l("change",c(t),e)}(e.value,s))}}}},Xb=(t,e)=>{const{formItem:n}=Qp(),{model:i,isGroup:r,isLimitExceeded:o}=(t=>{const e=Me(!1),{emit:n}=no(),i=Vi(qb,void 0),r=vo((()=>!1===Rd(i))),o=Me(!1),s=vo({get(){var n,o;return r.value?null==(n=null==i?void 0:i.modelValue)?void 0:n.value:null!=(o=t.modelValue)?o:e.value},set(t){var a,l;r.value&&d(t)?(o.value=void 0!==(null==(a=null==i?void 0:i.max)?void 0:a.value)&&t.length>(null==i?void 0:i.max.value)&&t.length>s.value.length,!1===o.value&&(null==(l=null==i?void 0:i.changeEvent)||l.call(i,t))):(n(uf,t),e.value=t)}});return{model:s,isGroup:r,isLimitExceeded:o}})(t),{isFocused:s,isChecked:a,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,actualValue:h}=((t,e,{model:n})=>{const i=Vi(qb,void 0),r=Me(!1),o=vo((()=>Bd(t.value)?t.label:t.value)),s=vo((()=>{const e=n.value;return Od(e)?e:d(e)?y(o.value)?e.map(be).some((t=>gd(t,o.value))):e.map(be).includes(o.value):null!=e?e===t.trueValue||e===t.trueLabel:!!e}));return{checkboxButtonSize:nm(vo((()=>{var t;return null==(t=null==i?void 0:i.size)?void 0:t.value})),{prop:!0}),isChecked:s,isFocused:r,checkboxSize:nm(vo((()=>{var t;return null==(t=null==i?void 0:i.size)?void 0:t.value}))),hasOwnLabel:vo((()=>!!e.default||!Bd(o.value))),actualValue:o}})(t,e,{model:i}),{isDisabled:f}=(({model:t,isChecked:e})=>{const n=Vi(qb,void 0),i=vo((()=>{var i,r;const o=null==(i=null==n?void 0:n.max)?void 0:i.value,s=null==(r=null==n?void 0:n.min)?void 0:r.value;return!Rd(o)&&t.value.length>=o&&!e.value||!Rd(s)&&t.value.length<=s&&e.value}));return{isDisabled:im(vo((()=>(null==n?void 0:n.disabled.value)||i.value))),isLimitDisabled:i}})({model:i,isChecked:a}),{inputId:p,isLabeledByFormItem:m}=tm(t,{formItemContext:n,disableIdGeneration:u,disableIdManagement:r}),{handleChange:v,onClickRoot:g}=Yb(t,{model:i,isLimitExceeded:o,hasOwnLabel:u,isDisabled:f,isLabeledByFormItem:m});var b,w;return t.checked&&(d(i.value)&&!i.value.includes(h.value)?i.value.push(h.value):i.value=null==(w=null!=(b=t.trueValue)?b:t.trueLabel)||w),My({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},vo((()=>r.value&&Bd(t.value)))),My({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},vo((()=>!!t.trueLabel))),My({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},vo((()=>!!t.falseLabel))),{inputId:p,isLabeledByFormItem:m,isChecked:a,isDisabled:f,isFocused:s,checkboxButtonSize:l,checkboxSize:c,hasOwnLabel:u,model:i,actualValue:h,handleChange:v,onClickRoot:g}};var Zb=mf(Un({...Un({name:"ElCheckbox"}),props:Wb,emits:Kb,setup(t){const e=t,n=_i(),{inputId:i,isLabeledByFormItem:r,isChecked:o,isDisabled:s,isFocused:a,checkboxSize:l,hasOwnLabel:c,model:u,actualValue:d,handleChange:h,onClickRoot:f}=Xb(e,n),p=fa("checkbox"),m=vo((()=>[p.b(),p.m(l.value),p.is("disabled",s.value),p.is("bordered",e.border),p.is("checked",o.value)])),v=vo((()=>[p.e("input"),p.is("disabled",s.value),p.is("checked",o.value),p.is("indeterminate",e.indeterminate),p.is("focus",a.value)]));return(t,e)=>(Rr(),Br(ci(!Te(c)&&Te(r)?"span":"label"),{class:$(Te(m)),"aria-controls":t.indeterminate?t.ariaControls:null,onClick:Te(f)},{default:un((()=>{var e,n,r,o;return[Vr("span",{class:$(Te(v))},[t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?dn((Rr(),Pr("input",{key:0,id:Te(i),"onUpdate:modelValue":t=>Se(u)?u.value=t:null,class:$(Te(p).e("original")),type:"checkbox",indeterminate:t.indeterminate,name:t.name,tabindex:t.tabindex,disabled:Te(s),"true-value":null==(n=null!=(e=t.trueValue)?e:t.trueLabel)||n,"false-value":null!=(o=null!=(r=t.falseValue)?r:t.falseLabel)&&o,onChange:Te(h),onFocus:t=>a.value=!0,onBlur:t=>a.value=!1,onClick:Ds((()=>{}),["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[Ts,Te(u)]]):dn((Rr(),Pr("input",{key:1,id:Te(i),"onUpdate:modelValue":t=>Se(u)?u.value=t:null,class:$(Te(p).e("original")),type:"checkbox",indeterminate:t.indeterminate,disabled:Te(s),value:Te(d),name:t.name,tabindex:t.tabindex,onChange:Te(h),onFocus:t=>a.value=!0,onBlur:t=>a.value=!1,onClick:Ds((()=>{}),["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[Ts,Te(u)]]),Vr("span",{class:$(Te(p).e("inner"))},null,2)],2),Te(c)?(Rr(),Pr("span",{key:0,class:$(Te(p).e("label"))},[mi(t.$slots,"default"),t.$slots.default?Kr("v-if",!0):(Rr(),Pr(kr,{key:0},[Wr(X(t.label),1)],64))],2)):Kr("v-if",!0)]})),xt:3},8,["class","aria-controls","onClick"]))}}),[["__file","checkbox.vue"]]);var Jb=mf(Un({...Un({name:"ElCheckboxButton"}),props:Wb,emits:Kb,setup(t){const e=t,n=_i(),{isFocused:i,isChecked:r,isDisabled:o,checkboxButtonSize:s,model:a,actualValue:l,handleChange:c}=Xb(e,n),u=Vi(qb,void 0),d=fa("checkbox"),h=vo((()=>{var t,e,n,i;const r=null!=(e=null==(t=null==u?void 0:u.fill)?void 0:t.value)?e:"";return{backgroundColor:r,borderColor:r,color:null!=(i=null==(n=null==u?void 0:u.textColor)?void 0:n.value)?i:"",boxShadow:r?`-1px 0 0 0 ${r}`:void 0}})),f=vo((()=>[d.b("button"),d.bm("button",s.value),d.is("disabled",o.value),d.is("checked",r.value),d.is("focus",i.value)]));return(t,e)=>{var n,s,u,p;return Rr(),Pr("label",{class:$(Te(f))},[t.trueValue||t.falseValue||t.trueLabel||t.falseLabel?dn((Rr(),Pr("input",{key:0,"onUpdate:modelValue":t=>Se(a)?a.value=t:null,class:$(Te(d).be("button","original")),type:"checkbox",name:t.name,tabindex:t.tabindex,disabled:Te(o),"true-value":null==(s=null!=(n=t.trueValue)?n:t.trueLabel)||s,"false-value":null!=(p=null!=(u=t.falseValue)?u:t.falseLabel)&&p,onChange:Te(c),onFocus:t=>i.value=!0,onBlur:t=>i.value=!1,onClick:Ds((()=>{}),["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[Ts,Te(a)]]):dn((Rr(),Pr("input",{key:1,"onUpdate:modelValue":t=>Se(a)?a.value=t:null,class:$(Te(d).be("button","original")),type:"checkbox",name:t.name,tabindex:t.tabindex,disabled:Te(o),value:Te(l),onChange:Te(c),onFocus:t=>i.value=!0,onBlur:t=>i.value=!1,onClick:Ds((()=>{}),["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[Ts,Te(a)]]),t.$slots.default||t.label?(Rr(),Pr("span",{key:2,class:$(Te(d).be("button","inner")),style:F(Te(r)?Te(h):void 0)},[mi(t.$slots,"default",{},(()=>[Wr(X(t.label),1)]))],6)):Kr("v-if",!0)],2)}}}),[["__file","checkbox-button.vue"]]);const Qb=Wh({modelValue:{type:Array,default:()=>[]},disabled:Boolean,min:Number,max:Number,size:qh,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...zp(["ariaLabel"])}),tw={[uf]:t=>d(t),change:t=>d(t)};var ew=mf(Un({...Un({name:"ElCheckboxGroup"}),props:Qb,emits:tw,setup(t,{emit:e}){const n=t,i=fa("checkbox"),{formItem:r}=Qp(),{inputId:o,isLabeledByFormItem:s}=tm(n,{formItemContext:r}),a=async t=>{e(uf,t),await Qe(),e("change",t)},l=vo({get:()=>n.modelValue,set(t){a(t)}});return zi(qb,{...Td(Re(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:l,changeEvent:a}),fr((()=>n.modelValue),(()=>{n.validateEvent&&(null==r||r.validate("change").catch((t=>{})))})),(t,e)=>{var n;return Rr(),Br(ci(t.tag),{id:Te(o),class:$(Te(i).b("group")),role:"group","aria-label":Te(s)?void 0:t.ariaLabel||"checkbox-group","aria-labelledby":Te(s)?null==(n=Te(r))?void 0:n.labelId:void 0},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["id","class","aria-label","aria-labelledby"])}}}),[["__file","checkbox-group.vue"]]);const nw=Of(Zb,{CheckboxButton:Jb,CheckboxGroup:ew}),iw=Df(Jb),rw=Df(ew),ow=Wh({modelValue:{type:[String,Number,Boolean],default:void 0},size:qh,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),sw=Wh({...ow,border:Boolean}),aw={[uf]:t=>v(t)||Ld(t)||Od(t),[df]:t=>v(t)||Ld(t)||Od(t)},lw=Symbol("radioGroupKey"),cw=(t,e)=>{const n=Me(),i=Vi(lw,void 0),r=vo((()=>!!i)),o=vo((()=>Bd(t.value)?t.label:t.value)),s=vo({get:()=>r.value?i.modelValue:t.modelValue,set(s){r.value?i.changeEvent(s):e&&e(uf,s),n.value.checked=t.modelValue===o.value}}),a=nm(vo((()=>null==i?void 0:i.size))),l=im(vo((()=>null==i?void 0:i.disabled))),c=Me(!1),u=vo((()=>l.value||r.value&&s.value!==o.value?-1:0));return My({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},vo((()=>r.value&&Bd(t.value)))),{radioRef:n,isGroup:r,radioGroup:i,focus:c,size:a,disabled:l,tabIndex:u,modelValue:s,actualValue:o}};var uw=mf(Un({...Un({name:"ElRadio"}),props:sw,emits:aw,setup(t,{emit:e}){const n=t,i=fa("radio"),{radioRef:r,radioGroup:o,focus:s,size:a,disabled:l,modelValue:c,actualValue:u}=cw(n,e);function d(){Qe((()=>e("change",c.value)))}return(t,e)=>{var n;return Rr(),Pr("label",{class:$([Te(i).b(),Te(i).is("disabled",Te(l)),Te(i).is("focus",Te(s)),Te(i).is("bordered",t.border),Te(i).is("checked",Te(c)===Te(u)),Te(i).m(Te(a))])},[Vr("span",{class:$([Te(i).e("input"),Te(i).is("disabled",Te(l)),Te(i).is("checked",Te(c)===Te(u))])},[dn(Vr("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":t=>Se(c)?c.value=t:null,class:$(Te(i).e("original")),value:Te(u),name:t.name||(null==(n=Te(o))?void 0:n.name),disabled:Te(l),checked:Te(c)===Te(u),type:"radio",onFocus:t=>s.value=!0,onBlur:t=>s.value=!1,onChange:d,onClick:Ds((()=>{}),["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[Ns,Te(c)]]),Vr("span",{class:$(Te(i).e("inner"))},null,2)],2),Vr("span",{class:$(Te(i).e("label")),onKeydown:Ds((()=>{}),["stop"])},[mi(t.$slots,"default",{},(()=>[Wr(X(t.label),1)]))],42,["onKeydown"])],2)}}}),[["__file","radio.vue"]]);const dw=Wh({...ow});var hw=mf(Un({...Un({name:"ElRadioButton"}),props:dw,setup(t){const e=t,n=fa("radio"),{radioRef:i,focus:r,size:o,disabled:s,modelValue:a,radioGroup:l,actualValue:c}=cw(e),u=vo((()=>({backgroundColor:(null==l?void 0:l.fill)||"",borderColor:(null==l?void 0:l.fill)||"",boxShadow:(null==l?void 0:l.fill)?`-1px 0 0 0 ${l.fill}`:"",color:(null==l?void 0:l.textColor)||""})));return(t,e)=>{var d;return Rr(),Pr("label",{class:$([Te(n).b("button"),Te(n).is("active",Te(a)===Te(c)),Te(n).is("disabled",Te(s)),Te(n).is("focus",Te(r)),Te(n).bm("button",Te(o))])},[dn(Vr("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":t=>Se(a)?a.value=t:null,class:$(Te(n).be("button","original-radio")),value:Te(c),type:"radio",name:t.name||(null==(d=Te(l))?void 0:d.name),disabled:Te(s),onFocus:t=>r.value=!0,onBlur:t=>r.value=!1,onClick:Ds((()=>{}),["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[Ns,Te(a)]]),Vr("span",{class:$(Te(n).be("button","inner")),style:F(Te(a)===Te(c)?Te(u):{}),onKeydown:Ds((()=>{}),["stop"])},[mi(t.$slots,"default",{},(()=>[Wr(X(t.label),1)]))],46,["onKeydown"])],2)}}}),[["__file","radio-button.vue"]]);const fw=Wh({id:{type:String,default:void 0},size:qh,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...zp(["ariaLabel"])}),pw=aw,mw=Un({...Un({name:"ElRadioGroup"}),props:fw,emits:pw,setup(t,{emit:e}){const n=t,i=fa("radio"),r=Jp(),o=Me(),{formItem:s}=Qp(),{inputId:a,isLabeledByFormItem:l}=tm(n,{formItemContext:s});Zn((()=>{const t=o.value.querySelectorAll("[type=radio]"),e=t[0];!Array.from(t).some((t=>t.checked))&&e&&(e.tabIndex=0)}));const c=vo((()=>n.name||r.value));return zi(lw,de({...Re(n),changeEvent:t=>{e(uf,t),Qe((()=>e("change",t)))},name:c})),fr((()=>n.modelValue),(()=>{n.validateEvent&&(null==s||s.validate("change").catch((t=>{})))})),(t,e)=>(Rr(),Pr("div",{id:Te(a),ref_key:"radioGroupRef",ref:o,class:$(Te(i).b("group")),role:"radiogroup","aria-label":Te(l)?void 0:t.ariaLabel||"radio-group","aria-labelledby":Te(l)?Te(s).labelId:void 0},[mi(t.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var vw=mf(mw,[["__file","radio-group.vue"]]);const gw=Of(uw,{RadioButton:hw,RadioGroup:vw}),yw=Df(vw),bw=Df(hw);var ww=Un({name:"NodeContent",setup:()=>({ns:fa("cascader-node")}),render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:i,label:r}=e,{renderLabelFn:o}=n;return go("span",{class:t.e("label")},o?o({node:e,data:i}):r)}});const _w=Symbol(),xw=Un({name:"ElCascaderNode",components:{ElCheckbox:nw,ElRadio:gw,NodeContent:ww,ElIcon:Ff,Check:Kf,Loading:ap,ArrowRight:zf},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=Vi(_w),i=fa("cascader-node"),r=vo((()=>n.isHoverMenu)),o=vo((()=>n.config.multiple)),s=vo((()=>n.config.checkStrictly)),a=vo((()=>{var t;return null==(t=n.checkedNodes[0])?void 0:t.uid})),l=vo((()=>t.node.isDisabled)),c=vo((()=>t.node.isLeaf)),u=vo((()=>s.value&&!c.value||!l.value)),d=vo((()=>f(n.expandingNode))),h=vo((()=>s.value&&n.checkedNodes.some(f))),f=e=>{var n;const{level:i,uid:r}=t.node;return(null==(n=null==e?void 0:e.pathNodes[i-1])?void 0:n.uid)===r},p=()=>{d.value||n.expandNode(t.node)},m=e=>{const{node:i}=t;e!==i.checked&&n.handleCheckChange(i,e)},v=()=>{n.lazyLoad(t.node,(()=>{c.value||p()}))},g=()=>{const{node:e}=t;u.value&&!e.loading&&(e.loaded?p():v())},y=e=>{t.node.loaded?(m(e),!s.value&&p()):v()};return{panel:n,isHoverMenu:r,multiple:o,checkStrictly:s,checkedNodeId:a,isDisabled:l,isLeaf:c,expandable:u,inExpandingPath:d,inCheckedPath:h,ns:i,handleHoverExpand:t=>{r.value&&(g(),!c.value&&e("expand",t))},handleExpand:g,handleClick:()=>{r.value&&!c.value||(!c.value||l.value||s.value||o.value?g():y(!0))},handleCheck:y,handleSelectCheck:e=>{s.value?(m(e),t.node.loaded&&p()):y(e)}}}});const Sw=Un({name:"ElCascaderMenu",components:{Loading:ap,ElIcon:Ff,ElScrollbar:mm,ElCascaderNode:mf(xw,[["render",function(t,e,n,i,r,o){const s=ai("el-checkbox"),a=ai("el-radio"),l=ai("check"),c=ai("el-icon"),u=ai("node-content"),d=ai("loading"),h=ai("arrow-right");return Rr(),Pr("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?void 0:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:$([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:t.handleHoverExpand,onFocus:t.handleHoverExpand,onClick:t.handleClick},[Kr(" prefix "),t.multiple?(Rr(),Br(s,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:Ds((()=>{}),["stop"]),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):t.checkStrictly?(Rr(),Br(a,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:Ds((()=>{}),["stop"])},{default:un((()=>[Kr("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),Vr("span")])),xt:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):t.isLeaf&&t.node.checked?(Rr(),Br(c,{key:2,class:$(t.ns.e("prefix"))},{default:un((()=>[$r(l)])),xt:1},8,["class"])):Kr("v-if",!0),Kr(" content "),$r(u),Kr(" postfix "),t.isLeaf?Kr("v-if",!0):(Rr(),Pr(kr,{key:3},[t.node.loading?(Rr(),Br(c,{key:0,class:$([t.ns.is("loading"),t.ns.e("postfix")])},{default:un((()=>[$r(d)])),xt:1},8,["class"])):(Rr(),Br(c,{key:1,class:$(["arrow-right",t.ns.e("postfix")])},{default:un((()=>[$r(h)])),xt:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}],["__file","node.vue"]])},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=no(),n=fa("cascader-menu"),{t:i}=$h(),r=Jp();let o=null,s=null;const a=Vi(_w),l=Me(null),c=vo((()=>!t.nodes.length)),u=vo((()=>!a.initialLoaded)),d=vo((()=>`${r.value}-${t.index}`)),h=()=>{s&&(clearTimeout(s),s=null)},f=()=>{l.value&&(l.value.innerHTML="",h())};return{ns:n,panel:a,hoverZone:l,isEmpty:c,isLoading:u,menuId:d,t:i,handleExpand:t=>{o=t.target},handleMouseMove:t=>{if(a.isHoverMenu&&o&&l.value)if(o.contains(t.target)){h();const n=e.vnode.el,{left:i}=n.getBoundingClientRect(),{offsetWidth:r,offsetHeight:s}=n,a=t.clientX-i,c=o.offsetTop,u=c+o.offsetHeight;l.value.innerHTML=`\n          <path style="pointer-events: auto;" fill="transparent" d="M${a} ${c} L${r} 0 V${c} Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M${a} ${u} L${r} ${s} V${u} Z" />\n        `}else s||(s=window.setTimeout(f,a.config.hoverThreshold))},clearHoverZone:f}}});var Mw=mf(Sw,[["render",function(t,e,n,i,r,o){const s=ai("el-cascader-node"),a=ai("loading"),l=ai("el-icon"),c=ai("el-scrollbar");return Rr(),Br(c,{key:t.menuId,tag:"ul",role:"menu",class:$(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:un((()=>{var e;return[(Rr(!0),Pr(kr,null,fi(t.nodes,(e=>(Rr(),Br(s,{key:e.uid,node:e,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),t.isLoading?(Rr(),Pr("div",{key:0,class:$(t.ns.e("empty-text"))},[$r(l,{size:"14",class:$(t.ns.is("loading"))},{default:un((()=>[$r(a)])),xt:1},8,["class"]),Wr(" "+X(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(Rr(),Pr("div",{key:1,class:$(t.ns.e("empty-text"))},[mi(t.$slots,"empty",{},(()=>[Wr(X(t.t("el.cascader.noData")),1)]))],2)):(null==(e=t.panel)?void 0:e.isHoverMenu)?(Rr(),Pr(kr,{key:2},[Kr(" eslint-disable-next-line vue/html-self-closing "),(Rr(),Pr("svg",{ref:"hoverZone",class:$(t.ns.e("hover-zone"))},null,2))],2112)):Kr("v-if",!0)]})),xt:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}],["__file","menu.vue"]]);const Cw=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),kw=t=>N(t);let Ew=0;let Tw=class t{constructor(e,n,i,r=!1){this.data=e,this.config=n,this.parent=i,this.root=r,this.uid=Ew++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:o,label:s,children:a}=n,l=e[a],c=(t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e})(this);this.level=r?0:i?i.level+1:1,this.value=e[o],this.label=e[s],this.pathNodes=c,this.pathValues=c.map((t=>t.value)),this.pathLabels=c.map((t=>t.label)),this.childrenData=l,this.children=(l||[]).map((e=>new t(e,n,this))),this.loaded=!n.lazy||this.isLeaf||!Dd(l)}get isDisabled(){const{data:t,parent:e,config:n}=this,{disabled:i,checkStrictly:r}=n;return(m(i)?i(t,this):!!t[i])||!r&&(null==e?void 0:e.isDisabled)}get isLeaf(){const{data:t,config:e,childrenData:n,loaded:i}=this,{lazy:r,leaf:o}=e,s=m(o)?o(t,this):t[o];return Rd(s)?!(r&&!i)&&!(d(n)&&n.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:i}=this,r=new t(e,this.config,this);return d(n)?n.push(e):this.childrenData=[e],i.push(r),r}calcText(t,e){const n=t?this.pathLabels.join(e):this.label;return this.text=n,n}broadcast(t,...e){const n=`onParent${kw(t)}`;this.children.forEach((i=>{i&&(i.broadcast(t,...e),i[n]&&i[n](...e))}))}emit(t,...e){const{parent:n}=this,i=`onChild${kw(t)}`;n&&(n[i]&&n[i](...e),n.emit(t,...e))}onParentCheck(t){this.isDisabled||this.setCheckState(t)}onChildCheck(){const{children:t}=this,e=t.filter((t=>!t.isDisabled)),n=!!e.length&&e.every((t=>t.checked));this.setCheckState(n)}setCheckState(t){const e=this.children.length,n=this.children.reduce(((t,e)=>t+(e.checked?1:e.indeterminate?.5:0)),0);this.checked=this.loaded&&this.children.filter((t=>!t.isDisabled)).every((t=>t.loaded&&t.checked))&&t,this.indeterminate=this.loaded&&n!==e&&n>0}doCheck(t){if(this.checked===t)return;const{checkStrictly:e,multiple:n}=this.config;e||!n?this.checked=t:(this.broadcast("check",t),this.setCheckState(t),this.emit("check"))}};const Aw=(t,e)=>t.reduce(((t,n)=>(n.isLeaf?t.push(n):(!e&&t.push(n),t=t.concat(Aw(n.children,e))),t)),[]);class Nw{constructor(t,e){this.config=e;const n=(t||[]).map((t=>new Tw(t,this.config)));this.nodes=n,this.allNodes=Aw(n,!1),this.leafNodes=Aw(n,!0)}getNodes(){return this.nodes}getFlattedNodes(t){return t?this.leafNodes:this.allNodes}appendNode(t,e){const n=e?e.appendChild(t):new Tw(t,this.config);e||this.nodes.push(n),this.appendAllNodesAndLeafNodes(n)}appendNodes(t,e){t.forEach((t=>this.appendNode(t,e)))}appendAllNodesAndLeafNodes(t){this.allNodes.push(t),t.isLeaf&&this.leafNodes.push(t),t.children&&t.children.forEach((t=>{this.appendAllNodesAndLeafNodes(t)}))}getNodeByValue(t,e=!1){if(!t&&0!==t)return null;return this.getFlattedNodes(e).find((e=>gd(e.value,t)||gd(e.pathValues,t)))||null}getSameNode(t){if(!t)return null;return this.getFlattedNodes(!1).find((({value:e,level:n})=>gd(t.value,e)&&t.level===n))||null}}const Iw=Wh({modelValue:{type:[Number,String,Array]},options:{type:Array,default:()=>[]},props:{type:Object,default:()=>({})}}),Rw={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:i,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Ow=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},Lw=t=>[...new Set(t)],Dw=t=>t||0===t?d(t)?t:[t]:[],Pw=Un({name:"ElCascaderPanel",components:{ElCascaderMenu:Mw},props:{...Iw,border:{type:Boolean,default:!0},renderLabel:Function},emits:[uf,df,"close","expand-change"],setup(t,{emit:e,slots:n}){let i=!1;const r=fa("cascader"),o=(t=>vo((()=>({...Rw,...t.props}))))(t);let s=null;const a=Me(!0),l=Me([]),c=Me(null),u=Me([]),d=Me(null),h=Me([]),f=vo((()=>"hover"===o.value.expandTrigger)),p=vo((()=>t.renderLabel||n.default)),m=(t,e)=>{const n=o.value;(t=t||new Tw({},n,void 0,!0)).loading=!0;n.lazyLoad(t,(n=>{const i=t,r=i.root?null:i;n&&(null==s||s.appendNodes(n,r)),i.loading=!1,i.loaded=!0,i.childrenData=i.childrenData||[],e&&e(n)}))},v=(t,n)=>{var i;const{level:r}=t,o=u.value.slice(0,r);let s;t.isLeaf?s=t.pathNodes[r-2]:(s=t,o.push(t.children)),(null==(i=d.value)?void 0:i.uid)!==(null==s?void 0:s.uid)&&(d.value=t,u.value=o,!n&&e("expand-change",(null==t?void 0:t.pathValues)||[]))},g=(t,n,r=!0)=>{const{checkStrictly:s,multiple:a}=o.value,l=h.value[0];i=!0,!a&&(null==l||l.doCheck(!1)),t.doCheck(n),_(),r&&!a&&!s&&e("close"),!r&&!a&&!s&&y(t)},y=t=>{t&&(t=t.parent,y(t),t&&v(t))},b=t=>null==s?void 0:s.getFlattedNodes(t),w=t=>{var e;return null==(e=b(t))?void 0:e.filter((t=>!1!==t.checked))},_=()=>{var t;const{checkStrictly:e,multiple:n}=o.value,i=((t,e)=>{const n=e.slice(0),i=n.map((t=>t.uid)),r=t.reduce(((t,e)=>{const r=i.indexOf(e.uid);return r>-1&&(t.push(e),n.splice(r,1),i.splice(r,1)),t}),[]);return r.push(...n),r})(h.value,w(!e)),r=i.map((t=>t.valueByOption));h.value=i,c.value=n?r:null!=(t=r[0])?t:null},x=(e=!1,n=!1)=>{const{modelValue:r}=t,{lazy:l,multiple:u,checkStrictly:d}=o.value,h=!d;var f;if(a.value&&!i&&(n||!gd(r,c.value)))if(l&&!e){const t=Lw(null!=(f=Dw(r))&&f.length?kc(f,pd):[]).map((t=>null==s?void 0:s.getNodeByValue(t))).filter((t=>!!t&&!t.loaded&&!t.loading));t.length?t.forEach((t=>{m(t,(()=>x(!1,n)))})):x(!0,n)}else{const t=u?Dw(r):[r],e=Lw(t.map((t=>null==s?void 0:s.getNodeByValue(t,h))));S(e,n),c.value=Nu(r)}},S=(t,e=!0)=>{const{checkStrictly:n}=o.value,i=h.value,r=t.filter((t=>!!t&&(n||t.isLeaf))),a=null==s?void 0:s.getSameNode(d.value),l=e&&a||r[0];l?l.pathNodes.forEach((t=>v(t,!0))):d.value=null,i.forEach((t=>t.doCheck(!1))),de(r).forEach((t=>t.doCheck(!0))),h.value=r,Qe(M)},M=()=>{qd&&l.value.forEach((t=>{const e=null==t?void 0:t.$el;if(e){Af(e.querySelector(`.${r.namespace.value}-scrollbar__wrap`),e.querySelector(`.${r.b("node")}.${r.is("active")}`)||e.querySelector(`.${r.b("node")}.in-active-path`))}}))};return zi(_w,de({config:o,expandingNode:d,checkedNodes:h,isHoverMenu:f,initialLoaded:a,renderLabelFn:p,lazyLoad:m,expandNode:v,handleCheckChange:g})),fr([o,()=>t.options],(()=>{const{options:e}=t,n=o.value;i=!1,s=new Nw(e,n),u.value=[s.getNodes()],n.lazy&&Dd(t.options)?(a.value=!1,m(void 0,(t=>{t&&(s=new Nw(t,n),u.value=[s.getNodes()]),a.value=!0,x(!1,!0)}))):x(!1,!0)}),{deep:!0,immediate:!0}),fr((()=>t.modelValue),(()=>{i=!1,x()}),{deep:!0}),fr((()=>c.value),(n=>{gd(n,t.modelValue)||(e(uf,n),e(df,n))})),Jn((()=>l.value=[])),Zn((()=>!Dd(t.modelValue)&&x())),{ns:r,menuList:l,menus:u,checkedNodes:h,handleKeyDown:t=>{const e=t.target,{code:n}=t;switch(n){case ev.up:case ev.down:{t.preventDefault();const i=n===ev.up?-1:1;Nm(Am(e,i,`.${r.b("node")}[tabindex="-1"]`));break}case ev.left:{t.preventDefault();const n=l.value[Ow(e)-1],i=null==n?void 0:n.$el.querySelector(`.${r.b("node")}[aria-expanded="true"]`);Nm(i);break}case ev.right:{t.preventDefault();const n=l.value[Ow(e)+1],i=null==n?void 0:n.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`);Nm(i);break}case ev.enter:case ev.numpadEnter:(t=>{if(!t)return;const e=t.querySelector("input");e?e.click():Tm(t)&&t.click()})(e)}},handleCheckChange:g,getFlattedNodes:b,getCheckedNodes:w,clearCheckedNodes:()=>{h.value.forEach((t=>t.doCheck(!1))),_(),u.value=u.value.slice(0,1),d.value=null,e("expand-change",[])},calculateCheckedValue:_,scrollToExpandingNode:M}}});const Bw=Of(mf(Pw,[["render",function(t,e,n,i,r,o){const s=ai("el-cascader-menu");return Rr(),Pr("div",{class:$([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:t.handleKeyDown},[(Rr(!0),Pr(kr,null,fi(t.menus,((e,n)=>(Rr(),Br(s,{key:n,ref_for:!0,ref:e=>t.menuList[n]=e,index:n,nodes:[...e]},{empty:un((()=>[mi(t.$slots,"empty")])),xt:2},1032,["index","nodes"])))),128))],42,["onKeydown"])}],["__file","index.vue"]])),Fw=Wh({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:Kh},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Uw={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent};const Hw=Of(mf(Un({...Un({name:"ElTag"}),props:Fw,emits:Uw,setup(t,{emit:e}){const n=t,i=nm(),r=fa("tag"),o=vo((()=>{const{type:t,hit:e,effect:o,closable:s,round:a}=n;return[r.b(),r.is("closable",s),r.m(t||"primary"),r.m(i.value),r.m(o),r.is("hit",e),r.is("round",a)]})),s=t=>{e("close",t)},a=t=>{e("click",t)},l=t=>{var e,n,i;(null==(i=null==(n=null==(e=null==t?void 0:t.component)?void 0:e.subTree)?void 0:n.component)?void 0:i.bum)&&(t.component.subTree.component.bum=null)};return(t,e)=>t.disableTransitions?(Rr(),Pr("span",{key:0,class:$(Te(o)),style:F({backgroundColor:t.color}),onClick:a},[Vr("span",{class:$(Te(r).e("content"))},[mi(t.$slots,"default")],2),t.closable?(Rr(),Br(Te(Ff),{key:0,class:$(Te(r).e("close")),onClick:Ds(s,["stop"])},{default:un((()=>[$r(Te(Qf))])),xt:1},8,["class","onClick"])):Kr("v-if",!0)],6)):(Rr(),Br(Ro,{key:1,name:`${Te(r).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:l},{default:un((()=>[Vr("span",{class:$(Te(o)),style:F({backgroundColor:t.color}),onClick:a},[Vr("span",{class:$(Te(r).e("content"))},[mi(t.$slots,"default")],2),t.closable?(Rr(),Br(Te(Ff),{key:0,class:$(Te(r).e("close")),onClick:Ds(s,["stop"])},{default:un((()=>[$r(Te(Qf))])),xt:1},8,["class","onClick"])):Kr("v-if",!0)],6)])),xt:3},8,["name"]))}}),[["__file","tag.vue"]])),zw=Wh({...Iw,size:qh,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:Function,default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:Function,default:()=>!0},placement:{type:String,values:gv,default:"bottom-start"},fallbackPlacements:{type:Array,default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:Pg.teleported,tagType:{...Fw.type,default:"info"},tagEffect:{...Fw.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Qh}),Vw={[uf]:t=>!0,[df]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>Od(t),expandChange:t=>!!t,removeTag:t=>!!t},$w=new Map;if(qd){let t;document.addEventListener("mousedown",(e=>t=e)),document.addEventListener("mouseup",(e=>{if(t){for(const n of $w.values())for(const{documentHandler:i}of n)i(e,t);t=void 0}}))}function Gw(t,e){let n=[];return d(e.arg)?n=e.arg:Pd(e.arg)&&n.push(e.arg),function(i,r){const o=e.instance.popperRef,s=i.target,a=null==r?void 0:r.target,l=!e||!e.instance,c=!s||!a,u=t.contains(s)||t.contains(a),d=t===s,h=n.length&&n.some((t=>null==t?void 0:t.contains(s)))||n.length&&n.includes(a),f=o&&(o.contains(s)||o.contains(a));l||c||u||d||h||f||e.value(i,r)}}const jw={beforeMount(t,e){$w.has(t)||$w.set(t,[]),$w.get(t).push({documentHandler:Gw(t,e),bindingFn:e.value})},updated(t,e){$w.has(t)||$w.set(t,[]);const n=$w.get(t),i=n.findIndex((t=>t.bindingFn===e.oldValue)),r={documentHandler:Gw(t,e),bindingFn:e.value};i>=0?n.splice(i,1,r):n.push(r)},unmounted(t){$w.delete(t)}},Ww=Un({...Un({name:"ElCascader"}),props:zw,emits:Vw,setup(t,{expose:e,emit:n}){const i=t,r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:t})=>{const{modifiersData:e,placement:n}=t;["right","left","bottom","top"].includes(n)||(e.arrow.x=35)},requires:["arrow"]}]},o=xi();let s=0,a=0;const l=fa("cascader"),c=fa("input"),{t:u}=$h(),{form:d,formItem:h}=Qp(),{valueOnClear:f}=tf(i),{isComposing:p,handleComposition:m}=om({afterComposition(t){var e;const n=null==(e=t.target)?void 0:e.value;mt(n)}}),v=Me(null),g=Me(null),y=Me(null),w=Me(null),_=Me(null),x=Me(!1),S=Me(!1),M=Me(!1),C=Me(!1),k=Me(""),E=Me(""),T=Me([]),A=Me([]),N=Me([]),I=vo((()=>o.style)),R=vo((()=>i.disabled||(null==d?void 0:d.disabled))),O=vo((()=>i.placeholder||u("el.cascader.placeholder"))),L=vo((()=>E.value||T.value.length>0||p.value?"":O.value)),D=nm(),P=vo((()=>"small"===D.value?"small":"default")),B=vo((()=>!!i.props.multiple)),U=vo((()=>!i.filterable||B.value)),H=vo((()=>B.value?E.value:k.value)),z=vo((()=>{var t;return(null==(t=w.value)?void 0:t.checkedNodes)||[]})),V=vo((()=>!(!i.clearable||R.value||M.value||!S.value)&&!!z.value.length)),G=vo((()=>{const{showAllLevels:t,separator:e}=i,n=z.value;return n.length?B.value?"":n[0].calcText(t,e):""})),j=vo((()=>(null==h?void 0:h.validateState)||"")),W=vo({get:()=>Nu(i.modelValue),set(t){const e=null!=t?t:f.value;n(uf,e),n(df,e),i.validateEvent&&(null==h||h.validate("change").catch((t=>{})))}}),K=vo((()=>[l.b(),l.m(D.value),l.is("disabled",R.value),o.class])),q=vo((()=>[c.e("icon"),"icon-arrow-down",l.is("reverse",x.value)])),Y=vo((()=>l.is("focus",x.value||C.value))),Z=vo((()=>{var t,e;return null==(e=null==(t=v.value)?void 0:t.popperRef)?void 0:e.contentRef})),J=t=>{var e,r,o;R.value||(t=null!=t?t:!x.value)!==x.value&&(x.value=t,null==(r=null==(e=g.value)?void 0:e.input)||r.setAttribute("aria-expanded",`${t}`),t?(Q(),Qe(null==(o=w.value)?void 0:o.scrollToExpandingNode)):i.filterable&&ct(),n("visibleChange",t))},Q=()=>{Qe((()=>{var t;null==(t=v.value)||t.updatePopper()}))},tt=()=>{M.value=!1},et=t=>{const{showAllLevels:e,separator:n}=i;return{node:t,key:t.uid,text:t.calcText(e,n),hitState:!1,closable:!R.value&&!t.isDisabled,isCollapseTag:!1}},nt=t=>{var e;const i=t.node;i.doCheck(!1),null==(e=w.value)||e.calculateCheckedValue(),n("removeTag",i.valueByOption)},it=()=>{var t,e;const{filterMethod:n,showAllLevels:r,separator:o}=i,s=null==(e=null==(t=w.value)?void 0:t.getFlattedNodes(!i.props.checkStrictly))?void 0:e.filter((t=>!t.isDisabled&&(t.calcText(r,o),n(t,H.value))));B.value&&(T.value.forEach((t=>{t.hitState=!1})),A.value.forEach((t=>{t.hitState=!1}))),M.value=!0,N.value=s,Q()},rt=()=>{var t;let e;e=M.value&&_.value?_.value.$el.querySelector(`.${l.e("suggestion-item")}`):null==(t=w.value)?void 0:t.$el.querySelector(`.${l.b("node")}[tabindex="-1"]`),e&&(e.focus(),!M.value&&e.click())},ot=()=>{var t,e;const n=null==(t=g.value)?void 0:t.input,i=y.value,r=null==(e=_.value)?void 0:e.$el;if(qd&&n){if(r){r.querySelector(`.${l.e("suggestion-list")}`).style.minWidth=`${n.offsetWidth}px`}if(i){const{offsetHeight:t}=i,e=T.value.length>0?Math.max(t,s)-2+"px":`${s}px`;n.style.height=e,Q()}}},st=t=>{Q(),n("expandChange",t)},at=t=>{if(!p.value)switch(t.code){case ev.enter:case ev.numpadEnter:J();break;case ev.down:J(!0),Qe(rt),t.preventDefault();break;case ev.esc:!0===x.value&&(t.preventDefault(),t.stopPropagation(),J(!1));break;case ev.tab:J(!1)}},lt=()=>{var t;null==(t=w.value)||t.clearCheckedNodes(),!x.value&&i.filterable&&ct(),J(!1),n("clear")},ct=()=>{const{value:t}=G;k.value=t,E.value=t},ut=t=>{const e=t.target,{code:n}=t;switch(n){case ev.up:case ev.down:{t.preventDefault();const i=n===ev.up?-1:1;Nm(Am(e,i,`.${l.e("suggestion-item")}[tabindex="-1"]`));break}case ev.enter:case ev.numpadEnter:e.click()}},dt=()=>{const t=T.value,e=t[t.length-1];a=E.value?0:a+1,!e||!a||i.collapseTags&&t.length>1||(e.hitState?nt(e):e.hitState=!0)},ht=t=>{const e=t.target,i=l.e("search-input");e.className===i&&(C.value=!0),n("focus",t)},ft=t=>{C.value=!1,n("blur",t)},pt=od((()=>{const{value:t}=H;if(!t)return;const e=i.beforeFilter(t);b(e)?e.then(it).catch((()=>{})):!1!==e?it():tt()}),i.debounce),mt=(t,e)=>{!x.value&&J(!0),(null==e?void 0:e.isComposing)||(t?pt():tt())},vt=t=>Number.parseFloat(function(t,e,{window:n=ah,initialValue:i=""}={}){const r=Me(i),o=vo((()=>{var t;return sh(e)||(null==(t=null==n?void 0:n.document)?void 0:t.documentElement)}));return fr([o,()=>Jd(t)],(([t,e])=>{var o;if(t&&n){const s=null==(o=n.getComputedStyle(t).getPropertyValue(e))?void 0:o.trim();r.value=s||i}}),{immediate:!0}),fr(r,(e=>{var n;(null==(n=o.value)?void 0:n.style)&&o.value.style.setProperty(Jd(t),e)})),r}(c.cssVarName("input-height"),t).value)-2;return fr(M,Q),fr([z,R,()=>i.collapseTags],(()=>{if(!B.value)return;const t=z.value,e=[],n=[];if(t.forEach((t=>n.push(et(t)))),A.value=n,t.length){t.slice(0,i.maxCollapseTags).forEach((t=>e.push(et(t))));const n=t.slice(i.maxCollapseTags),r=n.length;r&&(i.collapseTags?e.push({key:-1,text:`+ ${r}`,closable:!1,isCollapseTag:!0}):n.forEach((t=>e.push(et(t)))))}T.value=e})),fr(T,(()=>{Qe((()=>ot()))})),fr(D,(async()=>{await Qe();const t=g.value.input;s=vt(t)||s,ot()})),fr(G,ct,{immediate:!0}),Zn((()=>{const t=g.value.input,e=vt(t);s=t.offsetHeight||e,yh(t,ot)})),e({getCheckedNodes:t=>{var e;return null==(e=w.value)?void 0:e.getCheckedNodes(t)},cascaderPanelRef:w,togglePopperVisible:J,contentRef:Z,presentText:G}),(t,e)=>(Rr(),Br(Te(ty),{ref_key:"tooltipRef",ref:v,visible:x.value,teleported:t.teleported,"popper-class":[Te(l).e("dropdown"),t.popperClass],"popper-options":r,"fallback-placements":t.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:t.placement,transition:`${Te(l).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:t.persistent,onHide:tt},{default:un((()=>[dn((Rr(),Pr("div",{class:$(Te(K)),style:F(Te(I)),onClick:()=>J(!Te(U)||void 0),onKeydown:at,onMouseenter:t=>S.value=!0,onMouseleave:t=>S.value=!1},[$r(Te(sm),{ref_key:"input",ref:g,modelValue:k.value,"onUpdate:modelValue":t=>k.value=t,placeholder:Te(L),readonly:Te(U),disabled:Te(R),"validate-event":!1,size:Te(D),class:$(Te(Y)),tabindex:Te(B)&&t.filterable&&!Te(R)?-1:void 0,onCompositionstart:Te(m),onCompositionupdate:Te(m),onCompositionend:Te(m),onFocus:ht,onBlur:ft,onInput:mt},pi({suffix:un((()=>[Te(V)?(Rr(),Br(Te(Ff),{key:"clear",class:$([Te(c).e("icon"),"icon-circle-close"]),onClick:Ds(lt,["stop"])},{default:un((()=>[$r(Te(Zf))])),xt:1},8,["class","onClick"])):(Rr(),Br(Te(Ff),{key:"arrow-down",class:$(Te(q)),onClick:Ds((t=>J()),["stop"])},{default:un((()=>[$r(Te(Uf))])),xt:1},8,["class","onClick"]))])),xt:2},[t.$slots.prefix?{name:"prefix",fn:un((()=>[mi(t.$slots,"prefix")]))}:void 0]),1032,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),Te(B)?(Rr(),Pr("div",{key:0,ref_key:"tagWrapper",ref:y,class:$([Te(l).e("tags"),Te(l).is("validate",Boolean(Te(j)))])},[(Rr(!0),Pr(kr,null,fi(T.value,(e=>(Rr(),Br(Te(Hw),{key:e.key,type:t.tagType,size:Te(P),effect:t.tagEffect,hit:e.hitState,closable:e.closable,"disable-transitions":"",onClose:t=>nt(e)},{default:un((()=>[!1===e.isCollapseTag?(Rr(),Pr("span",{key:0},X(e.text),1)):(Rr(),Br(Te(ty),{key:1,disabled:x.value||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:un((()=>[Vr("span",null,X(e.text),1)])),content:un((()=>[Vr("div",{class:$(Te(l).e("collapse-tags"))},[(Rr(!0),Pr(kr,null,fi(A.value.slice(t.maxCollapseTags),((e,n)=>(Rr(),Pr("div",{key:n,class:$(Te(l).e("collapse-tag"))},[(Rr(),Br(Te(Hw),{key:e.key,class:"in-tooltip",type:t.tagType,size:Te(P),effect:t.tagEffect,hit:e.hitState,closable:e.closable,"disable-transitions":"",onClose:t=>nt(e)},{default:un((()=>[Vr("span",null,X(e.text),1)])),xt:2},1032,["type","size","effect","hit","closable","onClose"]))],2)))),128))],2)])),xt:2},1032,["disabled"]))])),xt:2},1032,["type","size","effect","hit","closable","onClose"])))),128)),t.filterable&&!Te(R)?dn((Rr(),Pr("input",{key:0,"onUpdate:modelValue":t=>E.value=t,type:"text",class:$(Te(l).e("search-input")),placeholder:Te(G)?"":Te(O),onInput:t=>mt(E.value,t),onClick:Ds((t=>J(!0)),["stop"]),onKeydown:Bs(dt,["delete"]),onCompositionstart:Te(m),onCompositionupdate:Te(m),onCompositionend:Te(m),onFocus:ht,onBlur:ft},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[Es,E.value]]):Kr("v-if",!0)],2)):Kr("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[Te(jw),()=>J(!1),Te(Z)]])])),content:un((()=>[dn($r(Te(Bw),{ref_key:"cascaderPanelRef",ref:w,modelValue:Te(W),"onUpdate:modelValue":t=>Se(W)?W.value=t:null,options:t.options,props:i.props,border:!1,"render-label":t.$slots.default,onExpandChange:st,onClose:e=>t.$nextTick((()=>J(!1)))},{empty:un((()=>[mi(t.$slots,"empty")])),xt:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[qo,!M.value]]),t.filterable?dn((Rr(),Br(Te(mm),{key:0,ref_key:"suggestionPanel",ref:_,tag:"ul",class:$(Te(l).e("suggestion-panel")),"view-class":Te(l).e("suggestion-list"),onKeydown:ut},{default:un((()=>[N.value.length?(Rr(!0),Pr(kr,{key:0},fi(N.value,(e=>(Rr(),Pr("li",{key:e.uid,class:$([Te(l).e("suggestion-item"),Te(l).is("checked",e.checked)]),tabindex:-1,onClick:t=>(t=>{var e,n;const{checked:i}=t;B.value?null==(e=w.value)||e.handleCheckChange(t,!i,!1):(!i&&(null==(n=w.value)||n.handleCheckChange(t,!0,!1)),J(!1))})(e)},[mi(t.$slots,"suggestion-item",{item:e},(()=>[Vr("span",null,X(e.text),1),e.checked?(Rr(),Br(Te(Ff),{key:0},{default:un((()=>[$r(Te(Kf))])),xt:1})):Kr("v-if",!0)]))],10,["onClick"])))),128)):mi(t.$slots,"empty",{key:1},(()=>[Vr("li",{class:$(Te(l).e("empty-text"))},X(Te(u)("el.cascader.noMatch")),3)]))])),xt:3},8,["class","view-class"])),[[qo,M.value]]):Kr("v-if",!0)])),xt:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});const Kw=Of(mf(Ww,[["__file","cascader.vue"]])),qw=Wh({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),Yw={"update:checked":t=>Od(t),[df]:t=>Od(t)};const Xw=Of(mf(Un({...Un({name:"ElCheckTag"}),props:qw,emits:Yw,setup(t,{emit:e}){const n=t,i=fa("check-tag"),r=vo((()=>n.disabled)),o=vo((()=>[i.b(),i.is("checked",n.checked),i.is("disabled",r.value),i.m(n.type||"primary")])),s=()=>{if(r.value)return;const t=!n.checked;e(df,t),e("update:checked",t)};return(t,e)=>(Rr(),Pr("span",{class:$(Te(o)),onClick:s},[mi(t.$slots,"default")],2))}}),[["__file","check-tag.vue"]])),Zw=Wh({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:[Number,Object],default:()=>({})},sm:{type:[Number,Object],default:()=>({})},md:{type:[Number,Object],default:()=>({})},lg:{type:[Number,Object],default:()=>({})},xl:{type:[Number,Object],default:()=>({})}}),Jw=Symbol("rowContextKey");const Qw=Of(mf(Un({...Un({name:"ElCol"}),props:Zw,setup(t){const e=t,{gutter:n}=Vi(Jw,{gutter:vo((()=>0))}),i=fa("col"),r=vo((()=>{const t={};return n.value&&(t.paddingLeft=t.paddingRight=n.value/2+"px"),t})),o=vo((()=>{const t=[];["span","offset","pull","push"].forEach((n=>{const r=e[n];Ld(r)&&("span"===n?t.push(i.b(`${e[n]}`)):r>0&&t.push(i.b(`${n}-${e[n]}`)))}));return["xs","sm","md","lg","xl"].forEach((n=>{Ld(e[n])?t.push(i.b(`${n}-${e[n]}`)):y(e[n])&&Object.entries(e[n]).forEach((([e,r])=>{t.push("span"!==e?i.b(`${n}-${e}-${r}`):i.b(`${n}-${r}`))}))})),n.value&&t.push(i.is("guttered")),[i.b(),t]}));return(t,e)=>(Rr(),Br(ci(t.tag),{class:$(Te(o)),style:F(Te(r))},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["class","style"]))}}),[["__file","col.vue"]])),t_=t=>Ld(t)||v(t)||d(t),e_=Wh({accordion:Boolean,modelValue:{type:[Array,String,Number],default:()=>[]}}),n_={[uf]:t_,[df]:t_},i_=Symbol("collapseContextKey"),r_=Un({...Un({name:"ElCollapse"}),props:e_,emits:n_,setup(t,{expose:e,emit:n}){const i=t,{activeNames:r,setActiveNames:o}=((t,e)=>{const n=Me(Pc(t.modelValue)),i=i=>{n.value=i;const r=t.accordion?n.value[0]:n.value;e(uf,r),e(df,r)};return fr((()=>t.modelValue),(()=>n.value=Pc(t.modelValue)),{deep:!0}),zi(i_,{activeNames:n,handleItemClick:e=>{if(t.accordion)i([n.value[0]===e?"":e]);else{const t=[...n.value],r=t.indexOf(e);r>-1?t.splice(r,1):t.push(e),i(t)}}}),{activeNames:n,setActiveNames:i}})(i,n),{rootKls:s}=(()=>{const t=fa("collapse");return{rootKls:vo((()=>t.b()))}})();return e({activeNames:r,setActiveNames:o}),(t,e)=>(Rr(),Pr("div",{class:$(Te(s))},[mi(t.$slots,"default")],2))}});var o_=mf(r_,[["__file","collapse.vue"]]);const s_=Of(mf(Un({...Un({name:"ElCollapseTransition"}),setup(t){const e=fa("collapse-transition"),n=t=>{t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom},i={beforeEnter(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height&&(t.dataset.elExistsHeight=t.style.height),t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0},enter(t){requestAnimationFrame((()=>{t.dataset.oldOverflow=t.style.overflow,t.dataset.elExistsHeight?t.style.maxHeight=t.dataset.elExistsHeight:0!==t.scrollHeight?t.style.maxHeight=`${t.scrollHeight}px`:t.style.maxHeight=0,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom,t.style.overflow="hidden"}))},afterEnter(t){t.style.maxHeight="",t.style.overflow=t.dataset.oldOverflow},enterCancelled(t){n(t)},beforeLeave(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.maxHeight=`${t.scrollHeight}px`,t.style.overflow="hidden"},leave(t){0!==t.scrollHeight&&(t.style.maxHeight=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave(t){n(t)},leaveCancelled(t){n(t)}};return(t,n)=>(Rr(),Br(Ro,Zr({name:Te(e).b()},function(t){const e={};for(const n in t)e[I(n)]=t[n];return e}(i)),{default:un((()=>[mi(t.$slots,"default")])),xt:3},16,["name"]))}}),[["__file","collapse-transition.vue"]])),a_=Wh({title:{type:String,default:""},name:{type:[String,Number],default:void 0},icon:{type:Ep,default:zf},disabled:Boolean}),l_=Un({...Un({name:"ElCollapseItem"}),props:a_,setup(t,{expose:e}){const n=t,{focusing:i,id:r,isActive:o,handleFocus:s,handleHeaderClick:a,handleEnterClick:l}=(t=>{const e=Vi(i_),{namespace:n}=fa("collapse"),i=Me(!1),r=Me(!1),o=Zp(),s=vo((()=>o.current++)),a=vo((()=>{var e;return null!=(e=t.name)?e:`${n.value}-id-${o.prefix}-${Te(s)}`})),l=vo((()=>null==e?void 0:e.activeNames.value.includes(Te(a))));return{focusing:i,id:s,isActive:l,handleFocus:()=>{setTimeout((()=>{r.value?r.value=!1:i.value=!0}),50)},handleHeaderClick:()=>{t.disabled||(null==e||e.handleItemClick(Te(a)),i.value=!1,r.value=!0)},handleEnterClick:()=>{null==e||e.handleItemClick(Te(a))}}})(n),{arrowKls:c,headKls:u,rootKls:d,itemWrapperKls:h,itemContentKls:f,scopedContentId:p,scopedHeadId:m}=((t,{focusing:e,isActive:n,id:i})=>{const r=fa("collapse"),o=vo((()=>[r.b("item"),r.is("active",Te(n)),r.is("disabled",t.disabled)])),s=vo((()=>[r.be("item","header"),r.is("active",Te(n)),{focusing:Te(e)&&!t.disabled}]));return{arrowKls:vo((()=>[r.be("item","arrow"),r.is("active",Te(n))])),headKls:s,rootKls:o,itemWrapperKls:vo((()=>r.be("item","wrap"))),itemContentKls:vo((()=>r.be("item","content"))),scopedContentId:vo((()=>r.b(`content-${Te(i)}`))),scopedHeadId:vo((()=>r.b(`head-${Te(i)}`)))}})(n,{focusing:i,isActive:o,id:r});return e({isActive:o}),(t,e)=>(Rr(),Pr("div",{class:$(Te(d))},[Vr("button",{id:Te(m),class:$(Te(u)),"aria-expanded":Te(o),"aria-controls":Te(p),"aria-describedby":Te(p),tabindex:t.disabled?-1:0,type:"button",onClick:Te(a),onKeydown:Bs(Ds(Te(l),["stop","prevent"]),["space","enter"]),onFocus:Te(s),onBlur:t=>i.value=!1},[mi(t.$slots,"title",{},(()=>[Wr(X(t.title),1)])),mi(t.$slots,"icon",{isActive:Te(o)},(()=>[$r(Te(Ff),{class:$(Te(c))},{default:un((()=>[(Rr(),Br(ci(t.icon)))])),xt:1},8,["class"])]))],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),$r(Te(s_),null,{default:un((()=>[dn(Vr("div",{id:Te(p),role:"region",class:$(Te(h)),"aria-hidden":!Te(o),"aria-labelledby":Te(m)},[Vr("div",{class:$(Te(f))},[mi(t.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[qo,Te(o)]])])),xt:3})],2))}});var c_=mf(l_,[["__file","collapse-item.vue"]]);const u_=Of(o_,{CollapseItem:c_}),d_=Df(c_),h_=Wh({color:{type:Object,required:!0},vertical:{type:Boolean,default:!1}});let f_=!1;function p_(t,e){if(!qd)return;const n=function(t){var n;null==(n=e.drag)||n.call(e,t)},i=function(t){var r;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",i),document.onselectstart=null,document.ondragstart=null,f_=!1,null==(r=e.end)||r.call(e,t)},r=function(t){var r;f_||(t.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",i),document.addEventListener("touchmove",n),document.addEventListener("touchend",i),f_=!0,null==(r=e.start)||r.call(e,t))};t.addEventListener("mousedown",r),t.addEventListener("touchstart",r,{passive:!1})}const m_=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},v_=(t,e)=>Math.abs(m_(t)-m_(e)),g_=t=>{let e,n;return"touchend"===t.type?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},y_=(t,{bar:e,thumb:n,handleDrag:i})=>{const r=no(),o=fa("color-alpha-slider"),s=Me(0),a=Me(0),l=Me();function c(){s.value=function(){if(!n.value)return 0;if(t.vertical)return 0;const e=r.vnode.el,i=t.color.get("alpha");return e?Math.round(i*(e.offsetWidth-n.value.offsetWidth/2)/100):0}(),a.value=function(){if(!n.value)return 0;const e=r.vnode.el;if(!t.vertical)return 0;const i=t.color.get("alpha");return e?Math.round(i*(e.offsetHeight-n.value.offsetHeight/2)/100):0}(),l.value=function(){if(t.color&&t.color.value){const{r:e,g:n,b:i}=t.color.toRgb();return`linear-gradient(to right, rgba(${e}, ${n}, ${i}, 0) 0%, rgba(${e}, ${n}, ${i}, 1) 100%)`}return""}()}Zn((()=>{if(!e.value||!n.value)return;const t={drag:t=>{i(t)},end:t=>{i(t)}};p_(e.value,t),p_(n.value,t),c()})),fr((()=>t.color.get("alpha")),(()=>c())),fr((()=>t.color.value),(()=>c()));const u=vo((()=>[o.b(),o.is("vertical",t.vertical)])),d=vo((()=>o.e("bar"))),h=vo((()=>o.e("thumb")));return{rootKls:u,barKls:d,barStyle:vo((()=>({background:l.value}))),thumbKls:h,thumbStyle:vo((()=>({left:Mf(s.value),top:Mf(a.value)}))),update:c}},b_=Un({...Un({name:"ElColorAlphaSlider"}),props:h_,setup(t,{expose:e}){const n=t,{alpha:i,alphaLabel:r,bar:o,thumb:s,handleDrag:a,handleClick:l,handleKeydown:c}=(t=>{const e=no(),{t:n}=$h(),i=Ce(),r=Ce(),o=vo((()=>t.color.get("alpha"))),s=vo((()=>n("el.colorpicker.alphaLabel")));function a(n){if(!r.value||!i.value)return;const o=e.vnode.el.getBoundingClientRect(),{clientX:s,clientY:a}=g_(n);if(t.vertical){let e=a-o.top;e=Math.max(i.value.offsetHeight/2,e),e=Math.min(e,o.height-i.value.offsetHeight/2),t.color.set("alpha",Math.round((e-i.value.offsetHeight/2)/(o.height-i.value.offsetHeight)*100))}else{let e=s-o.left;e=Math.max(i.value.offsetWidth/2,e),e=Math.min(e,o.width-i.value.offsetWidth/2),t.color.set("alpha",Math.round((e-i.value.offsetWidth/2)/(o.width-i.value.offsetWidth)*100))}}function l(e){let n=o.value+e;n=n<0?0:n>100?100:n,t.color.set("alpha",n)}return{thumb:i,bar:r,alpha:o,alphaLabel:s,handleDrag:a,handleClick:function(t){var e;t.target!==i.value&&a(t),null==(e=i.value)||e.focus()},handleKeydown:function(t){const{code:e,shiftKey:n}=t,i=n?10:1;switch(e){case ev.left:case ev.down:t.preventDefault(),t.stopPropagation(),l(-i);break;case ev.right:case ev.up:t.preventDefault(),t.stopPropagation(),l(i)}}}})(n),{rootKls:u,barKls:d,barStyle:h,thumbKls:f,thumbStyle:p,update:m}=y_(n,{bar:o,thumb:s,handleDrag:a});return e({update:m,bar:o,thumb:s}),(t,e)=>(Rr(),Pr("div",{class:$(Te(u))},[Vr("div",{ref_key:"bar",ref:o,class:$(Te(d)),style:F(Te(h)),onClick:Te(l)},null,14,["onClick"]),Vr("div",{ref_key:"thumb",ref:s,class:$(Te(f)),style:F(Te(p)),"aria-label":Te(r),"aria-valuenow":Te(i),"aria-orientation":t.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:Te(c)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var w_=mf(b_,[["__file","alpha-slider.vue"]]);var __=mf(Un({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=fa("color-hue-slider"),n=no(),i=Me(),r=Me(),o=Me(0),s=Me(0),a=vo((()=>t.color.get("hue")));function l(e){if(!r.value||!i.value)return;const o=n.vnode.el.getBoundingClientRect(),{clientX:s,clientY:a}=g_(e);let l;if(t.vertical){let t=a-o.top;t=Math.min(t,o.height-i.value.offsetHeight/2),t=Math.max(i.value.offsetHeight/2,t),l=Math.round((t-i.value.offsetHeight/2)/(o.height-i.value.offsetHeight)*360)}else{let t=s-o.left;t=Math.min(t,o.width-i.value.offsetWidth/2),t=Math.max(i.value.offsetWidth/2,t),l=Math.round((t-i.value.offsetWidth/2)/(o.width-i.value.offsetWidth)*360)}t.color.set("hue",l)}function c(){o.value=function(){if(!i.value)return 0;const e=n.vnode.el;if(t.vertical)return 0;const r=t.color.get("hue");return e?Math.round(r*(e.offsetWidth-i.value.offsetWidth/2)/360):0}(),s.value=function(){if(!i.value)return 0;const e=n.vnode.el;if(!t.vertical)return 0;const r=t.color.get("hue");return e?Math.round(r*(e.offsetHeight-i.value.offsetHeight/2)/360):0}()}return fr((()=>a.value),(()=>{c()})),Zn((()=>{if(!r.value||!i.value)return;const t={drag:t=>{l(t)},end:t=>{l(t)}};p_(r.value,t),p_(i.value,t),c()})),{bar:r,thumb:i,thumbLeft:o,thumbTop:s,hueValue:a,handleClick:function(t){t.target!==i.value&&l(t)},update:c,ns:e}}}),[["render",function(t,e,n,i,r,o){return Rr(),Pr("div",{class:$([t.ns.b(),t.ns.is("vertical",t.vertical)])},[Vr("div",{ref:"bar",class:$(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),Vr("div",{ref:"thumb",class:$(t.ns.e("thumb")),style:F({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}],["__file","hue-slider.vue"]]);const x_=Wh({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:qh,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:Pg.teleported,predefine:{type:Array},validateEvent:{type:Boolean,default:!0},...zp(["ariaLabel"])}),S_={[uf]:t=>v(t)||yd(t),[df]:t=>v(t)||yd(t),activeChange:t=>v(t)||yd(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},M_=Symbol("colorPickerContextKey"),C_=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},k_=function(t,e){var n;v(n=t)&&n.includes(".")&&1===Number.parseFloat(n)&&(t="100%");const i=function(t){return v(t)&&t.includes("%")}(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),i&&(t=Number.parseInt(""+t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},E_={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},T_=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${E_[e]||e}${E_[n]||n}`},A_=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${T_(t)}${T_(e)}${T_(n)}`},N_={A:10,B:11,C:12,D:13,E:14,F:15},I_=function(t){return 2===t.length?16*(N_[t[0].toUpperCase()]||+t[0])+(N_[t[1].toUpperCase()]||+t[1]):N_[t[1].toUpperCase()]||+t[1]},R_=(t,e,n)=>{t=k_(t,255),e=k_(e,255),n=k_(n,255);const i=Math.max(t,e,n),r=Math.min(t,e,n);let o;const s=i,a=i-r,l=0===i?0:a/i;if(i===r)o=0;else{switch(i){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4}o/=6}return{h:360*o,s:100*l,v:100*s}},O_=function(t,e,n){t=6*k_(t,360),e=k_(e,100),n=k_(n,100);const i=Math.floor(t),r=t-i,o=n*(1-e),s=n*(1-r*e),a=n*(1-(1-r)*e),l=i%6,c=[n,s,o,o,a,n][l],u=[a,n,n,s,o,o][l],d=[o,o,a,n,n,s][l];return{r:Math.round(255*c),g:Math.round(255*u),b:Math.round(255*d)}};let L_=class{constructor(t={}){this.ve=0,this.ge=100,this.R=100,this.ye=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const e in t)u(t,e)&&(this[e]=t[e]);t.value?this.fromString(t.value):this.doOnChange()}set(t,e){if(1!==arguments.length||"object"!=typeof t)this[`_${t}`]=e,this.doOnChange();else for(const n in t)u(t,n)&&this.set(n,t[n])}get(t){return"alpha"===t?Math.floor(this[`_${t}`]):this[`_${t}`]}toRgb(){return O_(this.ve,this.ge,this.R)}fromString(t){if(!t)return this.ve=0,this.ge=100,this.R=100,void this.doOnChange();const e=(t,e,n)=>{this.ve=Math.max(0,Math.min(360,t)),this.ge=Math.max(0,Math.min(100,e)),this.R=Math.max(0,Math.min(100,n)),this.doOnChange()};if(t.includes("hsl")){const n=t.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter((t=>""!==t)).map(((t,e)=>e>2?Number.parseFloat(t):Number.parseInt(t,10)));if(4===n.length?this.ye=100*Number.parseFloat(n[3]):3===n.length&&(this.ye=100),n.length>=3){const{h:t,s:i,v:r}=function(t,e,n){n/=100;let i=e/=100;const r=Math.max(n,.01);return e*=(n*=2)<=1?n:2-n,i*=r<=1?r:2-r,{h:t,s:100*(0===n?2*i/(r+i):2*e/(n+e)),v:(n+e)/2*100}}(n[0],n[1],n[2]);e(t,i,r)}}else if(t.includes("hsv")){const n=t.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter((t=>""!==t)).map(((t,e)=>e>2?Number.parseFloat(t):Number.parseInt(t,10)));4===n.length?this.ye=100*Number.parseFloat(n[3]):3===n.length&&(this.ye=100),n.length>=3&&e(n[0],n[1],n[2])}else if(t.includes("rgb")){const n=t.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter((t=>""!==t)).map(((t,e)=>e>2?Number.parseFloat(t):Number.parseInt(t,10)));if(4===n.length?this.ye=100*Number.parseFloat(n[3]):3===n.length&&(this.ye=100),n.length>=3){const{h:t,s:i,v:r}=R_(n[0],n[1],n[2]);e(t,i,r)}}else if(t.includes("#")){const n=t.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(n))return;let i,r,o;3===n.length?(i=I_(n[0]+n[0]),r=I_(n[1]+n[1]),o=I_(n[2]+n[2])):6!==n.length&&8!==n.length||(i=I_(n.slice(0,2)),r=I_(n.slice(2,4)),o=I_(n.slice(4,6))),8===n.length?this.ye=I_(n.slice(6))/255*100:3!==n.length&&6!==n.length||(this.ye=100);const{h:s,s:a,v:l}=R_(i,r,o);e(s,a,l)}}compare(t){return Math.abs(t.ve-this.ve)<2&&Math.abs(t.ge-this.ge)<1&&Math.abs(t.R-this.R)<1&&Math.abs(t.ye-this.ye)<1}doOnChange(){const{ve:t,ge:e,R:n,ye:i,format:r}=this;if(this.enableAlpha)switch(r){case"hsl":{const i=C_(t,e/100,n/100);this.value=`hsla(${t}, ${Math.round(100*i[1])}%, ${Math.round(100*i[2])}%, ${this.get("alpha")/100})`;break}case"hsv":this.value=`hsva(${t}, ${Math.round(e)}%, ${Math.round(n)}%, ${this.get("alpha")/100})`;break;case"hex":this.value=`${A_(O_(t,e,n))}${T_(255*i/100)}`;break;default:{const{r:i,g:r,b:o}=O_(t,e,n);this.value=`rgba(${i}, ${r}, ${o}, ${this.get("alpha")/100})`}}else switch(r){case"hsl":{const i=C_(t,e/100,n/100);this.value=`hsl(${t}, ${Math.round(100*i[1])}%, ${Math.round(100*i[2])}%)`;break}case"hsv":this.value=`hsv(${t}, ${Math.round(e)}%, ${Math.round(n)}%)`;break;case"rgb":{const{r:i,g:r,b:o}=O_(t,e,n);this.value=`rgb(${i}, ${r}, ${o})`;break}default:this.value=A_(O_(t,e,n))}}};var D_=mf(Un({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const e=fa("color-predefine"),{currentColor:n}=Vi(M_),i=Me(r(t.colors,t.color));function r(e,n){return e.map((e=>{const i=new L_;return i.enableAlpha=t.enableAlpha,i.format="rgba",i.fromString(e),i.selected=i.value===n.value,i}))}return fr((()=>n.value),(t=>{const e=new L_;e.fromString(t),i.value.forEach((t=>{t.selected=e.compare(t)}))})),hr((()=>{i.value=r(t.colors,t.color)})),{rgbaColors:i,handleSelect:function(e){t.color.fromString(t.colors[e])},ns:e}}}),[["render",function(t,e,n,i,r,o){return Rr(),Pr("div",{class:$(t.ns.b())},[Vr("div",{class:$(t.ns.e("colors"))},[(Rr(!0),Pr(kr,null,fi(t.rgbaColors,((e,n)=>(Rr(),Pr("div",{key:t.colors[n],class:$([t.ns.e("color-selector"),t.ns.is("alpha",e.ye<100),{selected:e.selected}]),onClick:e=>t.handleSelect(n)},[Vr("div",{style:F({backgroundColor:e.value})},null,4)],10,["onClick"])))),128))],2)],2)}],["__file","predefine.vue"]]);var P_=mf(Un({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=fa("color-svpanel"),n=no(),i=Me(0),r=Me(0),o=Me("hsl(0, 100%, 50%)"),s=vo((()=>({hue:t.color.get("hue"),value:t.color.get("value")})));function a(){const e=t.color.get("saturation"),s=t.color.get("value"),a=n.vnode.el,{clientWidth:l,clientHeight:c}=a;r.value=e*l/100,i.value=(100-s)*c/100,o.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function l(e){const o=n.vnode.el.getBoundingClientRect(),{clientX:s,clientY:a}=g_(e);let l=s-o.left,c=a-o.top;l=Math.max(0,l),l=Math.min(l,o.width),c=Math.max(0,c),c=Math.min(c,o.height),r.value=l,i.value=c,t.color.set({saturation:l/o.width*100,value:100-c/o.height*100})}return fr((()=>s.value),(()=>{a()})),Zn((()=>{p_(n.vnode.el,{drag:t=>{l(t)},end:t=>{l(t)}}),a()})),{cursorTop:i,cursorLeft:r,background:o,colorValue:s,handleDrag:l,update:a,ns:e}}}),[["render",function(t,e,n,i,r,o){return Rr(),Pr("div",{class:$(t.ns.b()),style:F({backgroundColor:t.background})},[Vr("div",{class:$(t.ns.e("white"))},null,2),Vr("div",{class:$(t.ns.e("black"))},null,2),Vr("div",{class:$(t.ns.e("cursor")),style:F({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[Vr("div")],6)],6)}],["__file","sv-panel.vue"]]);const B_=Un({...Un({name:"ElColorPicker"}),props:x_,emits:S_,setup(t,{expose:e,emit:n}){const i=t,{t:r}=$h(),o=fa("color"),{formItem:s}=Qp(),a=nm(),l=im(),{inputId:c,isLabeledByFormItem:u}=tm(i,{formItemContext:s}),d=Me(),h=Me(),f=Me(),p=Me(),m=Me(),v=Me(),{isFocused:g,handleFocus:y,handleBlur:b}=rm(m,{beforeFocus:()=>l.value,beforeBlur(t){var e;return null==(e=p.value)?void 0:e.isFocusInsideContent(t)},afterBlur(){N(!1),L()}});let w=!0;const _=de(new L_({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue})),x=Me(!1),S=Me(!1),M=Me(""),C=vo((()=>i.modelValue||S.value?function(t,e){if(!(t instanceof L_))throw new TypeError("color should be instance of _color Class");const{r:n,g:i,b:r}=t.toRgb();return e?`rgba(${n}, ${i}, ${r}, ${t.get("alpha")/100})`:`rgb(${n}, ${i}, ${r})`}(_,i.showAlpha):"transparent")),k=vo((()=>i.modelValue||S.value?_.value:"")),E=vo((()=>u.value?void 0:i.ariaLabel||r("el.colorpicker.defaultLabel"))),T=vo((()=>u.value?null==s?void 0:s.labelId:void 0)),A=vo((()=>[o.b("picker"),o.is("disabled",l.value),o.bm("picker",a.value),o.is("focused",g.value)]));function N(t){x.value=t}const I=od(N,100,{leading:!0});function R(){l.value||N(!0)}function O(){I(!1),L()}function L(){Qe((()=>{i.modelValue?_.fromString(i.modelValue):(_.value="",Qe((()=>{S.value=!1})))}))}function D(){l.value||(x.value&&L(),I(!x.value))}function P(){_.fromString(M.value)}function B(){const t=_.value;n(uf,t),n("change",t),i.validateEvent&&(null==s||s.validate("change").catch((t=>{}))),I(!1),Qe((()=>{const t=new L_({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue});_.compare(t)||L()}))}function U(){I(!1),n(uf,null),n("change",null),null!==i.modelValue&&i.validateEvent&&(null==s||s.validate("change").catch((t=>{}))),L()}function H(){x.value&&(O(),g.value&&G())}function z(t){t.preventDefault(),t.stopPropagation(),N(!1),L()}function V(t){switch(t.code){case ev.enter:case ev.numpadEnter:case ev.space:t.preventDefault(),t.stopPropagation(),R(),v.value.focus();break;case ev.esc:z(t)}}function G(){m.value.focus()}return Zn((()=>{i.modelValue&&(M.value=k.value)})),fr((()=>i.modelValue),(t=>{t?t&&t!==_.value&&(w=!1,_.fromString(t)):S.value=!1})),fr((()=>[i.colorFormat,i.showAlpha]),(()=>{_.enableAlpha=i.showAlpha,_.format=i.colorFormat||_.format,_.doOnChange(),n(uf,_.value)})),fr((()=>k.value),(t=>{M.value=t,w&&n("activeChange",t),w=!0})),fr((()=>_.value),(()=>{i.modelValue||S.value||(S.value=!0)})),fr((()=>x.value),(()=>{Qe((()=>{var t,e,n;null==(t=d.value)||t.update(),null==(e=h.value)||e.update(),null==(n=f.value)||n.update()}))})),zi(M_,{currentColor:k}),e({color:_,show:R,hide:O,focus:G,blur:function(){m.value.blur()}}),(t,e)=>(Rr(),Br(Te(ty),{ref_key:"popper",ref:p,visible:x.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[Te(o).be("picker","panel"),Te(o).b("dropdown"),t.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:t.teleported,transition:`${Te(o).namespace.value}-zoom-in-top`,persistent:"",onHide:t=>N(!1)},{content:un((()=>[dn((Rr(),Pr("div",{onKeydown:Bs(z,["esc"])},[Vr("div",{class:$(Te(o).be("dropdown","main-wrapper"))},[$r(__,{ref_key:"hue",ref:d,class:"hue-slider",color:Te(_),vertical:""},null,8,["color"]),$r(P_,{ref_key:"sv",ref:h,color:Te(_)},null,8,["color"])],2),t.showAlpha?(Rr(),Br(w_,{key:0,ref_key:"alpha",ref:f,color:Te(_)},null,8,["color"])):Kr("v-if",!0),t.predefine?(Rr(),Br(D_,{key:1,ref:"predefine","enable-alpha":t.showAlpha,color:Te(_),colors:t.predefine},null,8,["enable-alpha","color","colors"])):Kr("v-if",!0),Vr("div",{class:$(Te(o).be("dropdown","btns"))},[Vr("span",{class:$(Te(o).be("dropdown","value"))},[$r(Te(sm),{ref_key:"inputRef",ref:v,modelValue:M.value,"onUpdate:modelValue":t=>M.value=t,"validate-event":!1,size:"small",onKeyup:Bs(P,["enter"]),onBlur:P},null,8,["modelValue","onUpdate:modelValue","onKeyup"])],2),$r(Te(Zy),{class:$(Te(o).be("dropdown","link-btn")),text:"",size:"small",onClick:U},{default:un((()=>[Wr(X(Te(r)("el.colorpicker.clear")),1)])),xt:1},8,["class"]),$r(Te(Zy),{plain:"",size:"small",class:$(Te(o).be("dropdown","btn")),onClick:B},{default:un((()=>[Wr(X(Te(r)("el.colorpicker.confirm")),1)])),xt:1},8,["class"])],2)],40,["onKeydown"])),[[Te(jw),H,m.value]])])),default:un((()=>[Vr("div",Zr({id:Te(c),ref_key:"triggerRef",ref:m},t.$attrs,{class:Te(A),role:"button","aria-label":Te(E),"aria-labelledby":Te(T),"aria-description":Te(r)("el.colorpicker.description",{color:t.modelValue||""}),"aria-disabled":Te(l),tabindex:Te(l)?-1:t.tabindex,onKeydown:V,onFocus:Te(y),onBlur:Te(b)}),[Te(l)?(Rr(),Pr("div",{key:0,class:$(Te(o).be("picker","mask"))},null,2)):Kr("v-if",!0),Vr("div",{class:$(Te(o).be("picker","trigger")),onClick:D},[Vr("span",{class:$([Te(o).be("picker","color"),Te(o).is("alpha",t.showAlpha)])},[Vr("span",{class:$(Te(o).be("picker","color-inner")),style:F({backgroundColor:Te(C)})},[dn($r(Te(Ff),{class:$([Te(o).be("picker","icon"),Te(o).is("icon-arrow-down")])},{default:un((()=>[$r(Te(Uf))])),xt:1},8,["class"]),[[qo,t.modelValue||S.value]]),dn($r(Te(Ff),{class:$([Te(o).be("picker","empty"),Te(o).is("icon-close")])},{default:un((()=>[$r(Te(Qf))])),xt:1},8,["class"]),[[qo,!t.modelValue&&!S.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])])),xt:1},8,["visible","popper-class","teleported","transition","onHide"]))}});const F_=Of(mf(B_,[["__file","color-picker.vue"]])),U_=Wh({a11y:{type:Boolean,default:!0},locale:{type:Object},size:qh,button:{type:Object},experimentalFeatures:{type:Object},keyboardNavigation:{type:Boolean,default:!0},message:{type:Object},zIndex:Number,namespace:{type:String,default:"el"},...Qh}),H_={},z_=Of(Un({name:"ElConfigProvider",props:U_,setup(t,{slots:e}){fr((()=>t.message),(t=>{Object.assign(H_,null!=t?t:{})}),{immediate:!0,deep:!0});const n=lf(t);return()=>mi(e,"default",{config:null==n?void 0:n.value})}}));var V_=mf(Un({...Un({name:"ElContainer"}),props:{direction:{type:String}},setup(t){const e=t,n=_i(),i=fa("container"),r=vo((()=>{if("vertical"===e.direction)return!0;if("horizontal"===e.direction)return!1;if(n&&n.default){return n.default().some((t=>{const e=t.type.name;return"ElHeader"===e||"ElFooter"===e}))}return!1}));return(t,e)=>(Rr(),Pr("section",{class:$([Te(i).b(),Te(i).is("vertical",Te(r))])},[mi(t.$slots,"default")],2))}}),[["__file","container.vue"]]);var $_=mf(Un({...Un({name:"ElAside"}),props:{width:{type:String,default:null}},setup(t){const e=t,n=fa("aside"),i=vo((()=>e.width?n.cssVarBlock({width:e.width}):{}));return(t,e)=>(Rr(),Pr("aside",{class:$(Te(n).b()),style:F(Te(i))},[mi(t.$slots,"default")],6))}}),[["__file","aside.vue"]]);var G_=mf(Un({...Un({name:"ElFooter"}),props:{height:{type:String,default:null}},setup(t){const e=t,n=fa("footer"),i=vo((()=>e.height?n.cssVarBlock({height:e.height}):{}));return(t,e)=>(Rr(),Pr("footer",{class:$(Te(n).b()),style:F(Te(i))},[mi(t.$slots,"default")],6))}}),[["__file","footer.vue"]]);var j_=mf(Un({...Un({name:"ElHeader"}),props:{height:{type:String,default:null}},setup(t){const e=t,n=fa("header"),i=vo((()=>e.height?n.cssVarBlock({height:e.height}):{}));return(t,e)=>(Rr(),Pr("header",{class:$(Te(n).b()),style:F(Te(i))},[mi(t.$slots,"default")],6))}}),[["__file","header.vue"]]);var W_=mf(Un({...Un({name:"ElMain"}),setup(t){const e=fa("main");return(t,n)=>(Rr(),Pr("main",{class:$(Te(e).b())},[mi(t.$slots,"default")],2))}}),[["__file","main.vue"]]);const K_=Of(V_,{Aside:$_,Footer:G_,Header:j_,Main:W_}),q_=Df($_),Y_=Df(G_),X_=Df(j_),Z_=Df(W_);var J_,Q_={exports:{}};var tx=J_?Q_.exports:(J_=1,Q_.exports=function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,i=/\d\d/,r=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,s={},a=function(t){return(t=+t)+(t>68?1900:2e3)},l=function(t){return function(e){this[t]=+e}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),n=60*e[1]+(+e[2]||0);return 0===n?0:"+"===e[0]?-n:n}(t)}],u=function(t){var e=s[t];return e&&(e.indexOf?e:e.s.concat(e.f))},d=function(t,e){var n,i=s.meridiem;if(i){for(var r=1;r<=24;r+=1)if(t.indexOf(i(r,0,e))>-1){n=r>12;break}}else n=t===(e?"pm":"PM");return n},h={A:[o,function(t){this.afternoon=d(t,!1)}],a:[o,function(t){this.afternoon=d(t,!0)}],Q:[n,function(t){this.month=3*(t-1)+1}],S:[n,function(t){this.milliseconds=100*+t}],SS:[i,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[r,l("seconds")],ss:[r,l("seconds")],m:[r,l("minutes")],mm:[r,l("minutes")],H:[r,l("hours")],h:[r,l("hours")],HH:[r,l("hours")],hh:[r,l("hours")],D:[r,l("day")],DD:[i,l("day")],Do:[o,function(t){var e=s.ordinal,n=t.match(/\d+/);if(this.day=n[0],e)for(var i=1;i<=31;i+=1)e(i).replace(/\[|\]/g,"")===t&&(this.day=i)}],w:[r,l("week")],ww:[i,l("week")],M:[r,l("month")],MM:[i,l("month")],MMM:[o,function(t){var e=u("months"),n=(u("monthsShort")||e.map((function(t){return t.slice(0,3)}))).indexOf(t)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[o,function(t){var e=u("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,l("year")],YY:[i,function(t){this.year=a(t)}],YYYY:[/\d{4}/,l("year")],Z:c,ZZ:c};function f(n){var i,r;i=n,r=s&&s.formats;for(var o=(n=i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(e,n,i){var o=i&&i.toUpperCase();return n||r[i]||t[i]||r[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,n){return e||n.slice(1)}))}))).match(e),a=o.length,l=0;l<a;l+=1){var c=o[l],u=h[c],d=u&&u[0],f=u&&u[1];o[l]=f?{regex:d,parser:f}:c.replace(/^\[|\]$/g,"")}return function(t){for(var e={},n=0,i=0;n<a;n+=1){var r=o[n];if("string"==typeof r)i+=r.length;else{var s=r.regex,l=r.parser,c=t.slice(i),u=s.exec(c)[0];l.call(e,u),t=t.replace(u,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var n=t.hours;e?n<12&&(t.hours+=12):12===n&&(t.hours=0),delete t.afternoon}}(e),e}}return function(t,e,n){n.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(a=t.parseTwoDigitYear);var i=e.prototype,r=i.parse;i.parse=function(t){var e=t.date,i=t.utc,o=t.args;this.$u=i;var a=o[1];if("string"==typeof a){var l=!0===o[2],c=!0===o[3],u=l||c,d=o[2];c&&(d=o[2]),s=this.$locale(),!l&&d&&(s=n.Ls[d]),this.$d=function(t,e,n,i){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var r=f(e)(t),o=r.year,s=r.month,a=r.day,l=r.hours,c=r.minutes,u=r.seconds,d=r.milliseconds,h=r.zone,p=r.week,m=new Date,v=a||(o||s?1:m.getDate()),g=o||m.getFullYear(),y=0;o&&!s||(y=s>0?s-1:m.getMonth());var b,w=l||0,_=c||0,x=u||0,S=d||0;return h?new Date(Date.UTC(g,y,v,w,_,x,S+60*h.offset*1e3)):n?new Date(Date.UTC(g,y,v,w,_,x,S)):(b=new Date(g,y,v,w,_,x,S),p&&(b=i(b).week(p).toDate()),b)}catch(M){return new Date("")}}(e,a,i,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&e!=this.format(a)&&(this.$d=new Date("")),s={}}else if(a instanceof Array)for(var h=a.length,p=1;p<=h;p+=1){o[1]=a[p-1];var m=n.apply(this,o);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}p===h&&(this.$d=new Date(""))}else r.call(this,t)}}}());const ex=Qy(tx);var nx,ix={exports:{}};var rx=nx?ix.exports:(nx=1,ix.exports=function(t,e){var n=e.prototype,i=n.format;n.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return i.bind(this)(t);var r=this.$utils(),o=(t||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(t){switch(t){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return n.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return n.ordinal(e.week(),"W");case"w":case"ww":return r.s(e.week(),"w"===t?1:2,"0");case"W":case"WW":return r.s(e.isoWeek(),"W"===t?1:2,"0");case"k":case"kk":return r.s(String(0===e.$H?24:e.$H),"k"===t?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return t}}));return i.bind(this)(o)}});const ox=Qy(rx);var sx,ax,lx,cx={exports:{}};const ux=Qy(sx?cx.exports:(sx=1,cx.exports=(ax="week",lx="year",function(t,e,n){var i=e.prototype;i.week=function(t){if(void 0===t&&(t=null),null!==t)return this.add(7*(t-this.week()),"day");var e=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var i=n(this).startOf(lx).add(1,lx).date(e),r=n(this).endOf(ax);if(i.isBefore(r))return 1}var o=n(this).startOf(lx).date(e).startOf(ax).subtract(1,"millisecond"),s=this.diff(o,ax,!0);return s<0?n(this).startOf("week").week():Math.ceil(s)},i.weeks=function(t){return void 0===t&&(t=null),this.week(t)}})));var dx,hx={exports:{}};var fx=(dx||(dx=1,hx.exports=function(t,e){e.prototype.weekYear=function(){var t=this.month(),e=this.week(),n=this.year();return 1===e&&11===t?n+1:0===t&&e>=52?n-1:n}}),hx.exports);const px=Qy(fx);var mx,vx={exports:{}};var gx=(mx||(mx=1,vx.exports=function(t,e,n){e.prototype.dayOfYear=function(t){var e=Math.round((n(this).startOf("day")-n(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"day")}}),vx.exports);const yx=Qy(gx);var bx,wx={exports:{}};var _x=(bx||(bx=1,wx.exports=function(t,e){e.prototype.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)}}),wx.exports);const xx=Qy(_x);var Sx,Mx={exports:{}};const Cx=Qy(Sx?Mx.exports:(Sx=1,Mx.exports=function(t,e){e.prototype.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)}})),kx=["hours","minutes","seconds"],Ex="HH:mm:ss",Tx="YYYY-MM-DD",Ax={date:Tx,dates:Tx,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${Tx} ${Ex}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:Tx,datetimerange:`${Tx} ${Ex}`},Nx=Wh({disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function}}),Ix=Wh({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Rx=Wh({id:{type:[Array,String]},name:{type:[Array,String]},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:Zf},editable:{type:Boolean,default:!0},prefixIcon:{type:[String,Object],default:""},size:qh,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},modelValue:{type:[Date,Array,String,Number],default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:[Date,Array]},defaultTime:{type:[Date,Array]},isRange:Boolean,...Nx,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:String,values:gv,default:"bottom"},fallbackPlacements:{type:Array,default:["bottom","top","right","left"]},...Qh,...zp(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),Ox=Wh({id:{type:Array},name:{type:Array},modelValue:{type:[Array,String]},startPlaceholder:String,endPlaceholder:String});var Lx=mf(Un({...Un({name:"PickerRangeTrigger",inheritAttrs:!1}),props:Ox,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(t,{expose:e,emit:n}){const i=Wp(),r=fa("date"),o=fa("range"),s=Me(),a=Me(),{wrapperRef:l,isFocused:c}=rm(s),u=t=>{n("click",t)},d=t=>{n("mouseenter",t)},h=t=>{n("mouseleave",t)},f=t=>{n("mouseenter",t)},p=t=>{n("startInput",t)},m=t=>{n("endInput",t)},v=t=>{n("startChange",t)},g=t=>{n("endChange",t)};return e({focus:()=>{var t;null==(t=s.value)||t.focus()},blur:()=>{var t,e;null==(t=s.value)||t.blur(),null==(e=a.value)||e.blur()}}),(t,e)=>(Rr(),Pr("div",{ref_key:"wrapperRef",ref:l,class:$([Te(r).is("active",Te(c)),t.$attrs.class]),style:F(t.$attrs.style),onClick:u,onMouseenter:d,onMouseleave:h,onTouchstartPassive:f},[mi(t.$slots,"prefix"),Vr("input",Zr(Te(i),{id:t.id&&t.id[0],ref_key:"inputRef",ref:s,name:t.name&&t.name[0],placeholder:t.startPlaceholder,value:t.modelValue&&t.modelValue[0],class:Te(o).b("input"),onInput:p,onChange:v}),null,16,["id","name","placeholder","value"]),mi(t.$slots,"range-separator"),Vr("input",Zr(Te(i),{id:t.id&&t.id[1],ref_key:"endInputRef",ref:a,name:t.name&&t.name[1],placeholder:t.endPlaceholder,value:t.modelValue&&t.modelValue[1],class:Te(o).b("input"),onInput:m,onChange:g}),null,16,["id","name","placeholder","value"]),mi(t.$slots,"suffix")],38))}}),[["__file","picker-range-trigger.vue"]]);const Dx=Un({...Un({name:"Picker"}),props:Rx,emits:["update:modelValue","change","focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const r=t,o=xi(),{lang:s}=$h(),a=fa("date"),l=fa("input"),c=fa("range"),{form:u,formItem:h}=Qp(),f=Vi("ElPopperOptions",{}),{valueOnClear:p}=tf(r,null),m=Me(),v=Me(),g=Me(!1),y=Me(!1),b=Me(null);let w=!1;const{isFocused:_,handleFocus:x,handleBlur:S}=rm(v,{beforeFocus:()=>r.readonly||L.value,afterFocus(){g.value=!0},beforeBlur(t){var e;return!w&&(null==(e=m.value)?void 0:e.isFocusInsideContent(t))},afterBlur(){rt(),g.value=!1,w=!1,r.validateEvent&&(null==h||h.validate("blur").catch((t=>{})))}}),M=vo((()=>[a.b("editor"),a.bm("editor",r.type),l.e("wrapper"),a.is("disabled",L.value),a.is("active",g.value),c.b("editor"),tt?c.bm("editor",tt.value):"",o.class])),C=vo((()=>[l.e("icon"),c.e("close-icon"),j.value?"":c.e("close-icon--hidden")]));fr(g,(t=>{t?Qe((()=>{t&&(b.value=r.modelValue)})):(it.value=null,Qe((()=>{k(r.modelValue)})))}));const k=(t,e)=>{!e&&cb(t,b.value)||(n("change",t),e&&(b.value=t),r.validateEvent&&(null==h||h.validate("change").catch((t=>{}))))},E=t=>{if(!cb(r.modelValue,t)){let e;d(t)?e=t.map((t=>db(t,r.valueFormat,s.value))):t&&(e=db(t,r.valueFormat,s.value)),n("update:modelValue",t?e:t,s.value)}},T=vo((()=>v.value?Array.from(v.value.$el.querySelectorAll("input")):[])),A=(t,e,n)=>{const i=T.value;i.length&&(n&&"min"!==n?"max"===n&&(i[1].setSelectionRange(t,e),i[1].focus()):(i[0].setSelectionRange(t,e),i[0].focus()))},N=(t="",e=!1)=>{let n;g.value=e,n=d(t)?t.map((t=>t.toDate())):t?t.toDate():t,it.value=null,E(n)},I=()=>{y.value=!0},R=()=>{n("visible-change",!0)},O=()=>{y.value=!1,g.value=!1,n("visible-change",!1)},L=vo((()=>r.disabled||(null==u?void 0:u.disabled))),D=vo((()=>{let t;if(K.value?pt.value.getDefaultValue&&(t=pt.value.getDefaultValue()):t=d(r.modelValue)?r.modelValue.map((t=>ub(t,r.valueFormat,s.value))):ub(r.modelValue,r.valueFormat,s.value),pt.value.getRangeAvailableTime){const e=pt.value.getRangeAvailableTime(t);gd(e,t)||(t=e,K.value||E(fb(t)))}return d(t)&&t.some((t=>!t))&&(t=[]),t})),P=vo((()=>{if(!pt.value.panelReady)return"";const t=st(D.value);return d(it.value)?[it.value[0]||t&&t[0]||"",it.value[1]||t&&t[1]||""]:null!==it.value?it.value:!U.value&&K.value||!g.value&&K.value?"":t?H.value||z.value||V.value?t.join(", "):t:""})),B=vo((()=>r.type.includes("time"))),U=vo((()=>r.type.startsWith("time"))),H=vo((()=>"dates"===r.type)),z=vo((()=>"months"===r.type)),V=vo((()=>"years"===r.type)),G=vo((()=>r.prefixIcon||(B.value?Jf:Gf))),j=Me(!1),W=t=>{r.readonly||L.value||(j.value&&(t.stopPropagation(),pt.value.handleClear?pt.value.handleClear():E(p.value),k(p.value,!0),j.value=!1,O()),n("clear"))},K=vo((()=>{const{modelValue:t}=r;return!t||d(t)&&!t.filter(Boolean).length})),q=async t=>{var e;r.readonly||L.value||("INPUT"!==(null==(e=t.target)?void 0:e.tagName)||_.value)&&(g.value=!0)},Y=()=>{r.readonly||L.value||!K.value&&r.clearable&&(j.value=!0)},Z=()=>{j.value=!1},J=t=>{var e;r.readonly||L.value||("INPUT"!==(null==(e=t.touches[0].target)?void 0:e.tagName)||_.value)&&(g.value=!0)},Q=vo((()=>r.type.includes("range"))),tt=nm(),et=vo((()=>{var t,e;return null==(e=null==(t=Te(m))?void 0:t.popperRef)?void 0:e.contentRef})),nt=dh(v,(t=>{const e=Te(et),n=sh(v);e&&(t.target===e||t.composedPath().includes(e))||t.target===n||n&&t.composedPath().includes(n)||(g.value=!1)}));ti((()=>{null==nt||nt()}));const it=Me(null),rt=()=>{if(it.value){const t=ot(P.value);t&&at(t)&&(E(fb(t)),it.value=null)}""===it.value&&(E(p.value),k(p.value,!0),it.value=null)},ot=t=>t?pt.value.parseUserInput(t):null,st=t=>t?pt.value.formatToString(t):null,at=t=>pt.value.isValidValue(t),lt=async t=>{if(r.readonly||L.value)return;const{code:e}=t;if((t=>{n("keydown",t)})(t),e!==ev.esc)if(e===ev.down&&(pt.value.handleFocusPicker&&(t.preventDefault(),t.stopPropagation()),!1===g.value&&(g.value=!0,await Qe()),pt.value.handleFocusPicker))pt.value.handleFocusPicker();else{if(e!==ev.tab)return e===ev.enter||e===ev.numpadEnter?((null===it.value||""===it.value||at(ot(P.value)))&&(rt(),g.value=!1),void t.stopPropagation()):void(it.value?t.stopPropagation():pt.value.handleKeydownInput&&pt.value.handleKeydownInput(t));w=!0}else!0===g.value&&(g.value=!1,t.preventDefault(),t.stopPropagation())},ct=t=>{it.value=t,g.value||(g.value=!0)},ut=t=>{const e=t.target;it.value?it.value=[e.value,it.value[1]]:it.value=[e.value,null]},dt=t=>{const e=t.target;it.value?it.value=[it.value[0],e.value]:it.value=[null,e.value]},ht=()=>{var t;const e=it.value,n=ot(e&&e[0]),i=Te(D);if(n&&n.isValid()){it.value=[st(n),(null==(t=P.value)?void 0:t[1])||null];const e=[n,i&&(i[1]||null)];at(e)&&(E(fb(e)),it.value=null)}},ft=()=>{var t;const e=Te(it),n=ot(e&&e[1]),i=Te(D);if(n&&n.isValid()){it.value=[(null==(t=Te(P))?void 0:t[0])||null,st(n)];const e=[i&&i[0],n];at(e)&&(E(fb(e)),it.value=null)}},pt=Me({}),mt=t=>{pt.value[t[0]]=t[1],pt.value.panelReady=!0},vt=t=>{n("calendar-change",t)},gt=(t,e,i)=>{n("panel-change",t,e,i)};return zi("EP_PICKER_BASE",{props:r}),e({focus:()=>{var t;null==(t=v.value)||t.focus()},blur:()=>{var t;null==(t=v.value)||t.blur()},handleOpen:()=>{g.value=!0},handleClose:()=>{g.value=!1},onPick:N}),(t,e)=>(Rr(),Br(Te(ty),Zr({ref_key:"refPopper",ref:m,visible:g.value,effect:"light",pure:"",trigger:"click"},t.$attrs,{role:"dialog",teleported:"",transition:`${Te(a).namespace.value}-zoom-in-top`,"popper-class":[`${Te(a).namespace.value}-picker__popper`,t.popperClass],"popper-options":Te(f),"fallback-placements":t.fallbackPlacements,"gpu-acceleration":!1,placement:t.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:I,onShow:R,onHide:O}),{default:un((()=>[Te(Q)?(Rr(),Br(Lx,{key:1,id:t.id,ref_key:"inputRef",ref:v,"model-value":Te(P),name:t.name,disabled:Te(L),readonly:!t.editable||t.readonly,"start-placeholder":t.startPlaceholder,"end-placeholder":t.endPlaceholder,class:$(Te(M)),style:F(t.$attrs.style),"aria-label":t.ariaLabel,tabindex:t.tabindex,autocomplete:"off",role:"combobox",onClick:q,onFocus:Te(x),onBlur:Te(S),onStartInput:ut,onStartChange:ht,onEndInput:dt,onEndChange:ft,onMousedown:q,onMouseenter:Y,onMouseleave:Z,onTouchstartPassive:J,onKeydown:lt},{prefix:un((()=>[Te(G)?(Rr(),Br(Te(Ff),{key:0,class:$([Te(l).e("icon"),Te(c).e("icon")])},{default:un((()=>[(Rr(),Br(ci(Te(G))))])),xt:1},8,["class"])):Kr("v-if",!0)])),"range-separator":un((()=>[mi(t.$slots,"range-separator",{},(()=>[Vr("span",{class:$(Te(c).b("separator"))},X(t.rangeSeparator),3)]))])),suffix:un((()=>[t.clearIcon?(Rr(),Br(Te(Ff),{key:0,class:$(Te(C)),onMousedown:Ds(Te(i),["prevent"]),onClick:W},{default:un((()=>[(Rr(),Br(ci(t.clearIcon)))])),xt:1},8,["class","onMousedown"])):Kr("v-if",!0)])),xt:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(Rr(),Br(Te(sm),{key:0,id:t.id,ref_key:"inputRef",ref:v,"container-role":"combobox","model-value":Te(P),name:t.name,size:Te(tt),disabled:Te(L),placeholder:t.placeholder,class:$([Te(a).b("editor"),Te(a).bm("editor",t.type),t.$attrs.class]),style:F(t.$attrs.style),readonly:!t.editable||t.readonly||Te(H)||Te(z)||Te(V)||"week"===t.type,"aria-label":t.ariaLabel,tabindex:t.tabindex,"validate-event":!1,onInput:ct,onFocus:Te(x),onBlur:Te(S),onKeydown:lt,onChange:rt,onMousedown:q,onMouseenter:Y,onMouseleave:Z,onTouchstartPassive:J,onClick:Ds((()=>{}),["stop"])},{prefix:un((()=>[Te(G)?(Rr(),Br(Te(Ff),{key:0,class:$(Te(l).e("icon")),onMousedown:Ds(q,["prevent"]),onTouchstartPassive:J},{default:un((()=>[(Rr(),Br(ci(Te(G))))])),xt:1},8,["class","onMousedown"])):Kr("v-if",!0)])),suffix:un((()=>[j.value&&t.clearIcon?(Rr(),Br(Te(Ff),{key:0,class:$(`${Te(l).e("icon")} clear-icon`),onMousedown:Ds(Te(i),["prevent"]),onClick:W},{default:un((()=>[(Rr(),Br(ci(t.clearIcon)))])),xt:1},8,["class","onMousedown"])):Kr("v-if",!0)])),xt:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))])),content:un((()=>[mi(t.$slots,"default",{visible:g.value,actualVisible:y.value,parsedValue:Te(D),format:t.format,dateFormat:t.dateFormat,timeFormat:t.timeFormat,unlinkPanels:t.unlinkPanels,type:t.type,defaultValue:t.defaultValue,showNow:t.showNow,onPick:N,onSelectRange:A,onSetPickerOption:mt,onCalendarChange:vt,onPanelChange:gt,onMousedown:Ds((()=>{}),["stop"])})])),xt:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var Px=mf(Dx,[["__file","picker.vue"]]);const Bx=Wh({...Ix,datetimeRole:String,parsedValue:{type:Object}}),Fx=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const i={};return{timePickerOptions:i,getAvailableTime:(i,r,o,s)=>{const a={hour:t,minute:e,second:n};let l=i;return["hour","minute","second"].forEach((t=>{if(a[t]){let e;const n=a[t];switch(t){case"minute":e=n(l.hour(),r,s);break;case"second":e=n(l.hour(),l.minute(),r,s);break;default:e=n(r,s)}if((null==e?void 0:e.length)&&!e.includes(l[t]())){const n=o?0:e.length-1;l=l[t](e[n])}}})),l},onSetOption:([t,e])=>{i[t]=e}}},Ux=t=>t.map(((t,e)=>t||e)).filter((t=>!0!==t)),Hx=(t,e,n)=>({getHoursList:(e,n)=>hb(24,t&&(()=>null==t?void 0:t(e,n))),getMinutesList:(t,n,i)=>hb(60,e&&(()=>null==e?void 0:e(t,n,i))),getSecondsList:(t,e,i,r)=>hb(60,n&&(()=>null==n?void 0:n(t,e,i,r)))}),zx=(t,e,n)=>{const{getHoursList:i,getMinutesList:r,getSecondsList:o}=Hx(t,e,n);return{getAvailableHours:(t,e)=>Ux(i(t,e)),getAvailableMinutes:(t,e,n)=>Ux(r(t,e,n)),getAvailableSeconds:(t,e,n,i)=>Ux(o(t,e,n,i))}},Vx=t=>{const e=Me(t.parsedValue);return fr((()=>t.visible),(n=>{n||(e.value=t.parsedValue)})),e},$x=Wh({role:{type:String,required:!0},spinnerDate:{type:Object,required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:String,default:""},...Nx}),Gx=100,jx=600,Wx={beforeMount(t,e){const n=e.value,{interval:i=Gx,delay:r=jx}=m(n)?{}:n;let o,s;const a=()=>m(n)?n():n.handler(),l=()=>{s&&(clearTimeout(s),s=void 0),o&&(clearInterval(o),o=void 0)};t.addEventListener("mousedown",(t=>{0===t.button&&(l(),a(),document.addEventListener("mouseup",(()=>l()),{once:!0}),s=setTimeout((()=>{o=setInterval((()=>{a()}),i)}),r))}))}};var Kx=mf(Un({$t:"basic-time-spinner",props:$x,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,i=Vi("EP_PICKER_BASE"),{isRange:r}=i.props,o=fa("time"),{getHoursList:s,getMinutesList:a,getSecondsList:l}=Hx(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let c=!1;const u=Me(),d={hours:Me(),minutes:Me(),seconds:Me()},h=vo((()=>n.showSeconds?kx:kx.slice(0,2))),f=vo((()=>{const{spinnerDate:t}=n;return{hours:t.hour(),minutes:t.minute(),seconds:t.second()}})),p=vo((()=>{const{hours:t,minutes:e}=Te(f),{role:i,spinnerDate:o}=n,c=r?void 0:o;return{hours:s(i,c),minutes:a(t,i,c),seconds:l(t,e,i,c)}})),m=vo((()=>{const{hours:t,minutes:e,seconds:n}=Te(f);return{hours:rb(t,23),minutes:rb(e,59),seconds:rb(n,59)}})),v=od((t=>{c=!1,b(t)}),200),g=t=>{if(!!!n.amPmMode)return"";let e=t<12?" am":" pm";return"A"===n.amPmMode&&(e=e.toUpperCase()),e},y=t=>{let n;switch(t){case"hours":n=[0,2];break;case"minutes":n=[3,5];break;case"seconds":n=[6,8]}const[i,r]=n;e("select-range",i,r),u.value=t},b=t=>{x(t,Te(f)[t])},w=()=>{b("hours"),b("minutes"),b("seconds")},_=t=>t.querySelector(`.${o.namespace.value}-scrollbar__wrap`),x=(t,e)=>{if(n.arrowControl)return;const i=Te(d[t]);i&&i.$el&&(_(i.$el).scrollTop=Math.max(0,e*S(t)))},S=t=>{const e=Te(d[t]),n=null==e?void 0:e.$el.querySelector("li");return n&&Number.parseFloat(xf(n,"height"))||0},M=()=>{k(1)},C=()=>{k(-1)},k=t=>{u.value||y("hours");const e=u.value,n=Te(f)[e],i="hours"===u.value?24:60,r=E(e,n,t,i);T(e,r),x(e,r),Qe((()=>y(e)))},E=(t,e,n,i)=>{let r=(e+n+i)%i;const o=Te(p)[t];for(;o[r]&&r!==e;)r=(r+n+i)%i;return r},T=(t,i)=>{if(Te(p)[t][i])return;const{hours:r,minutes:o,seconds:s}=Te(f);let a;switch(t){case"hours":a=n.spinnerDate.hour(i).minute(o).second(s);break;case"minutes":a=n.spinnerDate.hour(r).minute(i).second(s);break;case"seconds":a=n.spinnerDate.hour(r).minute(o).second(i)}e("change",a)},A=t=>Te(d[t]).$el.offsetHeight,N=()=>{const t=t=>{const e=Te(d[t]);e&&e.$el&&(_(e.$el).onscroll=()=>{(t=>{const e=Te(d[t]);if(!e)return;c=!0,v(t);const n=Math.min(Math.round((_(e.$el).scrollTop-(.5*A(t)-10)/S(t)+3)/S(t)),"hours"===t?23:59);T(t,n)})(t)})};t("hours"),t("minutes"),t("seconds")};Zn((()=>{Qe((()=>{!n.arrowControl&&N(),w(),"start"===n.role&&y("hours")}))}));return e("set-option",[`${n.role}_scrollDown`,k]),e("set-option",[`${n.role}_emitSelectRange`,y]),fr((()=>n.spinnerDate),(()=>{c||w()})),(t,e)=>(Rr(),Pr("div",{class:$([Te(o).b("spinner"),{"has-seconds":t.showSeconds}])},[t.arrowControl?Kr("v-if",!0):(Rr(!0),Pr(kr,{key:0},fi(Te(h),(e=>(Rr(),Br(Te(mm),{key:e,ref_for:!0,ref:t=>((t,e)=>{d[e].value=null!=t?t:void 0})(t,e),class:$(Te(o).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":Te(o).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:t=>y(e),onMousemove:t=>b(e)},{default:un((()=>[(Rr(!0),Pr(kr,null,fi(Te(p)[e],((n,i)=>(Rr(),Pr("li",{key:i,class:$([Te(o).be("spinner","item"),Te(o).is("active",i===Te(f)[e]),Te(o).is("disabled",n)]),onClick:t=>((t,{value:e,disabled:n})=>{n||(T(t,e),y(t),x(t,e))})(e,{value:i,disabled:n})},["hours"===e?(Rr(),Pr(kr,{key:0},[Wr(X(("0"+(t.amPmMode?i%12||12:i)).slice(-2))+X(g(i)),1)],64)):(Rr(),Pr(kr,{key:1},[Wr(X(("0"+i).slice(-2)),1)],64))],10,["onClick"])))),128))])),xt:2},1032,["class","view-class","onMouseenter","onMousemove"])))),128)),t.arrowControl?(Rr(!0),Pr(kr,{key:1},fi(Te(h),(e=>(Rr(),Pr("div",{key:e,class:$([Te(o).be("spinner","wrapper"),Te(o).is("arrow")]),onMouseenter:t=>y(e)},[dn((Rr(),Br(Te(Ff),{class:$(["arrow-up",Te(o).be("spinner","arrow")])},{default:un((()=>[$r(Te(Vf))])),xt:1},8,["class"])),[[Te(Wx),C]]),dn((Rr(),Br(Te(Ff),{class:$(["arrow-down",Te(o).be("spinner","arrow")])},{default:un((()=>[$r(Te(Uf))])),xt:1},8,["class"])),[[Te(Wx),M]]),Vr("ul",{class:$(Te(o).be("spinner","list"))},[(Rr(!0),Pr(kr,null,fi(Te(m)[e],((n,i)=>(Rr(),Pr("li",{key:i,class:$([Te(o).be("spinner","item"),Te(o).is("active",n===Te(f)[e]),Te(o).is("disabled",Te(p)[e][n])])},[Te(Ld)(n)?(Rr(),Pr(kr,{key:0},["hours"===e?(Rr(),Pr(kr,{key:0},[Wr(X(("0"+(t.amPmMode?n%12||12:n)).slice(-2))+X(g(n)),1)],64)):(Rr(),Pr(kr,{key:1},[Wr(X(("0"+n).slice(-2)),1)],64))],64)):Kr("v-if",!0)],2)))),128))],2)],42,["onMouseenter"])))),128)):Kr("v-if",!0)],2))}}),[["__file","basic-time-spinner.vue"]]);const qx=Un({$t:"panel-time-pick",props:Bx,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,i=Vi("EP_PICKER_BASE"),{arrowControl:r,disabledHours:o,disabledMinutes:s,disabledSeconds:a,defaultValue:l}=i.props,{getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}=zx(o,s,a),h=fa("time"),{t:f,lang:p}=$h(),m=Me([0,2]),v=Vx(n),g=vo((()=>Rd(n.actualVisible)?`${h.namespace.value}-zoom-in-top`:"")),y=vo((()=>n.format.includes("ss"))),b=vo((()=>n.format.includes("A")?"A":n.format.includes("a")?"a":"")),w=()=>{e("pick",v.value,!1)},_=t=>{if(!n.visible)return;const i=k(t).millisecond(0);e("pick",i,!0)},x=(t,n)=>{e("select-range",t,n),m.value=[t,n]},{timePickerOptions:S,onSetOption:M,getAvailableTime:C}=Fx({getAvailableHours:c,getAvailableMinutes:u,getAvailableSeconds:d}),k=t=>C(t,n.datetimeRole||"",!0);return e("set-picker-option",["isValidValue",t=>{const e=ib(t).locale(p.value),n=k(e);return e.isSame(n)}]),e("set-picker-option",["formatToString",t=>t?t.format(n.format):null]),e("set-picker-option",["parseUserInput",t=>t?ib(t,n.format).locale(p.value):null]),e("set-picker-option",["handleKeydownInput",t=>{const e=t.code,{left:n,right:i,up:r,down:o}=ev;if([n,i].includes(e)){return(t=>{const e=[0,3].concat(y.value?[6]:[]),n=["hours","minutes"].concat(y.value?["seconds"]:[]),i=(e.indexOf(m.value[0])+t+e.length)%e.length;S.start_emitSelectRange(n[i])})(e===n?-1:1),void t.preventDefault()}if([r,o].includes(e)){const n=e===r?-1:1;return S.start_scrollDown(n),void t.preventDefault()}}]),e("set-picker-option",["getRangeAvailableTime",k]),e("set-picker-option",["getDefaultValue",()=>ib(l).locale(p.value)]),(t,i)=>(Rr(),Br(Ro,{name:Te(g)},{default:un((()=>[t.actualVisible||t.visible?(Rr(),Pr("div",{key:0,class:$(Te(h).b("panel"))},[Vr("div",{class:$([Te(h).be("panel","content"),{"has-seconds":Te(y)}])},[$r(Kx,{ref:"spinner",role:t.datetimeRole||"start","arrow-control":Te(r),"show-seconds":Te(y),"am-pm-mode":Te(b),"spinner-date":t.parsedValue,"disabled-hours":Te(o),"disabled-minutes":Te(s),"disabled-seconds":Te(a),onChange:_,onSetOption:Te(M),onSelectRange:x},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),Vr("div",{class:$(Te(h).be("panel","footer"))},[Vr("button",{type:"button",class:$([Te(h).be("panel","btn"),"cancel"]),onClick:w},X(Te(f)("el.datepicker.cancel")),3),Vr("button",{type:"button",class:$([Te(h).be("panel","btn"),"confirm"]),onClick:t=>((t=!1,i=!1)=>{i||e("pick",n.parsedValue,t)})()},X(Te(f)("el.datepicker.confirm")),11,["onClick"])],2)],2)):Kr("v-if",!0)])),xt:1},8,["name"]))}});var Yx=mf(qx,[["__file","panel-time-pick.vue"]]);const Xx=Un({$t:"panel-time-range",props:Wh({...Ix,parsedValue:{type:Array}}),emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,i=(t,e)=>{const n=[];for(let i=t;i<=e;i++)n.push(i);return n},{t:r,lang:o}=$h(),s=fa("time"),a=fa("picker"),l=Vi("EP_PICKER_BASE"),{arrowControl:c,disabledHours:u,disabledMinutes:h,disabledSeconds:f,defaultValue:p}=l.props,m=vo((()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),w.value?"has-seconds":""])),v=vo((()=>[s.be("range-picker","body"),s.be("panel","content"),s.is("arrow",c),w.value?"has-seconds":""])),g=vo((()=>n.parsedValue[0])),y=vo((()=>n.parsedValue[1])),b=Vx(n),w=vo((()=>n.format.includes("ss"))),_=vo((()=>n.format.includes("A")?"A":n.format.includes("a")?"a":"")),x=t=>{M(t.millisecond(0),y.value)},S=t=>{M(g.value,t.millisecond(0))},M=(t,i)=>{n.visible&&e("pick",[t,i],!0)},C=vo((()=>g.value>y.value)),k=Me([0,2]),E=(t,n)=>{e("select-range",t,n,"min"),k.value=[t,n]},T=vo((()=>w.value?11:8)),A=(t,n)=>{e("select-range",t,n,"max");const i=Te(T);k.value=[t+i,n+i]},N=(t,e)=>{const n=u?u(t):[],r="start"===t,o=(e||(r?y.value:g.value)).hour(),s=r?i(o+1,23):i(0,o-1);return Id(n,s)},I=(t,e,n)=>{const r=h?h(t,e):[],o="start"===e,s=n||(o?y.value:g.value);if(t!==s.hour())return r;const a=s.minute(),l=o?i(a+1,59):i(0,a-1);return Id(r,l)},R=(t,e,n,r)=>{const o=f?f(t,e,n):[],s="start"===n,a=r||(s?y.value:g.value),l=a.hour(),c=a.minute();if(t!==l||e!==c)return o;const u=a.second(),d=s?i(u+1,59):i(0,u-1);return Id(o,d)},O=([t,e])=>[F(t,"start",!0,e),F(e,"end",!1,t)],{getAvailableHours:L,getAvailableMinutes:D,getAvailableSeconds:P}=zx(N,I,R),{timePickerOptions:B,getAvailableTime:F,onSetOption:U}=Fx({getAvailableHours:L,getAvailableMinutes:D,getAvailableSeconds:P});return e("set-picker-option",["formatToString",t=>t?d(t)?t.map((t=>t.format(n.format))):t.format(n.format):null]),e("set-picker-option",["parseUserInput",t=>t?d(t)?t.map((t=>ib(t,n.format).locale(o.value))):ib(t,n.format).locale(o.value):null]),e("set-picker-option",["isValidValue",t=>{const e=t.map((t=>ib(t).locale(o.value))),n=O(e);return e[0].isSame(n[0])&&e[1].isSame(n[1])}]),e("set-picker-option",["handleKeydownInput",t=>{const e=t.code,{left:n,right:i,up:r,down:o}=ev;if([n,i].includes(e)){return(t=>{const e=w.value?[0,3,6,11,14,17]:[0,3,8,11],n=["hours","minutes"].concat(w.value?["seconds"]:[]),i=(e.indexOf(k.value[0])+t+e.length)%e.length,r=e.length/2;i<r?B.start_emitSelectRange(n[i]):B.end_emitSelectRange(n[i-r])})(e===n?-1:1),void t.preventDefault()}if([r,o].includes(e)){const n=e===r?-1:1,i=k.value[0]<T.value?"start":"end";return B[`${i}_scrollDown`](n),void t.preventDefault()}}]),e("set-picker-option",["getDefaultValue",()=>{if(d(p))return p.map((t=>ib(t).locale(o.value)));const t=ib(p).locale(o.value);return[t,t.add(60,"m")]}]),e("set-picker-option",["getRangeAvailableTime",O]),(t,n)=>t.actualVisible?(Rr(),Pr("div",{key:0,class:$([Te(s).b("range-picker"),Te(a).b("panel")])},[Vr("div",{class:$(Te(s).be("range-picker","content"))},[Vr("div",{class:$(Te(s).be("range-picker","cell"))},[Vr("div",{class:$(Te(s).be("range-picker","header"))},X(Te(r)("el.datepicker.startTime")),3),Vr("div",{class:$(Te(m))},[$r(Kx,{ref:"minSpinner",role:"start","show-seconds":Te(w),"am-pm-mode":Te(_),"arrow-control":Te(c),"spinner-date":Te(g),"disabled-hours":N,"disabled-minutes":I,"disabled-seconds":R,onChange:x,onSetOption:Te(U),onSelectRange:E},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),Vr("div",{class:$(Te(s).be("range-picker","cell"))},[Vr("div",{class:$(Te(s).be("range-picker","header"))},X(Te(r)("el.datepicker.endTime")),3),Vr("div",{class:$(Te(v))},[$r(Kx,{ref:"maxSpinner",role:"end","show-seconds":Te(w),"am-pm-mode":Te(_),"arrow-control":Te(c),"spinner-date":Te(y),"disabled-hours":N,"disabled-minutes":I,"disabled-seconds":R,onChange:S,onSetOption:Te(U),onSelectRange:A},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),Vr("div",{class:$(Te(s).be("panel","footer"))},[Vr("button",{type:"button",class:$([Te(s).be("panel","btn"),"cancel"]),onClick:t=>{e("pick",b.value,!1)}},X(Te(r)("el.datepicker.cancel")),11,["onClick"]),Vr("button",{type:"button",class:$([Te(s).be("panel","btn"),"confirm"]),disabled:Te(C),onClick:t=>((t=!1)=>{e("pick",[g.value,y.value],t)})()},X(Te(r)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):Kr("v-if",!0)}});var Zx=mf(Xx,[["__file","panel-time-range.vue"]]);ib.extend(ex);const Jx=Of(Un({name:"ElTimePicker",install:null,props:{...Rx,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=Me(),[i,r]=t.isRange?["timerange",Zx]:["time",Yx],o=t=>e.emit("update:modelValue",t);return zi("ElPopperOptions",t.popperOptions),e.expose({focus:()=>{var t;null==(t=n.value)||t.focus()},blur:()=>{var t;null==(t=n.value)||t.blur()},handleOpen:()=>{var t;null==(t=n.value)||t.handleOpen()},handleClose:()=>{var t;null==(t=n.value)||t.handleClose()}}),()=>{var e;const s=null!=(e=t.format)?e:Ex;return $r(Px,Zr(t,{ref:n,type:i,format:s,"onUpdate:modelValue":o}),{default:t=>$r(r,t,null)})}}})),Qx=Symbol(),tS=Wh({...Rx,type:{type:String,default:"date"}}),eS=["date","dates","year","years","month","months","week","range"],nS=Wh({disabledDate:{type:Function},date:{type:Object,required:!0},minDate:{type:Object},maxDate:{type:Object},parsedValue:{type:[Object,Array]},rangeState:{type:Object,default:()=>({endDate:null,selecting:!1})}}),iS=Wh({type:{type:String,required:!0,values:["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"]},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),rS=Wh({unlinkPanels:Boolean,parsedValue:{type:Array}}),oS=t=>({type:String,values:eS,default:t}),sS=Wh({...iS,parsedValue:{type:[Object,Array]},visible:{type:Boolean},format:{type:String,default:""}}),aS=t=>{if(!d(t))return!1;const[e,n]=t;return ib.isDayjs(e)&&ib.isDayjs(n)&&ib(e).isValid()&&ib(n).isValid()&&e.isSameOrBefore(n)},lS=(t,{lang:e,unit:n,unlinkPanels:i})=>{let r;if(d(t)){let[r,o]=t.map((t=>ib(t).locale(e)));return i||(o=r.add(1,n)),[r,o]}return r=t?ib(t):ib(),r=r.locale(e),[r,r.add(1,n)]},cS=(t,e,n)=>{const i=ib().locale(n).startOf("month").month(e).year(t),r=i.daysInMonth();return ob(r).map((t=>i.add(t,"day").toDate()))},uS=(t,e,n,i)=>{const r=ib().year(t).month(e).startOf("month"),o=cS(t,e,n).find((t=>!(null==i?void 0:i(t))));return o?ib(o).locale(n):r.locale(n)},dS=(t,e,n)=>{const i=t.year();if(!(null==n?void 0:n(t.toDate())))return t.locale(e);const r=t.month();if(!cS(i,r,e).every(n))return uS(i,r,e,n);for(let o=0;o<12;o++)if(!cS(i,o,e).every(n))return uS(i,o,e,n);return t},hS=(t,e,n)=>{if(d(t))return t.map((t=>hS(t,e,n)));if("string"==typeof t){const e=ib(t);if(!e.isValid())return e}return ib(t,e).locale(n)},fS=Wh({...nS,cellClassName:{type:Function},showWeekNumber:Boolean,selectionMode:oS("date")}),pS=(t="")=>["normal","today"].includes(t),mS=(t,e)=>{const{lang:n}=$h(),i=Me(),r=Me(),o=Me(),s=Me(),a=Me([[],[],[],[],[],[]]);let l=!1;const c=t.date.$locale().weekStart||7,u=t.date.locale("en").localeData().weekdaysShort().map((t=>t.toLowerCase())),h=vo((()=>c>3?7-c:-c)),f=vo((()=>{const e=t.date.startOf("month");return e.subtract(e.day()||7,"day")})),p=vo((()=>u.concat(u).slice(c,c+7))),m=vo((()=>Ec(Te(w)).some((t=>t.isCurrent)))),v=vo((()=>{const e=t.date.startOf("month");return{startOfMonthDay:e.day()||7,dateCountOfMonth:e.daysInMonth(),dateCountOfLastMonth:e.subtract(1,"month").daysInMonth()}})),g=vo((()=>"dates"===t.selectionMode?Dw(t.parsedValue):[])),y=(e,{columnIndex:n,rowIndex:i},r)=>{const{disabledDate:o,cellClassName:s}=t,a=Te(g),l=((t,{count:e,rowIndex:n,columnIndex:i})=>{const{startOfMonthDay:r,dateCountOfMonth:o,dateCountOfLastMonth:s}=Te(v),a=Te(h);if(!(n>=0&&n<=1))return e<=o?t.text=e:(t.text=e-o,t.type="next-month"),!0;{const o=r+a<0?7+r+a:r+a;if(i+7*n>=o)return t.text=e,!0;t.text=s-(o-i%7)+1+7*n,t.type="prev-month"}return!1})(e,{count:r,rowIndex:i,columnIndex:n}),c=e.dayjs.toDate();return e.selected=a.find((t=>t.isSame(e.dayjs,"day"))),e.isSelected=!!e.selected,e.isCurrent=x(e),e.disabled=null==o?void 0:o(c),e.customClass=null==s?void 0:s(c),l},b=e=>{if("week"===t.selectionMode){const[n,i]=t.showWeekNumber?[1,7]:[0,6],r=k(e[n+1]);e[n].inRange=r,e[n].start=r,e[i].inRange=r,e[i].end=r}},w=vo((()=>{const{minDate:e,maxDate:i,rangeState:r,showWeekNumber:o}=t,s=Te(h),l=Te(a),c="day";let u=1;if(o)for(let t=0;t<6;t++)l[t][0]||(l[t][0]={type:"week",text:Te(f).add(7*t+1,c).week()});return((t,e,{columnIndexOffset:n,startDate:i,nextEndDate:r,now:o,unit:s,relativeDateGetter:a,setCellMetadata:l,setRowMetadata:c})=>{for(let u=0;u<t.row;u++){const d=e[u];for(let e=0;e<t.column;e++){let c=d[e+n];c||(c={row:u,column:e,type:"normal",inRange:!1,start:!1,end:!1});const h=a(u*t.column+e);c.dayjs=h,c.date=h.toDate(),c.timestamp=h.valueOf(),c.type="normal",c.inRange=!!(i&&h.isSameOrAfter(i,s)&&r&&h.isSameOrBefore(r,s))||!!(i&&h.isSameOrBefore(i,s)&&r&&h.isSameOrAfter(r,s)),(null==i?void 0:i.isSameOrAfter(r))?(c.start=!!r&&h.isSame(r,s),c.end=i&&h.isSame(i,s)):(c.start=!!i&&h.isSame(i,s),c.end=!!r&&h.isSame(r,s)),h.isSame(o,s)&&(c.type="today"),null==l||l(c,{rowIndex:u,columnIndex:e}),d[e+n]=c}null==c||c(d)}})({row:6,column:7},l,{startDate:e,columnIndexOffset:o?1:0,nextEndDate:r.endDate||i||r.selecting&&e||null,now:ib().locale(Te(n)).startOf(c),unit:c,relativeDateGetter:t=>Te(f).add(t-s,c),setCellMetadata:(...t)=>{y(...t,u)&&(u+=1)},setRowMetadata:b}),l}));fr((()=>t.date),(async()=>{var t;(null==(t=Te(i))?void 0:t.contains(document.activeElement))&&(await Qe(),await _())}));const _=async()=>{var t;return null==(t=Te(r))?void 0:t.focus()},x=e=>"date"===t.selectionMode&&pS(e.type)&&S(e,t.parsedValue),S=(e,i)=>!!i&&ib(i).locale(Te(n)).isSame(t.date.date(Number(e.text)),"day"),M=(e,n)=>{const i=7*e+(n-(t.showWeekNumber?1:0))-Te(h);return Te(f).add(i,"day")},C=(n,i=!1)=>{const r=n.target.closest("td");if(!r)return;const o=r.parentNode.rowIndex-1,s=r.cellIndex,a=Te(w)[o][s];if(a.disabled||"week"===a.type)return;const l=M(o,s);switch(t.selectionMode){case"range":(n=>{t.rangeState.selecting&&t.minDate?(n>=t.minDate?e("pick",{minDate:t.minDate,maxDate:n}):e("pick",{minDate:n,maxDate:t.minDate}),e("select",!1)):(e("pick",{minDate:n,maxDate:null}),e("select",!0))})(l);break;case"date":e("pick",l,i);break;case"week":(t=>{const n=t.week(),i=`${t.year()}w${n}`;e("pick",{year:t.year(),week:n,value:i,date:t.startOf("week")})})(l);break;case"dates":((n,i)=>{const r=i?Dw(t.parsedValue).filter((t=>(null==t?void 0:t.valueOf())!==n.valueOf())):Dw(t.parsedValue).concat([n]);e("pick",r)})(l,!!a.selected)}},k=e=>{if("week"!==t.selectionMode)return!1;let n=t.date.startOf("day");if("prev-month"===e.type&&(n=n.subtract(1,"month")),"next-month"===e.type&&(n=n.add(1,"month")),n=n.date(Number.parseInt(e.text,10)),t.parsedValue&&!d(t.parsedValue)){const e=(t.parsedValue.day()-c+7)%7-1;return t.parsedValue.subtract(e,"day").isSame(n,"day")}return!1};return{WEEKS:p,rows:w,tbodyRef:i,currentCellRef:r,focus:_,isCurrent:x,isWeekActive:k,isSelectedCell:t=>!Te(m)&&1===(null==t?void 0:t.text)&&"normal"===t.type||t.isCurrent,handlePickDate:C,handleMouseUp:t=>{t.target.closest("td")&&(l=!1)},handleMouseDown:t=>{t.target.closest("td")&&(l=!0)},handleMouseMove:n=>{var i;if(!t.rangeState.selecting)return;let r=n.target;if("SPAN"===r.tagName&&(r=null==(i=r.parentNode)?void 0:i.parentNode),"DIV"===r.tagName&&(r=r.parentNode),"TD"!==r.tagName)return;const a=r.parentNode.rowIndex-1,l=r.cellIndex;Te(w)[a][l].disabled||a===Te(o)&&l===Te(s)||(o.value=a,s.value=l,e("changerange",{selecting:!0,endDate:M(a,l)}))},handleFocus:e=>{l||Te(m)||"date"!==t.selectionMode||C(e,!0)}}};var vS=Un({name:"ElDatePickerCell",props:Wh({cell:{type:Object}}),setup(t){const e=fa("date-table-cell"),{slots:n}=Vi(Qx);return()=>{const{cell:i}=t;return mi(n,"default",{...i},(()=>{var t;return[$r("div",{class:e.b()},[$r("span",{class:e.e("text")},[null!=(t=null==i?void 0:i.renderText)?t:null==i?void 0:i.text])])]}))}}});const gS=Un({$t:"basic-date-table",props:fS,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const i=t,{WEEKS:r,rows:o,tbodyRef:s,currentCellRef:a,focus:l,isCurrent:c,isWeekActive:u,isSelectedCell:d,handlePickDate:h,handleMouseUp:f,handleMouseDown:p,handleMouseMove:m,handleFocus:v}=mS(i,n),{tableLabel:g,tableKls:y,weekLabel:b,getCellClasses:w,getRowKls:_,t:x}=((t,{isCurrent:e,isWeekActive:n})=>{const i=fa("date-table"),{t:r}=$h();return{tableKls:vo((()=>[i.b(),{"is-week-mode":"week"===t.selectionMode}])),tableLabel:vo((()=>r("el.datepicker.dateTablePrompt"))),weekLabel:vo((()=>r("el.datepicker.week"))),getCellClasses:n=>{const i=[];return pS(n.type)&&!n.disabled?(i.push("available"),"today"===n.type&&i.push("today")):i.push(n.type),e(n)&&i.push("current"),n.inRange&&(pS(n.type)||"week"===t.selectionMode)&&(i.push("in-range"),n.start&&i.push("start-date"),n.end&&i.push("end-date")),n.disabled&&i.push("disabled"),n.selected&&i.push("selected"),n.customClass&&i.push(n.customClass),i.join(" ")},getRowKls:t=>[i.e("row"),{current:n(t)}],t:r}})(i,{isCurrent:c,isWeekActive:u});return e({focus:l}),(t,e)=>(Rr(),Pr("table",{"aria-label":Te(g),class:$(Te(y)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:Te(h),onMousemove:Te(m),onMousedown:Ds(Te(p),["prevent"]),onMouseup:Te(f)},[Vr("tbody",{ref_key:"tbodyRef",ref:s},[Vr("tr",null,[t.showWeekNumber?(Rr(),Pr("th",{key:0,scope:"col"},X(Te(b)),1)):Kr("v-if",!0),(Rr(!0),Pr(kr,null,fi(Te(r),((t,e)=>(Rr(),Pr("th",{key:e,"aria-label":Te(x)("el.datepicker.weeksFull."+t),scope:"col"},X(Te(x)("el.datepicker.weeks."+t)),9,["aria-label"])))),128))]),(Rr(!0),Pr(kr,null,fi(Te(o),((t,e)=>(Rr(),Pr("tr",{key:e,class:$(Te(_)(t[1]))},[(Rr(!0),Pr(kr,null,fi(t,((t,n)=>(Rr(),Pr("td",{key:`${e}.${n}`,ref_for:!0,ref:e=>Te(d)(t)&&(a.value=e),class:$(Te(w)(t)),"aria-current":t.isCurrent?"date":void 0,"aria-selected":t.isCurrent,tabindex:Te(d)(t)?0:-1,onFocus:Te(v)},[$r(Te(vS),{cell:t},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"])))),128))],2)))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var yS=mf(gS,[["__file","basic-date-table.vue"]]);const bS=Un({$t:"basic-month-table",props:Wh({...nS,selectionMode:oS("month")}),emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const i=t,r=fa("month-table"),{t:o,lang:s}=$h(),a=Me(),l=Me(),c=Me(i.date.locale("en").localeData().monthsShort().map((t=>t.toLowerCase()))),u=Me([[],[],[]]),d=Me(),h=Me(),f=vo((()=>{var t,e;const n=u.value,r=ib().locale(s.value).startOf("month");for(let o=0;o<3;o++){const s=n[o];for(let n=0;n<4;n++){const a=s[n]||(s[n]={row:o,column:n,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});a.type="normal";const l=4*o+n,c=i.date.startOf("year").month(l),u=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;a.inRange=!!(i.minDate&&c.isSameOrAfter(i.minDate,"month")&&u&&c.isSameOrBefore(u,"month"))||!!(i.minDate&&c.isSameOrBefore(i.minDate,"month")&&u&&c.isSameOrAfter(u,"month")),(null==(t=i.minDate)?void 0:t.isSameOrAfter(u))?(a.start=!(!u||!c.isSame(u,"month")),a.end=i.minDate&&c.isSame(i.minDate,"month")):(a.start=!(!i.minDate||!c.isSame(i.minDate,"month")),a.end=!(!u||!c.isSame(u,"month")));r.isSame(c)&&(a.type="today"),a.text=l,a.disabled=(null==(e=i.disabledDate)?void 0:e.call(i,c.toDate()))||!1}}return n})),p=t=>{const e={},n=i.date.year(),r=new Date,o=t.text;return e.disabled=!!i.disabledDate&&cS(n,o,s.value).every(i.disabledDate),e.current=Dw(i.parsedValue).findIndex((t=>ib.isDayjs(t)&&t.year()===n&&t.month()===o))>=0,e.today=r.getFullYear()===n&&r.getMonth()===o,t.inRange&&(e["in-range"]=!0,t.start&&(e["start-date"]=!0),t.end&&(e["end-date"]=!0)),e},m=t=>{const e=i.date.year(),n=t.text;return Dw(i.date).findIndex((t=>t.year()===e&&t.month()===n))>=0},v=t=>{var e;if(!i.rangeState.selecting)return;let r=t.target;if("SPAN"===r.tagName&&(r=null==(e=r.parentNode)?void 0:e.parentNode),"DIV"===r.tagName&&(r=r.parentNode),"TD"!==r.tagName)return;const o=r.parentNode.rowIndex,s=r.cellIndex;f.value[o][s].disabled||o===d.value&&s===h.value||(d.value=o,h.value=s,n("changerange",{selecting:!0,endDate:i.date.startOf("year").month(4*o+s)}))},g=t=>{var e;const r=null==(e=t.target)?void 0:e.closest("td");if("TD"!==(null==r?void 0:r.tagName))return;if(bf(r,"disabled"))return;const o=r.cellIndex,a=4*r.parentNode.rowIndex+o,l=i.date.startOf("year").month(a);if("months"===i.selectionMode){if("keydown"===t.type)return void n("pick",Dw(i.parsedValue),!1);const e=uS(i.date.year(),a,s.value,i.disabledDate),o=bf(r,"current")?Dw(i.parsedValue).filter((t=>(null==t?void 0:t.year())!==e.year()||(null==t?void 0:t.month())!==e.month())):Dw(i.parsedValue).concat([ib(e)]);n("pick",o)}else"range"===i.selectionMode?i.rangeState.selecting?(i.minDate&&l>=i.minDate?n("pick",{minDate:i.minDate,maxDate:l}):n("pick",{minDate:l,maxDate:i.minDate}),n("select",!1)):(n("pick",{minDate:l,maxDate:null}),n("select",!0)):n("pick",a)};return fr((()=>i.date),(async()=>{var t,e;(null==(t=a.value)?void 0:t.contains(document.activeElement))&&(await Qe(),null==(e=l.value)||e.focus())})),e({focus:()=>{var t;null==(t=l.value)||t.focus()}}),(t,e)=>(Rr(),Pr("table",{role:"grid","aria-label":Te(o)("el.datepicker.monthTablePrompt"),class:$(Te(r).b()),onClick:g,onMousemove:v},[Vr("tbody",{ref_key:"tbodyRef",ref:a},[(Rr(!0),Pr(kr,null,fi(Te(f),((t,e)=>(Rr(),Pr("tr",{key:e},[(Rr(!0),Pr(kr,null,fi(t,((t,e)=>(Rr(),Pr("td",{key:e,ref_for:!0,ref:e=>m(t)&&(l.value=e),class:$(p(t)),"aria-selected":`${m(t)}`,"aria-label":Te(o)("el.datepicker.month"+(+t.text+1)),tabindex:m(t)?0:-1,onKeydown:[Bs(Ds(g,["prevent","stop"]),["space"]),Bs(Ds(g,["prevent","stop"]),["enter"])]},[$r(Te(vS),{cell:{...t,renderText:Te(o)("el.datepicker.months."+c.value[t.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"])))),128))])))),128))],512)],42,["aria-label"]))}});var wS=mf(bS,[["__file","basic-month-table.vue"]]);const _S=Un({$t:"basic-year-table",props:Wh({...nS,selectionMode:oS("year")}),emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const i=t,r=fa("year-table"),{t:o,lang:s}=$h(),a=Me(),l=Me(),c=vo((()=>10*Math.floor(i.date.year()/10))),u=Me([[],[],[]]),d=Me(),h=Me(),f=vo((()=>{var t;const e=u.value,n=ib().locale(s.value).startOf("year");for(let r=0;r<3;r++){const o=e[r];for(let e=0;e<4&&!(4*r+e>=10);e++){let s=o[e];s||(s={row:r,column:e,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),s.type="normal";const a=4*r+e+c.value,l=ib().year(a),u=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;s.inRange=!!(i.minDate&&l.isSameOrAfter(i.minDate,"year")&&u&&l.isSameOrBefore(u,"year"))||!!(i.minDate&&l.isSameOrBefore(i.minDate,"year")&&u&&l.isSameOrAfter(u,"year")),(null==(t=i.minDate)?void 0:t.isSameOrAfter(u))?(s.start=!(!u||!l.isSame(u,"year")),s.end=!(!i.minDate||!l.isSame(i.minDate,"year"))):(s.start=!(!i.minDate||!l.isSame(i.minDate,"year")),s.end=!(!u||!l.isSame(u,"year")));n.isSame(l)&&(s.type="today"),s.text=a;const d=l.toDate();s.disabled=i.disabledDate&&i.disabledDate(d)||!1,o[e]=s}}return e})),p=t=>{const e={},n=ib().locale(s.value),r=t.text;return e.disabled=!!i.disabledDate&&((t,e)=>{const n=ib(String(t)).locale(e).startOf("year"),i=n.endOf("year").dayOfYear();return ob(i).map((t=>n.add(t,"day").toDate()))})(r,s.value).every(i.disabledDate),e.today=n.year()===r,e.current=Dw(i.parsedValue).findIndex((t=>t.year()===r))>=0,t.inRange&&(e["in-range"]=!0,t.start&&(e["start-date"]=!0),t.end&&(e["end-date"]=!0)),e},m=t=>{const e=t.text;return Dw(i.date).findIndex((t=>t.year()===e))>=0},v=t=>{var e;const r=null==(e=t.target)?void 0:e.closest("td");if(!r||!r.textContent||bf(r,"disabled"))return;const o=r.cellIndex,a=4*r.parentNode.rowIndex+o+c.value,l=ib().year(a);if("range"===i.selectionMode)i.rangeState.selecting?(i.minDate&&l>=i.minDate?n("pick",{minDate:i.minDate,maxDate:l}):n("pick",{minDate:l,maxDate:i.minDate}),n("select",!1)):(n("pick",{minDate:l,maxDate:null}),n("select",!0));else if("years"===i.selectionMode){if("keydown"===t.type)return void n("pick",Dw(i.parsedValue),!1);const e=dS(l.startOf("year"),s.value,i.disabledDate),o=bf(r,"current")?Dw(i.parsedValue).filter((t=>(null==t?void 0:t.year())!==a)):Dw(i.parsedValue).concat([e]);n("pick",o)}else n("pick",a)},g=t=>{var e;if(!i.rangeState.selecting)return;const r=null==(e=t.target)?void 0:e.closest("td");if(!r)return;const o=r.parentNode.rowIndex,s=r.cellIndex;f.value[o][s].disabled||o===d.value&&s===h.value||(d.value=o,h.value=s,n("changerange",{selecting:!0,endDate:ib().year(c.value).add(4*o+s,"year")}))};return fr((()=>i.date),(async()=>{var t,e;(null==(t=a.value)?void 0:t.contains(document.activeElement))&&(await Qe(),null==(e=l.value)||e.focus())})),e({focus:()=>{var t;null==(t=l.value)||t.focus()}}),(t,e)=>(Rr(),Pr("table",{role:"grid","aria-label":Te(o)("el.datepicker.yearTablePrompt"),class:$(Te(r).b()),onClick:v,onMousemove:g},[Vr("tbody",{ref_key:"tbodyRef",ref:a},[(Rr(!0),Pr(kr,null,fi(Te(f),((t,e)=>(Rr(),Pr("tr",{key:e},[(Rr(!0),Pr(kr,null,fi(t,((t,n)=>(Rr(),Pr("td",{key:`${e}_${n}`,ref_for:!0,ref:e=>m(t)&&(l.value=e),class:$(["available",p(t)]),"aria-selected":m(t),"aria-label":String(t.text),tabindex:m(t)?0:-1,onKeydown:[Bs(Ds(v,["prevent","stop"]),["space"]),Bs(Ds(v,["prevent","stop"]),["enter"])]},[$r(Te(vS),{cell:t},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"])))),128))])))),128))],512)],42,["aria-label"]))}});var xS=mf(_S,[["__file","basic-year-table.vue"]]);const SS=Un({$t:"panel-date-pick",props:sS,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,i=fa("picker-panel"),r=fa("date-picker"),o=xi(),s=_i(),{t:a,lang:l}=$h(),c=Vi("EP_PICKER_BASE"),u=Vi(Og),{shortcuts:h,disabledDate:f,cellClassName:p,defaultTime:v}=c.props,g=De(c.props,"defaultValue"),y=Me(),b=Me(ib().locale(l.value)),w=Me(!1);let _=!1;const x=vo((()=>ib(v).locale(l.value))),S=vo((()=>b.value.month())),M=vo((()=>b.value.year())),C=Me([]),k=Me(null),E=Me(null),T=t=>!(C.value.length>0)||(C.value,n.format,!0),A=t=>!v||Q.value||w.value||_?G.value?t.millisecond(0):t.startOf("day"):x.value.year(t.year()).month(t.month()).date(t.date()),N=(t,...n)=>{if(t)if(d(t)){const i=t.map(A);e("pick",i,...n)}else e("pick",A(t),...n);else e("pick",t,...n);k.value=null,E.value=null,w.value=!1,_=!1},I=async(t,e)=>{if("date"===P.value){let i=n.parsedValue?n.parsedValue.year(t.year()).month(t.month()).date(t.date()):t;T()||(i=C.value[0][0].year(t.year()).month(t.month()).date(t.date())),b.value=i,N(i,G.value||e),"datetime"===n.type&&(await Qe(),ct())}else"week"===P.value?N(t.date):"dates"===P.value&&N(t,!0)},R=t=>{const e=t?"add":"subtract";b.value=b.value[e](1,"month"),ht("month")},O=t=>{const e=b.value,n=t?"add":"subtract";b.value="year"===L.value?e[n](10,"year"):e[n](1,"year"),ht("year")},L=Me("date"),D=vo((()=>{const t=a("el.datepicker.year");if("year"===L.value){const e=10*Math.floor(M.value/10);return t?`${e} ${t} - ${e+9} ${t}`:`${e} - ${e+9}`}return`${M.value} ${t}`})),P=vo((()=>{const{type:t}=n;return["week","month","months","year","years","dates"].includes(t)?t:"date"})),B=vo((()=>"dates"===P.value||"months"===P.value||"years"===P.value)),F=vo((()=>"date"===P.value?L.value:P.value)),U=vo((()=>!!h.length)),H=async(t,e)=>{"month"===P.value?(b.value=uS(b.value.year(),t,l.value,f),N(b.value,!1)):"months"===P.value?N(t,null==e||e):(b.value=uS(b.value.year(),t,l.value,f),L.value="date",["month","year","date","week"].includes(P.value)&&(N(b.value,!0),await Qe(),ct())),ht("month")},z=async(t,e)=>{if("year"===P.value){const e=b.value.startOf("year").year(t);b.value=dS(e,l.value,f),N(b.value,!1)}else if("years"===P.value)N(t,null==e||e);else{const e=b.value.year(t);b.value=dS(e,l.value,f),L.value="month",["month","year","date","week"].includes(P.value)&&(N(b.value,!0),await Qe(),ct())}ht("year")},V=async t=>{L.value=t,await Qe(),ct()},G=vo((()=>"datetime"===n.type||"datetimerange"===n.type)),j=vo((()=>{const t=G.value||"dates"===P.value,e="years"===P.value,n="months"===P.value,i="date"===L.value,r="year"===L.value,o="month"===L.value;return t&&i||e&&r||n&&o})),W=vo((()=>!!f&&(!n.parsedValue||(d(n.parsedValue)?f(n.parsedValue[0].toDate()):f(n.parsedValue.toDate()))))),K=()=>{if(B.value)N(n.parsedValue);else{let t=n.parsedValue;if(!t){const e=ib(v).locale(l.value),n=lt();t=e.year(n.year()).month(n.month()).date(n.date())}b.value=t,N(t)}},q=vo((()=>!!f&&f(ib().locale(l.value).toDate()))),Y=()=>{const t=ib().locale(l.value).toDate();w.value=!0,f&&f(t)||!T()||(b.value=ib().locale(l.value),N(b.value))},Z=vo((()=>n.timeFormat||ab(n.format))),J=vo((()=>n.dateFormat||sb(n.format))),Q=vo((()=>E.value?E.value:n.parsedValue||g.value?(n.parsedValue||b.value).format(Z.value):void 0)),tt=vo((()=>k.value?k.value:n.parsedValue||g.value?(n.parsedValue||b.value).format(J.value):void 0)),et=Me(!1),nt=()=>{et.value=!0},it=()=>{et.value=!1},rt=t=>({hour:t.hour(),minute:t.minute(),second:t.second(),year:t.year(),month:t.month(),date:t.date()}),ot=(t,e,i)=>{const{hour:r,minute:o,second:s}=rt(t),a=n.parsedValue?n.parsedValue.hour(r).minute(o).second(s):t;b.value=a,N(b.value,!0),i||(et.value=e)},st=t=>{const e=ib(t,Z.value).locale(l.value);if(e.isValid()&&T()){const{year:t,month:n,date:i}=rt(b.value);b.value=e.year(t).month(n).date(i),E.value=null,et.value=!1,N(b.value,!0)}},at=t=>{const e=hS(t,J.value,l.value);if(e.isValid()){if(f&&f(e.toDate()))return;const{hour:t,minute:n,second:i}=rt(b.value);b.value=e.hour(t).minute(n).second(i),k.value=null,N(b.value,!0)}},lt=()=>{const t=ib(g.value).locale(l.value);if(!g.value){const t=x.value;return ib().hour(t.hour()).minute(t.minute()).second(t.second()).locale(l.value)}return t},ct=()=>{var t;["week","month","year","date"].includes(P.value)&&(null==(t=y.value)||t.focus())},ut=t=>{const{code:e}=t;[ev.up,ev.down,ev.left,ev.right,ev.home,ev.end,ev.pageUp,ev.pageDown].includes(e)&&(dt(e),t.stopPropagation(),t.preventDefault()),[ev.enter,ev.space,ev.numpadEnter].includes(e)&&null===k.value&&null===E.value&&(t.preventDefault(),N(b.value,!1))},dt=t=>{var n;const{up:i,down:r,left:o,right:s,home:a,end:c,pageUp:u,pageDown:d}=ev,h={year:{[i]:-4,[r]:4,[o]:-1,[s]:1,offset:(t,e)=>t.setFullYear(t.getFullYear()+e)},month:{[i]:-4,[r]:4,[o]:-1,[s]:1,offset:(t,e)=>t.setMonth(t.getMonth()+e)},week:{[i]:-1,[r]:1,[o]:-1,[s]:1,offset:(t,e)=>t.setDate(t.getDate()+7*e)},date:{[i]:-7,[r]:7,[o]:-1,[s]:1,[a]:t=>-t.getDay(),[c]:t=>6-t.getDay(),[u]:t=>-new Date(t.getFullYear(),t.getMonth(),0).getDate(),[d]:t=>new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),offset:(t,e)=>t.setDate(t.getDate()+e)}},p=b.value.toDate();for(;Math.abs(b.value.diff(p,"year",!0))<1;){const i=h[F.value];if(!i)return;if(i.offset(p,m(i[t])?i[t](p):null!=(n=i[t])?n:0),f&&f(p))break;const r=ib(p).locale(l.value);b.value=r,e("pick",r,!0);break}},ht=t=>{e("panel-change",b.value.toDate(),t,L.value)};return fr((()=>P.value),(t=>{["month","year"].includes(t)?L.value=t:L.value="years"!==t?"months"!==t?"date":"month":"year"}),{immediate:!0}),fr((()=>L.value),(()=>{null==u||u.updatePopper()})),fr((()=>g.value),(t=>{t&&(b.value=lt())}),{immediate:!0}),fr((()=>n.parsedValue),(t=>{if(t){if(B.value)return;if(d(t))return;b.value=t}else b.value=lt()}),{immediate:!0}),e("set-picker-option",["isValidValue",t=>ib.isDayjs(t)&&t.isValid()&&(!f||!f(t.toDate()))]),e("set-picker-option",["formatToString",t=>d(t)?t.map((t=>t.format(n.format))):t.format(n.format)]),e("set-picker-option",["parseUserInput",t=>hS(t,n.format,l.value)]),e("set-picker-option",["handleFocusPicker",()=>{ct(),"week"===P.value&&dt(ev.down)}]),(t,n)=>(Rr(),Pr("div",{class:$([Te(i).b(),Te(r).b(),{"has-sidebar":t.$slots.sidebar||Te(U),"has-time":Te(G)}])},[Vr("div",{class:$(Te(i).e("body-wrapper"))},[mi(t.$slots,"sidebar",{class:$(Te(i).e("sidebar"))}),Te(U)?(Rr(),Pr("div",{key:0,class:$(Te(i).e("sidebar"))},[(Rr(!0),Pr(kr,null,fi(Te(h),((t,n)=>(Rr(),Pr("button",{key:n,type:"button",class:$(Te(i).e("shortcut")),onClick:n=>(t=>{const n=m(t.value)?t.value():t.value;if(n)return _=!0,void N(ib(n).locale(l.value));t.onClick&&t.onClick({attrs:o,slots:s,emit:e})})(t)},X(t.text),11,["onClick"])))),128))],2)):Kr("v-if",!0),Vr("div",{class:$(Te(i).e("body"))},[Te(G)?(Rr(),Pr("div",{key:0,class:$(Te(r).e("time-header"))},[Vr("span",{class:$(Te(r).e("editor-wrap"))},[$r(Te(sm),{placeholder:Te(a)("el.datepicker.selectDate"),"model-value":Te(tt),size:"small","validate-event":!1,onInput:t=>k.value=t,onChange:at},null,8,["placeholder","model-value","onInput"])],2),dn((Rr(),Pr("span",{class:$(Te(r).e("editor-wrap"))},[$r(Te(sm),{placeholder:Te(a)("el.datepicker.selectTime"),"model-value":Te(Q),size:"small","validate-event":!1,onFocus:nt,onInput:t=>E.value=t,onChange:st},null,8,["placeholder","model-value","onInput"]),$r(Te(Yx),{visible:et.value,format:Te(Z),"parsed-value":b.value,onPick:ot},null,8,["visible","format","parsed-value"])],2)),[[Te(jw),it]])],2)):Kr("v-if",!0),dn(Vr("div",{class:$([Te(r).e("header"),("year"===L.value||"month"===L.value)&&Te(r).e("header--bordered")])},[Vr("span",{class:$(Te(r).e("prev-btn"))},[Vr("button",{type:"button","aria-label":Te(a)("el.datepicker.prevYear"),class:$(["d-arrow-left",Te(i).e("icon-btn")]),onClick:t=>O(!1)},[mi(t.$slots,"prev-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(tp))])),xt:1})]))],10,["aria-label","onClick"]),dn(Vr("button",{type:"button","aria-label":Te(a)("el.datepicker.prevMonth"),class:$([Te(i).e("icon-btn"),"arrow-left"]),onClick:t=>R(!1)},[mi(t.$slots,"prev-month",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(Hf))])),xt:1})]))],10,["aria-label","onClick"]),[[qo,"date"===L.value]])],2),Vr("span",{role:"button",class:$(Te(r).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:Bs((t=>V("year")),["enter"]),onClick:t=>V("year")},X(Te(D)),43,["onKeydown","onClick"]),dn(Vr("span",{role:"button","aria-live":"polite",tabindex:"0",class:$([Te(r).e("header-label"),{active:"month"===L.value}]),onKeydown:Bs((t=>V("month")),["enter"]),onClick:t=>V("month")},X(Te(a)(`el.datepicker.month${Te(S)+1}`)),43,["onKeydown","onClick"]),[[qo,"date"===L.value]]),Vr("span",{class:$(Te(r).e("next-btn"))},[dn(Vr("button",{type:"button","aria-label":Te(a)("el.datepicker.nextMonth"),class:$([Te(i).e("icon-btn"),"arrow-right"]),onClick:t=>R(!0)},[mi(t.$slots,"next-month",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(zf))])),xt:1})]))],10,["aria-label","onClick"]),[[qo,"date"===L.value]]),Vr("button",{type:"button","aria-label":Te(a)("el.datepicker.nextYear"),class:$([Te(i).e("icon-btn"),"d-arrow-right"]),onClick:t=>O(!0)},[mi(t.$slots,"next-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(ep))])),xt:1})]))],10,["aria-label","onClick"])],2)],2),[[qo,"time"!==L.value]]),Vr("div",{class:$(Te(i).e("content")),onKeydown:ut},["date"===L.value?(Rr(),Br(yS,{key:0,ref_key:"currentViewRef",ref:y,"selection-mode":Te(P),date:b.value,"parsed-value":t.parsedValue,"disabled-date":Te(f),"cell-class-name":Te(p),onPick:I},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Kr("v-if",!0),"year"===L.value?(Rr(),Br(xS,{key:1,ref_key:"currentViewRef",ref:y,"selection-mode":Te(P),date:b.value,"disabled-date":Te(f),"parsed-value":t.parsedValue,onPick:z},null,8,["selection-mode","date","disabled-date","parsed-value"])):Kr("v-if",!0),"month"===L.value?(Rr(),Br(wS,{key:2,ref_key:"currentViewRef",ref:y,"selection-mode":Te(P),date:b.value,"parsed-value":t.parsedValue,"disabled-date":Te(f),onPick:H},null,8,["selection-mode","date","parsed-value","disabled-date"])):Kr("v-if",!0)],34)],2)],2),dn(Vr("div",{class:$(Te(i).e("footer"))},[dn($r(Te(Zy),{text:"",size:"small",class:$(Te(i).e("link-btn")),disabled:Te(q),onClick:Y},{default:un((()=>[Wr(X(Te(a)("el.datepicker.now")),1)])),xt:1},8,["class","disabled"]),[[qo,!Te(B)&&t.showNow]]),$r(Te(Zy),{plain:"",size:"small",class:$(Te(i).e("link-btn")),disabled:Te(W),onClick:K},{default:un((()=>[Wr(X(Te(a)("el.datepicker.confirm")),1)])),xt:1},8,["class","disabled"])],2),[[qo,Te(j)]])],2))}});var MS=mf(SS,[["__file","panel-date-pick.vue"]]);const CS=Wh({...iS,...rS,visible:Boolean}),kS=t=>{const{emit:e}=no(),n=xi(),i=_i();return r=>{const o=m(r.value)?r.value():r.value;o?e("pick",[ib(o[0]).locale(t.value),ib(o[1]).locale(t.value)]):r.onClick&&r.onClick({attrs:n,slots:i,emit:e})}},ES=(t,{defaultValue:e,leftDate:n,rightDate:i,unit:r,onParsedValueChanged:o})=>{const{emit:s}=no(),{pickerNs:a}=Vi(Qx),l=fa("date-range-picker"),{t:c,lang:u}=$h(),h=kS(u),f=Me(),p=Me(),m=Me({endDate:null,selecting:!1}),v=t=>{if(d(t)&&2===t.length){const[e,i]=t;f.value=e,n.value=e,p.value=i,o(Te(f),Te(p))}else g()},g=()=>{const[o,s]=lS(Te(e),{lang:Te(u),unit:r,unlinkPanels:t.unlinkPanels});f.value=void 0,p.value=void 0,n.value=o,i.value=s};return fr(e,(t=>{t&&g()}),{immediate:!0}),fr((()=>t.parsedValue),v,{immediate:!0}),{minDate:f,maxDate:p,rangeState:m,lang:u,ppNs:a,drpNs:l,handleChangeRange:t=>{m.value=t},handleRangeConfirm:(t=!1)=>{const e=Te(f),n=Te(p);aS([e,n])&&s("pick",[e,n],t)},handleShortcutClick:h,onSelect:t=>{m.value.selecting=t,t||(m.value.endDate=null)},onReset:v,t:c}},TS="month",AS=Un({$t:"panel-date-range",props:CS,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,i=Vi("EP_PICKER_BASE"),{disabledDate:r,cellClassName:o,defaultTime:s,clearable:a}=i.props,l=De(i.props,"format"),c=De(i.props,"shortcuts"),u=De(i.props,"defaultValue"),{lang:h}=$h(),f=Me(ib().locale(h.value)),p=Me(ib().locale(h.value).add(1,TS)),{minDate:m,maxDate:v,rangeState:g,ppNs:y,drpNs:b,handleChangeRange:w,handleRangeConfirm:_,handleShortcutClick:x,onSelect:S,onReset:M,t:C}=ES(n,{defaultValue:u,leftDate:f,rightDate:p,unit:TS,onParsedValueChanged:function(t,e){if(n.unlinkPanels&&e){const n=(null==t?void 0:t.year())||0,i=(null==t?void 0:t.month())||0,r=e.year(),o=e.month();p.value=n===r&&i===o?e.add(1,TS):e}else p.value=f.value.add(1,TS),e&&(p.value=p.value.hour(e.hour()).minute(e.minute()).second(e.second()))}});fr((()=>n.visible),(t=>{!t&&g.value.selecting&&(M(n.parsedValue),S(!1))}));const k=Me({min:null,max:null}),E=Me({min:null,max:null}),T=vo((()=>`${f.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${f.value.month()+1}`)}`)),A=vo((()=>`${p.value.year()} ${C("el.datepicker.year")} ${C(`el.datepicker.month${p.value.month()+1}`)}`)),N=vo((()=>f.value.year())),I=vo((()=>f.value.month())),R=vo((()=>p.value.year())),O=vo((()=>p.value.month())),L=vo((()=>!!c.value.length)),D=vo((()=>null!==k.value.min?k.value.min:m.value?m.value.format(H.value):"")),P=vo((()=>null!==k.value.max?k.value.max:v.value||m.value?(v.value||m.value).format(H.value):"")),B=vo((()=>null!==E.value.min?E.value.min:m.value?m.value.format(U.value):"")),F=vo((()=>null!==E.value.max?E.value.max:v.value||m.value?(v.value||m.value).format(U.value):"")),U=vo((()=>n.timeFormat||ab(l.value))),H=vo((()=>n.dateFormat||sb(l.value))),z=()=>{f.value=f.value.subtract(1,"year"),n.unlinkPanels||(p.value=f.value.add(1,"month")),Z("year")},V=()=>{f.value=f.value.subtract(1,"month"),n.unlinkPanels||(p.value=f.value.add(1,"month")),Z("month")},G=()=>{n.unlinkPanels?p.value=p.value.add(1,"year"):(f.value=f.value.add(1,"year"),p.value=f.value.add(1,"month")),Z("year")},j=()=>{n.unlinkPanels?p.value=p.value.add(1,"month"):(f.value=f.value.add(1,"month"),p.value=f.value.add(1,"month")),Z("month")},W=()=>{f.value=f.value.add(1,"year"),Z("year")},K=()=>{f.value=f.value.add(1,"month"),Z("month")},q=()=>{p.value=p.value.subtract(1,"year"),Z("year")},Y=()=>{p.value=p.value.subtract(1,"month"),Z("month")},Z=t=>{e("panel-change",[f.value.toDate(),p.value.toDate()],t)},J=vo((()=>{const t=(I.value+1)%12,e=I.value+1>=12?1:0;return n.unlinkPanels&&new Date(N.value+e,t)<new Date(R.value,O.value)})),Q=vo((()=>n.unlinkPanels&&12*R.value+O.value-(12*N.value+I.value+1)>=12)),tt=vo((()=>!(m.value&&v.value&&!g.value.selecting&&aS([m.value,v.value])))),et=vo((()=>"datetime"===n.type||"datetimerange"===n.type)),nt=(t,e)=>{if(t){if(s){return ib(s[e]||s).locale(h.value).year(t.year()).month(t.month()).date(t.date())}return t}},it=(t,n=!0)=>{const i=t.minDate,r=t.maxDate,o=nt(i,0),s=nt(r,1);v.value===s&&m.value===o||(e("calendar-change",[i.toDate(),r&&r.toDate()]),v.value=s,m.value=o,n&&!et.value&&_())},rt=Me(!1),ot=Me(!1),st=()=>{rt.value=!1},at=()=>{ot.value=!1},lt=(t,e)=>{k.value[e]=t;const i=ib(t,H.value).locale(h.value);if(i.isValid()){if(r&&r(i.toDate()))return;"min"===e?(f.value=i,m.value=(m.value||f.value).year(i.year()).month(i.month()).date(i.date()),n.unlinkPanels||v.value&&!v.value.isBefore(m.value)||(p.value=i.add(1,"month"),v.value=m.value.add(1,"month"))):(p.value=i,v.value=(v.value||p.value).year(i.year()).month(i.month()).date(i.date()),n.unlinkPanels||m.value&&!m.value.isAfter(v.value)||(f.value=i.subtract(1,"month"),m.value=v.value.subtract(1,"month")))}},ct=(t,e)=>{k.value[e]=null},ut=(t,e)=>{E.value[e]=t;const n=ib(t,U.value).locale(h.value);n.isValid()&&("min"===e?(rt.value=!0,m.value=(m.value||f.value).hour(n.hour()).minute(n.minute()).second(n.second())):(ot.value=!0,v.value=(v.value||p.value).hour(n.hour()).minute(n.minute()).second(n.second()),p.value=v.value))},dt=(t,e)=>{E.value[e]=null,"min"===e?(f.value=m.value,rt.value=!1,v.value&&!v.value.isBefore(m.value)||(v.value=m.value)):(p.value=v.value,ot.value=!1,v.value&&v.value.isBefore(m.value)&&(m.value=v.value))},ht=(t,e,n)=>{E.value.min||(t&&(f.value=t,m.value=(m.value||f.value).hour(t.hour()).minute(t.minute()).second(t.second())),n||(rt.value=e),v.value&&!v.value.isBefore(m.value)||(v.value=m.value,p.value=t))},ft=(t,e,n)=>{E.value.max||(t&&(p.value=t,v.value=(v.value||p.value).hour(t.hour()).minute(t.minute()).second(t.second())),n||(ot.value=e),v.value&&v.value.isBefore(m.value)&&(m.value=v.value))},pt=()=>{f.value=lS(Te(u),{lang:Te(h),unit:"month",unlinkPanels:n.unlinkPanels})[0],p.value=f.value.add(1,"month"),v.value=void 0,m.value=void 0,e("pick",null)};return e("set-picker-option",["isValidValue",t=>aS(t)&&(!r||!r(t[0].toDate())&&!r(t[1].toDate()))]),e("set-picker-option",["parseUserInput",t=>hS(t,l.value,h.value)]),e("set-picker-option",["formatToString",t=>d(t)?t.map((t=>t.format(l.value))):t.format(l.value)]),e("set-picker-option",["handleClear",pt]),(t,e)=>(Rr(),Pr("div",{class:$([Te(y).b(),Te(b).b(),{"has-sidebar":t.$slots.sidebar||Te(L),"has-time":Te(et)}])},[Vr("div",{class:$(Te(y).e("body-wrapper"))},[mi(t.$slots,"sidebar",{class:$(Te(y).e("sidebar"))}),Te(L)?(Rr(),Pr("div",{key:0,class:$(Te(y).e("sidebar"))},[(Rr(!0),Pr(kr,null,fi(Te(c),((t,e)=>(Rr(),Pr("button",{key:e,type:"button",class:$(Te(y).e("shortcut")),onClick:e=>Te(x)(t)},X(t.text),11,["onClick"])))),128))],2)):Kr("v-if",!0),Vr("div",{class:$(Te(y).e("body"))},[Te(et)?(Rr(),Pr("div",{key:0,class:$(Te(b).e("time-header"))},[Vr("span",{class:$(Te(b).e("editors-wrap"))},[Vr("span",{class:$(Te(b).e("time-picker-wrap"))},[$r(Te(sm),{size:"small",disabled:Te(g).selecting,placeholder:Te(C)("el.datepicker.startDate"),class:$(Te(b).e("editor")),"model-value":Te(D),"validate-event":!1,onInput:t=>lt(t,"min"),onChange:t=>ct(0,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),dn((Rr(),Pr("span",{class:$(Te(b).e("time-picker-wrap"))},[$r(Te(sm),{size:"small",class:$(Te(b).e("editor")),disabled:Te(g).selecting,placeholder:Te(C)("el.datepicker.startTime"),"model-value":Te(B),"validate-event":!1,onFocus:t=>rt.value=!0,onInput:t=>ut(t,"min"),onChange:t=>dt(0,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),$r(Te(Yx),{visible:rt.value,format:Te(U),"datetime-role":"start","parsed-value":f.value,onPick:ht},null,8,["visible","format","parsed-value"])],2)),[[Te(jw),st]])],2),Vr("span",null,[$r(Te(Ff),null,{default:un((()=>[$r(Te(zf))])),xt:1})]),Vr("span",{class:$([Te(b).e("editors-wrap"),"is-right"])},[Vr("span",{class:$(Te(b).e("time-picker-wrap"))},[$r(Te(sm),{size:"small",class:$(Te(b).e("editor")),disabled:Te(g).selecting,placeholder:Te(C)("el.datepicker.endDate"),"model-value":Te(P),readonly:!Te(m),"validate-event":!1,onInput:t=>lt(t,"max"),onChange:t=>ct(0,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),dn((Rr(),Pr("span",{class:$(Te(b).e("time-picker-wrap"))},[$r(Te(sm),{size:"small",class:$(Te(b).e("editor")),disabled:Te(g).selecting,placeholder:Te(C)("el.datepicker.endTime"),"model-value":Te(F),readonly:!Te(m),"validate-event":!1,onFocus:t=>Te(m)&&(ot.value=!0),onInput:t=>ut(t,"max"),onChange:t=>dt(0,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),$r(Te(Yx),{"datetime-role":"end",visible:ot.value,format:Te(U),"parsed-value":p.value,onPick:ft},null,8,["visible","format","parsed-value"])],2)),[[Te(jw),at]])],2)],2)):Kr("v-if",!0),Vr("div",{class:$([[Te(y).e("content"),Te(b).e("content")],"is-left"])},[Vr("div",{class:$(Te(b).e("header"))},[Vr("button",{type:"button",class:$([Te(y).e("icon-btn"),"d-arrow-left"]),"aria-label":Te(C)("el.datepicker.prevYear"),onClick:z},[mi(t.$slots,"prev-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(tp))])),xt:1})]))],10,["aria-label"]),Vr("button",{type:"button",class:$([Te(y).e("icon-btn"),"arrow-left"]),"aria-label":Te(C)("el.datepicker.prevMonth"),onClick:V},[mi(t.$slots,"prev-month",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(Hf))])),xt:1})]))],10,["aria-label"]),t.unlinkPanels?(Rr(),Pr("button",{key:0,type:"button",disabled:!Te(Q),class:$([[Te(y).e("icon-btn"),{"is-disabled":!Te(Q)}],"d-arrow-right"]),"aria-label":Te(C)("el.datepicker.nextYear"),onClick:W},[mi(t.$slots,"next-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(ep))])),xt:1})]))],10,["disabled","aria-label"])):Kr("v-if",!0),t.unlinkPanels?(Rr(),Pr("button",{key:1,type:"button",disabled:!Te(J),class:$([[Te(y).e("icon-btn"),{"is-disabled":!Te(J)}],"arrow-right"]),"aria-label":Te(C)("el.datepicker.nextMonth"),onClick:K},[mi(t.$slots,"next-month",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(zf))])),xt:1})]))],10,["disabled","aria-label"])):Kr("v-if",!0),Vr("div",null,X(Te(T)),1)],2),$r(yS,{"selection-mode":"range",date:f.value,"min-date":Te(m),"max-date":Te(v),"range-state":Te(g),"disabled-date":Te(r),"cell-class-name":Te(o),onChangerange:Te(w),onPick:it,onSelect:Te(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),Vr("div",{class:$([[Te(y).e("content"),Te(b).e("content")],"is-right"])},[Vr("div",{class:$(Te(b).e("header"))},[t.unlinkPanels?(Rr(),Pr("button",{key:0,type:"button",disabled:!Te(Q),class:$([[Te(y).e("icon-btn"),{"is-disabled":!Te(Q)}],"d-arrow-left"]),"aria-label":Te(C)("el.datepicker.prevYear"),onClick:q},[mi(t.$slots,"prev-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(tp))])),xt:1})]))],10,["disabled","aria-label"])):Kr("v-if",!0),t.unlinkPanels?(Rr(),Pr("button",{key:1,type:"button",disabled:!Te(J),class:$([[Te(y).e("icon-btn"),{"is-disabled":!Te(J)}],"arrow-left"]),"aria-label":Te(C)("el.datepicker.prevMonth"),onClick:Y},[mi(t.$slots,"prev-month",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(Hf))])),xt:1})]))],10,["disabled","aria-label"])):Kr("v-if",!0),Vr("button",{type:"button","aria-label":Te(C)("el.datepicker.nextYear"),class:$([Te(y).e("icon-btn"),"d-arrow-right"]),onClick:G},[mi(t.$slots,"next-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(ep))])),xt:1})]))],10,["aria-label"]),Vr("button",{type:"button",class:$([Te(y).e("icon-btn"),"arrow-right"]),"aria-label":Te(C)("el.datepicker.nextMonth"),onClick:j},[mi(t.$slots,"next-month",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(zf))])),xt:1})]))],10,["aria-label"]),Vr("div",null,X(Te(A)),1)],2),$r(yS,{"selection-mode":"range",date:p.value,"min-date":Te(m),"max-date":Te(v),"range-state":Te(g),"disabled-date":Te(r),"cell-class-name":Te(o),onChangerange:Te(w),onPick:it,onSelect:Te(S)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),Te(et)?(Rr(),Pr("div",{key:0,class:$(Te(y).e("footer"))},[Te(a)?(Rr(),Br(Te(Zy),{key:0,text:"",size:"small",class:$(Te(y).e("link-btn")),onClick:pt},{default:un((()=>[Wr(X(Te(C)("el.datepicker.clear")),1)])),xt:1},8,["class"])):Kr("v-if",!0),$r(Te(Zy),{plain:"",size:"small",class:$(Te(y).e("link-btn")),disabled:Te(tt),onClick:t=>Te(_)(!1)},{default:un((()=>[Wr(X(Te(C)("el.datepicker.confirm")),1)])),xt:1},8,["class","disabled","onClick"])],2)):Kr("v-if",!0)],2))}});var NS=mf(AS,[["__file","panel-date-range.vue"]]);const IS=Wh({...rS}),RS="year",OS=Un({...Un({name:"DatePickerMonthRange"}),props:IS,emits:["pick","set-picker-option","calendar-change"],setup(t,{emit:e}){const n=t,{lang:i}=$h(),r=Vi("EP_PICKER_BASE"),{shortcuts:o,disabledDate:s}=r.props,a=De(r.props,"format"),l=De(r.props,"defaultValue"),c=Me(ib().locale(i.value)),u=Me(ib().locale(i.value).add(1,RS)),{minDate:h,maxDate:f,rangeState:p,ppNs:m,drpNs:v,handleChangeRange:g,handleRangeConfirm:y,handleShortcutClick:b,onSelect:w}=ES(n,{defaultValue:l,leftDate:c,rightDate:u,unit:RS,onParsedValueChanged:function(t,e){if(n.unlinkPanels&&e){const n=(null==t?void 0:t.year())||0,i=e.year();u.value=n===i?e.add(1,RS):e}else u.value=c.value.add(1,RS)}}),_=vo((()=>!!o.length)),{leftPrevYear:x,rightNextYear:S,leftNextYear:M,rightPrevYear:C,leftLabel:k,rightLabel:E,leftYear:T,rightYear:A}=(({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:i}=$h();return{leftPrevYear:()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},rightNextYear:()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},leftNextYear:()=>{e.value=e.value.add(1,"year")},rightPrevYear:()=>{n.value=n.value.subtract(1,"year")},leftLabel:vo((()=>`${e.value.year()} ${i("el.datepicker.year")}`)),rightLabel:vo((()=>`${n.value.year()} ${i("el.datepicker.year")}`)),leftYear:vo((()=>e.value.year())),rightYear:vo((()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year()))}})({unlinkPanels:De(n,"unlinkPanels"),leftDate:c,rightDate:u}),N=vo((()=>n.unlinkPanels&&A.value>T.value+1)),I=(t,n=!0)=>{const i=t.minDate,r=t.maxDate;f.value===r&&h.value===i||(e("calendar-change",[i.toDate(),r&&r.toDate()]),f.value=r,h.value=i,n&&y())};return e("set-picker-option",["isValidValue",aS]),e("set-picker-option",["formatToString",t=>d(t)?t.map((t=>t.format(a.value))):t.format(a.value)]),e("set-picker-option",["parseUserInput",t=>hS(t,a.value,i.value)]),e("set-picker-option",["handleClear",()=>{c.value=lS(Te(l),{lang:Te(i),unit:"year",unlinkPanels:n.unlinkPanels})[0],u.value=c.value.add(1,"year"),e("pick",null)}]),(t,e)=>(Rr(),Pr("div",{class:$([Te(m).b(),Te(v).b(),{"has-sidebar":Boolean(t.$slots.sidebar)||Te(_)}])},[Vr("div",{class:$(Te(m).e("body-wrapper"))},[mi(t.$slots,"sidebar",{class:$(Te(m).e("sidebar"))}),Te(_)?(Rr(),Pr("div",{key:0,class:$(Te(m).e("sidebar"))},[(Rr(!0),Pr(kr,null,fi(Te(o),((t,e)=>(Rr(),Pr("button",{key:e,type:"button",class:$(Te(m).e("shortcut")),onClick:e=>Te(b)(t)},X(t.text),11,["onClick"])))),128))],2)):Kr("v-if",!0),Vr("div",{class:$(Te(m).e("body"))},[Vr("div",{class:$([[Te(m).e("content"),Te(v).e("content")],"is-left"])},[Vr("div",{class:$(Te(v).e("header"))},[Vr("button",{type:"button",class:$([Te(m).e("icon-btn"),"d-arrow-left"]),onClick:Te(x)},[mi(t.$slots,"prev-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(tp))])),xt:1})]))],10,["onClick"]),t.unlinkPanels?(Rr(),Pr("button",{key:0,type:"button",disabled:!Te(N),class:$([[Te(m).e("icon-btn"),{[Te(m).is("disabled")]:!Te(N)}],"d-arrow-right"]),onClick:Te(M)},[mi(t.$slots,"next-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(ep))])),xt:1})]))],10,["disabled","onClick"])):Kr("v-if",!0),Vr("div",null,X(Te(k)),1)],2),$r(wS,{"selection-mode":"range",date:c.value,"min-date":Te(h),"max-date":Te(f),"range-state":Te(p),"disabled-date":Te(s),onChangerange:Te(g),onPick:I,onSelect:Te(w)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),Vr("div",{class:$([[Te(m).e("content"),Te(v).e("content")],"is-right"])},[Vr("div",{class:$(Te(v).e("header"))},[t.unlinkPanels?(Rr(),Pr("button",{key:0,type:"button",disabled:!Te(N),class:$([[Te(m).e("icon-btn"),{"is-disabled":!Te(N)}],"d-arrow-left"]),onClick:Te(C)},[mi(t.$slots,"prev-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(tp))])),xt:1})]))],10,["disabled","onClick"])):Kr("v-if",!0),Vr("button",{type:"button",class:$([Te(m).e("icon-btn"),"d-arrow-right"]),onClick:Te(S)},[mi(t.$slots,"next-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(ep))])),xt:1})]))],10,["onClick"]),Vr("div",null,X(Te(E)),1)],2),$r(wS,{"selection-mode":"range",date:u.value,"min-date":Te(h),"max-date":Te(f),"range-state":Te(p),"disabled-date":Te(s),onChangerange:Te(g),onPick:I,onSelect:Te(w)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var LS=mf(OS,[["__file","panel-month-range.vue"]]);const DS=Wh({...rS}),PS="year";var BS=mf(Un({...Un({name:"DatePickerYearRange"}),props:DS,emits:["pick","set-picker-option","calendar-change"],setup(t,{emit:e}){const n=t,{lang:i}=$h(),r=Me(ib().locale(i.value)),o=Me(r.value.add(10,"year")),{pickerNs:s}=Vi(Qx),a=fa("date-range-picker"),l=vo((()=>!!I.length)),c=vo((()=>[s.b(),a.b(),{"has-sidebar":Boolean(_i().sidebar)||l.value}])),u=vo((()=>({content:[s.e("content"),a.e("content"),"is-left"],arrowLeftBtn:[s.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),{[s.is("disabled")]:!x.value},"d-arrow-right"]}))),h=vo((()=>({content:[s.e("content"),a.e("content"),"is-right"],arrowLeftBtn:[s.e("icon-btn"),{"is-disabled":!x.value},"d-arrow-left"],arrowRightBtn:[s.e("icon-btn"),"d-arrow-right"]}))),f=kS(i),{leftPrevYear:p,rightNextYear:m,leftNextYear:v,rightPrevYear:g,leftLabel:y,rightLabel:b,leftYear:w,rightYear:_}=(({unlinkPanels:t,leftDate:e,rightDate:n})=>({leftPrevYear:()=>{e.value=e.value.subtract(10,"year"),t.value||(n.value=n.value.subtract(10,"year"))},rightNextYear:()=>{t.value||(e.value=e.value.add(10,"year")),n.value=n.value.add(10,"year")},leftNextYear:()=>{e.value=e.value.add(10,"year")},rightPrevYear:()=>{n.value=n.value.subtract(10,"year")},leftLabel:vo((()=>{const t=10*Math.floor(e.value.year()/10);return`${t}-${t+9}`})),rightLabel:vo((()=>{const t=10*Math.floor(n.value.year()/10);return`${t}-${t+9}`})),leftYear:vo((()=>10*Math.floor(e.value.year()/10)+9)),rightYear:vo((()=>10*Math.floor(n.value.year()/10)))}))({unlinkPanels:De(n,"unlinkPanels"),leftDate:r,rightDate:o}),x=vo((()=>n.unlinkPanels&&_.value>w.value+1)),S=Me(),M=Me(),C=Me({endDate:null,selecting:!1}),k=t=>{C.value=t},E=(t,n=!0)=>{const i=t.minDate,r=t.maxDate;M.value===r&&S.value===i||(e("calendar-change",[i.toDate(),r&&r.toDate()]),M.value=r,S.value=i,n&&T())},T=(t=!1)=>{aS([S.value,M.value])&&e("pick",[S.value,M.value],t)},A=t=>{C.value.selecting=t,t||(C.value.endDate=null)},N=Vi("EP_PICKER_BASE"),{shortcuts:I,disabledDate:R}=N.props,O=De(N.props,"format"),L=De(N.props,"defaultValue"),D=()=>{let t;if(d(L.value)){const t=ib(L.value[0]);let e=ib(L.value[1]);return n.unlinkPanels||(e=t.add(10,PS)),[t,e]}return t=L.value?ib(L.value):ib(),t=t.locale(i.value),[t,t.add(10,PS)]};fr((()=>L.value),(t=>{if(t){const t=D();r.value=t[0],o.value=t[1]}}),{immediate:!0}),fr((()=>n.parsedValue),(t=>{if(t&&2===t.length)if(S.value=t[0],M.value=t[1],r.value=S.value,n.unlinkPanels&&M.value){const t=S.value.year(),e=M.value.year();o.value=t===e?M.value.add(10,"year"):M.value}else o.value=r.value.add(10,"year");else{const t=D();S.value=void 0,M.value=void 0,r.value=t[0],o.value=t[1]}}),{immediate:!0});return e("set-picker-option",["isValidValue",t=>aS(t)&&(!R||!R(t[0].toDate())&&!R(t[1].toDate()))]),e("set-picker-option",["parseUserInput",t=>hS(t,O.value,i.value)]),e("set-picker-option",["formatToString",t=>d(t)?t.map((t=>t.format(O.value))):t.format(O.value)]),e("set-picker-option",["handleClear",()=>{const t=D();r.value=t[0],o.value=t[1],M.value=void 0,S.value=void 0,e("pick",null)}]),(t,e)=>(Rr(),Pr("div",{class:$(Te(c))},[Vr("div",{class:$(Te(s).e("body-wrapper"))},[mi(t.$slots,"sidebar",{class:$(Te(s).e("sidebar"))}),Te(l)?(Rr(),Pr("div",{key:0,class:$(Te(s).e("sidebar"))},[(Rr(!0),Pr(kr,null,fi(Te(I),((t,e)=>(Rr(),Pr("button",{key:e,type:"button",class:$(Te(s).e("shortcut")),onClick:e=>Te(f)(t)},X(t.text),11,["onClick"])))),128))],2)):Kr("v-if",!0),Vr("div",{class:$(Te(s).e("body"))},[Vr("div",{class:$(Te(u).content)},[Vr("div",{class:$(Te(a).e("header"))},[Vr("button",{type:"button",class:$(Te(u).arrowLeftBtn),onClick:Te(p)},[mi(t.$slots,"prev-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(tp))])),xt:1})]))],10,["onClick"]),t.unlinkPanels?(Rr(),Pr("button",{key:0,type:"button",disabled:!Te(x),class:$(Te(u).arrowRightBtn),onClick:Te(v)},[mi(t.$slots,"next-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(ep))])),xt:1})]))],10,["disabled","onClick"])):Kr("v-if",!0),Vr("div",null,X(Te(y)),1)],2),$r(xS,{"selection-mode":"range",date:r.value,"min-date":S.value,"max-date":M.value,"range-state":C.value,"disabled-date":Te(R),onChangerange:k,onPick:E,onSelect:A},null,8,["date","min-date","max-date","range-state","disabled-date"])],2),Vr("div",{class:$(Te(h).content)},[Vr("div",{class:$(Te(a).e("header"))},[t.unlinkPanels?(Rr(),Pr("button",{key:0,type:"button",disabled:!Te(x),class:$(Te(h).arrowLeftBtn),onClick:Te(g)},[mi(t.$slots,"prev-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(tp))])),xt:1})]))],10,["disabled","onClick"])):Kr("v-if",!0),Vr("button",{type:"button",class:$(Te(h).arrowRightBtn),onClick:Te(m)},[mi(t.$slots,"next-year",{},(()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(ep))])),xt:1})]))],10,["onClick"]),Vr("div",null,X(Te(b)),1)],2),$r(xS,{"selection-mode":"range",date:o.value,"min-date":S.value,"max-date":M.value,"range-state":C.value,"disabled-date":Te(R),onChangerange:k,onPick:E,onSelect:A},null,8,["date","min-date","max-date","range-state","disabled-date"])],2)],2)],2)],2))}}),[["__file","panel-year-range.vue"]]);ib.extend(bb),ib.extend(ox),ib.extend(ex),ib.extend(ux),ib.extend(px),ib.extend(yx),ib.extend(xx),ib.extend(Cx);const FS=Of(Un({name:"ElDatePicker",install:null,props:tS,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:i}){const r=fa("picker-panel");zi("ElPopperOptions",de(De(t,"popperOptions"))),zi(Qx,{slots:i,pickerNs:r});const o=Me();e({focus:()=>{var t;null==(t=o.value)||t.focus()},blur:()=>{var t;null==(t=o.value)||t.blur()},handleOpen:()=>{var t;null==(t=o.value)||t.handleOpen()},handleClose:()=>{var t;null==(t=o.value)||t.handleClose()}});const s=t=>{n("update:modelValue",t)};return()=>{var e;const n=null!=(e=t.format)?e:Ax[t.type]||Tx,r=function(t){switch(t){case"daterange":case"datetimerange":return NS;case"monthrange":return LS;case"yearrange":return BS;default:return MS}}(t.type);return $r(Px,Zr(t,{format:n,type:t.type,ref:o,"onUpdate:modelValue":s}),{default:t=>$r(r,t,{"prev-month":i["prev-month"],"next-month":i["next-month"],"prev-year":i["prev-year"],"next-year":i["next-year"]}),"range-separator":i["range-separator"]})}}})),US=Symbol("elDescriptions");var HS=Un({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup:()=>({descriptions:Vi(US,{})}),render(){var t;const e=(t=>{if(!Fr(t))return{};const e=t.props||{},n=(Fr(t.type)?t.type.props:void 0)||{},i={};return Object.keys(n).forEach((t=>{u(n[t],"default")&&(i[t]=n[t].default)})),Object.keys(e).forEach((t=>{i[E(t)]=e[t]})),i})(this.cell),n=((null==(t=this.cell)?void 0:t.dirs)||[]).map((t=>{const{dir:e,arg:n,modifiers:i,value:r}=t;return[e,r,n,i]})),{border:i,direction:r}=this.descriptions,o="vertical"===r,s=()=>{var t,n,i;return(null==(i=null==(n=null==(t=this.cell)?void 0:t.children)?void 0:n.label)?void 0:i.call(n))||e.label},a=()=>{var t,e,n;return null==(n=null==(e=null==(t=this.cell)?void 0:t.children)?void 0:e.default)?void 0:n.call(e)},l=e.span,c=e.rowspan,d=e.align?`is-${e.align}`:"",h=e.labelAlign?`is-${e.labelAlign}`:d,f=e.className,p=e.labelClassName,m={width:Mf("label"===this.type&&(e.labelWidth||this.descriptions.labelWidth)||e.width),minWidth:Mf(e.minWidth)},v=fa("descriptions");switch(this.type){case"label":return dn(go(this.tag,{style:m,class:[v.e("cell"),v.e("label"),v.is("bordered-label",i),v.is("vertical-label",o),h,p],colSpan:o?l:1,rowspan:o?1:c},s()),n);case"content":return dn(go(this.tag,{style:m,class:[v.e("cell"),v.e("content"),v.is("bordered-content",i),v.is("vertical-content",o),d,f],colSpan:o?l:2*l-1,rowspan:o?2*c-1:c},a()),n);default:{const t=s(),i={},r=Mf(e.labelWidth||this.descriptions.labelWidth);return r&&(i.width=r,i.display="inline-block"),dn(go("td",{style:m,class:[v.e("cell"),d],colSpan:l,rowspan:c},[yd(t)?void 0:go("span",{style:i,class:[v.e("label"),p]},t),go("span",{class:[v.e("content"),f]},a())]),n)}}}});const zS=Wh({row:{type:Array,default:()=>[]}});var VS=mf(Un({...Un({name:"ElDescriptionsRow"}),props:zS,setup(t){const e=Vi(US,{});return(t,n)=>"vertical"===Te(e).direction?(Rr(),Pr(kr,{key:0},[Vr("tr",null,[(Rr(!0),Pr(kr,null,fi(t.row,((t,e)=>(Rr(),Br(Te(HS),{key:`tr1-${e}`,cell:t,tag:"th",type:"label"},null,8,["cell"])))),128))]),Vr("tr",null,[(Rr(!0),Pr(kr,null,fi(t.row,((t,e)=>(Rr(),Br(Te(HS),{key:`tr2-${e}`,cell:t,tag:"td",type:"content"},null,8,["cell"])))),128))])],64)):(Rr(),Pr("tr",{key:1},[(Rr(!0),Pr(kr,null,fi(t.row,((t,n)=>(Rr(),Pr(kr,{key:`tr3-${n}`},[Te(e).border?(Rr(),Pr(kr,{key:0},[$r(Te(HS),{cell:t,tag:"td",type:"label"},null,8,["cell"]),$r(Te(HS),{cell:t,tag:"td",type:"content"},null,8,["cell"])],64)):(Rr(),Br(Te(HS),{key:1,cell:t,tag:"td",type:"both"},null,8,["cell"]))],64)))),128))]))}}),[["__file","descriptions-row.vue"]]);const $S=Wh({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:qh,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),GS=Un({...Un({name:"ElDescriptions"}),props:$S,setup(t){const e=t,n=fa("descriptions"),i=nm(),r=_i();zi(US,e);const o=vo((()=>[n.b(),n.m(i.value)])),s=(t,e,n,i=!1)=>(t.props||(t.props={}),e>n&&(t.props.span=n),i&&(t.props.span=e),t),a=()=>{if(!r.default)return[];const t=Pb(r.default()).filter((t=>{var e;return"ElDescriptionsItem"===(null==(e=null==t?void 0:t.type)?void 0:e.name)})),n=[];let i=[],o=e.column,a=0;const l=[];return t.forEach(((r,c)=>{var u,d,h;const f=(null==(u=r.props)?void 0:u.span)||1,p=(null==(d=r.props)?void 0:d.rowspan)||1,m=n.length;if(l[m]||(l[m]=0),p>1)for(let t=1;t<p;t++)l[h=m+t]||(l[h]=0),l[m+t]++,a++;if(l[m]>0&&(o-=l[m],l[m]=0),c<t.length-1&&(a+=f>o?o:f),c===t.length-1){const t=e.column-a%e.column;return i.push(s(r,t,o,!0)),void n.push(i)}f<o?(o-=f,i.push(r)):(i.push(s(r,f,o)),n.push(i),o=e.column,i=[])})),n};return(t,e)=>(Rr(),Pr("div",{class:$(Te(o))},[t.title||t.extra||t.$slots.title||t.$slots.extra?(Rr(),Pr("div",{key:0,class:$(Te(n).e("header"))},[Vr("div",{class:$(Te(n).e("title"))},[mi(t.$slots,"title",{},(()=>[Wr(X(t.title),1)]))],2),Vr("div",{class:$(Te(n).e("extra"))},[mi(t.$slots,"extra",{},(()=>[Wr(X(t.extra),1)]))],2)],2)):Kr("v-if",!0),Vr("div",{class:$(Te(n).e("body"))},[Vr("table",{class:$([Te(n).e("table"),Te(n).is("bordered",t.border)])},[Vr("tbody",null,[(Rr(!0),Pr(kr,null,fi(a(),((t,e)=>(Rr(),Br(VS,{key:e,row:t},null,8,["row"])))),128))])],2)],2)],2))}});var jS=mf(GS,[["__file","description.vue"]]);const WS=Un({name:"ElDescriptionsItem",props:Wh({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}})}),KS=Of(jS,{DescriptionsItem:WS}),qS=Df(WS),YS=t=>{if(!t)return{onClick:i,onMousedown:i,onMouseup:i};let e=!1,n=!1;return{onClick:i=>{e&&n&&t(i),e=n=!1},onMousedown:t=>{e=t.target===t.currentTarget},onMouseup:t=>{n=t.target===t.currentTarget}}},XS=Wh({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:[String,Array,Object]},zIndex:{type:[String,Number]}});var ZS=Un({name:"ElOverlay",props:XS,emits:{click:t=>t instanceof MouseEvent},setup(t,{slots:e,emit:n}){const i=fa("overlay"),{onClick:r,onMousedown:o,onMouseup:s}=YS(t.customMaskEvent?void 0:t=>{n("click",t)});return()=>t.mask?$r("div",{class:[i.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:r,onMousedown:o,onMouseup:s},[mi(e,"default")],Ob.STYLE|Ob.CLASS|Ob.PROPS,["onClick","onMouseup","onMousedown"]):go("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[mi(e,"default")])}});const JS=ZS,QS=Symbol("dialogInjectionKey"),tM=Wh({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ep},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),eM=(t,e,n,i)=>{let r={offsetX:0,offsetY:0};const o=e=>{const n=e.clientX,o=e.clientY,{offsetX:s,offsetY:a}=r,l=t.value.getBoundingClientRect(),c=l.left,u=l.top,d=l.width,h=l.height,f=document.documentElement.clientWidth,p=document.documentElement.clientHeight,m=-c+s,v=-u+a,g=f-c-d+s,y=p-u-h+a,b=e=>{let l=s+e.clientX-n,c=a+e.clientY-o;(null==i?void 0:i.value)||(l=Math.min(Math.max(l,m),g),c=Math.min(Math.max(c,v),y)),r={offsetX:l,offsetY:c},t.value&&(t.value.style.transform=`translate(${Mf(l)}, ${Mf(c)})`)},w=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w)};document.addEventListener("mousemove",b),document.addEventListener("mouseup",w)},s=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",o)};return Zn((()=>{hr((()=>{n.value?e.value&&t.value&&e.value.addEventListener("mousedown",o):s()}))})),ti((()=>{s()})),{resetPosition:()=>{r={offsetX:0,offsetY:0},t.value&&(t.value.style.transform="none")}}},nM=(...t)=>e=>{t.forEach((t=>{m(t)?t(e):t.value=e}))},iM=Un({...Un({name:"ElDialogContent"}),props:tM,emits:{close:()=>!0},setup(t,{expose:e}){const n=t,{t:i}=$h(),{Close:r}=Tp,{dialogRef:o,headerRef:s,bodyId:a,ns:l,style:c}=Vi(QS),{focusTrapRef:u}=Vi(zm),d=vo((()=>[l.b(),l.is("fullscreen",n.fullscreen),l.is("draggable",n.draggable),l.is("align-center",n.alignCenter),{[l.m("center")]:n.center}])),h=nM(u,o),f=vo((()=>n.draggable)),p=vo((()=>n.overflow)),{resetPosition:m}=eM(o,s,f,p);return e({resetPosition:m}),(t,e)=>(Rr(),Pr("div",{ref:Te(h),class:$(Te(d)),style:F(Te(c)),tabindex:"-1"},[Vr("header",{ref_key:"headerRef",ref:s,class:$([Te(l).e("header"),t.headerClass,{"show-close":t.showClose}])},[mi(t.$slots,"header",{},(()=>[Vr("span",{role:"heading","aria-level":t.ariaLevel,class:$(Te(l).e("title"))},X(t.title),11,["aria-level"])])),t.showClose?(Rr(),Pr("button",{key:0,"aria-label":Te(i)("el.dialog.close"),class:$(Te(l).e("headerbtn")),type:"button",onClick:e=>t.$emit("close")},[$r(Te(Ff),{class:$(Te(l).e("close"))},{default:un((()=>[(Rr(),Br(ci(t.closeIcon||Te(r))))])),xt:1},8,["class"])],10,["aria-label","onClick"])):Kr("v-if",!0)],2),Vr("div",{id:Te(a),class:$([Te(l).e("body"),t.bodyClass])},[mi(t.$slots,"default")],10,["id"]),t.$slots.footer?(Rr(),Pr("footer",{key:0,class:$([Te(l).e("footer"),t.footerClass])},[mi(t.$slots,"footer")],2)):Kr("v-if",!0)],6))}});var rM=mf(iM,[["__file","dialog-content.vue"]]);const oM=Wh({...tM,appendToBody:Boolean,appendTo:{type:[String,Object],default:"body"},beforeClose:{type:Function},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),sM={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[uf]:t=>Od(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},aM=(t,e={})=>{Se(t)||Oh("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||fa("popup"),i=vo((()=>n.bm("parent","hidden")));if(!qd||bf(document.body,i.value))return;let r=0,o=!1,s="0";const a=()=>{setTimeout((()=>{"undefined"!=typeof document&&o&&document&&(document.body.style.width=s,_f(document.body,i.value))}),200)};fr(t,(t=>{if(!t)return void a();o=!bf(document.body,i.value),o&&(s=document.body.style.width,wf(document.body,i.value)),r=Tf(n.namespace.value);const e=document.documentElement.clientHeight<document.body.scrollHeight,l=xf(document.body,"overflowY");r>0&&(e||"scroll"===l)&&o&&(document.body.style.width=`calc(100% - ${r}px)`)})),rt((()=>a()))},lM=(t,e)=>{var n;const i=no().emit,{nextZIndex:r}=Fh();let o="";const s=Jp(),a=Jp(),l=Me(!1),c=Me(!1),u=Me(!1),d=Me(null!=(n=t.zIndex)?n:r());let h,f;const p=sf("namespace",ca),m=vo((()=>{const e={},n=`--${p.value}-dialog`;return t.fullscreen||(t.top&&(e[`${n}-margin-top`]=t.top),t.width&&(e[`${n}-width`]=Mf(t.width))),e})),v=vo((()=>t.alignCenter?{display:"flex"}:{}));function g(){null==f||f(),null==h||h(),t.openDelay&&t.openDelay>0?({stop:h}=oh((()=>w()),t.openDelay)):w()}function y(){null==h||h(),null==f||f(),t.closeDelay&&t.closeDelay>0?({stop:f}=oh((()=>_()),t.closeDelay)):_()}function b(){t.beforeClose?t.beforeClose((function(t){t||(c.value=!0,l.value=!1)})):y()}function w(){qd&&(l.value=!0)}function _(){l.value=!1}return t.lockScroll&&aM(l),fr((()=>t.modelValue),(n=>{n?(c.value=!1,g(),u.value=!0,d.value=wd(t.zIndex)?r():d.value++,Qe((()=>{i("open"),e.value&&(e.value.parentElement.scrollTop=0,e.value.parentElement.scrollLeft=0,e.value.scrollTop=0)}))):l.value&&y()})),fr((()=>t.fullscreen),(t=>{e.value&&(t?(o=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=o)})),Zn((()=>{t.modelValue&&(l.value=!0,u.value=!0,g())})),{afterEnter:function(){i("opened")},afterLeave:function(){i("closed"),i(uf,!1),t.destroyOnClose&&(u.value=!1)},beforeLeave:function(){i("close")},handleClose:b,onModalClick:function(){t.closeOnClickModal&&b()},close:y,doClose:_,onOpenAutoFocus:function(){i("openAutoFocus")},onCloseAutoFocus:function(){i("closeAutoFocus")},onCloseRequested:function(){t.closeOnPressEscape&&b()},onFocusoutPrevented:function(t){var e;"pointer"===(null==(e=t.detail)?void 0:e.focusReason)&&t.preventDefault()},titleId:s,bodyId:a,closed:c,style:m,overlayDialogStyle:v,rendered:u,visible:l,zIndex:d}};const cM=Of(mf(Un({...Un({name:"ElDialog",inheritAttrs:!1}),props:oM,emits:sM,setup(t,{expose:e}){const n=t,i=_i();My({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},vo((()=>!!i.title)));const r=fa("dialog"),o=Me(),s=Me(),a=Me(),{visible:l,titleId:c,bodyId:u,style:d,overlayDialogStyle:h,rendered:f,zIndex:p,afterEnter:m,afterLeave:v,beforeLeave:g,handleClose:y,onModalClick:b,onOpenAutoFocus:w,onCloseAutoFocus:_,onCloseRequested:x,onFocusoutPrevented:S}=lM(n,o);zi(QS,{dialogRef:o,headerRef:s,bodyId:u,ns:r,rendered:f,style:d});const M=YS(b),C=vo((()=>n.draggable&&!n.fullscreen));return e({visible:l,dialogContentRef:a,resetPosition:()=>{var t;null==(t=a.value)||t.resetPosition()}}),(t,e)=>(Rr(),Br(Te(Xg),{to:t.appendTo,disabled:"body"===t.appendTo&&!t.appendToBody},{default:un((()=>[$r(Ro,{name:"dialog-fade",onAfterEnter:Te(m),onAfterLeave:Te(v),onBeforeLeave:Te(g),persisted:""},{default:un((()=>[dn($r(Te(JS),{"custom-mask-event":"",mask:t.modal,"overlay-class":t.modalClass,"z-index":Te(p)},{default:un((()=>[Vr("div",{role:"dialog","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:Te(c),"aria-describedby":Te(u),class:$(`${Te(r).namespace.value}-overlay-dialog`),style:F(Te(h)),onClick:Te(M).onClick,onMousedown:Te(M).onMousedown,onMouseup:Te(M).onMouseup},[$r(Te(ov),{loop:"",trapped:Te(l),"focus-start-el":"container",onFocusAfterTrapped:Te(w),onFocusAfterReleased:Te(_),onFocusoutPrevented:Te(S),onReleaseRequested:Te(x)},{default:un((()=>[Te(f)?(Rr(),Br(rM,Zr({key:0,ref_key:"dialogContentRef",ref:a},t.$attrs,{center:t.center,"align-center":t.alignCenter,"close-icon":t.closeIcon,draggable:Te(C),overflow:t.overflow,fullscreen:t.fullscreen,"header-class":t.headerClass,"body-class":t.bodyClass,"footer-class":t.footerClass,"show-close":t.showClose,title:t.title,"aria-level":t.headerAriaLevel,onClose:Te(y)}),pi({header:un((()=>[t.$slots.title?mi(t.$slots,"title",{key:1}):mi(t.$slots,"header",{key:0,close:Te(y),titleId:Te(c),titleClass:Te(r).e("title")})])),default:un((()=>[mi(t.$slots,"default")])),xt:2},[t.$slots.footer?{name:"footer",fn:un((()=>[mi(t.$slots,"footer")]))}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):Kr("v-if",!0)])),xt:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])])),xt:3},8,["mask","overlay-class","z-index"]),[[qo,Te(l)]])])),xt:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])])),xt:3},8,["to","disabled"]))}}),[["__file","dialog.vue"]])),uM=Wh({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:String,default:"solid"}});const dM=Of(mf(Un({...Un({name:"ElDivider"}),props:uM,setup(t){const e=t,n=fa("divider"),i=vo((()=>n.cssVar({"border-style":e.borderStyle})));return(t,e)=>(Rr(),Pr("div",{class:$([Te(n).b(),Te(n).m(t.direction)]),style:F(Te(i)),role:"separator"},[t.$slots.default&&"vertical"!==t.direction?(Rr(),Pr("div",{key:0,class:$([Te(n).e("text"),Te(n).is(t.contentPosition)])},[mi(t.$slots,"default")],2)):Kr("v-if",!0)],6))}}),[["__file","divider.vue"]])),hM=Wh({...oM,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),fM=sM,pM=Un({...Un({name:"ElDrawer",inheritAttrs:!1}),props:hM,emits:fM,setup(t,{expose:e}){const n=t,i=_i();My({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},vo((()=>!!i.title)));const r=Me(),o=Me(),s=fa("drawer"),{t:a}=$h(),{afterEnter:l,afterLeave:c,beforeLeave:u,visible:d,rendered:h,titleId:f,bodyId:p,zIndex:m,onModalClick:v,onOpenAutoFocus:g,onCloseAutoFocus:y,onFocusoutPrevented:b,onCloseRequested:w,handleClose:_}=lM(n,r),x=vo((()=>"rtl"===n.direction||"ltr"===n.direction)),S=vo((()=>Mf(n.size)));return e({handleClose:_,afterEnter:l,afterLeave:c}),(t,e)=>(Rr(),Br(Te(Xg),{to:t.appendTo,disabled:"body"===t.appendTo&&!t.appendToBody},{default:un((()=>[$r(Ro,{name:Te(s).b("fade"),onAfterEnter:Te(l),onAfterLeave:Te(c),onBeforeLeave:Te(u),persisted:""},{default:un((()=>[dn($r(Te(JS),{mask:t.modal,"overlay-class":t.modalClass,"z-index":Te(m),onClick:Te(v)},{default:un((()=>[$r(Te(ov),{loop:"",trapped:Te(d),"focus-trap-el":r.value,"focus-start-el":o.value,onFocusAfterTrapped:Te(g),onFocusAfterReleased:Te(y),onFocusoutPrevented:Te(b),onReleaseRequested:Te(w)},{default:un((()=>[Vr("div",Zr({ref_key:"drawerRef",ref:r,"aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:Te(f),"aria-describedby":Te(p)},t.$attrs,{class:[Te(s).b(),t.direction,Te(d)&&"open"],style:Te(x)?"width: "+Te(S):"height: "+Te(S),role:"dialog",onClick:Ds((()=>{}),["stop"])}),[Vr("span",{ref_key:"focusStartRef",ref:o,class:$(Te(s).e("sr-focus")),tabindex:"-1"},null,2),t.withHeader?(Rr(),Pr("header",{key:0,class:$([Te(s).e("header"),t.headerClass])},[t.$slots.title?mi(t.$slots,"title",{key:1},(()=>[Kr(" DEPRECATED SLOT ")])):mi(t.$slots,"header",{key:0,close:Te(_),titleId:Te(f),titleClass:Te(s).e("title")},(()=>[t.$slots.title?Kr("v-if",!0):(Rr(),Pr("span",{key:0,id:Te(f),role:"heading","aria-level":t.headerAriaLevel,class:$(Te(s).e("title"))},X(t.title),11,["id","aria-level"]))])),t.showClose?(Rr(),Pr("button",{key:2,"aria-label":Te(a)("el.drawer.close"),class:$(Te(s).e("close-btn")),type:"button",onClick:Te(_)},[$r(Te(Ff),{class:$(Te(s).e("close"))},{default:un((()=>[$r(Te(Qf))])),xt:1},8,["class"])],10,["aria-label","onClick"])):Kr("v-if",!0)],2)):Kr("v-if",!0),Te(h)?(Rr(),Pr("div",{key:1,id:Te(p),class:$([Te(s).e("body"),t.bodyClass])},[mi(t.$slots,"default")],10,["id"])):Kr("v-if",!0),t.$slots.footer?(Rr(),Pr("div",{key:2,class:$([Te(s).e("footer"),t.footerClass])},[mi(t.$slots,"footer")],2)):Kr("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])])),xt:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])])),xt:3},8,["mask","overlay-class","z-index","onClick"]),[[qo,Te(d)]])])),xt:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])])),xt:3},8,["to","disabled"]))}});const mM=Of(mf(pM,[["__file","drawer.vue"]]));var vM=mf(Un({inheritAttrs:!1}),[["render",function(t,e,n,i,r,o){return mi(t.$slots,"default")}],["__file","collection.vue"]]);var gM=mf(Un({name:"ElCollectionItem",inheritAttrs:!1}),[["render",function(t,e,n,i,r,o){return mi(t.$slots,"default")}],["__file","collection-item.vue"]]);const yM="data-el-collection-item",bM=t=>{const e=`El${t}Collection`,n=`${e}Item`,i=Symbol(e),r=Symbol(n),o={...vM,name:e,setup(){const t=Me(),e=new Map;zi(i,{itemMap:e,getItems:()=>{const n=Te(t);if(!n)return[];const i=Array.from(n.querySelectorAll(`[${yM}]`));return[...e.values()].sort(((t,e)=>i.indexOf(t.ref)-i.indexOf(e.ref)))},collectionRef:t})}},s={...gM,name:n,setup(t,{attrs:e}){const n=Me(),o=Vi(i,void 0);zi(r,{collectionItemRef:n}),Zn((()=>{const t=Te(n);t&&o.itemMap.set(t,{ref:t,...e})})),ti((()=>{const t=Te(n);o.itemMap.delete(t)}))}};return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:o,ElCollectionItem:s}},wM=Wh({style:{type:[String,Array,Object]},currentTabId:{type:String},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:String},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:_M,ElCollectionItem:xM,COLLECTION_INJECTION_KEY:SM,COLLECTION_ITEM_INJECTION_KEY:MM}=bM("RovingFocusGroup"),CM=Symbol("elRovingFocusGroup"),kM=Symbol("elRovingFocusGroupItem"),EM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},TM=t=>{const{activeElement:e}=document;for(const n of t){if(n===e)return;if(n.focus(),e!==document.activeElement)return}},AM="currentTabIdChange",NM="rovingFocusGroup.entryFocus",IM={bubbles:!1,cancelable:!0},RM=Un({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:wM,emits:[AM,"entryFocus"],setup(t,{emit:e}){var n;const i=Me(null!=(n=t.currentTabId||t.defaultCurrentTabId)?n:null),r=Me(!1),o=Me(!1),s=Me(),{getItems:a}=Vi(SM,void 0),l=vo((()=>[{outline:"none"},t.style])),c=Wg((e=>{var n;null==(n=t.onMousedown)||n.call(t,e)}),(()=>{o.value=!0})),u=Wg((e=>{var n;null==(n=t.onFocus)||n.call(t,e)}),(t=>{const e=!Te(o),{target:n,currentTarget:s}=t;if(n===s&&e&&!Te(r)){const t=new Event(NM,IM);if(null==s||s.dispatchEvent(t),!t.defaultPrevented){const t=a().filter((t=>t.focusable)),e=[t.find((t=>t.active)),t.find((t=>t.id===Te(i))),...t].filter(Boolean).map((t=>t.ref));TM(e)}}o.value=!1})),d=Wg((e=>{var n;null==(n=t.onBlur)||n.call(t,e)}),(()=>{r.value=!1}));zi(CM,{currentTabbedId:fe(i),loop:De(t,"loop"),tabIndex:vo((()=>Te(r)?-1:0)),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:l,orientation:De(t,"orientation"),dir:De(t,"dir"),onItemFocus:t=>{e(AM,t)},onItemShiftTab:()=>{r.value=!0},onBlur:d,onFocus:u,onMousedown:c}),fr((()=>t.currentTabId),(t=>{i.value=null!=t?t:null})),ch(s,NM,((...t)=>{e("entryFocus",...t)}))}});var OM=mf(Un({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:_M,ElRovingFocusGroupImpl:mf(RM,[["render",function(t,e,n,i,r,o){return mi(t.$slots,"default")}],["__file","roving-focus-group-impl.vue"]])}}),[["render",function(t,e,n,i,r,o){const s=ai("el-roving-focus-group-impl"),a=ai("el-focus-group-collection");return Rr(),Br(a,null,{default:un((()=>[$r(s,G(Gr(t.$attrs)),{default:un((()=>[mi(t.$slots,"default")])),xt:3},16)])),xt:3})}],["__file","roving-focus-group.vue"]]);const LM=Wh({trigger:Bg.trigger,triggerKeys:{type:Array,default:()=>[ev.enter,ev.numpadEnter,ev.space,ev.down]},effect:{...Pg.effect,default:"light"},type:{type:String},placement:{type:String,default:"bottom"},popperOptions:{type:Object,default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:[Number,String],default:0},maxHeight:{type:[Number,String],default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,values:ym,default:"menu"},buttonProps:{type:Object},teleported:Pg.teleported,persistent:{type:Boolean,default:!0}}),DM=Wh({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Ep}}),PM=Wh({onKeydown:{type:Function}}),BM=[ev.down,ev.pageDown,ev.home],FM=[ev.up,ev.pageUp,ev.end],UM=[...BM,...FM],{ElCollection:HM,ElCollectionItem:zM,COLLECTION_INJECTION_KEY:VM,COLLECTION_ITEM_INJECTION_KEY:$M}=bM("Dropdown"),GM=Symbol("elDropdown"),{ButtonGroup:jM}=Zy,WM=Un({name:"ElDropdown",components:{ElButton:Zy,ElButtonGroup:jM,ElScrollbar:mm,ElDropdownCollection:HM,ElTooltip:ty,ElRovingFocusGroup:OM,ElOnlyChild:Im,ElIcon:Ff,ArrowDown:Uf},props:LM,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=no(),i=fa("dropdown"),{t:r}=$h(),o=Me(),s=Me(),a=Me(),l=Me(),c=Me(null),u=Me(null),d=Me(!1),h=vo((()=>({maxHeight:Mf(t.maxHeight)}))),f=vo((()=>[i.m(y.value)])),p=vo((()=>Pc(t.trigger))),m=Jp().value,v=vo((()=>t.id||m));function g(){var t;null==(t=a.value)||t.onClose()}fr([o,p],(([t,e],[n])=>{var i,r,o;(null==(i=null==n?void 0:n.$el)?void 0:i.removeEventListener)&&n.$el.removeEventListener("pointerenter",b),(null==(r=null==t?void 0:t.$el)?void 0:r.removeEventListener)&&t.$el.removeEventListener("pointerenter",b),(null==(o=null==t?void 0:t.$el)?void 0:o.addEventListener)&&e.includes("hover")&&t.$el.addEventListener("pointerenter",b)}),{immediate:!0}),ti((()=>{var t,e;(null==(e=null==(t=o.value)?void 0:t.$el)?void 0:e.removeEventListener)&&o.value.$el.removeEventListener("pointerenter",b)}));const y=nm();function b(){var t,e;null==(e=null==(t=o.value)?void 0:t.$el)||e.focus()}zi(GM,{contentRef:l,role:vo((()=>t.role)),triggerId:v,isUsingKeyboard:d,onItemEnter:function(){},onItemLeave:function(){const t=Te(l);p.value.includes("hover")&&(null==t||t.focus()),u.value=null}}),zi("elDropdown",{instance:n,dropdownSize:y,handleClick:function(){g()},commandHandler:function(...t){e("command",...t)},trigger:De(t,"trigger"),hideOnClick:De(t,"hideOnClick")});return{t:r,ns:i,scrollbar:c,wrapStyle:h,dropdownTriggerKls:f,dropdownSize:y,triggerId:v,currentTabId:u,handleCurrentTabIdChange:function(t){u.value=t},handlerMainButtonClick:t=>{e("click",t)},handleEntryFocus:function(t){d.value||(t.preventDefault(),t.stopImmediatePropagation())},handleClose:g,handleOpen:function(){var t;null==(t=a.value)||t.onOpen()},handleBeforeShowTooltip:function(){e("visible-change",!0)},handleShowTooltip:function(t){var e;"keydown"===(null==t?void 0:t.type)&&(null==(e=l.value)||e.focus())},handleBeforeHideTooltip:function(){e("visible-change",!1)},onFocusAfterTrapped:t=>{var e,n;t.preventDefault(),null==(n=null==(e=l.value)?void 0:e.focus)||n.call(e,{preventScroll:!0})},popperRef:a,contentRef:l,triggeringElementRef:o,referenceElementRef:s}}});var KM=mf(WM,[["render",function(t,e,n,i,r,o){var s;const a=ai("el-dropdown-collection"),l=ai("el-roving-focus-group"),c=ai("el-scrollbar"),u=ai("el-only-child"),d=ai("el-tooltip"),h=ai("el-button"),f=ai("arrow-down"),p=ai("el-icon"),m=ai("el-button-group");return Rr(),Pr("div",{class:$([t.ns.b(),t.ns.is("disabled",t.disabled)])},[$r(d,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":"hover"===t.trigger?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":null==(s=t.referenceElementRef)?void 0:s.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":"hover"===t.trigger?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:t.persistent,onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},pi({content:un((()=>[$r(c,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:un((()=>[$r(l,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:un((()=>[$r(a,null,{default:un((()=>[mi(t.$slots,"dropdown")])),xt:3})])),xt:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])])),xt:3},8,["wrap-style","view-class"])])),xt:2},[t.splitButton?void 0:{name:"default",fn:un((()=>[$r(u,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["id","tabindex"])]))}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","persistent","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(Rr(),Br(m,{key:0},{default:un((()=>[$r(h,Zr({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:un((()=>[mi(t.$slots,"default")])),xt:3},16,["size","type","disabled","tabindex","onClick"]),$r(h,Zr({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:un((()=>[$r(p,{class:$(t.ns.e("icon"))},{default:un((()=>[$r(f)])),xt:1},8,["class"])])),xt:1},16,["id","size","type","class","disabled","tabindex","aria-label"])])),xt:3})):Kr("v-if",!0)],2)}],["__file","dropdown.vue"]]);const qM=Un({components:{ElRovingFocusCollectionItem:xM},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:i,onItemFocus:r,onItemShiftTab:o}=Vi(CM,void 0),{getItems:s}=Vi(SM,void 0),a=Jp(),l=Me(),c=Wg((t=>{e("mousedown",t)}),(e=>{t.focusable?r(Te(a)):e.preventDefault()})),u=Wg((t=>{e("focus",t)}),(()=>{r(Te(a))})),d=Wg((t=>{e("keydown",t)}),(t=>{const{code:e,shiftKey:n,target:r,currentTarget:a}=t;if(e===ev.tab&&n)return void o();if(r!==a)return;const l=(t=>{const e=t.code;return EM[e]})(t);if(l){t.preventDefault();let e=s().filter((t=>t.focusable)).map((t=>t.ref));switch(l){case"last":e.reverse();break;case"prev":case"next":{"prev"===l&&e.reverse();const t=e.indexOf(a);e=i.value?(u=t+1,(c=e).map(((t,e)=>c[(e+u)%c.length]))):e.slice(t+1);break}}Qe((()=>{TM(e)}))}var c,u})),h=vo((()=>n.value===Te(a)));return zi(kM,{rovingFocusGroupItemRef:l,tabIndex:vo((()=>Te(h)?0:-1)),handleMousedown:c,handleFocus:u,handleKeydown:d}),{id:a,handleKeydown:d,handleFocus:u,handleMousedown:c}}});var YM=mf(qM,[["render",function(t,e,n,i,r,o){const s=ai("el-roving-focus-collection-item");return Rr(),Br(s,{id:t.id,focusable:t.focusable,active:t.active},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["id","focusable","active"])}],["__file","roving-focus-item.vue"]]);const XM=Un({name:"DropdownItemImpl",components:{ElIcon:Ff},props:DM,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=fa("dropdown"),{role:i}=Vi(GM,void 0),{collectionItemRef:r}=Vi($M,void 0),{collectionItemRef:o}=Vi(MM,void 0),{rovingFocusGroupItemRef:s,tabIndex:a,handleFocus:l,handleKeydown:c,handleMousedown:u}=Vi(kM,void 0),d=nM(r,o,s),h=vo((()=>"menu"===i.value?"menuitem":"navigation"===i.value?"link":"button")),f=Wg((t=>{if([ev.enter,ev.numpadEnter,ev.space].includes(t.code))return t.preventDefault(),t.stopImmediatePropagation(),e("clickimpl",t),!0}),c);return{ns:n,itemRef:d,dataset:{[yM]:""},role:h,tabIndex:a,handleFocus:l,handleKeydown:f,handleMousedown:u}}});var ZM=mf(XM,[["render",function(t,e,n,i,r,o){const s=ai("el-icon");return Rr(),Pr(kr,null,[t.divided?(Rr(),Pr("li",{key:0,role:"separator",class:$(t.ns.bem("menu","item","divided"))},null,2)):Kr("v-if",!0),Vr("li",Zr({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:e=>t.$emit("clickimpl",e),onFocus:t.handleFocus,onKeydown:Ds(t.handleKeydown,["self"]),onMousedown:t.handleMousedown,onPointermove:e=>t.$emit("pointermove",e),onPointerleave:e=>t.$emit("pointerleave",e)}),[t.icon?(Rr(),Br(s,{key:0},{default:un((()=>[(Rr(),Br(ci(t.icon)))])),xt:1})):Kr("v-if",!0),mi(t.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}],["__file","dropdown-item-impl.vue"]]);const JM=()=>{const t=Vi("elDropdown",{}),e=vo((()=>null==t?void 0:t.dropdownSize));return{elDropdown:t,we:e}},QM=Un({name:"ElDropdownItem",components:{ElDropdownCollectionItem:zM,ElRovingFocusItem:YM,ElDropdownItemImpl:ZM},inheritAttrs:!1,props:DM,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:i}=JM(),r=no(),o=Me(null),s=vo((()=>{var t,e;return null!=(e=null==(t=Te(o))?void 0:t.textContent)?e:""})),{onItemEnter:a,onItemLeave:l}=Vi(GM,void 0),c=Wg((t=>(e("pointermove",t),t.defaultPrevented)),Kg((e=>{if(t.disabled)return void l(e);const n=e.currentTarget;n===document.activeElement||n.contains(document.activeElement)||(a(e),e.defaultPrevented||null==n||n.focus())}))),u=Wg((t=>(e("pointerleave",t),t.defaultPrevented)),Kg(l)),d=Wg((n=>{if(!t.disabled)return e("click",n),"keydown"!==n.type&&n.defaultPrevented}),(e=>{var n,o,s;t.disabled?e.stopImmediatePropagation():((null==(n=null==i?void 0:i.hideOnClick)?void 0:n.value)&&(null==(o=i.handleClick)||o.call(i)),null==(s=i.commandHandler)||s.call(i,t.command,r,e))}));return{handleClick:d,handlePointerMove:c,handlePointerLeave:u,textContent:s,propsAndAttrs:vo((()=>({...t,...n})))}}});var tC=mf(QM,[["render",function(t,e,n,i,r,o){var s;const a=ai("el-dropdown-item-impl"),l=ai("el-roving-focus-item"),c=ai("el-dropdown-collection-item");return Rr(),Br(c,{disabled:t.disabled,"text-value":null!=(s=t.textValue)?s:t.textContent},{default:un((()=>[$r(l,{focusable:!t.disabled},{default:un((()=>[$r(a,Zr(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:un((()=>[mi(t.$slots,"default")])),xt:3},16,["onPointerleave","onPointermove","onClickimpl"])])),xt:3},8,["focusable"])])),xt:3},8,["disabled","text-value"])}],["__file","dropdown-item.vue"]]);const eC=Un({name:"ElDropdownMenu",props:PM,setup(t){const e=fa("dropdown"),{we:n}=JM(),i=n.value,{focusTrapRef:r,onKeydown:o}=Vi(zm,void 0),{contentRef:s,role:a,triggerId:l}=Vi(GM,void 0),{collectionRef:c,getItems:u}=Vi(VM,void 0),{rovingFocusGroupRef:d,rovingFocusGroupRootStyle:h,tabIndex:f,onBlur:p,onFocus:m,onMousedown:v}=Vi(CM,void 0),{collectionRef:g}=Vi(SM,void 0),y=vo((()=>[e.b("menu"),e.bm("menu",null==i?void 0:i.value)])),b=nM(s,c,r,d,g),w=Wg((e=>{var n;null==(n=t.onKeydown)||n.call(t,e)}),(t=>{const{currentTarget:e,code:n,target:i}=t;if(e.contains(i),ev.tab===n&&t.stopImmediatePropagation(),t.preventDefault(),i!==Te(s)||!UM.includes(n))return;const r=u().filter((t=>!t.disabled)).map((t=>t.ref));FM.includes(n)&&r.reverse(),TM(r)}));return{size:i,rovingFocusGroupRootStyle:h,tabIndex:f,dropdownKls:y,role:a,triggerId:l,dropdownListWrapperRef:b,handleKeydown:t=>{w(t),o(t)},onBlur:p,onFocus:m,onMousedown:v}}});var nC=mf(eC,[["render",function(t,e,n,i,r,o){return Rr(),Pr("ul",{ref:t.dropdownListWrapperRef,class:$(t.dropdownKls),style:F(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:t.onBlur,onFocus:t.onFocus,onKeydown:Ds(t.handleKeydown,["self"]),onMousedown:Ds(t.onMousedown,["self"])},[mi(t.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}],["__file","dropdown-menu.vue"]]);const iC=Of(KM,{DropdownItem:tC,DropdownMenu:nC}),rC=Df(tC),oC=Df(nC);var sC=mf(Un({...Un({name:"ImgEmpty"}),setup(t){const e=fa("empty"),n=Jp();return(t,i)=>(Rr(),Pr("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[Vr("defs",null,[Vr("linearGradient",{id:`linearGradient-1-${Te(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[Vr("stop",{"stop-color":`var(${Te(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),Vr("stop",{"stop-color":`var(${Te(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),Vr("linearGradient",{id:`linearGradient-2-${Te(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[Vr("stop",{"stop-color":`var(${Te(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),Vr("stop",{"stop-color":`var(${Te(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),Vr("rect",{id:`path-3-${Te(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),Vr("g",{id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[Vr("g",{id:"B-type",transform:"translate(-1268.000000, -535.000000)"},[Vr("g",{id:"Group-2",transform:"translate(1268.000000, 535.000000)"},[Vr("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${Te(e).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),Vr("polygon",{id:"Rectangle-Copy-14",fill:`var(${Te(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),Vr("g",{id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[Vr("polygon",{id:"Rectangle-Copy-10",fill:`var(${Te(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),Vr("polygon",{id:"Rectangle-Copy-11",fill:`var(${Te(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),Vr("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${Te(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),Vr("polygon",{id:"Rectangle-Copy-13",fill:`var(${Te(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),Vr("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${Te(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),Vr("g",{id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},[Vr("use",{id:"Mask",fill:`var(${Te(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${Te(n)}`},null,8,["fill","xlink:href"]),Vr("polygon",{id:"Rectangle-Copy",fill:`var(${Te(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${Te(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),Vr("polygon",{id:"Rectangle-Copy-18",fill:`var(${Te(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}}),[["__file","img-empty.vue"]]);const aC=Wh({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),lC=Un({...Un({name:"ElEmpty"}),props:aC,setup(t){const e=t,{t:n}=$h(),i=fa("empty"),r=vo((()=>e.description||n("el.table.emptyText"))),o=vo((()=>({width:Mf(e.imageSize)})));return(t,e)=>(Rr(),Pr("div",{class:$(Te(i).b())},[Vr("div",{class:$(Te(i).e("image")),style:F(Te(o))},[t.image?(Rr(),Pr("img",{key:0,src:t.image,ondragstart:"return false"},null,8,["src"])):mi(t.$slots,"image",{key:1},(()=>[$r(sC)]))],6),Vr("div",{class:$(Te(i).e("description"))},[t.$slots.description?mi(t.$slots,"description",{key:0}):(Rr(),Pr("p",{key:1},X(Te(r)),1))],2),t.$slots.default?(Rr(),Pr("div",{key:0,class:$(Te(i).e("bottom"))},[mi(t.$slots,"default")],2)):Kr("v-if",!0)],2))}});const cC=Of(mf(lC,[["__file","empty.vue"]])),uC=Wh({size:{type:String,values:Kh},disabled:Boolean}),dC=Wh({...uC,model:Object,rules:{type:Object},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),hC={validate:(t,e,n)=>(d(t)||v(t))&&Od(e)&&v(n)};function fC(){const t=Me([]),e=vo((()=>{if(!t.value.length)return"0";const e=Math.max(...t.value);return e?`${e}px`:""}));function n(n){const i=t.value.indexOf(n);return-1===i&&e.value,i}return{autoLabelWidth:e,registerLabelWidth:function(e,i){if(e&&i){const r=n(i);t.value.splice(r,1,e)}else e&&t.value.push(e)},deregisterLabelWidth:function(e){const i=n(e);i>-1&&t.value.splice(i,1)}}}const pC=(t,e)=>{const n=Pc(e);return n.length>0?t.filter((t=>t.prop&&n.includes(t.prop))):t},mC=Un({...Un({name:"ElForm"}),props:dC,emits:hC,setup(t,{expose:e,emit:n}){const i=t,r=[],o=nm(),s=fa("form"),a=vo((()=>{const{labelPosition:t,inline:e}=i;return[s.b(),s.m(o.value||"default"),{[s.m(`label-${t}`)]:t,[s.m("inline")]:e}]})),l=(t=[])=>{i.model&&pC(r,t).forEach((t=>t.resetField()))},c=(t=[])=>{pC(r,t).forEach((t=>t.clearValidate()))},u=vo((()=>!!i.model)),d=async t=>f(void 0,t),h=async(t=[])=>{if(!u.value)return!1;const e=(t=>{if(0===r.length)return[];const e=pC(r,t);return e.length?e:[]})(t);if(0===e.length)return!0;let n={};for(const r of e)try{await r.validate(""),"error"===r.validateState&&r.resetField()}catch(i){n={...n,...i}}return 0===Object.keys(n).length||Promise.reject(n)},f=async(t=[],e)=>{const n=!m(e);try{const n=await h(t);return!0===n&&await(null==e?void 0:e(n)),n}catch(ax){if(ax instanceof Error)throw ax;const r=ax;return i.scrollToError&&p(Object.keys(r)[0]),await(null==e?void 0:e(!1,r)),n&&Promise.reject(r)}},p=t=>{var e;const n=pC(r,t)[0];n&&(null==(e=n.$el)||e.scrollIntoView(i.scrollIntoViewOptions))};return fr((()=>i.rules),(()=>{i.validateOnRuleChange&&d().catch((t=>{}))}),{deep:!0,flush:"post"}),zi(Kp,de({...Re(i),emit:n,resetFields:l,clearValidate:c,validateField:f,getField:t=>r.find((e=>e.prop===t)),addField:t=>{r.push(t)},removeField:t=>{t.prop&&r.splice(r.indexOf(t),1)},...fC()})),e({validate:d,validateField:f,resetFields:l,clearValidate:c,scrollToField:p,fields:r}),(t,e)=>(Rr(),Pr("form",{class:$(Te(a))},[mi(t.$slots,"default")],2))}});var vC=mf(mC,[["__file","form.vue"]]);function gC(){return gC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gC.apply(this,arguments)}function yC(t){return(yC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bC(t,e){return(bC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function wC(t,e,n){return(wC=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ax){return!1}}()?Reflect.construct.bind():function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&bC(r,n.prototype),r}).apply(null,arguments)}function _C(t){var e="function"==typeof Map?new Map:void 0;return _C=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return wC(t,arguments,yC(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),bC(i,t)},_C(t)}var xC=/%[sdj%]/g;function SC(t){if(!t||!t.length)return null;var e={};return t.forEach((function(t){var n=t.field;e[n]=e[n]||[],e[n].push(t)})),e}function MC(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=0,o=n.length;return"function"==typeof t?t.apply(null,n):"string"==typeof t?t.replace(xC,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}break;default:return t}})):t}function CC(t,e){return null==t||(!("array"!==e||!Array.isArray(t)||t.length)||!(!function(t){return"string"===t||"url"===t||"hex"===t||"email"===t||"date"===t||"pattern"===t}(e)||"string"!=typeof t||t))}function kC(t,e,n){var i=0,r=t.length;!function o(s){if(s&&s.length)n(s);else{var a=i;i+=1,a<r?e(t[a],o):n([])}}([])}var EC=function(t){var e,n;function i(e,n){var i;return(i=t.call(this,"Async Validation Error")||this).errors=e,i.fields=n,i}return n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,bC(e,n),i}(_C(Error));function TC(t,e,n,i,r){if(e.first){var o=new Promise((function(e,o){var s=function(t){var e=[];return Object.keys(t).forEach((function(n){e.push.apply(e,t[n]||[])})),e}(t);kC(s,n,(function(t){return i(t),t.length?o(new EC(t,SC(t))):e(r)}))}));return o.catch((function(t){return t})),o}var s=!0===e.firstFields?Object.keys(t):e.firstFields||[],a=Object.keys(t),l=a.length,c=0,u=[],d=new Promise((function(e,o){var d=function(t){if(u.push.apply(u,t),++c===l)return i(u),u.length?o(new EC(u,SC(u))):e(r)};a.length||(i(u),e(r)),a.forEach((function(e){var i=t[e];-1!==s.indexOf(e)?kC(i,n,d):function(t,e,n){var i=[],r=0,o=t.length;function s(t){i.push.apply(i,t||[]),++r===o&&n(i)}t.forEach((function(t){e(t,s)}))}(i,n,d)}))}));return d.catch((function(t){return t})),d}function AC(t,e){return function(n){var i,r;return i=t.fullFields?function(t,e){for(var n=t,i=0;i<e.length;i++){if(null==n)return n;n=n[e[i]]}return n}(e,t.fullFields):e[n.field||t.fullField],(r=n)&&void 0!==r.message?(n.field=n.field||t.fullField,n.fieldValue=i,n):{message:"function"==typeof n?n():n,fieldValue:i,field:n.field||t.fullField}}}function NC(t,e){if(e)for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];"object"==typeof i&&"object"==typeof t[n]?t[n]=gC({},t[n],i):t[n]=i}return t}var IC,RC=function(t,e,n,i,r,o){!t.required||n.hasOwnProperty(t.field)&&!CC(e,o||t.type)||i.push(MC(r.messages.required,t.fullField))},OC=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,LC=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,DC={integer:function(t){return DC.number(t)&&parseInt(t,10)===t},float:function(t){return DC.number(t)&&!DC.integer(t)},array:function(t){return Array.isArray(t)},regexp:function(t){if(t instanceof RegExp)return!0;try{return!!new RegExp(t)}catch(ax){return!1}},date:function(t){return"function"==typeof t.getTime&&"function"==typeof t.getMonth&&"function"==typeof t.getYear&&!isNaN(t.getTime())},number:function(t){return!isNaN(t)&&"number"==typeof t},object:function(t){return"object"==typeof t&&!DC.array(t)},method:function(t){return"function"==typeof t},email:function(t){return"string"==typeof t&&t.length<=320&&!!t.match(OC)},url:function(t){return"string"==typeof t&&t.length<=2048&&!!t.match(function(){if(IC)return IC;var t="[a-fA-F\\d:]",e=function(e){return e&&e.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=("\n(?:\n(?:"+i+":){7}(?:"+i+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+i+":){6}(?:"+n+"|:"+i+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+i+":){5}(?::"+n+"|(?::"+i+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+i+":){4}(?:(?::"+i+"){0,1}:"+n+"|(?::"+i+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+i+":){3}(?:(?::"+i+"){0,2}:"+n+"|(?::"+i+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+i+":){2}(?:(?::"+i+"){0,3}:"+n+"|(?::"+i+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+i+":){1}(?:(?::"+i+"){0,4}:"+n+"|(?::"+i+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+i+"){0,5}:"+n+"|(?::"+i+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),s=new RegExp("^"+n+"$"),a=new RegExp("^"+r+"$"),l=function(t){return t&&t.exact?o:new RegExp("(?:"+e(t)+n+e(t)+")|(?:"+e(t)+r+e(t)+")","g")};l.v4=function(t){return t&&t.exact?s:new RegExp(""+e(t)+n+e(t),"g")},l.v6=function(t){return t&&t.exact?a:new RegExp(""+e(t)+r+e(t),"g")};var c=l.v4().source,u=l.v6().source;return IC=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(t){return"string"==typeof t&&!!t.match(LC)}},PC="enum",BC={required:RC,whitespace:function(t,e,n,i,r){(/^\s+$/.test(e)||""===e)&&i.push(MC(r.messages.whitespace,t.fullField))},type:function(t,e,n,i,r){if(t.required&&void 0===e)RC(t,e,n,i,r);else{var o=t.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?DC[o](e)||i.push(MC(r.messages.types[o],t.fullField,t.type)):o&&typeof e!==t.type&&i.push(MC(r.messages.types[o],t.fullField,t.type))}},range:function(t,e,n,i,r){var o="number"==typeof t.len,s="number"==typeof t.min,a="number"==typeof t.max,l=e,c=null,u="number"==typeof e,d="string"==typeof e,h=Array.isArray(e);if(u?c="number":d?c="string":h&&(c="array"),!c)return!1;h&&(l=e.length),d&&(l=e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==t.len&&i.push(MC(r.messages[c].len,t.fullField,t.len)):s&&!a&&l<t.min?i.push(MC(r.messages[c].min,t.fullField,t.min)):a&&!s&&l>t.max?i.push(MC(r.messages[c].max,t.fullField,t.max)):s&&a&&(l<t.min||l>t.max)&&i.push(MC(r.messages[c].range,t.fullField,t.min,t.max))},enum:function(t,e,n,i,r){t[PC]=Array.isArray(t[PC])?t[PC]:[],-1===t[PC].indexOf(e)&&i.push(MC(r.messages[PC],t.fullField,t[PC].join(", ")))},pattern:function(t,e,n,i,r){if(t.pattern)if(t.pattern instanceof RegExp)t.pattern.lastIndex=0,t.pattern.test(e)||i.push(MC(r.messages.pattern.mismatch,t.fullField,e,t.pattern));else if("string"==typeof t.pattern){new RegExp(t.pattern).test(e)||i.push(MC(r.messages.pattern.mismatch,t.fullField,e,t.pattern))}}},FC=function(t,e,n,i,r){var o=t.type,s=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e,o)&&!t.required)return n();BC.required(t,e,i,s,r,o),CC(e,o)||BC.type(t,e,i,s,r)}n(s)},UC={string:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e,"string")&&!t.required)return n();BC.required(t,e,i,o,r,"string"),CC(e,"string")||(BC.type(t,e,i,o,r),BC.range(t,e,i,o,r),BC.pattern(t,e,i,o,r),!0===t.whitespace&&BC.whitespace(t,e,i,o,r))}n(o)},method:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e)&&!t.required)return n();BC.required(t,e,i,o,r),void 0!==e&&BC.type(t,e,i,o,r)}n(o)},number:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(""===e&&(e=void 0),CC(e)&&!t.required)return n();BC.required(t,e,i,o,r),void 0!==e&&(BC.type(t,e,i,o,r),BC.range(t,e,i,o,r))}n(o)},boolean:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e)&&!t.required)return n();BC.required(t,e,i,o,r),void 0!==e&&BC.type(t,e,i,o,r)}n(o)},regexp:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e)&&!t.required)return n();BC.required(t,e,i,o,r),CC(e)||BC.type(t,e,i,o,r)}n(o)},integer:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e)&&!t.required)return n();BC.required(t,e,i,o,r),void 0!==e&&(BC.type(t,e,i,o,r),BC.range(t,e,i,o,r))}n(o)},float:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e)&&!t.required)return n();BC.required(t,e,i,o,r),void 0!==e&&(BC.type(t,e,i,o,r),BC.range(t,e,i,o,r))}n(o)},array:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(null==e&&!t.required)return n();BC.required(t,e,i,o,r,"array"),null!=e&&(BC.type(t,e,i,o,r),BC.range(t,e,i,o,r))}n(o)},object:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e)&&!t.required)return n();BC.required(t,e,i,o,r),void 0!==e&&BC.type(t,e,i,o,r)}n(o)},enum:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e)&&!t.required)return n();BC.required(t,e,i,o,r),void 0!==e&&BC.enum(t,e,i,o,r)}n(o)},pattern:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e,"string")&&!t.required)return n();BC.required(t,e,i,o,r),CC(e,"string")||BC.pattern(t,e,i,o,r)}n(o)},date:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e,"date")&&!t.required)return n();var s;if(BC.required(t,e,i,o,r),!CC(e,"date"))s=e instanceof Date?e:new Date(e),BC.type(t,s,i,o,r),s&&BC.range(t,s.getTime(),i,o,r)}n(o)},url:FC,hex:FC,email:FC,required:function(t,e,n,i,r){var o=[],s=Array.isArray(e)?"array":typeof e;BC.required(t,e,i,o,r,s),n(o)},any:function(t,e,n,i,r){var o=[];if(t.required||!t.required&&i.hasOwnProperty(t.field)){if(CC(e)&&!t.required)return n();BC.required(t,e,i,o,r)}n(o)}};function HC(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var t=JSON.parse(JSON.stringify(this));return t.clone=this.clone,t}}}var zC=HC(),VC=function(){function t(t){this.rules=null,this._e=zC,this.define(t)}var e=t.prototype;return e.define=function(t){var e=this;if(!t)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof t||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach((function(n){var i=t[n];e.rules[n]=Array.isArray(i)?i:[i]}))},e.messages=function(t){return t&&(this._e=NC(HC(),t)),this._e},e.validate=function(e,n,i){var r=this;void 0===n&&(n={}),void 0===i&&(i=function(){});var o=e,s=n,a=i;if("function"==typeof s&&(a=s,s={}),!this.rules||0===Object.keys(this.rules).length)return a&&a(null,o),Promise.resolve(o);if(s.messages){var l=this.messages();l===zC&&(l=HC()),NC(l,s.messages),s.messages=l}else s.messages=this.messages();var c={};(s.keys||Object.keys(this.rules)).forEach((function(t){var n=r.rules[t],i=o[t];n.forEach((function(n){var s=n;"function"==typeof s.transform&&(o===e&&(o=gC({},o)),i=o[t]=s.transform(i)),(s="function"==typeof s?{validator:s}:gC({},s)).validator=r.getValidationMethod(s),s.validator&&(s.field=t,s.fullField=s.fullField||t,s.type=r.getType(s),c[t]=c[t]||[],c[t].push({rule:s,value:i,source:o,field:t}))}))}));var u={};return TC(c,s,(function(e,n){var i,r=e.rule,a=!("object"!==r.type&&"array"!==r.type||"object"!=typeof r.fields&&"object"!=typeof r.defaultField);function l(t,e){return gC({},e,{fullField:r.fullField+"."+t,fullFields:r.fullFields?[].concat(r.fullFields,[t]):[t]})}function c(i){void 0===i&&(i=[]);var c=Array.isArray(i)?i:[i];!s.suppressWarning&&c.length&&t.warning("async-validator:",c),c.length&&void 0!==r.message&&(c=[].concat(r.message));var d=c.map(AC(r,o));if(s.first&&d.length)return u[r.field]=1,n(d);if(a){if(r.required&&!e.value)return void 0!==r.message?d=[].concat(r.message).map(AC(r,o)):s.error&&(d=[s.error(r,MC(s.messages.required,r.field))]),n(d);var h={};r.defaultField&&Object.keys(e.value).map((function(t){h[t]=r.defaultField})),h=gC({},h,e.rule.fields);var f={};Object.keys(h).forEach((function(t){var e=h[t],n=Array.isArray(e)?e:[e];f[t]=n.map(l.bind(null,t))}));var p=new t(f);p.messages(s.messages),e.rule.options&&(e.rule.options.messages=s.messages,e.rule.options.error=s.error),p.validate(e.value,e.rule.options||s,(function(t){var e=[];d&&d.length&&e.push.apply(e,d),t&&t.length&&e.push.apply(e,t),n(e.length?e:null)}))}else n(d)}if(a=a&&(r.required||!r.required&&e.value),r.field=e.field,r.asyncValidator)i=r.asyncValidator(r,e.value,c,e.source,s);else if(r.validator){try{i=r.validator(r,e.value,c,e.source,s)}catch(d){console.error,s.suppressValidatorError||setTimeout((function(){throw d}),0),c(d.message)}!0===i?c():!1===i?c("function"==typeof r.message?r.message(r.fullField||r.field):r.message||(r.fullField||r.field)+" fails"):i instanceof Array?c(i):i instanceof Error&&c(i.message)}i&&i.then&&i.then((function(){return c()}),(function(t){return c(t)}))}),(function(t){!function(t){var e=[],n={};function i(t){var n;Array.isArray(t)?e=(n=e).concat.apply(n,t):e.push(t)}for(var r=0;r<t.length;r++)i(t[r]);e.length?(n=SC(e),a(e,n)):a(null,o)}(t)}),o)},e.getType=function(t){if(void 0===t.type&&t.pattern instanceof RegExp&&(t.type="pattern"),"function"!=typeof t.validator&&t.type&&!UC.hasOwnProperty(t.type))throw new Error(MC("Unknown rule type %s",t.type));return t.type||"string"},e.getValidationMethod=function(t){if("function"==typeof t.validator)return t.validator;var e=Object.keys(t),n=e.indexOf("message");return-1!==n&&e.splice(n,1),1===e.length&&"required"===e[0]?UC.required:UC[this.getType(t)]||void 0},t}();VC.register=function(t,e){if("function"!=typeof e)throw new Error("Cannot register a validator by type, validator is not a function");UC[t]=e},VC.warning=function(){},VC.messages=zC,VC.validators=UC;const $C=Wh({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:[String,Array]},required:{type:Boolean,default:void 0},rules:{type:[Object,Array]},error:String,validateStatus:{type:String,values:["","error","validating","success"]},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:Kh}}),GC="ElLabelWrap";var jC=Un({name:GC,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=Vi(Kp,void 0),i=Vi(qp);i||Oh(GC,"usage: <el-form-item><label-wrap /></el-form-item>");const r=fa("form"),o=Me(),s=Me(0),a=(i="update")=>{Qe((()=>{e.default&&t.isAutoWidth&&("update"===i?s.value=(()=>{var t;if(null==(t=o.value)?void 0:t.firstElementChild){const t=window.getComputedStyle(o.value.firstElementChild).width;return Math.ceil(Number.parseFloat(t))}return 0})():"remove"===i&&(null==n||n.deregisterLabelWidth(s.value)))}))},l=()=>a("update");return Zn((()=>{l()})),ti((()=>{a("remove")})),Qn((()=>l())),fr(s,((e,i)=>{t.updateAll&&(null==n||n.registerLabelWidth(e,i))})),yh(vo((()=>{var t,e;return null!=(e=null==(t=o.value)?void 0:t.firstElementChild)?e:null})),l),()=>{var a,l;if(!e)return null;const{isAutoWidth:c}=t;if(c){const t=null==n?void 0:n.autoLabelWidth,l={};if((null==i?void 0:i.hasLabel)&&t&&"auto"!==t){const e=Math.max(0,Number.parseInt(t,10)-s.value),r=i.labelPosition||n.labelPosition;e&&(l["left"===r?"marginRight":"marginLeft"]=`${e}px`)}return $r("div",{ref:o,class:[r.be("item","label-wrap")],style:l},[null==(a=e.default)?void 0:a.call(e)])}return $r(kr,{ref:o},[null==(l=e.default)?void 0:l.call(e)])}}});var WC=mf(Un({...Un({name:"ElFormItem"}),props:$C,setup(t,{expose:e}){const n=t,i=_i(),r=Vi(Kp,void 0),o=Vi(qp,void 0),s=nm(void 0,{formItem:!1}),a=fa("form-item"),l=Jp().value,c=Me([]),u=Me(""),h=function(t,e=200,n={}){const i=Me(t.value),r=nh((()=>{i.value=t.value}),e,n);return fr(t,(()=>r())),i}(u,100),f=Me(""),p=Me();let g,y=!1;const b=vo((()=>n.labelPosition||(null==r?void 0:r.labelPosition))),w=vo((()=>{if("top"===b.value)return{};const t=Mf(n.labelWidth||(null==r?void 0:r.labelWidth)||"");return t?{width:t}:{}})),_=vo((()=>{if("top"===b.value||(null==r?void 0:r.inline))return{};if(!n.label&&!n.labelWidth&&A)return{};const t=Mf(n.labelWidth||(null==r?void 0:r.labelWidth)||"");return n.label||i.label?{}:{marginLeft:t}})),x=vo((()=>[a.b(),a.m(s.value),a.is("error","error"===u.value),a.is("validating","validating"===u.value),a.is("success","success"===u.value),a.is("required",O.value||n.required),a.is("no-asterisk",null==r?void 0:r.hideRequiredAsterisk),"right"===(null==r?void 0:r.requireAsteriskPosition)?"asterisk-right":"asterisk-left",{[a.m("feedback")]:null==r?void 0:r.statusIcon,[a.m(`label-${b.value}`)]:b.value}])),S=vo((()=>Od(n.inlineMessage)?n.inlineMessage:(null==r?void 0:r.inlineMessage)||!1)),M=vo((()=>[a.e("error"),{[a.em("error","inline")]:S.value}])),C=vo((()=>n.prop?v(n.prop)?n.prop:n.prop.join("."):"")),k=vo((()=>!(!n.label&&!i.label))),E=vo((()=>n.for||(1===c.value.length?c.value[0]:void 0))),T=vo((()=>!E.value&&k.value)),A=!!o,N=vo((()=>{const t=null==r?void 0:r.model;if(t&&n.prop)return rf(t,n.prop).value})),I=vo((()=>{const{required:t}=n,e=[];n.rules&&e.push(...Pc(n.rules));const i=null==r?void 0:r.rules;if(i&&n.prop){const t=rf(i,n.prop).value;t&&e.push(...Pc(t))}if(void 0!==t){const n=e.map(((t,e)=>[t,e])).filter((([t])=>Object.keys(t).includes("required")));if(n.length>0)for(const[i,r]of n)i.required!==t&&(e[r]={...i,required:t});else e.push({required:t})}return e})),R=vo((()=>I.value.length>0)),O=vo((()=>I.value.some((t=>t.required)))),L=vo((()=>{var t;return"error"===h.value&&n.showMessage&&(null==(t=null==r?void 0:r.showMessage)||t)})),D=vo((()=>`${n.label||""}${(null==r?void 0:r.labelSuffix)||""}`)),P=t=>{u.value=t},B=async t=>{const e=C.value;return new VC({[e]:t}).validate({[e]:N.value},{firstFields:!0}).then((()=>(P("success"),null==r||r.emit("validate",n.prop,!0,""),!0))).catch((t=>((t=>{var e,i;const{errors:o,fields:s}=t;P("error"),f.value=o?null!=(i=null==(e=null==o?void 0:o[0])?void 0:e.message)?i:`${n.prop} is required`:"",null==r||r.emit("validate",n.prop,!1,f.value)})(t),Promise.reject(t))))},U=async(t,e)=>{if(y||!n.prop)return!1;const i=m(e);if(!R.value)return null==e||e(!1),!1;const r=(t=>I.value.filter((e=>!e.trigger||!t||(d(e.trigger)?e.trigger.includes(t):e.trigger===t))).map((({trigger:t,...e})=>e)))(t);return 0===r.length?(null==e||e(!0),!0):(P("validating"),B(r).then((()=>(null==e||e(!0),!0))).catch((t=>{const{fields:n}=t;return null==e||e(!1,n),!i&&Promise.reject(n)})))},H=()=>{P(""),f.value="",y=!1},z=async()=>{const t=null==r?void 0:r.model;if(!t||!n.prop)return;const e=rf(t,n.prop);y=!0,e.value=Au(g),await Qe(),H(),y=!1};fr((()=>n.error),(t=>{f.value=t||"",P(t?"error":"")}),{immediate:!0}),fr((()=>n.validateStatus),(t=>P(t||"")));const V=de({...Re(n),$el:p,size:s,validateState:u,labelId:l,inputIds:c,isGroup:T,hasLabel:k,fieldValue:N,addInputId:t=>{c.value.includes(t)||c.value.push(t)},removeInputId:t=>{c.value=c.value.filter((e=>e!==t))},resetField:z,clearValidate:H,validate:U});return zi(qp,V),Zn((()=>{n.prop&&(null==r||r.addField(V),g=Au(N.value))})),ti((()=>{null==r||r.removeField(V)})),e({size:s,validateMessage:f,validateState:u,validate:U,clearValidate:H,resetField:z}),(t,e)=>{var n;return Rr(),Pr("div",{ref_key:"formItemRef",ref:p,class:$(Te(x)),role:Te(T)?"group":void 0,"aria-labelledby":Te(T)?Te(l):void 0},[$r(Te(jC),{"is-auto-width":"auto"===Te(w).width,"update-all":"auto"===(null==(n=Te(r))?void 0:n.labelWidth)},{default:un((()=>[Te(k)?(Rr(),Br(ci(Te(E)?"label":"div"),{key:0,id:Te(l),for:Te(E),class:$(Te(a).e("label")),style:F(Te(w))},{default:un((()=>[mi(t.$slots,"label",{label:Te(D)},(()=>[Wr(X(Te(D)),1)]))])),xt:3},8,["id","for","class","style"])):Kr("v-if",!0)])),xt:3},8,["is-auto-width","update-all"]),Vr("div",{class:$(Te(a).e("content")),style:F(Te(_))},[mi(t.$slots,"default"),$r(bs,{name:`${Te(a).namespace.value}-zoom-in-top`},{default:un((()=>[Te(L)?mi(t.$slots,"error",{key:0,error:f.value},(()=>[Vr("div",{class:$(Te(M))},X(f.value),3)])):Kr("v-if",!0)])),xt:3},8,["name"])],6)],10,["role","aria-labelledby"])}}}),[["__file","form-item.vue"]]);const KC=Of(vC,{FormItem:WC}),qC=Df(WC),YC=Wh({urlList:{type:Array,default:()=>[]},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:String}}),XC={close:()=>!0,switch:t=>Ld(t),rotate:t=>Ld(t)},ZC=Un({...Un({name:"ElImageViewer"}),props:YC,emits:XC,setup(t,{expose:e,emit:n}){var i;const r=t,o={CONTAIN:{name:"contain",icon:we(rp)},ORIGINAL:{name:"original",icon:we(vp)}};let s,a="";const{t:l}=$h(),c=fa("image-viewer"),{nextZIndex:u}=Fh(),d=Me(),h=Me([]),f=nt(),p=Me(!0),m=Me(r.initialIndex),v=Ce(o.CONTAIN),g=Me({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),y=Me(null!=(i=r.zIndex)?i:u()),b=vo((()=>{const{urlList:t}=r;return t.length<=1})),w=vo((()=>0===m.value)),_=vo((()=>m.value===r.urlList.length-1)),x=vo((()=>r.urlList[m.value])),S=vo((()=>[c.e("btn"),c.e("prev"),c.is("disabled",!r.infinite&&w.value)])),M=vo((()=>[c.e("btn"),c.e("next"),c.is("disabled",!r.infinite&&_.value)])),C=vo((()=>{const{scale:t,deg:e,offsetX:n,offsetY:i,enableTransition:r}=g.value;let s=n/t,a=i/t;const l=e*Math.PI/180,c=Math.cos(l),u=Math.sin(l);s=s*c+a*u,a=a*c-n/t*u;const d={transform:`scale(${t}) rotate(${e}deg) translate(${s}px, ${a}px)`,transition:r?"transform .3s":""};return v.value.name===o.CONTAIN.name&&(d.maxWidth=d.maxHeight="100%"),d})),k=vo((()=>`${m.value+1} / ${r.urlList.length}`));function E(){f.stop(),null==s||s(),document.body.style.overflow=a,n("close")}function T(){p.value=!1}function A(t){p.value=!1,t.target.alt=l("el.image.error")}function N(t){if(p.value||0!==t.button||!d.value)return;g.value.enableTransition=!1;const{offsetX:e,offsetY:n}=g.value,i=t.pageX,r=t.pageY,o=Ad((t=>{g.value={...g.value,offsetX:e+t.pageX-i,offsetY:n+t.pageY-r}})),s=ch(document,"mousemove",o);ch(document,"mouseup",(()=>{s()})),t.preventDefault()}function I(){g.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function R(){if(p.value)return;const t=ef(o),e=Object.values(o),n=v.value.name,i=(e.findIndex((t=>t.name===n))+1)%t.length;v.value=o[t[i]],I()}function O(t){const e=r.urlList.length;m.value=(t+e)%e}function L(){w.value&&!r.infinite||O(m.value-1)}function D(){_.value&&!r.infinite||O(m.value+1)}function P(t,e={}){if(p.value)return;const{minScale:i,maxScale:o}=r,{zoomRate:s,rotateDeg:a,enableTransition:l}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...e};switch(t){case"zoomOut":g.value.scale>i&&(g.value.scale=Number.parseFloat((g.value.scale/s).toFixed(3)));break;case"zoomIn":g.value.scale<o&&(g.value.scale=Number.parseFloat((g.value.scale*s).toFixed(3)));break;case"clockwise":g.value.deg+=a,n("rotate",g.value.deg);break;case"anticlockwise":g.value.deg-=a,n("rotate",g.value.deg)}g.value.enableTransition=l}function B(t){var e;"pointer"===(null==(e=t.detail)?void 0:e.focusReason)&&t.preventDefault()}function U(){r.closeOnPressEscape&&E()}function H(t){if(t.ctrlKey)return t.deltaY<0||t.deltaY>0?(t.preventDefault(),!1):void 0}return fr(x,(()=>{Qe((()=>{const t=h.value[0];(null==t?void 0:t.complete)||(p.value=!0)}))})),fr(m,(t=>{I(),n("switch",t)})),Zn((()=>{!function(){const t=Ad((t=>{switch(t.code){case ev.esc:r.closeOnPressEscape&&E();break;case ev.space:R();break;case ev.left:L();break;case ev.up:P("zoomIn");break;case ev.right:D();break;case ev.down:P("zoomOut")}})),e=Ad((t=>{P((t.deltaY||t.deltaX)<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})}));f.run((()=>{ch(document,"keydown",t),ch(document,"wheel",e)}))}(),s=ch("wheel",H,{passive:!1}),a=document.body.style.overflow,document.body.style.overflow="hidden"})),e({setActiveItem:O}),(t,e)=>(Rr(),Br(Te(Xg),{to:"body",disabled:!t.teleported},{default:un((()=>[$r(Ro,{name:"viewer-fade",appear:""},{default:un((()=>[Vr("div",{ref_key:"wrapper",ref:d,tabindex:-1,class:$(Te(c).e("wrapper")),style:F({zIndex:y.value})},[$r(Te(ov),{loop:"",trapped:"","focus-trap-el":d.value,"focus-start-el":"container",onFocusoutPrevented:B,onReleaseRequested:U},{default:un((()=>[Vr("div",{class:$(Te(c).e("mask")),onClick:Ds((e=>t.hideOnClickModal&&E()),["self"])},null,10,["onClick"]),Kr(" CLOSE "),Vr("span",{class:$([Te(c).e("btn"),Te(c).e("close")]),onClick:E},[$r(Te(Ff),null,{default:un((()=>[$r(Te(Qf))])),xt:1})],2),Kr(" ARROW "),Te(b)?Kr("v-if",!0):(Rr(),Pr(kr,{key:0},[Vr("span",{class:$(Te(S)),onClick:L},[$r(Te(Ff),null,{default:un((()=>[$r(Te(Hf))])),xt:1})],2),Vr("span",{class:$(Te(M)),onClick:D},[$r(Te(Ff),null,{default:un((()=>[$r(Te(zf))])),xt:1})],2)],64)),t.showProgress?(Rr(),Pr("div",{key:1,class:$([Te(c).e("btn"),Te(c).e("progress")])},[mi(t.$slots,"progress",{activeIndex:m.value,total:t.urlList.length},(()=>[Wr(X(Te(k)),1)]))],2)):Kr("v-if",!0),Kr(" ACTIONS "),Vr("div",{class:$([Te(c).e("btn"),Te(c).e("actions")])},[Vr("div",{class:$(Te(c).e("actions__inner"))},[mi(t.$slots,"toolbar",{actions:P,prev:L,next:D,reset:R,activeIndex:m.value},(()=>[$r(Te(Ff),{onClick:t=>P("zoomOut")},{default:un((()=>[$r(Te(kp))])),xt:1},8,["onClick"]),$r(Te(Ff),{onClick:t=>P("zoomIn")},{default:un((()=>[$r(Te(Cp))])),xt:1},8,["onClick"]),Vr("i",{class:$(Te(c).e("actions__divider"))},null,2),$r(Te(Ff),{onClick:R},{default:un((()=>[(Rr(),Br(ci(Te(v).icon)))])),xt:1}),Vr("i",{class:$(Te(c).e("actions__divider"))},null,2),$r(Te(Ff),{onClick:t=>P("anticlockwise")},{default:un((()=>[$r(Te(pp))])),xt:1},8,["onClick"]),$r(Te(Ff),{onClick:t=>P("clockwise")},{default:un((()=>[$r(Te(mp))])),xt:1},8,["onClick"])]))],2)],2),Kr(" CANVAS "),Vr("div",{class:$(Te(c).e("canvas"))},[(Rr(!0),Pr(kr,null,fi(t.urlList,((e,n)=>dn((Rr(),Pr("img",{ref_for:!0,ref:t=>h.value[n]=t,key:e,src:e,style:F(Te(C)),class:$(Te(c).e("img")),crossorigin:t.crossorigin,onLoad:T,onError:A,onMousedown:N},null,46,["src","crossorigin"])),[[qo,n===m.value]]))),128))],2),mi(t.$slots,"default")])),xt:3},8,["focus-trap-el"])],6)])),xt:3})])),xt:3},8,["disabled"]))}});const JC=Of(mf(ZC,[["__file","image-viewer.vue"]])),QC=Wh({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:[String,Object]},previewSrcList:{type:Array,default:()=>[]},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:String}}),tk={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>Ld(t),close:()=>!0,show:()=>!0},ek=Un({...Un({name:"ElImage",inheritAttrs:!1}),props:QC,emits:tk,setup(t,{expose:e,emit:n}){const i=t,{t:r}=$h(),o=fa("image"),s=xi(),a=vo((()=>md(Object.entries(s).filter((([t])=>/^(data-|on[A-Z])/i.test(t)||["id","style"].includes(t)))))),l=Wp({excludeListeners:!0,excludeKeys:vo((()=>Object.keys(a.value)))}),c=Me(),u=Me(!1),h=Me(!0),f=Me(!1),p=Me(),m=Me(),g=qd&&"loading"in HTMLImageElement.prototype;let y;const b=vo((()=>[o.e("inner"),_.value&&o.e("preview"),h.value&&o.is("loading")])),w=vo((()=>{const{fit:t}=i;return qd&&t?{objectFit:t}:{}})),_=vo((()=>{const{previewSrcList:t}=i;return d(t)&&t.length>0})),x=vo((()=>{const{previewSrcList:t,initialIndex:e}=i;let n=e;return e>t.length-1&&(n=0),n})),S=vo((()=>"eager"!==i.loading&&(!g&&"lazy"===i.loading||i.lazy))),M=()=>{qd&&(h.value=!0,u.value=!1,c.value=i.src)};function C(t){h.value=!1,u.value=!1,n("load",t)}function k(t){h.value=!1,u.value=!0,n("error",t)}function E(){((t,e)=>{if(!qd||!t||!e)return!1;const n=t.getBoundingClientRect();let i;return i=e instanceof Element?e.getBoundingClientRect():{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right})(p.value,m.value)&&(M(),N())}const T=ih(E,200,!0);async function A(){var t;if(!qd)return;await Qe();const{scrollContainer:e}=i;Pd(e)?m.value=e:v(e)&&""!==e?m.value=null!=(t=document.querySelector(e))?t:void 0:p.value&&(m.value=kf(p.value)),m.value&&(y=ch(m,"scroll",T),setTimeout((()=>E()),100))}function N(){qd&&m.value&&T&&(null==y||y(),m.value=void 0)}function I(){_.value&&(f.value=!0,n("show"))}function R(){f.value=!1,n("close")}function O(t){n("switch",t)}return fr((()=>i.src),(()=>{S.value?(h.value=!0,u.value=!1,N(),A()):M()})),Zn((()=>{S.value?A():M()})),e({showPreview:I}),(t,e)=>(Rr(),Pr("div",Zr({ref_key:"container",ref:p},Te(a),{class:[Te(o).b(),t.$attrs.class]}),[u.value?mi(t.$slots,"error",{key:0},(()=>[Vr("div",{class:$(Te(o).e("error"))},X(Te(r)("el.image.error")),3)])):(Rr(),Pr(kr,{key:1},[void 0!==c.value?(Rr(),Pr("img",Zr({key:0},Te(l),{src:c.value,loading:t.loading,style:Te(w),class:Te(b),crossorigin:t.crossorigin,onClick:I,onLoad:C,onError:k}),null,16,["src","loading","crossorigin"])):Kr("v-if",!0),h.value?(Rr(),Pr("div",{key:1,class:$(Te(o).e("wrapper"))},[mi(t.$slots,"placeholder",{},(()=>[Vr("div",{class:$(Te(o).e("placeholder"))},null,2)]))],2)):Kr("v-if",!0)],64)),Te(_)?(Rr(),Pr(kr,{key:2},[f.value?(Rr(),Br(Te(JC),{key:0,"z-index":t.zIndex,"initial-index":Te(x),infinite:t.infinite,"zoom-rate":t.zoomRate,"min-scale":t.minScale,"max-scale":t.maxScale,"show-progress":t.showProgress,"url-list":t.previewSrcList,crossorigin:t.crossorigin,"hide-on-click-modal":t.hideOnClickModal,teleported:t.previewTeleported,"close-on-press-escape":t.closeOnPressEscape,onClose:R,onSwitch:O},{progress:un((e=>[mi(t.$slots,"progress",G(Gr(e)))])),toolbar:un((e=>[mi(t.$slots,"toolbar",G(Gr(e)))])),default:un((()=>[t.$slots.viewer?(Rr(),Pr("div",{key:0},[mi(t.$slots,"viewer")])):Kr("v-if",!0)])),xt:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):Kr("v-if",!0)],64)):Kr("v-if",!0)],16))}});const nk=Of(mf(ek,[["__file","image.vue"]])),ik=Wh({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:qh,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>null===t||Ld(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...zp(["ariaLabel"])}),rk={[df]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[hf]:t=>Ld(t)||yd(t),[uf]:t=>Ld(t)||yd(t)},ok=Un({...Un({name:"ElInputNumber"}),props:ik,emits:rk,setup(t,{expose:e,emit:n}){const i=t,{t:r}=$h(),o=fa("input-number"),s=Me(),a=de({currentValue:i.modelValue,userInput:null}),{formItem:l}=Qp(),c=vo((()=>Ld(i.modelValue)&&i.modelValue<=i.min)),u=vo((()=>Ld(i.modelValue)&&i.modelValue>=i.max)),d=vo((()=>{const t=y(i.step);return Rd(i.precision)?Math.max(y(i.modelValue),t):(i.precision,i.precision)})),h=vo((()=>i.controls&&"right"===i.controlsPosition)),f=nm(),p=im(),m=vo((()=>{if(null!==a.userInput)return a.userInput;let t=a.currentValue;if(yd(t))return"";if(Ld(t)){if(Number.isNaN(t))return"";Rd(i.precision)||(t=t.toFixed(i.precision))}return t})),g=(t,e)=>{if(Rd(e)&&(e=d.value),0===e)return Math.round(t);let n=String(t);const i=n.indexOf(".");if(-1===i)return t;if(!n.replace(".","").split("")[i+e])return t;const r=n.length;return"5"===n.charAt(r-1)&&(n=`${n.slice(0,Math.max(0,r-1))}6`),Number.parseFloat(Number(n).toFixed(e))},y=t=>{if(yd(t))return 0;const e=t.toString(),n=e.indexOf(".");let i=0;return-1!==n&&(i=e.length-n-1),i},b=(t,e=1)=>Ld(t)?g(t+i.step*e):a.currentValue,w=()=>{if(i.readonly||p.value||u.value)return;const t=Number(m.value)||0,e=b(t);S(e),n(hf,a.currentValue),T()},_=()=>{if(i.readonly||p.value||c.value)return;const t=Number(m.value)||0,e=b(t,-1);S(e),n(hf,a.currentValue),T()},x=(t,e)=>{const{max:r,min:o,step:s,precision:a,stepStrictly:l,valueOnClear:c}=i;r<o&&Oh("InputNumber","min should not be greater than max.");let u=Number(t);if(yd(t)||Number.isNaN(u))return null;if(""===t){if(null===c)return null;u=v(c)?{min:o,max:r}[c]:c}return l&&(u=g(Math.round(u/s)*s,a),u!==t&&e&&n(uf,u)),Rd(a)||(u=g(u,a)),(u>r||u<o)&&(u=u>r?r:o,e&&n(uf,u)),u},S=(t,e=!0)=>{var r;const o=a.currentValue,s=x(t);e?o===s&&t||(a.userInput=null,n(uf,s),o!==s&&n(df,s,o),i.validateEvent&&(null==(r=null==l?void 0:l.validate)||r.call(l,"change").catch((t=>{}))),a.currentValue=s):n(uf,s)},M=t=>{a.userInput=t;const e=""===t?null:Number(t);n(hf,e),S(e,!1)},C=t=>{const e=""!==t?Number(t):"";(Ld(e)&&!Number.isNaN(e)||""===t)&&S(e),T(),a.userInput=null},k=t=>{n("focus",t)},E=t=>{var e,r;a.userInput=null,Dp()&&null===a.currentValue&&(null==(e=s.value)?void 0:e.input)&&(s.value.input.value=""),n("blur",t),i.validateEvent&&(null==(r=null==l?void 0:l.validate)||r.call(l,"blur").catch((t=>{})))},T=()=>{a.currentValue!==i.modelValue&&(a.currentValue=i.modelValue)},A=t=>{document.activeElement===t.target&&t.preventDefault()};return fr((()=>i.modelValue),((t,e)=>{const n=x(t,!0);null===a.userInput&&n!==e&&(a.currentValue=n)}),{immediate:!0}),Zn((()=>{var t;const{min:e,max:r,modelValue:o}=i,l=null==(t=s.value)?void 0:t.input;if(l.setAttribute("role","spinbutton"),Number.isFinite(r)?l.setAttribute("aria-valuemax",String(r)):l.removeAttribute("aria-valuemax"),Number.isFinite(e)?l.setAttribute("aria-valuemin",String(e)):l.removeAttribute("aria-valuemin"),l.setAttribute("aria-valuenow",a.currentValue||0===a.currentValue?String(a.currentValue):""),l.setAttribute("aria-disabled",String(p.value)),!Ld(o)&&null!=o){let t=Number(o);Number.isNaN(t)&&(t=null),n(uf,t)}l.addEventListener("wheel",A,{passive:!1})})),Qn((()=>{var t,e;const n=null==(t=s.value)?void 0:t.input;null==n||n.setAttribute("aria-valuenow",`${null!=(e=a.currentValue)?e:""}`)})),e({focus:()=>{var t,e;null==(e=null==(t=s.value)?void 0:t.focus)||e.call(t)},blur:()=>{var t,e;null==(e=null==(t=s.value)?void 0:t.blur)||e.call(t)}}),(t,e)=>(Rr(),Pr("div",{class:$([Te(o).b(),Te(o).m(Te(f)),Te(o).is("disabled",Te(p)),Te(o).is("without-controls",!t.controls),Te(o).is("controls-right",Te(h))]),onDragstart:Ds((()=>{}),["prevent"])},[t.controls?dn((Rr(),Pr("span",{key:0,role:"button","aria-label":Te(r)("el.inputNumber.decrease"),class:$([Te(o).e("decrease"),Te(o).is("disabled",Te(c))]),onKeydown:Bs(_,["enter"])},[mi(t.$slots,"decrease-icon",{},(()=>[$r(Te(Ff),null,{default:un((()=>[Te(h)?(Rr(),Br(Te(Uf),{key:0})):(Rr(),Br(Te(lp),{key:1}))])),xt:1})]))],42,["aria-label","onKeydown"])),[[Te(Wx),_]]):Kr("v-if",!0),t.controls?dn((Rr(),Pr("span",{key:1,role:"button","aria-label":Te(r)("el.inputNumber.increase"),class:$([Te(o).e("increase"),Te(o).is("disabled",Te(u))]),onKeydown:Bs(w,["enter"])},[mi(t.$slots,"increase-icon",{},(()=>[$r(Te(Ff),null,{default:un((()=>[Te(h)?(Rr(),Br(Te(Vf),{key:0})):(Rr(),Br(Te(hp),{key:1}))])),xt:1})]))],42,["aria-label","onKeydown"])),[[Te(Wx),w]]):Kr("v-if",!0),$r(Te(sm),{id:t.id,ref_key:"input",ref:s,type:"number",step:t.step,"model-value":Te(m),placeholder:t.placeholder,readonly:t.readonly,disabled:Te(p),size:Te(f),max:t.max,min:t.min,name:t.name,"aria-label":t.ariaLabel,"validate-event":!1,onKeydown:[Bs(Ds(w,["prevent"]),["up"]),Bs(Ds(_,["prevent"]),["down"])],onBlur:E,onFocus:k,onInput:M,onChange:C},pi({xt:2},[t.$slots.prefix?{name:"prefix",fn:un((()=>[mi(t.$slots,"prefix")]))}:void 0,t.$slots.suffix?{name:"suffix",fn:un((()=>[mi(t.$slots,"suffix")]))}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});const sk=Of(mf(ok,[["__file","input-number.vue"]])),ak=Wh({modelValue:{type:Array},max:Number,tagType:{...Fw.type,default:"info"},tagEffect:Fw.effect,trigger:{type:String,default:ev.enter},draggable:{type:Boolean,default:!1},size:qh,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},ariaLabel:String}),lk={[uf]:t=>d(t)||Rd(t),[df]:t=>d(t)||Rd(t),[hf]:t=>v(t),"add-tag":t=>v(t),"remove-tag":t=>v(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0};function ck(){const t=Ce(),e=Me(0),n=vo((()=>({minWidth:`${Math.max(e.value,11)}px`})));return yh(t,(()=>{var n,i;e.value=null!=(i=null==(n=t.value)?void 0:n.getBoundingClientRect().width)?i:0})),{calculatorRef:t,calculatorWidth:e,inputStyle:n}}const uk=Of(mf(Un({...Un({name:"ElInputTag",inheritAttrs:!1}),props:ak,emits:lk,setup(t,{expose:e,emit:n}){const r=t,o=Wp(),s=_i(),{form:a,formItem:l}=Qp(),{inputId:c}=tm(r,{formItemContext:l}),u=vo((()=>{var t;return null!=(t=null==a?void 0:a.statusIcon)&&t})),d=vo((()=>(null==l?void 0:l.validateState)||"")),h=vo((()=>d.value&&Ip[d.value])),{inputRef:f,wrapperRef:p,isFocused:m,inputValue:v,size:g,tagSize:y,placeholder:b,closable:w,disabled:_,handleDragged:x,handleInput:S,handleKeydown:M,handleRemoveTag:C,handleClear:k,handleCompositionStart:E,handleCompositionUpdate:T,handleCompositionEnd:A,focus:N,blur:I}=function({props:t,emit:e,formItem:n}){const i=im(),r=nm(),o=Ce(),s=Me(),a=vo((()=>["small"].includes(r.value)?"small":"default")),l=vo((()=>{var e;return(null==(e=t.modelValue)?void 0:e.length)?void 0:t.placeholder})),c=vo((()=>!(t.readonly||i.value))),u=vo((()=>{var e,n;return!Rd(t.max)&&(null!=(n=null==(e=t.modelValue)?void 0:e.length)?n:0)>=t.max})),d=t=>{u.value?s.value=void 0:v.value||e(hf,t.target.value)},h=()=>{var n,i;const r=null==(n=s.value)?void 0:n.trim();if(!r||u.value)return;const o=[...null!=(i=t.modelValue)?i:[],r];e(uf,o),e(df,o),e("add-tag",r),s.value=void 0},f=n=>{var i;const r=(null!=(i=t.modelValue)?i:[]).slice(),[o]=r.splice(n,1);e(uf,r),e(df,r),e("remove-tag",o)},{wrapperRef:p,isFocused:m}=rm(o,{beforeFocus:()=>i.value,afterBlur(){var e;h(),t.validateEvent&&(null==(e=null==n?void 0:n.validate)||e.call(n,"blur").catch((t=>{})))}}),{isComposing:v,handleCompositionStart:g,handleCompositionUpdate:y,handleCompositionEnd:b}=om({afterComposition:d});return fr((()=>t.modelValue),(()=>{var e;t.validateEvent&&(null==(e=null==n?void 0:n.validate)||e.call(n,df).catch((t=>{})))})),{inputRef:o,wrapperRef:p,isFocused:m,isComposing:v,inputValue:s,size:r,tagSize:a,placeholder:l,closable:c,disabled:i,inputLimit:u,handleDragged:(n,i,r)=>{var o;const s=(null!=(o=t.modelValue)?o:[]).slice(),[a]=s.splice(n,1),l=i>n&&"before"===r?-1:i<n&&"after"===r?1:0;s.splice(i+l,0,a),e(uf,s),e(df,s)},handleInput:d,handleKeydown:e=>{var n;if(!v.value)switch(e.code){case t.trigger:e.preventDefault(),e.stopPropagation(),h();break;case ev.numpadEnter:t.trigger===ev.enter&&(e.preventDefault(),e.stopPropagation(),h());break;case ev.backspace:!s.value&&(null==(n=t.modelValue)?void 0:n.length)&&(e.preventDefault(),e.stopPropagation(),f(t.modelValue.length-1))}},handleAddTag:h,handleRemoveTag:f,handleClear:()=>{s.value=void 0,e(uf,void 0),e(df,void 0),e("clear")},handleCompositionStart:g,handleCompositionUpdate:y,handleCompositionEnd:b,focus:()=>{var t;null==(t=o.value)||t.focus()},blur:()=>{var t;null==(t=o.value)||t.blur()}}}({props:r,emit:n,formItem:l}),{hovering:R,handleMouseEnter:O,handleMouseLeave:L}=function(){const t=Me(!1);return{hovering:t,handleMouseEnter:()=>{t.value=!0},handleMouseLeave:()=>{t.value=!1}}}(),{calculatorRef:D,inputStyle:P}=ck(),{dropIndicatorRef:B,showDropIndicator:U,handleDragStart:H,handleDragOver:z,handleDragEnd:V}=function({wrapperRef:t,handleDragged:e,afterDragged:n}){const i=fa("input-tag"),r=Ce(),o=Me(!1);let s,a,l,c;function u(t){return`.${i.e("inner")} .${i.namespace.value}-tag:nth-child(${t+1})`}return{dropIndicatorRef:r,showDropIndicator:o,handleDragStart:function(e,n){s=n,a=t.value.querySelector(u(n)),a&&(a.style.opacity="0.5"),e.dataTransfer.effectAllowed="move"},handleDragOver:function(e,n){if(l=n,e.preventDefault(),e.dataTransfer.dropEffect="move",Rd(s)||s===n)return void(o.value=!1);const a=t.value.querySelector(u(n)).getBoundingClientRect(),d=!(s+1===n),h=!(s-1===n),f=e.clientX-a.left,p=d?h?.5:1:-1,m=h?d?.5:0:1;c=f<=a.width*p?"before":f>a.width*m?"after":void 0;const v=t.value.querySelector(`.${i.e("inner")}`),g=v.getBoundingClientRect(),y=Number.parseFloat(xf(v,"gap"))/2,b=a.top-g.top;let w=-9999;if("before"===c)w=Math.max(a.left-g.left-y,Math.floor(-y/2));else if("after"===c){const t=a.right-g.left;w=t+(g.width===t?Math.floor(y/2):y)}Sf(r.value,{top:`${b}px`,left:`${w}px`}),o.value=!!c},handleDragEnd:function(t){t.preventDefault(),a&&(a.style.opacity=""),!c||Rd(s)||Rd(l)||s===l||e(s,l,c),o.value=!1,s=void 0,a=null,l=void 0,c=void 0,null==n||n()}}}({wrapperRef:p,handleDragged:x,afterDragged:N}),{ns:G,nsInput:j,containerKls:W,containerStyle:K,innerKls:q,showClear:Y,showSuffix:Z}=function({props:t,isFocused:e,hovering:n,disabled:i,inputValue:r,size:o,validateState:s,validateIcon:a,needStatusIcon:l}){const c=xi(),u=_i(),d=fa("input-tag"),h=fa("input"),f=vo((()=>[d.b(),d.is("focused",e.value),d.is("hovering",n.value),d.is("disabled",i.value),d.m(o.value),d.e("wrapper"),c.class])),p=vo((()=>[c.style])),m=vo((()=>{var e,n;return[d.e("inner"),d.is("draggable",t.draggable),d.is("left-space",!(null==(e=t.modelValue)?void 0:e.length)&&!u.prefix),d.is("right-space",!(null==(n=t.modelValue)?void 0:n.length)&&!g.value)]})),v=vo((()=>{var o;return t.clearable&&!i.value&&!t.readonly&&((null==(o=t.modelValue)?void 0:o.length)||r.value)&&(e.value||n.value)})),g=vo((()=>u.suffix||v.value||s.value&&a.value&&l.value));return{ns:d,nsInput:h,containerKls:f,containerStyle:p,innerKls:m,showClear:v,showSuffix:g}}({props:r,hovering:R,isFocused:m,inputValue:v,disabled:_,size:g,validateState:d,validateIcon:h,needStatusIcon:u});return e({focus:N,blur:I}),(t,e)=>(Rr(),Pr("div",{ref_key:"wrapperRef",ref:p,class:$(Te(W)),style:F(Te(K)),onMouseenter:Te(O),onMouseleave:Te(L)},[Te(s).prefix?(Rr(),Pr("div",{key:0,class:$(Te(G).e("prefix"))},[mi(t.$slots,"prefix")],2)):Kr("v-if",!0),Vr("div",{class:$(Te(q))},[(Rr(!0),Pr(kr,null,fi(t.modelValue,((e,n)=>(Rr(),Br(Te(Hw),{key:n,size:Te(y),closable:Te(w),type:t.tagType,effect:t.tagEffect,draggable:Te(w)&&t.draggable,"disable-transitions":"",onClose:t=>Te(C)(n),onDragstart:t=>Te(H)(t,n),onDragover:t=>Te(z)(t,n),onDragend:Te(V),onDrop:Ds((()=>{}),["stop"])},{default:un((()=>[mi(t.$slots,"tag",{value:e,index:n},(()=>[Wr(X(e),1)]))])),xt:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"])))),128)),Vr("div",{class:$(Te(G).e("input-wrapper"))},[dn(Vr("input",Zr({id:Te(c),ref_key:"inputRef",ref:f,"onUpdate:modelValue":t=>Se(v)?v.value=t:null},Te(o),{type:"text",minlength:t.minlength,maxlength:t.maxlength,disabled:Te(_),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,placeholder:Te(b),autofocus:t.autofocus,ariaLabel:t.ariaLabel,class:Te(G).e("input"),style:Te(P),onCompositionstart:Te(E),onCompositionupdate:Te(T),onCompositionend:Te(A),onInput:Te(S),onKeydown:Te(M)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[Es,Te(v)]]),Vr("span",{ref_key:"calculatorRef",ref:D,"aria-hidden":"true",class:$(Te(G).e("input-calculator")),textContent:X(Te(v))},null,10,["textContent"])],2),dn(Vr("div",{ref_key:"dropIndicatorRef",ref:B,class:$(Te(G).e("drop-indicator"))},null,2),[[qo,Te(U)]])],2),Te(Z)?(Rr(),Pr("div",{key:1,class:$(Te(G).e("suffix"))},[mi(t.$slots,"suffix"),Te(Y)?(Rr(),Br(Te(Ff),{key:0,class:$([Te(G).e("icon"),Te(G).e("clear")]),onMousedown:Ds(Te(i),["prevent"]),onClick:Te(k)},{default:un((()=>[$r(Te(Zf))])),xt:1},8,["class","onMousedown","onClick"])):Kr("v-if",!0),Te(d)&&Te(h)&&Te(u)?(Rr(),Br(Te(Ff),{key:1,class:$([Te(j).e("icon"),Te(j).e("validateIcon"),Te(j).is("loading","validating"===Te(d))])},{default:un((()=>[(Rr(),Br(ci(Te(h))))])),xt:1},8,["class"])):Kr("v-if",!0)],2)):Kr("v-if",!0)],46,["onMouseenter","onMouseleave"]))}}),[["__file","input-tag.vue"]])),dk=Wh({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Ep}}),hk={click:t=>t instanceof MouseEvent};const fk=Of(mf(Un({...Un({name:"ElLink"}),props:dk,emits:hk,setup(t,{emit:e}){const n=t,i=fa("link"),r=vo((()=>[i.b(),i.m(n.type),i.is("disabled",n.disabled),i.is("underline",n.underline&&!n.disabled)]));function o(t){n.disabled||e("click",t)}return(t,e)=>(Rr(),Pr("a",{class:$(Te(r)),href:t.disabled||!t.href?void 0:t.href,target:t.disabled||!t.href?void 0:t.target,onClick:o},[t.icon?(Rr(),Br(Te(Ff),{key:0},{default:un((()=>[(Rr(),Br(ci(t.icon)))])),xt:1})):Kr("v-if",!0),t.$slots.default?(Rr(),Pr("span",{key:1,class:$(Te(i).e("inner"))},[mi(t.$slots,"default")],2)):Kr("v-if",!0),t.$slots.icon?mi(t.$slots,"icon",{key:2}):Kr("v-if",!0)],10,["href","target"]))}}),[["__file","link.vue"]]));let pk=class{constructor(t,e){this.parent=t,this.domNode=e,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(t){t===this.subMenuItems.length?t=0:t<0&&(t=this.subMenuItems.length-1),this.subMenuItems[t].focus(),this.subIndex=t}addListeners(){const t=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,(e=>{e.addEventListener("keydown",(e=>{let n=!1;switch(e.code){case ev.down:this.gotoSubIndex(this.subIndex+1),n=!0;break;case ev.up:this.gotoSubIndex(this.subIndex-1),n=!0;break;case ev.tab:Em(t,"mouseleave");break;case ev.enter:case ev.numpadEnter:case ev.space:n=!0,e.currentTarget.click()}return n&&(e.preventDefault(),e.stopPropagation()),!1}))}))}},mk=class{constructor(t,e){this.domNode=t,this.submenu=null,this.submenu=null,this.init(e)}init(t){this.domNode.setAttribute("tabindex","0");const e=this.domNode.querySelector(`.${t}-menu`);e&&(this.submenu=new pk(this,e)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",(t=>{let e=!1;switch(t.code){case ev.down:Em(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),e=!0;break;case ev.up:Em(t.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),e=!0;break;case ev.tab:Em(t.currentTarget,"mouseleave");break;case ev.enter:case ev.numpadEnter:case ev.space:e=!0,t.currentTarget.click()}e&&t.preventDefault()}))}},vk=class{constructor(t,e){this.domNode=t,this.init(e)}init(t){const e=this.domNode.childNodes;Array.from(e).forEach((e=>{1===e.nodeType&&new mk(e,t)}))}};var gk=mf(Un({...Un({name:"ElMenuCollapseTransition"}),setup(t){const e=fa("menu"),n={onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,n){wf(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",n()},onAfterEnter(t){_f(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),bf(t,e.m("collapse"))?(_f(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),wf(t,e.m("collapse"))):(wf(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),_f(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){wf(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}};return(t,e)=>(Rr(),Br(Ro,Zr({mode:"out-in"},Te(n)),{default:un((()=>[mi(t.$slots,"default")])),xt:3},16))}}),[["__file","menu-collapse-transition.vue"]]);function yk(t,e){const n=vo((()=>{let n=t.parent;const i=[e.value];for(;"ElMenu"!==n.type.name;)n.props.index&&i.unshift(n.props.index),n=n.parent;return i}));return{parentMenu:vo((()=>{let e=t.parent;for(;e&&!["ElMenu","ElSubMenu"].includes(e.type.name);)e=e.parent;return e})),indexPath:n}}function bk(t){return vo((()=>{const e=t.backgroundColor;return e?new Wy(e).shade(20).toString():""}))}const wk=(t,e)=>{const n=fa("menu");return vo((()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":bk(t).value||"","active-color":t.activeTextColor||"",level:`${e}`})))},_k=Wh({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Ep},expandOpenIcon:{type:Ep},collapseCloseIcon:{type:Ep},collapseOpenIcon:{type:Ep}}),xk="ElSubMenu";var Sk=Un({name:xk,props:_k,setup(t,{slots:e,expose:n}){const i=no(),{indexPath:r,parentMenu:o}=yk(i,vo((()=>t.index))),s=fa("menu"),a=fa("sub-menu"),l=Vi("rootMenu");l||Oh(xk,"can not inject root menu");const c=Vi(`subMenu:${o.value.uid}`);c||Oh(xk,"can not inject sub menu");const u=Me({}),d=Me({});let h;const f=Me(!1),p=Me(),m=Me(),g=vo((()=>"horizontal"===C.value&&b.value?"bottom-start":"right-start")),y=vo((()=>"horizontal"===C.value&&b.value||"vertical"===C.value&&!l.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?S.value?t.expandOpenIcon:t.expandCloseIcon:Uf:t.collapseCloseIcon&&t.collapseOpenIcon?S.value?t.collapseOpenIcon:t.collapseCloseIcon:zf)),b=vo((()=>0===c.level)),w=vo((()=>{const e=t.teleported;return void 0===e?b.value:e})),_=vo((()=>l.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`)),x=vo((()=>"horizontal"===C.value&&b.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"])),S=vo((()=>l.openedMenus.includes(t.index))),M=vo((()=>[...Object.values(u.value),...Object.values(d.value)].some((({active:t})=>t)))),C=vo((()=>l.props.mode)),k=vo((()=>l.props.persistent)),E=de({index:t.index,indexPath:r,active:M}),T=wk(l.props,c.level+1),A=vo((()=>{var e;return null!=(e=t.popperOffset)?e:l.props.popperOffset})),N=vo((()=>{var e;return null!=(e=t.popperClass)?e:l.props.popperClass})),I=vo((()=>{var e;return null!=(e=t.showTimeout)?e:l.props.showTimeout})),R=vo((()=>{var e;return null!=(e=t.hideTimeout)?e:l.props.hideTimeout})),O=t=>{var e,n,i;t||null==(i=null==(n=null==(e=m.value)?void 0:e.popperRef)?void 0:n.popperInstanceRef)||i.destroy()},L=()=>{"hover"===l.props.menuTrigger&&"horizontal"===l.props.mode||l.props.collapse&&"vertical"===l.props.mode||t.disabled||l.handleSubMenuClick({index:t.index,indexPath:r.value,active:M.value})},D=(e,n=I.value)=>{var i;"focus"!==e.type&&("click"===l.props.menuTrigger&&"horizontal"===l.props.mode||!l.props.collapse&&"vertical"===l.props.mode||t.disabled?c.mouseInChild.value=!0:(c.mouseInChild.value=!0,null==h||h(),({stop:h}=oh((()=>{l.openMenu(t.index,r.value)}),n)),w.value&&(null==(i=o.value.vnode.el)||i.dispatchEvent(new MouseEvent("mouseenter")))))},P=(e=!1)=>{var n;"click"===l.props.menuTrigger&&"horizontal"===l.props.mode||!l.props.collapse&&"vertical"===l.props.mode?c.mouseInChild.value=!1:(null==h||h(),c.mouseInChild.value=!1,({stop:h}=oh((()=>!f.value&&l.closeMenu(t.index,r.value)),R.value)),w.value&&e&&(null==(n=c.handleMouseleave)||n.call(c,!0)))};fr((()=>l.props.collapse),(t=>O(Boolean(t))));{const t=t=>{d.value[t.index]=t},e=t=>{delete d.value[t.index]};zi(`subMenu:${i.uid}`,{addSubMenu:t,removeSubMenu:e,handleMouseleave:P,mouseInChild:f,level:c.level+1})}return n({opened:S}),Zn((()=>{l.addSubMenu(E),c.addSubMenu(E)})),ti((()=>{c.removeSubMenu(E),l.removeSubMenu(E)})),()=>{var n;const r=[null==(n=e.title)?void 0:n.call(e),go(Ff,{class:a.e("icon-arrow"),style:{transform:S.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&l.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>v(y.value)?go(i.appContext.components[y.value]):go(y.value)})],o=l.isMenuPopup?go(ty,{ref:m,visible:S.value,effect:"light",pure:!0,offset:A.value,showArrow:!1,persistent:k.value,popperClass:N.value,placement:g.value,teleported:w.value,fallbackPlacements:x.value,transition:_.value,gpuAcceleration:!1},{content:()=>{var t;return go("div",{class:[s.m(C.value),s.m("popup-container"),N.value],onMouseenter:t=>D(t,100),onMouseleave:()=>P(!0),onFocus:t=>D(t,100)},[go("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${g.value}`)],style:T.value},[null==(t=e.default)?void 0:t.call(e)])])},default:()=>go("div",{class:a.e("title"),onClick:L},r)}):go(kr,{},[go("div",{class:a.e("title"),ref:p,onClick:L},r),go(s_,{},{default:()=>{var t;return dn(go("ul",{role:"menu",class:[s.b(),s.m("inline")],style:T.value},[null==(t=e.default)?void 0:t.call(e)]),[[qo,S.value]])}})]);return go("li",{class:[a.b(),a.is("active",M.value),a.is("opened",S.value),a.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:S.value,onMouseenter:D,onMouseleave:()=>P(),onFocus:D},[o])}}});const Mk=Wh({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:Array,default:()=>[]},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Ep,default:()=>up},popperEffect:{type:String,default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),Ck=t=>d(t)&&t.every((t=>v(t)));var kk=Un({name:"ElMenu",props:Mk,emits:{close:(t,e)=>v(t)&&Ck(e),open:(t,e)=>v(t)&&Ck(e),select:(t,e,n,i)=>v(t)&&Ck(e)&&y(n)&&(void 0===i||i instanceof Promise)},setup(t,{emit:e,slots:n,expose:i}){const r=no(),o=r.appContext.config.globalProperties.$router,s=Me(),a=fa("menu"),l=fa("sub-menu"),c=Me(-1),u=Me(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),d=Me(t.defaultActive),h=Me({}),f=Me({}),p=vo((()=>"horizontal"===t.mode||"vertical"===t.mode&&t.collapse)),m=(n,i)=>{u.value.includes(n)||(t.uniqueOpened&&(u.value=u.value.filter((t=>i.includes(t)))),u.value.push(n),e("open",n,i))},v=t=>{const e=u.value.indexOf(t);-1!==e&&u.value.splice(e,1)},g=(t,n)=>{v(t),e("close",t,n)},y=({index:t,indexPath:e})=>{u.value.includes(t)?g(t,e):m(t,e)},b=n=>{("horizontal"===t.mode||t.collapse)&&(u.value=[]);const{index:i,indexPath:r}=n;if(!yd(i)&&!yd(r))if(t.router&&o){const t=n.route||i,s=o.push(t).then((t=>(t||(d.value=i),t)));e("select",i,r,{index:i,indexPath:r,route:t},s)}else d.value=i,e("select",i,r,{index:i,indexPath:r})},w=()=>{var t,e;if(!s.value)return-1;const n=Array.from(null!=(e=null==(t=s.value)?void 0:t.childNodes)?e:[]).filter((t=>"#text"!==t.nodeName||t.nodeValue)),i=getComputedStyle(s.value),r=Number.parseInt(i.paddingLeft,10),o=Number.parseInt(i.paddingRight,10),a=s.value.clientWidth-r-o;let l=0,c=0;return n.forEach(((t,e)=>{"#comment"!==t.nodeName&&(l+=(t=>{const e=getComputedStyle(t),n=Number.parseInt(e.marginLeft,10),i=Number.parseInt(e.marginRight,10);return t.offsetWidth+n+i||0})(t),l<=a-64&&(c=e+1))})),c===n.length?-1:c};let _=!0;const x=()=>{if(c.value===w())return;const t=()=>{c.value=-1,Qe((()=>{c.value=w()}))};_?t():((t,e=33.34)=>{let n;return()=>{n&&clearTimeout(n),n=setTimeout((()=>{t()}),e)}})(t)(),_=!1};let S;fr((()=>t.defaultActive),(e=>{h.value[e]||(d.value=""),(e=>{var n;const i=h.value,r=i[e]||d.value&&i[d.value]||i[t.defaultActive];d.value=null!=(n=null==r?void 0:r.index)?n:e})(e)})),fr((()=>t.collapse),(t=>{t&&(u.value=[])})),fr(h.value,(()=>{const e=d.value&&h.value[d.value];if(!e||"horizontal"===t.mode||t.collapse)return;e.indexPath.forEach((t=>{const e=f.value[t];e&&m(t,e.indexPath)}))})),hr((()=>{"horizontal"===t.mode&&t.ellipsis?S=yh(s,x).stop:null==S||S()}));const M=Me(!1);{const e=t=>{f.value[t.index]=t},n=t=>{delete f.value[t.index]},i=t=>{h.value[t.index]=t},o=t=>{delete h.value[t.index]};zi("rootMenu",de({props:t,openedMenus:u,items:h,subMenus:f,activeIndex:d,isMenuPopup:p,addMenuItem:i,removeMenuItem:o,addSubMenu:e,removeSubMenu:n,openMenu:m,closeMenu:g,handleMenuItemClick:b,handleSubMenuClick:y})),zi(`subMenu:${r.uid}`,{addSubMenu:e,removeSubMenu:n,mouseInChild:M,level:0})}Zn((()=>{"horizontal"===t.mode&&new vk(r.vnode.el,a.namespace.value)}));i({open:t=>{const{indexPath:e}=f.value[t];e.forEach((t=>m(t,e)))},close:v,handleResize:x});const C=wk(t,0);return()=>{var i,r;let o=null!=(r=null==(i=n.default)?void 0:i.call(n))?r:[];const d=[];if("horizontal"===t.mode&&s.value){const e=Pb(o),n=-1===c.value?e:e.slice(0,c.value),i=-1===c.value?[]:e.slice(c.value);(null==i?void 0:i.length)&&t.ellipsis&&(o=n,d.push(go(Sk,{index:"sub-menu-more",class:l.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>go(Ff,{class:l.e("icon-more")},{default:()=>go(t.ellipsisIcon)}),default:()=>i})))}const h=t.closeOnClickOutside?[[jw,()=>{u.value.length&&(M.value||(u.value.forEach((t=>{return e("close",t,(n=t,f.value[n].indexPath));var n})),u.value=[]))}]]:[],p=dn(go("ul",{key:String(t.collapse),role:"menubar",ref:s,style:C.value,class:{[a.b()]:!0,[a.m(t.mode)]:!0,[a.m("collapse")]:t.collapse}},[...o,...d]),h);return t.collapseTransition&&"vertical"===t.mode?go(gk,(()=>p)):p}}});const Ek=Wh({index:{type:[String,null],default:null},route:{type:[String,Object]},disabled:Boolean}),Tk={click:t=>v(t.index)&&d(t.indexPath)},Ak="ElMenuItem";var Nk=mf(Un({...Un({name:Ak}),props:Ek,emits:Tk,setup(t,{expose:e,emit:n}){const i=t,r=no(),o=Vi("rootMenu"),s=fa("menu"),a=fa("menu-item");o||Oh(Ak,"can not inject root menu");const{parentMenu:l,indexPath:c}=yk(r,De(i,"index")),u=Vi(`subMenu:${l.value.uid}`);u||Oh(Ak,"can not inject sub menu");const d=vo((()=>i.index===o.activeIndex)),h=de({index:i.index,indexPath:c,active:d}),f=()=>{i.disabled||(o.handleMenuItemClick({index:i.index,indexPath:c.value,route:i.route}),n("click",h))};return Zn((()=>{u.addSubMenu(h),o.addMenuItem(h)})),ti((()=>{u.removeSubMenu(h),o.removeMenuItem(h)})),e({parentMenu:l,rootMenu:o,active:d,nsMenu:s,nsMenuItem:a,handleClick:f}),(t,e)=>(Rr(),Pr("li",{class:$([Te(a).b(),Te(a).is("active",Te(d)),Te(a).is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:f},["ElMenu"===Te(l).type.name&&Te(o).props.collapse&&t.$slots.title?(Rr(),Br(Te(ty),{key:0,effect:Te(o).props.popperEffect,placement:"right","fallback-placements":["left"],persistent:Te(o).props.persistent},{content:un((()=>[mi(t.$slots,"title")])),default:un((()=>[Vr("div",{class:$(Te(s).be("tooltip","trigger"))},[mi(t.$slots,"default")],2)])),xt:3},8,["effect","persistent"])):(Rr(),Pr(kr,{key:1},[mi(t.$slots,"default"),mi(t.$slots,"title")],64))],2))}}),[["__file","menu-item.vue"]]);const Ik={title:String};var Rk=mf(Un({...Un({name:"ElMenuItemGroup"}),props:Ik,setup(t){const e=fa("menu-item-group");return(t,n)=>(Rr(),Pr("li",{class:$(Te(e).b())},[Vr("div",{class:$(Te(e).e("title"))},[t.$slots.title?mi(t.$slots,"title",{key:1}):(Rr(),Pr(kr,{key:0},[Wr(X(t.title),1)],64))],2),Vr("ul",null,[mi(t.$slots,"default")])],2))}}),[["__file","menu-item-group.vue"]]);const Ok=Of(kk,{MenuItem:Nk,MenuItemGroup:Rk,SubMenu:Sk}),Lk=Df(Nk),Dk=Df(Rk),Pk=Df(Sk),Bk=Wh({icon:{type:Ep,default:()=>$f},title:String,content:{type:String,default:""}}),Fk=Un({...Un({name:"ElPageHeader"}),props:Bk,emits:{back:()=>!0},setup(t,{emit:e}){const{t:n}=$h(),i=fa("page-header");function r(){e("back")}return(t,e)=>(Rr(),Pr("div",{class:$([Te(i).b(),{[Te(i).m("has-breadcrumb")]:!!t.$slots.breadcrumb,[Te(i).m("has-extra")]:!!t.$slots.extra,[Te(i).is("contentful")]:!!t.$slots.default}])},[t.$slots.breadcrumb?(Rr(),Pr("div",{key:0,class:$(Te(i).e("breadcrumb"))},[mi(t.$slots,"breadcrumb")],2)):Kr("v-if",!0),Vr("div",{class:$(Te(i).e("header"))},[Vr("div",{class:$(Te(i).e("left"))},[Vr("div",{class:$(Te(i).e("back")),role:"button",tabindex:"0",onClick:r},[t.icon||t.$slots.icon?(Rr(),Pr("div",{key:0,"aria-label":t.title||Te(n)("el.pageHeader.title"),class:$(Te(i).e("icon"))},[mi(t.$slots,"icon",{},(()=>[t.icon?(Rr(),Br(Te(Ff),{key:0},{default:un((()=>[(Rr(),Br(ci(t.icon)))])),xt:1})):Kr("v-if",!0)]))],10,["aria-label"])):Kr("v-if",!0),Vr("div",{class:$(Te(i).e("title"))},[mi(t.$slots,"title",{},(()=>[Wr(X(t.title||Te(n)("el.pageHeader.title")),1)]))],2)],2),$r(Te(dM),{direction:"vertical"}),Vr("div",{class:$(Te(i).e("content"))},[mi(t.$slots,"content",{},(()=>[Wr(X(t.content),1)]))],2)],2),t.$slots.extra?(Rr(),Pr("div",{key:0,class:$(Te(i).e("extra"))},[mi(t.$slots,"extra")],2)):Kr("v-if",!0)],2),t.$slots.default?(Rr(),Pr("div",{key:1,class:$(Te(i).e("main"))},[mi(t.$slots,"default")],2)):Kr("v-if",!0)],2))}});const Uk=Of(mf(Fk,[["__file","page-header.vue"]])),Hk=Symbol("elPaginationKey"),zk=Wh({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Ep}}),Vk={click:t=>t instanceof MouseEvent},$k=Un({...Un({name:"ElPaginationPrev"}),props:zk,emits:Vk,setup(t){const e=t,{t:n}=$h(),i=vo((()=>e.disabled||e.currentPage<=1));return(t,e)=>(Rr(),Pr("button",{type:"button",class:"btn-prev",disabled:Te(i),"aria-label":t.prevText||Te(n)("el.pagination.prev"),"aria-disabled":Te(i),onClick:e=>t.$emit("click",e)},[t.prevText?(Rr(),Pr("span",{key:0},X(t.prevText),1)):(Rr(),Br(Te(Ff),{key:1},{default:un((()=>[(Rr(),Br(ci(t.prevIcon)))])),xt:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Gk=mf($k,[["__file","prev.vue"]]);const jk=Wh({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Ep}}),Wk=Un({...Un({name:"ElPaginationNext"}),props:jk,emits:["click"],setup(t){const e=t,{t:n}=$h(),i=vo((()=>e.disabled||e.currentPage===e.pageCount||0===e.pageCount));return(t,e)=>(Rr(),Pr("button",{type:"button",class:"btn-next",disabled:Te(i),"aria-label":t.nextText||Te(n)("el.pagination.next"),"aria-disabled":Te(i),onClick:e=>t.$emit("click",e)},[t.nextText?(Rr(),Pr("span",{key:0},X(t.nextText),1)):(Rr(),Br(Te(Ff),{key:1},{default:un((()=>[(Rr(),Br(ci(t.nextIcon)))])),xt:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Kk=mf(Wk,[["__file","next.vue"]]);const qk=Symbol("ElSelectGroup"),Yk=Symbol("ElSelect");var Xk=mf(Un({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=fa("select"),n=Jp(),i=vo((()=>[e.be("dropdown","item"),e.is("disabled",Te(a)),e.is("selected",Te(s)),e.is("hovering",Te(h))])),r=de({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:o,itemSelected:s,isDisabled:a,select:l,hoverItem:c,updateOption:u}=function(t,e){const n=Vi(Yk),i=Vi(qk,{disabled:!1}),r=vo((()=>u(Pc(n.props.modelValue),t.value))),o=vo((()=>{var t;if(n.props.multiple){const e=Pc(null!=(t=n.props.modelValue)?t:[]);return!r.value&&e.length>=n.props.multipleLimit&&n.props.multipleLimit>0}return!1})),s=vo((()=>t.label||(y(t.value)?"":t.value))),a=vo((()=>t.value||t.label||"")),l=vo((()=>t.disabled||e.groupDisabled||o.value)),c=no(),u=(e=[],i)=>{if(y(t.value)){const t=n.props.valueKey;return e&&e.some((e=>be(xc(e,t))===xc(i,t)))}return e&&e.includes(i)};return fr((()=>s.value),(()=>{t.created||n.props.remote||n.setSelected()})),fr((()=>t.value),((e,i)=>{const{remote:r,valueKey:o}=n.props;if((r?e!==i:!gd(e,i))&&(n.onOptionDestroy(i,c.proxy),n.onOptionCreate(c.proxy)),!t.created&&!r){if(o&&y(e)&&y(i)&&e[o]===i[o])return;n.setSelected()}})),fr((()=>i.disabled),(()=>{e.groupDisabled=i.disabled}),{immediate:!0}),{select:n,currentLabel:s,currentValue:a,itemSelected:r,isDisabled:l,hoverItem:()=>{t.disabled||i.disabled||(n.states.hoveringIndex=n.optionsArray.indexOf(c.proxy))},updateOption:n=>{const i=new RegExp(Cw(n),"i");e.visible=i.test(s.value)||t.created}}}(t,r),{visible:d,hover:h}=Re(r),f=no().proxy;return l.onOptionCreate(f),ti((()=>{const t=f.value,{selected:e}=l.states,n=e.some((t=>t.value===f.value));Qe((()=>{l.states.cachedOptions.get(t)!==f||n||l.states.cachedOptions.delete(t)})),l.onOptionDestroy(t,f)})),{ns:e,id:n,containerKls:i,currentLabel:o,itemSelected:s,isDisabled:a,select:l,hoverItem:c,updateOption:u,visible:d,hover:h,selectOptionClick:function(){a.value||l.handleOptionSelect(f)},states:r}}}),[["render",function(t,e,n,i,r,o){return dn((Rr(),Pr("li",{id:t.id,class:$(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMousemove:t.hoverItem,onClick:Ds(t.selectOptionClick,["stop"])},[mi(t.$slots,"default",{},(()=>[Vr("span",null,X(t.currentLabel),1)]))],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[qo,t.visible]])}],["__file","option.vue"]]);var Zk=mf(Un({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=Vi(Yk),e=fa("select"),n=vo((()=>t.props.popperClass)),i=vo((()=>t.props.multiple)),r=vo((()=>t.props.fitInputWidth)),o=Me("");function s(){var e;o.value=`${null==(e=t.selectRef)?void 0:e.offsetWidth}px`}return Zn((()=>{s(),yh(t.selectRef,s)})),{ns:e,minWidth:o,popperClass:n,isMultiple:i,isFitInputWidth:r}}}),[["render",function(t,e,n,i,r,o){return Rr(),Pr("div",{class:$([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:F({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(Rr(),Pr("div",{key:0,class:$(t.ns.be("dropdown","header"))},[mi(t.$slots,"header")],2)):Kr("v-if",!0),mi(t.$slots,"default"),t.$slots.footer?(Rr(),Pr("div",{key:1,class:$(t.ns.be("dropdown","footer"))},[mi(t.$slots,"footer")],2)):Kr("v-if",!0)],6)}],["__file","select-dropdown.vue"]]);const Jk=(t,e)=>{const{t:n}=$h(),i=Jp(),r=fa("select"),o=fa("input"),s=de({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),a=Me(null),l=Me(null),c=Me(null),u=Me(null),h=Me(null),f=Me(null),p=Me(null),v=Me(null),g=Me(null),b=Me(null),w=Me(null),{isComposing:_,handleCompositionStart:S,handleCompositionUpdate:M,handleCompositionEnd:C}=om({afterComposition:t=>ht(t)}),{wrapperRef:k,isFocused:E,handleBlur:T}=rm(h,{beforeFocus:()=>P.value,afterFocus(){t.automaticDropdown&&!A.value&&(A.value=!0,s.menuVisibleOnFocus=!0)},beforeBlur(t){var e,n;return(null==(e=c.value)?void 0:e.isFocusInsideContent(t))||(null==(n=u.value)?void 0:n.isFocusInsideContent(t))},afterBlur(){A.value=!1,s.menuVisibleOnFocus=!1}}),A=Me(!1),N=Me(),{form:I,formItem:R}=Qp(),{inputId:O}=tm(t,{formItemContext:R}),{valueOnClear:L,isEmptyValue:D}=tf(t),P=vo((()=>t.disabled||(null==I?void 0:I.disabled))),B=vo((()=>d(t.modelValue)?t.modelValue.length>0:!D(t.modelValue))),F=vo((()=>{var t;return null!=(t=null==I?void 0:I.statusIcon)&&t})),U=vo((()=>t.clearable&&!P.value&&s.inputHovering&&B.value)),H=vo((()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon)),z=vo((()=>r.is("reverse",H.value&&A.value))),V=vo((()=>(null==R?void 0:R.validateState)||"")),$=vo((()=>Ip[V.value])),G=vo((()=>t.remote?300:0)),j=vo((()=>t.remote&&!s.inputValue&&0===s.options.size)),W=vo((()=>t.loading?t.loadingText||n("el.select.loading"):t.filterable&&s.inputValue&&s.options.size>0&&0===K.value?t.noMatchText||n("el.select.noMatch"):0===s.options.size?t.noDataText||n("el.select.noData"):null)),K=vo((()=>q.value.filter((t=>t.visible)).length)),q=vo((()=>{const t=Array.from(s.options.values()),e=[];return s.optionValues.forEach((n=>{const i=t.findIndex((t=>t.value===n));i>-1&&e.push(t[i])})),e.length>=t.length?e:t})),Y=vo((()=>Array.from(s.cachedOptions.values()))),X=vo((()=>{const e=q.value.filter((t=>!t.created)).some((t=>t.currentLabel===s.inputValue));return t.filterable&&t.allowCreate&&""!==s.inputValue&&!e})),Z=()=>{t.filterable&&m(t.filterMethod)||t.filterable&&t.remote&&m(t.remoteMethod)||q.value.forEach((t=>{var e;null==(e=t.updateOption)||e.call(t,s.inputValue)}))},J=nm(),Q=vo((()=>["small"].includes(J.value)?"small":"default")),tt=vo({get:()=>A.value&&!j.value,set(t){A.value=t}}),et=vo((()=>{if(t.multiple&&!Rd(t.modelValue))return 0===Pc(t.modelValue).length&&!s.inputValue;const e=d(t.modelValue)?t.modelValue[0]:t.modelValue;return!t.filterable&&!Rd(e)||!s.inputValue})),nt=vo((()=>{var e;const i=null!=(e=t.placeholder)?e:n("el.select.placeholder");return t.multiple||!B.value?i:s.selectedLabel})),it=vo((()=>Zd?null:"mouseenter"));fr((()=>t.modelValue),((e,n)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(s.inputValue="",rt("")),st(),!gd(e,n)&&t.validateEvent&&(null==R||R.validate("change").catch((t=>{})))}),{flush:"post",deep:!0}),fr((()=>A.value),(t=>{t?rt(s.inputValue):(s.inputValue="",s.previousQuery=null,s.isBeforeHide=!0),e("visible-change",t)})),fr((()=>s.options.entries()),(()=>{qd&&(st(),t.defaultFirstOption&&(t.filterable||t.remote)&&K.value&&ot())}),{flush:"post"}),fr((()=>s.hoveringIndex),(t=>{Ld(t)&&t>-1?N.value=q.value[t]||{}:N.value={},q.value.forEach((t=>{t.hover=N.value===t}))})),hr((()=>{s.isBeforeHide||Z()}));const rt=e=>{s.previousQuery===e||_.value||(s.previousQuery=e,t.filterable&&m(t.filterMethod)?t.filterMethod(e):t.filterable&&t.remote&&m(t.remoteMethod)&&t.remoteMethod(e),t.defaultFirstOption&&(t.filterable||t.remote)&&K.value?Qe(ot):Qe(lt))},ot=()=>{const t=q.value.filter((t=>t.visible&&!t.disabled&&!t.states.groupDisabled)),e=t.find((t=>t.created)),n=t[0],i=q.value.map((t=>t.value));s.hoveringIndex=gt(i,e||n)},st=()=>{if(!t.multiple){const e=d(t.modelValue)?t.modelValue[0]:t.modelValue,n=at(e);return s.selectedLabel=n.currentLabel,void(s.selected=[n])}s.selectedLabel="";const e=[];Rd(t.modelValue)||Pc(t.modelValue).forEach((t=>{e.push(at(t))})),s.selected=e},at=e=>{let n;const i=x(e);for(let r=s.cachedOptions.size-1;r>=0;r--){const o=Y.value[r];if(i?xc(o.value,t.valueKey)===xc(e,t.valueKey):o.value===e){n={value:e,currentLabel:o.currentLabel,get isDisabled(){return o.isDisabled}};break}}if(n)return n;return{value:e,currentLabel:i?e.label:null!=e?e:""}},lt=()=>{s.hoveringIndex=q.value.findIndex((t=>s.selected.some((e=>xt(e)===xt(t)))))},ct=()=>{var t,e;null==(e=null==(t=c.value)?void 0:t.updatePopper)||e.call(t)},ut=()=>{var t,e;null==(e=null==(t=u.value)?void 0:t.updatePopper)||e.call(t)},dt=()=>{s.inputValue.length>0&&!A.value&&(A.value=!0),rt(s.inputValue)},ht=e=>{if(s.inputValue=e.target.value,!t.remote)return dt();ft()},ft=od((()=>{dt()}),G.value),pt=n=>{gd(t.modelValue,n)||e(df,n)},mt=n=>{n.stopPropagation();const i=t.multiple?[]:L.value;if(t.multiple)for(const t of s.selected)t.isDisabled&&i.push(t.value);e(uf,i),pt(i),s.hoveringIndex=-1,A.value=!1,e("clear"),wt()},vt=n=>{var i;if(t.multiple){const r=Pc(null!=(i=t.modelValue)?i:[]).slice(),o=gt(r,n);o>-1?r.splice(o,1):(t.multipleLimit<=0||r.length<t.multipleLimit)&&r.push(n.value),e(uf,r),pt(r),n.created&&rt(""),t.filterable&&!t.reserveKeyword&&(s.inputValue="")}else e(uf,n.value),pt(n.value),A.value=!1;wt(),A.value||Qe((()=>{yt(n)}))},gt=(e=[],n)=>Rd(n)?-1:y(n.value)?e.findIndex((e=>gd(xc(e,t.valueKey),xt(n)))):e.indexOf(n.value),yt=t=>{var e,n,i,o,s;const a=d(t)?t[0]:t;let l=null;if(null==a?void 0:a.value){const t=q.value.filter((t=>t.value===a.value));t.length>0&&(l=t[0].$el)}if(c.value&&l){const t=null==(o=null==(i=null==(n=null==(e=c.value)?void 0:e.popperRef)?void 0:n.contentRef)?void 0:i.querySelector)?void 0:o.call(i,`.${r.be("dropdown","wrap")}`);t&&Af(t,l)}null==(s=w.value)||s.handleScroll()},bt=vo((()=>{var t,e;return null==(e=null==(t=c.value)?void 0:t.popperRef)?void 0:e.contentRef})),wt=()=>{var t;null==(t=h.value)||t.focus()},_t=()=>{P.value||(Zd&&(s.inputHovering=!0),s.menuVisibleOnFocus?s.menuVisibleOnFocus=!1:A.value=!A.value)},xt=e=>y(e.value)?xc(e.value,t.valueKey):e.value,St=vo((()=>q.value.filter((t=>t.visible)).every((t=>t.isDisabled)))),Mt=vo((()=>t.multiple?t.collapseTags?s.selected.slice(0,t.maxCollapseTags):s.selected:[])),Ct=vo((()=>t.multiple&&t.collapseTags?s.selected.slice(t.maxCollapseTags):[])),kt=t=>{if(A.value){if(0!==s.options.size&&0!==K.value&&!_.value&&!St.value){"next"===t?(s.hoveringIndex++,s.hoveringIndex===s.options.size&&(s.hoveringIndex=0)):"prev"===t&&(s.hoveringIndex--,s.hoveringIndex<0&&(s.hoveringIndex=s.options.size-1));const e=q.value[s.hoveringIndex];!e.isDisabled&&e.visible||kt(t),Qe((()=>yt(N.value)))}}else A.value=!0},Et=vo((()=>{const e=(()=>{if(!l.value)return 0;const t=window.getComputedStyle(l.value);return Number.parseFloat(t.gap||"6px")})();return{maxWidth:`${b.value&&1===t.maxCollapseTags?s.selectionWidth-s.collapseItemWidth-e:s.selectionWidth}px`}})),Tt=vo((()=>({maxWidth:`${s.selectionWidth}px`})));return yh(l,(()=>{s.selectionWidth=l.value.getBoundingClientRect().width})),yh(v,ct),yh(k,ct),yh(g,ut),yh(b,(()=>{s.collapseItemWidth=b.value.getBoundingClientRect().width})),Zn((()=>{st()})),{inputId:O,contentId:i,nsSelect:r,nsInput:o,states:s,isFocused:E,expanded:A,optionsArray:q,hoverOption:N,selectSize:J,filteredOptionsCount:K,updateTooltip:ct,updateTagTooltip:ut,debouncedOnInputChange:ft,onInput:ht,deletePrevTag:n=>{if(t.multiple&&n.code!==ev.delete&&n.target.value.length<=0){const n=Pc(t.modelValue).slice(),i=(t=>dd(t,(t=>{const e=s.cachedOptions.get(t);return e&&!e.disabled&&!e.states.groupDisabled})))(n);if(i<0)return;const r=n[i];n.splice(i,1),e(uf,n),pt(n),e("remove-tag",r)}},deleteTag:(n,i)=>{const r=s.selected.indexOf(i);if(r>-1&&!P.value){const n=Pc(t.modelValue).slice();n.splice(r,1),e(uf,n),pt(n),e("remove-tag",i.value)}n.stopPropagation(),wt()},deleteSelected:mt,handleOptionSelect:vt,scrollToOption:yt,hasModelValue:B,shouldShowPlaceholder:et,currentPlaceholder:nt,mouseEnterEventName:it,needStatusIcon:F,showClose:U,iconComponent:H,iconReverse:z,validateState:V,validateIcon:$,showNewOption:X,updateOptions:Z,collapseTagSize:Q,setSelected:st,selectDisabled:P,emptyText:W,handleCompositionStart:S,handleCompositionUpdate:M,handleCompositionEnd:C,onOptionCreate:t=>{s.options.set(t.value,t),s.cachedOptions.set(t.value,t)},onOptionDestroy:(t,e)=>{s.options.get(t)===e&&s.options.delete(t)},handleMenuEnter:()=>{s.isBeforeHide=!1,Qe((()=>{var t;null==(t=w.value)||t.update(),yt(s.selected)}))},focus:wt,blur:()=>{var t;if(A.value)return A.value=!1,void Qe((()=>{var t;return null==(t=h.value)?void 0:t.blur()}));null==(t=h.value)||t.blur()},handleClearClick:t=>{mt(t)},handleClickOutside:t=>{if(A.value=!1,E.value){const e=new FocusEvent("focus",t);Qe((()=>T(e)))}},handleEsc:()=>{s.inputValue.length>0?s.inputValue="":A.value=!1},toggleMenu:_t,selectOption:()=>{if(A.value){const t=q.value[s.hoveringIndex];t&&!t.isDisabled&&vt(t)}else _t()},getValueKey:xt,navigateOptions:kt,dropdownMenuVisible:tt,showTagList:Mt,collapseTagList:Ct,popupScroll:t=>{e("popup-scroll",t)},tagStyle:Et,collapseTagStyle:Tt,popperRef:bt,inputRef:h,tooltipRef:c,tagTooltipRef:u,prefixRef:f,suffixRef:p,selectRef:a,wrapperRef:k,selectionRef:l,scrollbarRef:w,menuRef:v,tagMenuRef:g,collapseItemRef:b}};var Qk=Un({name:"ElOptions",setup(t,{slots:e}){const n=Vi(Yk);let i=[];return()=>{var t,r;const o=null==(t=e.default)?void 0:t.call(e),s=[];return o.length&&function t(e){d(e)&&e.forEach((e=>{var n,i,r,o;const a=null==(n=(null==e?void 0:e.type)||{})?void 0:n.name;"ElOptionGroup"===a?t(v(e.children)||d(e.children)||!m(null==(i=e.children)?void 0:i.default)?e.children:null==(r=e.children)?void 0:r.default()):"ElOption"===a?s.push(null==(o=e.props)?void 0:o.value):d(e.children)&&t(e.children)}))}(null==(r=o[0])?void 0:r.children),gd(s,i)||(i=s,n&&(n.states.optionValues=s)),o}}});const tE=Wh({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:qh,effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Pg.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Ep,default:Zf},fitInputWidth:Boolean,suffixIcon:{type:Ep,default:Uf},tagType:{...Fw.type,default:"info"},tagEffect:{...Fw.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:gv,default:"bottom-start"},fallbackPlacements:{type:Array,default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:String,...Qh,...zp(["ariaLabel"])}),eE="ElSelect";var nE=mf(Un({name:eE,componentName:eE,components:{ElSelectMenu:Zk,ElOption:Xk,ElOptions:Qk,ElTag:Hw,ElScrollbar:mm,ElTooltip:ty,ElIcon:Ff},directives:{ClickOutside:jw},props:tE,emits:[uf,df,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(t,{emit:e}){const n=vo((()=>{const{modelValue:e,multiple:n}=t,i=n?[]:void 0;return d(e)?n?e:i:n?i:e})),i=de({...Re(t),modelValue:n}),r=Jk(i,e),{calculatorRef:o,inputStyle:s}=ck();zi(Yk,de({props:i,states:r.states,optionsArray:r.optionsArray,handleOptionSelect:r.handleOptionSelect,onOptionCreate:r.onOptionCreate,onOptionDestroy:r.onOptionDestroy,selectRef:r.selectRef,setSelected:r.setSelected}));const a=vo((()=>t.multiple?r.states.selected.map((t=>t.currentLabel)):r.states.selectedLabel));return{...r,modelValue:n,selectedLabel:a,calculatorRef:o,inputStyle:s}}}),[["render",function(t,e,n,i,r,o){const s=ai("el-tag"),a=ai("el-tooltip"),l=ai("el-icon"),c=ai("el-option"),u=ai("el-options"),d=ai("el-scrollbar"),h=ai("el-select-menu"),f=ui("click-outside");return dn((Rr(),Pr("div",{ref:"selectRef",class:$([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[I(t.mouseEnterEventName)]:e=>t.states.inputHovering=!0,onMouseleave:e=>t.states.inputHovering=!1},[$r(a,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:e=>t.states.isBeforeHide=!1},{default:un((()=>{var e;return[Vr("div",{ref:"wrapperRef",class:$([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:Ds(t.toggleMenu,["prevent"])},[t.$slots.prefix?(Rr(),Pr("div",{key:0,ref:"prefixRef",class:$(t.nsSelect.e("prefix"))},[mi(t.$slots,"prefix")],2)):Kr("v-if",!0),Vr("div",{ref:"selectionRef",class:$([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?mi(t.$slots,"tag",{key:0},(()=>[(Rr(!0),Pr(kr,null,fi(t.showTagList,(e=>(Rr(),Pr("div",{key:t.getValueKey(e),class:$(t.nsSelect.e("selected-item"))},[$r(s,{closable:!t.selectDisabled&&!e.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:F(t.tagStyle),onClose:n=>t.deleteTag(n,e)},{default:un((()=>[Vr("span",{class:$(t.nsSelect.e("tags-text"))},[mi(t.$slots,"label",{label:e.currentLabel,value:e.value},(()=>[Wr(X(e.currentLabel),1)]))],2)])),xt:2},1032,["closable","size","type","effect","style","onClose"])],2)))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(Rr(),Br(a,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:un((()=>[Vr("div",{ref:"collapseItemRef",class:$(t.nsSelect.e("selected-item"))},[$r(s,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:F(t.collapseTagStyle)},{default:un((()=>[Vr("span",{class:$(t.nsSelect.e("tags-text"))}," + "+X(t.states.selected.length-t.maxCollapseTags),3)])),xt:1},8,["size","type","effect","style"])],2)])),content:un((()=>[Vr("div",{ref:"tagMenuRef",class:$(t.nsSelect.e("selection"))},[(Rr(!0),Pr(kr,null,fi(t.collapseTagList,(e=>(Rr(),Pr("div",{key:t.getValueKey(e),class:$(t.nsSelect.e("selected-item"))},[$r(s,{class:"in-tooltip",closable:!t.selectDisabled&&!e.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:n=>t.deleteTag(n,e)},{default:un((()=>[Vr("span",{class:$(t.nsSelect.e("tags-text"))},[mi(t.$slots,"label",{label:e.currentLabel,value:e.value},(()=>[Wr(X(e.currentLabel),1)]))],2)])),xt:2},1032,["closable","size","type","effect","onClose"])],2)))),128))],2)])),xt:3},8,["disabled","effect","teleported"])):Kr("v-if",!0)])):Kr("v-if",!0),Vr("div",{class:$([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[dn(Vr("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e=>t.states.inputValue=e,type:"text",name:t.name,class:$([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:F(t.inputStyle),tabindex:t.tabindex,role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":(null==(e=t.hoverOption)?void 0:e.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[Bs(Ds((e=>t.navigateOptions("next")),["stop","prevent"]),["down"]),Bs(Ds((e=>t.navigateOptions("prev")),["stop","prevent"]),["up"]),Bs(Ds(t.handleEsc,["stop","prevent"]),["esc"]),Bs(Ds(t.selectOption,["stop","prevent"]),["enter"]),Bs(Ds(t.deletePrevTag,["stop"]),["delete"])],onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onInput:t.onInput,onClick:Ds(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[Es,t.states.inputValue]]),t.filterable?(Rr(),Pr("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:$(t.nsSelect.e("input-calculator")),textContent:X(t.states.inputValue)},null,10,["textContent"])):Kr("v-if",!0)],2),t.shouldShowPlaceholder?(Rr(),Pr("div",{key:1,class:$([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?mi(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},(()=>[Vr("span",null,X(t.currentPlaceholder),1)])):(Rr(),Pr("span",{key:1},X(t.currentPlaceholder),1))],2)):Kr("v-if",!0)],2),Vr("div",{ref:"suffixRef",class:$(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(Rr(),Br(l,{key:0,class:$([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:un((()=>[(Rr(),Br(ci(t.iconComponent)))])),xt:1},8,["class"])):Kr("v-if",!0),t.showClose&&t.clearIcon?(Rr(),Br(l,{key:1,class:$([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:un((()=>[(Rr(),Br(ci(t.clearIcon)))])),xt:1},8,["class","onClick"])):Kr("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(Rr(),Br(l,{key:2,class:$([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading","validating"===t.validateState)])},{default:un((()=>[(Rr(),Br(ci(t.validateIcon)))])),xt:1},8,["class"])):Kr("v-if",!0)],2)],10,["onClick"])]})),content:un((()=>[$r(h,{ref:"menuRef"},{default:un((()=>[t.$slots.header?(Rr(),Pr("div",{key:0,class:$(t.nsSelect.be("dropdown","header")),onClick:Ds((()=>{}),["stop"])},[mi(t.$slots,"header")],10,["onClick"])):Kr("v-if",!0),dn($r(d,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:$([t.nsSelect.is("empty",0===t.filteredOptionsCount)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical",onScroll:t.popupScroll},{default:un((()=>[t.showNewOption?(Rr(),Br(c,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):Kr("v-if",!0),$r(u,null,{default:un((()=>[mi(t.$slots,"default")])),xt:3})])),xt:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[qo,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(Rr(),Pr("div",{key:1,class:$(t.nsSelect.be("dropdown","loading"))},[mi(t.$slots,"loading")],2)):t.loading||0===t.filteredOptionsCount?(Rr(),Pr("div",{key:2,class:$(t.nsSelect.be("dropdown","empty"))},[mi(t.$slots,"empty",{},(()=>[Vr("span",null,X(t.emptyText),1)]))],2)):Kr("v-if",!0),t.$slots.footer?(Rr(),Pr("div",{key:3,class:$(t.nsSelect.be("dropdown","footer")),onClick:Ds((()=>{}),["stop"])},[mi(t.$slots,"footer")],10,["onClick"])):Kr("v-if",!0)])),xt:3},512)])),xt:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[f,t.handleClickOutside,t.popperRef]])}],["__file","select.vue"]]);var iE=mf(Un({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=fa("select"),n=Me(null),i=no(),r=Me([]);zi(qk,de({...Re(t)}));const o=vo((()=>r.value.some((t=>!0===t.visible)))),s=t=>{const e=Pc(t),n=[];return e.forEach((t=>{var e,i;(t=>{var e,n;return"ElOption"===(null==(e=t.type)?void 0:e.name)&&!!(null==(n=t.component)?void 0:n.proxy)})(t)?n.push(t.component.proxy):(null==(e=t.children)?void 0:e.length)?n.push(...s(t.children)):(null==(i=t.component)?void 0:i.subTree)&&n.push(...s(t.component.subTree))})),n},a=()=>{r.value=s(i.subTree)};return Zn((()=>{a()})),Ch(n,a,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:o,ns:e}}}),[["render",function(t,e,n,i,r,o){return dn((Rr(),Pr("ul",{ref:"groupRef",class:$(t.ns.be("group","wrap"))},[Vr("li",{class:$(t.ns.be("group","title"))},X(t.label),3),Vr("li",null,[Vr("ul",{class:$(t.ns.b("group"))},[mi(t.$slots,"default")],2)])],2)),[[qo,t.visible]])}],["__file","option-group.vue"]]);const rE=Of(nE,{Option:Xk,OptionGroup:iE}),oE=Df(Xk),sE=Df(iE),aE=()=>Vi(Hk,{}),lE=Wh({pageSize:{type:Number,required:!0},pageSizes:{type:Array,default:()=>[10,20,30,40,50,100]},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:Kh},appendSizeTo:String}),cE=Un({...Un({name:"ElPaginationSizes"}),props:lE,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:i}=$h(),r=fa("pagination"),o=aE(),s=Me(n.pageSize);fr((()=>n.pageSizes),((t,i)=>{if(!gd(t,i)&&d(t)){const i=t.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",i)}})),fr((()=>n.pageSize),(t=>{s.value=t}));const a=vo((()=>n.pageSizes));function l(t){var e;t!==s.value&&(s.value=t,null==(e=o.handleSizeChange)||e.call(o,Number(t)))}return(t,e)=>(Rr(),Pr("span",{class:$(Te(r).e("sizes"))},[$r(Te(rE),{"model-value":s.value,disabled:t.disabled,"popper-class":t.popperClass,size:t.size,teleported:t.teleported,"validate-event":!1,"append-to":t.appendSizeTo,onChange:l},{default:un((()=>[(Rr(!0),Pr(kr,null,fi(Te(a),(t=>(Rr(),Br(Te(oE),{key:t,value:t,label:t+Te(i)("el.pagination.pagesize")},null,8,["value","label"])))),128))])),xt:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var uE=mf(cE,[["__file","sizes.vue"]]);const dE=Wh({size:{type:String,values:Kh}}),hE=Un({...Un({name:"ElPaginationJumper"}),props:dE,setup(t){const{t:e}=$h(),n=fa("pagination"),{pageCount:i,disabled:r,currentPage:o,changeEvent:s}=aE(),a=Me(),l=vo((()=>{var t;return null!=(t=a.value)?t:null==o?void 0:o.value}));function c(t){a.value=t?+t:""}function u(t){t=Math.trunc(+t),null==s||s(t),a.value=void 0}return(t,o)=>(Rr(),Pr("span",{class:$(Te(n).e("jump")),disabled:Te(r)},[Vr("span",{class:$([Te(n).e("goto")])},X(Te(e)("el.pagination.goto")),3),$r(Te(sm),{size:t.size,class:$([Te(n).e("editor"),Te(n).is("in-pagination")]),min:1,max:Te(i),disabled:Te(r),"model-value":Te(l),"validate-event":!1,"aria-label":Te(e)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:u},null,8,["size","class","max","disabled","model-value","aria-label"]),Vr("span",{class:$([Te(n).e("classifier")])},X(Te(e)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var fE=mf(hE,[["__file","jumper.vue"]]);const pE=Wh({total:{type:Number,default:1e3}}),mE=Un({...Un({name:"ElPaginationTotal"}),props:pE,setup(t){const{t:e}=$h(),n=fa("pagination"),{disabled:i}=aE();return(t,r)=>(Rr(),Pr("span",{class:$(Te(n).e("total")),disabled:Te(i)},X(Te(e)("el.pagination.total",{total:t.total})),11,["disabled"]))}});var vE=mf(mE,[["__file","total.vue"]]);const gE=Wh({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),yE=Un({...Un({name:"ElPaginationPager"}),props:gE,emits:["change"],setup(t,{emit:e}){const n=t,i=fa("pager"),r=fa("icon"),{t:o}=$h(),s=Me(!1),a=Me(!1),l=Me(!1),c=Me(!1),u=Me(!1),d=Me(!1),h=vo((()=>{const t=n.pagerCount,e=(t-1)/2,i=Number(n.currentPage),r=Number(n.pageCount);let o=!1,s=!1;r>t&&(i>t-e&&(o=!0),i<r-e&&(s=!0));const a=[];if(o&&!s){for(let e=r-(t-2);e<r;e++)a.push(e)}else if(!o&&s)for(let n=2;n<t;n++)a.push(n);else if(o&&s){const e=Math.floor(t/2)-1;for(let t=i-e;t<=i+e;t++)a.push(t)}else for(let n=2;n<r;n++)a.push(n);return a})),f=vo((()=>["more","btn-quickprev",r.b(),i.is("disabled",n.disabled)])),p=vo((()=>["more","btn-quicknext",r.b(),i.is("disabled",n.disabled)])),m=vo((()=>n.disabled?-1:0));function v(t=!1){n.disabled||(t?l.value=!0:c.value=!0)}function g(t=!1){t?u.value=!0:d.value=!0}function y(t){const i=t.target;if("li"===i.tagName.toLowerCase()&&Array.from(i.classList).includes("number")){const t=Number(i.textContent);t!==n.currentPage&&e("change",t)}else"li"===i.tagName.toLowerCase()&&Array.from(i.classList).includes("more")&&b(t)}function b(t){const i=t.target;if("ul"===i.tagName.toLowerCase()||n.disabled)return;let r=Number(i.textContent);const o=n.pageCount,s=n.currentPage,a=n.pagerCount-2;i.className.includes("more")&&(i.className.includes("quickprev")?r=s-a:i.className.includes("quicknext")&&(r=s+a)),Number.isNaN(+r)||(r<1&&(r=1),r>o&&(r=o)),r!==s&&e("change",r)}return hr((()=>{const t=(n.pagerCount-1)/2;s.value=!1,a.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-t&&(s.value=!0),n.currentPage<n.pageCount-t&&(a.value=!0))})),(t,e)=>(Rr(),Pr("ul",{class:$(Te(i).b()),onClick:b,onKeyup:Bs(y,["enter"])},[t.pageCount>0?(Rr(),Pr("li",{key:0,class:$([[Te(i).is("active",1===t.currentPage),Te(i).is("disabled",t.disabled)],"number"]),"aria-current":1===t.currentPage,"aria-label":Te(o)("el.pagination.currentPage",{pager:1}),tabindex:Te(m)}," 1 ",10,["aria-current","aria-label","tabindex"])):Kr("v-if",!0),s.value?(Rr(),Pr("li",{key:1,class:$(Te(f)),tabindex:Te(m),"aria-label":Te(o)("el.pagination.prevPages",{pager:t.pagerCount-2}),onMouseenter:t=>v(!0),onMouseleave:t=>l.value=!1,onFocus:t=>g(!0),onBlur:t=>u.value=!1},[!l.value&&!u.value||t.disabled?(Rr(),Br(Te(cp),{key:1})):(Rr(),Br(Te(tp),{key:0}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Kr("v-if",!0),(Rr(!0),Pr(kr,null,fi(Te(h),(e=>(Rr(),Pr("li",{key:e,class:$([[Te(i).is("active",t.currentPage===e),Te(i).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===e,"aria-label":Te(o)("el.pagination.currentPage",{pager:e}),tabindex:Te(m)},X(e),11,["aria-current","aria-label","tabindex"])))),128)),a.value?(Rr(),Pr("li",{key:2,class:$(Te(p)),tabindex:Te(m),"aria-label":Te(o)("el.pagination.nextPages",{pager:t.pagerCount-2}),onMouseenter:t=>v(),onMouseleave:t=>c.value=!1,onFocus:t=>g(),onBlur:t=>d.value=!1},[!c.value&&!d.value||t.disabled?(Rr(),Br(Te(cp),{key:1})):(Rr(),Br(Te(ep),{key:0}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):Kr("v-if",!0),t.pageCount>1?(Rr(),Pr("li",{key:3,class:$([[Te(i).is("active",t.currentPage===t.pageCount),Te(i).is("disabled",t.disabled)],"number"]),"aria-current":t.currentPage===t.pageCount,"aria-label":Te(o)("el.pagination.currentPage",{pager:t.pageCount}),tabindex:Te(m)},X(t.pageCount),11,["aria-current","aria-label","tabindex"])):Kr("v-if",!0)],42,["onKeyup"]))}});var bE=mf(yE,[["__file","pager.vue"]]);const wE=t=>"number"!=typeof t,_E=Wh({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>Ld(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2==1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:Array,default:()=>[10,20,30,40,50,100]},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Ep,default:()=>Hf},nextText:{type:String,default:""},nextIcon:{type:Ep,default:()=>zf},teleported:{type:Boolean,default:!0},small:Boolean,size:qh,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),xE="ElPagination";var SE=Un({name:xE,props:_E,emits:{"update:current-page":t=>Ld(t),"update:page-size":t=>Ld(t),"size-change":t=>Ld(t),change:(t,e)=>Ld(t)&&Ld(e),"current-change":t=>Ld(t),"prev-click":t=>Ld(t),"next-click":t=>Ld(t)},setup(t,{emit:e,slots:n}){const{t:i}=$h(),r=fa("pagination"),o=no().vnode.props||{},s=Xh(),a=vo((()=>{var e;return t.small?"small":null!=(e=t.size)?e:s.value}));My({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},vo((()=>!!t.small)));const l="onUpdate:currentPage"in o||"onUpdate:current-page"in o||"onCurrentChange"in o,c="onUpdate:pageSize"in o||"onUpdate:page-size"in o||"onSizeChange"in o,u=vo((()=>{if(wE(t.total)&&wE(t.pageCount))return!1;if(!wE(t.currentPage)&&!l)return!1;if(t.layout.includes("sizes"))if(wE(t.pageCount)){if(!wE(t.total)&&!wE(t.pageSize)&&!c)return!1}else if(!c)return!1;return!0})),d=Me(wE(t.defaultPageSize)?10:t.defaultPageSize),h=Me(wE(t.defaultCurrentPage)?1:t.defaultCurrentPage),f=vo({get:()=>wE(t.pageSize)?d.value:t.pageSize,set(n){wE(t.pageSize)&&(d.value=n),c&&(e("update:page-size",n),e("size-change",n))}}),p=vo((()=>{let e=0;return wE(t.pageCount)?wE(t.total)||(e=Math.max(1,Math.ceil(t.total/f.value))):e=t.pageCount,e})),m=vo({get:()=>wE(t.currentPage)?h.value:t.currentPage,set(n){let i=n;n<1?i=1:n>p.value&&(i=p.value),wE(t.currentPage)&&(h.value=i),l&&(e("update:current-page",i),e("current-change",i))}});function v(t){m.value=t}function g(){t.disabled||(m.value-=1,e("prev-click",m.value))}function y(){t.disabled||(m.value+=1,e("next-click",m.value))}function b(t,e){t&&(t.props||(t.props={}),t.props.class=[t.props.class,e].join(" "))}return fr(p,(t=>{m.value>t&&(m.value=t)})),fr([m,f],(t=>{e("change",...t)}),{flush:"post"}),zi(Hk,{pageCount:p,disabled:vo((()=>t.disabled)),currentPage:m,changeEvent:v,handleSizeChange:function(t){f.value=t;const e=p.value;m.value>e&&(m.value=e)}}),()=>{var e,o;if(!u.value)return i("el.pagination.deprecationWarning"),null;if(!t.layout)return null;if(t.hideOnSinglePage&&p.value<=1)return null;const s=[],l=[],c=go("div",{class:r.e("rightwrapper")},l),d={prev:go(Gk,{disabled:t.disabled,currentPage:m.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:g}),jumper:go(fE,{size:a.value}),pager:go(bE,{currentPage:m.value,pageCount:p.value,pagerCount:t.pagerCount,onChange:v,disabled:t.disabled}),next:go(Kk,{disabled:t.disabled,currentPage:m.value,pageCount:p.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:y}),sizes:go(uE,{pageSize:f.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:a.value,appendSizeTo:t.appendSizeTo}),slot:null!=(o=null==(e=null==n?void 0:n.default)?void 0:e.call(n))?o:null,total:go(vE,{total:wE(t.total)?0:t.total})},h=t.layout.split(",").map((t=>t.trim()));let w=!1;return h.forEach((t=>{"->"!==t?w?l.push(d[t]):s.push(d[t]):w=!0})),b(s[0],r.is("first")),b(s[s.length-1],r.is("last")),w&&l.length>0&&(b(l[0],r.is("first")),b(l[l.length-1],r.is("last")),s.push(c)),go("div",{class:[r.b(),r.is("background",t.background),r.m(a.value)]},s)}}});const ME=Of(SE),CE=Wh({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:Cy,default:"primary"},cancelButtonType:{type:String,values:Cy,default:"text"},icon:{type:Ep,default:()=>fp},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Pg.teleported,persistent:Pg.persistent,width:{type:[String,Number],default:150}}),kE={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},EE=Un({...Un({name:"ElPopconfirm"}),props:CE,emits:kE,setup(t,{emit:e}){const n=t,{t:i}=$h(),r=fa("popconfirm"),o=Me(),s=()=>{var t,e;null==(e=null==(t=o.value)?void 0:t.onClose)||e.call(t)},a=vo((()=>({width:Mf(n.width)}))),l=t=>{e("confirm",t),s()},c=t=>{e("cancel",t),s()},u=vo((()=>n.confirmButtonText||i("el.popconfirm.confirmButtonText"))),d=vo((()=>n.cancelButtonText||i("el.popconfirm.cancelButtonText")));return(t,e)=>(Rr(),Br(Te(ty),Zr({ref_key:"tooltipRef",ref:o,trigger:"click",effect:"light"},t.$attrs,{"popper-class":`${Te(r).namespace.value}-popover`,"popper-style":Te(a),teleported:t.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":t.hideAfter,persistent:t.persistent}),{content:un((()=>[Vr("div",{class:$(Te(r).b())},[Vr("div",{class:$(Te(r).e("main"))},[!t.hideIcon&&t.icon?(Rr(),Br(Te(Ff),{key:0,class:$(Te(r).e("icon")),style:F({color:t.iconColor})},{default:un((()=>[(Rr(),Br(ci(t.icon)))])),xt:1},8,["class","style"])):Kr("v-if",!0),Wr(" "+X(t.title),1)],2),Vr("div",{class:$(Te(r).e("action"))},[mi(t.$slots,"actions",{confirm:l,cancel:c},(()=>[$r(Te(Zy),{size:"small",type:"text"===t.cancelButtonType?"":t.cancelButtonType,text:"text"===t.cancelButtonType,onClick:c},{default:un((()=>[Wr(X(Te(d)),1)])),xt:1},8,["type","text"]),$r(Te(Zy),{size:"small",type:"text"===t.confirmButtonType?"":t.confirmButtonType,text:"text"===t.confirmButtonType,onClick:l},{default:un((()=>[Wr(X(Te(u)),1)])),xt:1},8,["type","text"])]))],2)],2)])),default:un((()=>[t.$slots.reference?mi(t.$slots,"reference",{key:0}):Kr("v-if",!0)])),xt:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});const TE=Of(mf(EE,[["__file","popconfirm.vue"]])),AE=Wh({trigger:Bg.trigger,placement:LM.placement,disabled:Bg.disabled,visible:Pg.visible,transition:Pg.transition,popperOptions:LM.popperOptions,tabindex:LM.tabindex,content:Pg.content,popperStyle:Pg.popperStyle,popperClass:Pg.popperClass,enterable:{...Pg.enterable,default:!0},effect:{...Pg.effect,default:"light"},teleported:Pg.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),NE={"update:visible":t=>Od(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0};var IE=mf(Un({...Un({name:"ElPopover"}),props:AE,emits:NE,setup(t,{expose:e,emit:n}){const i=t,r=vo((()=>i["onUpdate:visible"])),o=fa("popover"),s=Me(),a=vo((()=>{var t;return null==(t=Te(s))?void 0:t.popperRef})),l=vo((()=>[{width:Mf(i.width)},i.popperStyle])),c=vo((()=>[o.b(),i.popperClass,{[o.m("plain")]:!!i.content}])),u=vo((()=>i.transition===`${o.namespace.value}-fade-in-linear`)),d=()=>{n("before-enter")},h=()=>{n("before-leave")},f=()=>{n("after-enter")},p=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:a,hide:()=>{var t;null==(t=s.value)||t.hide()}}),(t,e)=>(Rr(),Br(Te(ty),Zr({ref_key:"tooltipRef",ref:s},t.$attrs,{trigger:t.trigger,placement:t.placement,disabled:t.disabled,visible:t.visible,transition:t.transition,"popper-options":t.popperOptions,tabindex:t.tabindex,content:t.content,offset:t.offset,"show-after":t.showAfter,"hide-after":t.hideAfter,"auto-close":t.autoClose,"show-arrow":t.showArrow,"aria-label":t.title,effect:t.effect,enterable:t.enterable,"popper-class":Te(c),"popper-style":Te(l),teleported:t.teleported,persistent:t.persistent,"gpu-acceleration":Te(u),"onUpdate:visible":Te(r),onBeforeShow:d,onBeforeHide:h,onShow:f,onHide:p}),{content:un((()=>[t.title?(Rr(),Pr("div",{key:0,class:$(Te(o).e("title")),role:"title"},X(t.title),3)):Kr("v-if",!0),mi(t.$slots,"default",{},(()=>[Wr(X(t.content),1)]))])),default:un((()=>[t.$slots.reference?mi(t.$slots,"reference",{key:0}):Kr("v-if",!0)])),xt:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}}),[["__file","popover.vue"]]);const RE=(t,e)=>{const n=e.arg||e.value,i=null==n?void 0:n.popperRef;i&&(i.triggerRef=t)};const OE=(DE="popover",(LE={mounted(t,e){RE(t,e)},updated(t,e){RE(t,e)}}).install=t=>{t.directive(DE,LE)},LE);var LE,DE;const PE=Of(IE,{directive:OE}),BE=Wh({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:String,default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:[String,Array,Function],default:""},striped:Boolean,stripedFlow:Boolean,format:{type:Function,default:t=>`${t}%`}});const FE=Of(mf(Un({...Un({name:"ElProgress"}),props:BE,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},i=fa("progress"),r=vo((()=>{const t={width:`${e.percentage}%`,animationDuration:`${e.duration}s`},n=b(e.percentage);return n.includes("gradient")?t.background=n:t.backgroundColor=n,t})),o=vo((()=>(e.strokeWidth/e.width*100).toFixed(1))),s=vo((()=>["circle","dashboard"].includes(e.type)?Number.parseInt(""+(50-Number.parseFloat(o.value)/2),10):0)),a=vo((()=>{const t=s.value,n="dashboard"===e.type;return`\n          M 50 50\n          m 0 ${n?"":"-"}${t}\n          a ${t} ${t} 0 1 1 0 ${n?"-":""}${2*t}\n          a ${t} ${t} 0 1 1 0 ${n?"":"-"}${2*t}\n          `})),l=vo((()=>2*Math.PI*s.value)),c=vo((()=>"dashboard"===e.type?.75:1)),u=vo((()=>`${-1*l.value*(1-c.value)/2}px`)),d=vo((()=>({strokeDasharray:`${l.value*c.value}px, ${l.value}px`,strokeDashoffset:u.value}))),h=vo((()=>({strokeDasharray:`${l.value*c.value*(e.percentage/100)}px, ${l.value}px`,strokeDashoffset:u.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"}))),f=vo((()=>{let t;return t=e.color?b(e.percentage):n[e.status]||n.default,t})),p=vo((()=>"warning"===e.status?Mp:"line"===e.type?"success"===e.status?Yf:Zf:"success"===e.status?Kf:Qf)),g=vo((()=>"line"===e.type?12+.4*e.strokeWidth:.111111*e.width+2)),y=vo((()=>e.format(e.percentage)));const b=t=>{var n;const{color:i}=e;if(m(i))return i(t);if(v(i))return i;{const e=function(t){const e=100/t.length;return t.map(((t,n)=>v(t)?{color:t,percentage:(n+1)*e}:t)).sort(((t,e)=>t.percentage-e.percentage))}(i);for(const n of e)if(n.percentage>t)return n.color;return null==(n=e[e.length-1])?void 0:n.color}};return(t,e)=>(Rr(),Pr("div",{class:$([Te(i).b(),Te(i).m(t.type),Te(i).is(t.status),{[Te(i).m("without-text")]:!t.showText,[Te(i).m("text-inside")]:t.textInside}]),role:"progressbar","aria-valuenow":t.percentage,"aria-valuemin":"0","aria-valuemax":"100"},["line"===t.type?(Rr(),Pr("div",{key:0,class:$(Te(i).b("bar"))},[Vr("div",{class:$(Te(i).be("bar","outer")),style:F({height:`${t.strokeWidth}px`})},[Vr("div",{class:$([Te(i).be("bar","inner"),{[Te(i).bem("bar","inner","indeterminate")]:t.indeterminate},{[Te(i).bem("bar","inner","striped")]:t.striped},{[Te(i).bem("bar","inner","striped-flow")]:t.stripedFlow}]),style:F(Te(r))},[(t.showText||t.$slots.default)&&t.textInside?(Rr(),Pr("div",{key:0,class:$(Te(i).be("bar","innerText"))},[mi(t.$slots,"default",{percentage:t.percentage},(()=>[Vr("span",null,X(Te(y)),1)]))],2)):Kr("v-if",!0)],6)],6)],2)):(Rr(),Pr("div",{key:1,class:$(Te(i).b("circle")),style:F({height:`${t.width}px`,width:`${t.width}px`})},[(Rr(),Pr("svg",{viewBox:"0 0 100 100"},[Vr("path",{class:$(Te(i).be("circle","track")),d:Te(a),stroke:`var(${Te(i).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":t.strokeLinecap,"stroke-width":Te(o),fill:"none",style:F(Te(d))},null,14,["d","stroke","stroke-linecap","stroke-width"]),Vr("path",{class:$(Te(i).be("circle","path")),d:Te(a),stroke:Te(f),fill:"none",opacity:t.percentage?1:0,"stroke-linecap":t.strokeLinecap,"stroke-width":Te(o),style:F(Te(h))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),!t.showText&&!t.$slots.default||t.textInside?Kr("v-if",!0):(Rr(),Pr("div",{key:2,class:$(Te(i).e("text")),style:F({fontSize:`${Te(g)}px`})},[mi(t.$slots,"default",{percentage:t.percentage},(()=>[t.status?(Rr(),Br(Te(Ff),{key:1},{default:un((()=>[(Rr(),Br(ci(Te(p))))])),xt:1})):(Rr(),Pr("span",{key:0},X(Te(y)),1))]))],6))],10,["aria-valuenow"]))}}),[["__file","progress.vue"]])),UE=Wh({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:[Array,Object],default:()=>["","",""]},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:[Array,Object],default:()=>[wp,wp,wp]},voidIcon:{type:Ep,default:()=>_p},disabledVoidIcon:{type:Ep,default:()=>wp},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:Array,default:()=>["Extremely bad","Disappointed","Fair","Satisfied","Surprise"]},scoreTemplate:{type:String,default:"{value}"},size:qh,clearable:Boolean,...zp(["ariaLabel"])}),HE={[df]:t=>Ld(t),[uf]:t=>Ld(t)},zE=Un({...Un({name:"ElRate"}),props:UE,emits:HE,setup(t,{expose:e,emit:n}){const i=t;function r(t,e){const n=t=>y(t),i=Object.keys(e).map((t=>+t)).filter((i=>{const r=e[i];return!!n(r)&&r.excluded?t<i:t<=i})).sort(((t,e)=>t-e)),r=e[i[0]];return n(r)&&r.value||r}const o=Vi(Kp,void 0),s=Vi(qp,void 0),a=nm(),l=fa("rate"),{inputId:c,isLabeledByFormItem:u}=tm(i,{formItemContext:s}),h=Me(i.modelValue),f=Me(-1),p=Me(!0),m=vo((()=>[l.b(),l.m(a.value)])),g=vo((()=>i.disabled||(null==o?void 0:o.disabled))),b=vo((()=>l.cssVarBlock({"void-color":i.voidColor,"disabled-void-color":i.disabledVoidColor,"fill-color":S.value}))),w=vo((()=>{let t="";return i.showScore?t=i.scoreTemplate.replace(/\{\s*value\s*\}/,g.value?`${i.modelValue}`:`${h.value}`):i.showText&&(t=i.texts[Math.ceil(h.value)-1]),t})),_=vo((()=>100*i.modelValue-100*Math.floor(i.modelValue))),x=vo((()=>d(i.colors)?{[i.lowThreshold]:i.colors[0],[i.highThreshold]:{value:i.colors[1],excluded:!0},[i.max]:i.colors[2]}:i.colors)),S=vo((()=>{const t=r(h.value,x.value);return y(t)?"":t})),M=vo((()=>{let t="";return g.value?t=`${_.value}%`:i.allowHalf&&(t="50%"),{color:S.value,width:t}})),C=vo((()=>{let t=d(i.icons)?[...i.icons]:{...i.icons};return t=we(t),d(t)?{[i.lowThreshold]:t[0],[i.highThreshold]:{value:t[1],excluded:!0},[i.max]:t[2]}:t})),k=vo((()=>r(i.modelValue,C.value))),E=vo((()=>g.value?v(i.disabledVoidIcon)?i.disabledVoidIcon:we(i.disabledVoidIcon):v(i.voidIcon)?i.voidIcon:we(i.voidIcon))),T=vo((()=>r(h.value,C.value)));function A(t){const e=g.value&&_.value>0&&t-1<i.modelValue&&t>i.modelValue,n=i.allowHalf&&p.value&&t-.5<=h.value&&t>h.value;return e||n}function N(t){i.clearable&&t===i.modelValue&&(t=0),n(uf,t),i.modelValue!==t&&n("change",t)}function I(t){if(g.value)return;let e=h.value;const r=t.code;return r===ev.up||r===ev.right?(i.allowHalf?e+=.5:e+=1,t.stopPropagation(),t.preventDefault()):r!==ev.left&&r!==ev.down||(i.allowHalf?e-=.5:e-=1,t.stopPropagation(),t.preventDefault()),e=e<0?0:e,e=e>i.max?i.max:e,n(uf,e),n("change",e),e}function R(t,e){if(!g.value){if(i.allowHalf&&e){let n=e.target;bf(n,l.e("item"))&&(n=n.querySelector(`.${l.e("icon")}`)),(0===n.clientWidth||bf(n,l.e("decimal")))&&(n=n.parentNode),p.value=2*e.offsetX<=n.clientWidth,h.value=p.value?t-.5:t}else h.value=t;f.value=t}}function O(){g.value||(i.allowHalf&&(p.value=i.modelValue!==Math.floor(i.modelValue)),h.value=i.modelValue,f.value=-1)}return fr((()=>i.modelValue),(t=>{h.value=t,p.value=i.modelValue!==Math.floor(i.modelValue)})),i.modelValue||n(uf,0),e({setCurrentValue:R,resetCurrentValue:O}),(t,e)=>{var n;return Rr(),Pr("div",{id:Te(c),class:$([Te(m),Te(l).is("disabled",Te(g))]),role:"slider","aria-label":Te(u)?void 0:t.ariaLabel||"rating","aria-labelledby":Te(u)?null==(n=Te(s))?void 0:n.labelId:void 0,"aria-valuenow":h.value,"aria-valuetext":Te(w)||void 0,"aria-valuemin":"0","aria-valuemax":t.max,tabindex:"0",style:F(Te(b)),onKeydown:I},[(Rr(!0),Pr(kr,null,fi(t.max,((t,e)=>(Rr(),Pr("span",{key:e,class:$(Te(l).e("item")),onMousemove:e=>R(t,e),onMouseleave:O,onClick:e=>{return n=t,void(g.value||(i.allowHalf&&p.value?N(h.value):N(n)));var n}},[$r(Te(Ff),{class:$([Te(l).e("icon"),{hover:f.value===t},Te(l).is("active",t<=h.value)])},{default:un((()=>[A(t)?Kr("v-if",!0):(Rr(),Pr(kr,{key:0},[dn((Rr(),Br(ci(Te(T)),null,null,512)),[[qo,t<=h.value]]),dn((Rr(),Br(ci(Te(E)),null,null,512)),[[qo,!(t<=h.value)]])],64)),A(t)?(Rr(),Pr(kr,{key:1},[(Rr(),Br(ci(Te(E)),{class:$([Te(l).em("decimal","box")])},null,8,["class"])),$r(Te(Ff),{style:F(Te(M)),class:$([Te(l).e("icon"),Te(l).e("decimal")])},{default:un((()=>[(Rr(),Br(ci(Te(k))))])),xt:1},8,["style","class"])],64)):Kr("v-if",!0)])),xt:2},1032,["class"])],42,["onMousemove","onClick"])))),128)),t.showText||t.showScore?(Rr(),Pr("span",{key:0,class:$(Te(l).e("text")),style:F({color:t.textColor})},X(Te(w)),7)):Kr("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});const VE=Of(mf(zE,[["__file","rate.vue"]])),$E={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},GE={[$E.success]:qf,[$E.warning]:Mp,[$E.error]:Xf,[$E.info]:sp},jE=Wh({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}});const WE=Of(mf(Un({...Un({name:"ElResult"}),props:jE,setup(t){const e=t,n=fa("result"),i=vo((()=>{const t=e.icon,n=t&&$E[t]?$E[t]:"icon-info";return{class:n,component:GE[n]||GE["icon-info"]}}));return(t,e)=>(Rr(),Pr("div",{class:$(Te(n).b())},[Vr("div",{class:$(Te(n).e("icon"))},[mi(t.$slots,"icon",{},(()=>[Te(i).component?(Rr(),Br(ci(Te(i).component),{key:0,class:$(Te(i).class)},null,8,["class"])):Kr("v-if",!0)]))],2),t.title||t.$slots.title?(Rr(),Pr("div",{key:0,class:$(Te(n).e("title"))},[mi(t.$slots,"title",{},(()=>[Vr("p",null,X(t.title),1)]))],2)):Kr("v-if",!0),t.subTitle||t.$slots["sub-title"]?(Rr(),Pr("div",{key:1,class:$(Te(n).e("subtitle"))},[mi(t.$slots,"sub-title",{},(()=>[Vr("p",null,X(t.subTitle),1)]))],2)):Kr("v-if",!0),t.$slots.extra?(Rr(),Pr("div",{key:2,class:$(Te(n).e("extra"))},[mi(t.$slots,"extra")],2)):Kr("v-if",!0)],2))}}),[["__file","result.vue"]])),KE=Wh({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:["start","center","end","space-around","space-between","space-evenly"],default:"start"},align:{type:String,values:["top","middle","bottom"]}});const qE=Of(mf(Un({...Un({name:"ElRow"}),props:KE,setup(t){const e=t,n=fa("row"),i=vo((()=>e.gutter));zi(Jw,{gutter:i});const r=vo((()=>{const t={};return e.gutter?(t.marginRight=t.marginLeft=`-${e.gutter/2}px`,t):t})),o=vo((()=>[n.b(),n.is(`justify-${e.justify}`,"start"!==e.justify),n.is(`align-${e.align}`,!!e.align)]));return(t,e)=>(Rr(),Br(ci(t.tag),{class:$(Te(o)),style:F(Te(r))},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["class","style"]))}}),[["__file","row.vue"]]));var YE=mf(Un({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup:()=>({ns:fa("select")})}),[["render",function(t,e,n,i,r,o){return Rr(),Pr("div",{class:$(t.ns.be("group","title")),style:F({...t.style,lineHeight:`${t.height}px`})},X(t.item.label),7)}],["__file","group-item.vue"]]);const XE={label:"label",value:"value",disabled:"disabled",options:"options"};function ZE(t){const e=vo((()=>({...XE,...t.props})));return{aliasProps:e,getLabel:t=>xc(t,e.value.label),getValue:t=>xc(t,e.value.value),getDisabled:t=>xc(t,e.value.disabled),getOptions:t=>xc(t,e.value.options)}}const JE=Wh({allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Ep,default:Zf},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:[Array,String,Number,Boolean,Object]},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Pg.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:qh,props:{type:Object,default:()=>XE},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:String,values:gv,default:"bottom-start"},fallbackPlacements:{type:Array,default:["bottom-start","top-start","right","left"]},tagType:{...Fw.type,default:"info"},tagEffect:{...Fw.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:String,fitInputWidth:{type:[Boolean,Number],default:!0,validator:t=>Od(t)||Ld(t)},...Qh,...zp(["ariaLabel"])}),QE=Wh({data:Array,disabled:Boolean,hovering:Boolean,item:{type:Object,required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),tT={[uf]:t=>!0,[df]:t=>!0,"remove-tag":t=>!0,"visible-change":t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0},eT={hover:t=>Ld(t),select:(t,e)=>!0},nT=Symbol("ElSelectV2Injection");var iT=mf(Un({props:QE,emits:eT,setup(t,{emit:e}){const n=Vi(nT),i=fa("select"),{hoverItem:r,selectOptionClick:o}=function(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}(t,{emit:e}),{getLabel:s}=ZE(n.props);return{ns:i,hoverItem:r,selectOptionClick:o,getLabel:s}}}),[["render",function(t,e,n,i,r,o){return Rr(),Pr("li",{"aria-selected":t.selected,style:F(t.style),class:$([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMousemove:t.hoverItem,onClick:Ds(t.selectOptionClick,["stop"])},[mi(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},(()=>[Vr("span",null,X(t.getLabel(t.item)),1)]))],46,["aria-selected","onMousemove","onClick"])}],["__file","option-item.vue"]]),rT=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function oT(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(i=t[n],r=e[n],!(i===r||rT(i)&&rT(r)))return!1;var i,r;return!0}const sT=()=>{const t=no().proxy.$props;return vo((()=>{const e=(t,e,n)=>({});return t.perfMode?mc(e):function(t,e){void 0===e&&(e=oT);var n=null;function i(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return i.clear=function(){n=null},i}(e)}))},aT="itemRendered",lT="scroll",cT="forward",uT="backward",dT="auto",hT="smart",fT="start",pT="center",mT="end",vT="horizontal",gT="vertical",yT="rtl",bT="negative",wT="positive-ascending",_T="positive-descending",xT={[vT]:"left",[gT]:"top"},ST={[vT]:"deltaX",[gT]:"deltaY"},MT=jh({type:[Number,Function],required:!0}),CT=jh({type:Number}),kT=jh({type:Number,default:2}),ET=jh({type:String,values:["ltr","rtl"],default:"ltr"}),TT=jh({type:Number,default:0}),AT=jh({type:Number,required:!0}),NT=jh({type:String,values:["horizontal","vertical"],default:gT}),IT=Wh({className:{type:String,default:""},containerElement:{type:[String,Object],default:"div"},data:{type:Array,default:()=>[]},direction:ET,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:[Object,String,Array]},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),RT=Wh({cache:kT,estimatedItemSize:CT,layout:NT,initScrollOffset:TT,total:AT,itemSize:MT,...IT}),OT={type:Number,default:6},LT={type:Number,default:0},DT={type:Number,default:2},PT=Wh({columnCache:kT,columnWidth:MT,estimatedColumnWidth:CT,estimatedRowHeight:CT,initScrollLeft:TT,initScrollTop:TT,itemKey:{type:Function,default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:kT,rowHeight:MT,totalColumn:AT,totalRow:AT,hScrollbarSize:OT,vScrollbarSize:OT,scrollbarStartGap:LT,scrollbarEndGap:DT,role:String,...IT}),BT=Wh({alwaysOn:Boolean,class:String,layout:NT,total:AT,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:OT,startGap:LT,endGap:DT,visible:Boolean}),FT=(t,e)=>t<e?cT:uT,UT=t=>"ltr"===t||t===yT||t===vT,HT=t=>t===yT;let zT=null;function VT(t=!1){if(null===zT||t){const t=document.createElement("div"),e=t.style;e.width="50px",e.height="50px",e.overflow="scroll",e.direction="rtl";const n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?zT=_T:(t.scrollLeft=1,zT=0===t.scrollLeft?bT:wT),document.body.removeChild(t),zT}return zT}const $T=Un({name:"ElVirtualScrollBar",props:BT,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=vo((()=>t.startGap+t.endGap)),i=fa("virtual-scrollbar"),r=fa("scrollbar"),o=Me(),s=Me();let a=null,l=null;const c=de({isDragging:!1,traveled:0}),u=vo((()=>am[t.layout])),d=vo((()=>t.clientSize-Te(n))),h=vo((()=>({position:"absolute",width:`${vT===t.layout?d.value:t.scrollbarSize}px`,height:`${vT===t.layout?t.scrollbarSize:d.value}px`,[xT[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"}))),f=vo((()=>{const e=t.ratio,n=t.clientSize;if(e>=100)return Number.POSITIVE_INFINITY;if(e>=50)return e*n/100;const i=n/3;return Math.floor(Math.min(Math.max(e*n,20),i))})),p=vo((()=>{if(!Number.isFinite(f.value))return{display:"none"};const e=`${f.value}px`,n=function({move:t,size:e,bar:n},i){const r={},o=`translate${n.axis}(${t}px)`;return r[n.size]=e,r.transform=o,r.msTransform=o,r.webkitTransform=o,"horizontal"===i?r.height="100%":r.width="100%",r}({bar:u.value,size:e,move:c.traveled},t.layout);return n})),m=vo((()=>Math.floor(t.clientSize-f.value-Te(n)))),v=()=>{window.removeEventListener("mousemove",b),window.removeEventListener("mouseup",y),document.onselectstart=l,l=null;const t=Te(s);t&&(t.removeEventListener("touchmove",b),t.removeEventListener("touchend",y))},g=t=>{t.stopImmediatePropagation(),t.ctrlKey||[1,2].includes(t.button)||(c.isDragging=!0,c[u.value.axis]=t.currentTarget[u.value.offset]-(t[u.value.client]-t.currentTarget.getBoundingClientRect()[u.value.direction]),e("start-move"),(()=>{window.addEventListener("mousemove",b),window.addEventListener("mouseup",y);const t=Te(s);t&&(l=document.onselectstart,document.onselectstart=()=>!1,t.addEventListener("touchmove",b,{passive:!0}),t.addEventListener("touchend",y))})())},y=()=>{c.isDragging=!1,c[u.value.axis]=0,e("stop-move"),v()},b=n=>{const{isDragging:i}=c;if(!i)return;if(!s.value||!o.value)return;const r=c[u.value.axis];if(!r)return;gf(a);const l=-1*(o.value.getBoundingClientRect()[u.value.direction]-n[u.value.client])-(s.value[u.value.offset]-r);a=vf((()=>{c.traveled=Math.max(t.startGap,Math.min(l,m.value)),e("scroll",l,m.value)}))},w=t=>{const n=Math.abs(t.target.getBoundingClientRect()[u.value.direction]-t[u.value.client])-s.value[u.value.offset]/2;c.traveled=Math.max(0,Math.min(n,m.value)),e("scroll",n,m.value)};return fr((()=>t.scrollFrom),(t=>{c.isDragging||(c.traveled=Math.ceil(t*m.value))})),ti((()=>{v()})),()=>go("div",{role:"presentation",ref:o,class:[i.b(),t.class,(t.alwaysOn||c.isDragging)&&"always-on"],style:h.value,onMousedown:Ds(w,["stop","prevent"]),onTouchstartPrevent:g},go("div",{ref:s,class:r.e("thumb"),style:p.value,onMousedown:g},[]))}}),GT=({name:t,getOffset:e,getItemSize:n,getItemOffset:i,getEstimatedTotalSize:r,getStartIndexForOffset:o,getStopIndexForStartIndex:s,initCache:a,clearCache:l,validateProps:c})=>Un({name:null!=t?t:"ElVirtualList",props:RT,emits:[aT,lT],setup(t,{emit:d,expose:h}){c(t);const f=no(),p=fa("vl"),m=Me(a(t,f)),v=sT(),g=Me(),y=Me(),b=Me(),w=Me({isScrolling:!1,scrollDir:"forward",scrollOffset:Ld(t.initScrollOffset)?t.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:t.scrollbarAlwaysOn}),_=vo((()=>{const{total:e,cache:n}=t,{isScrolling:i,scrollDir:r,scrollOffset:a}=Te(w);if(0===e)return[0,0,0,0];const l=o(t,a,Te(m)),c=s(t,l,a,Te(m)),u=i&&r!==uT?1:Math.max(1,n),d=i&&r!==cT?1:Math.max(1,n);return[Math.max(0,l-u),Math.max(0,Math.min(e-1,c+d)),l,c]})),x=vo((()=>r(t,Te(m)))),S=vo((()=>UT(t.layout))),M=vo((()=>[{position:"relative",["overflow-"+(S.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:t.direction,height:Ld(t.height)?`${t.height}px`:t.height,width:Ld(t.width)?`${t.width}px`:t.width},t.style])),C=vo((()=>{const t=Te(x),e=Te(S);return{height:e?"100%":`${t}px`,pointerEvents:Te(w).isScrolling?"none":void 0,width:e?`${t}px`:"100%"}})),k=vo((()=>S.value?t.width:t.height)),{onWheel:E}=(({atEndEdge:t,atStartEdge:e,layout:n},i)=>{let r,o=0;const s=n=>n<0&&e.value||n>0&&t.value;return{hasReachedEdge:s,onWheel:t=>{gf(r);const e=t[ST[n.value]];s(o)&&s(o+e)||(o+=e,Dp()||t.preventDefault(),r=vf((()=>{i(o),o=0})))}}})({atStartEdge:vo((()=>w.value.scrollOffset<=0)),atEndEdge:vo((()=>w.value.scrollOffset>=x.value)),layout:vo((()=>t.layout))},(t=>{var e,n;null==(n=(e=b.value).onMouseUp)||n.call(e),A(Math.min(w.value.scrollOffset+t,x.value-k.value))}));ch(g,"wheel",E,{passive:!1});const T=()=>{const{total:e}=t;if(e>0){const[t,e,n,i]=Te(_);d(aT,t,e,n,i)}const{scrollDir:n,scrollOffset:i,updateRequested:r}=Te(w);d(lT,n,i,r)},A=t=>{(t=Math.max(t,0))!==Te(w).scrollOffset&&(w.value={...Te(w),scrollOffset:t,scrollDir:FT(Te(w).scrollOffset,t),updateRequested:!0},Qe(I))},N=(n,i=dT)=>{const{scrollOffset:r}=Te(w);n=Math.max(0,Math.min(n,t.total-1)),A(e(t,n,i,r,Te(m)))},I=()=>{w.value.isScrolling=!1,Qe((()=>{v.value(-1,null,null)}))},R=()=>{const t=g.value;t&&(t.scrollTop=0)};Zn((()=>{if(!qd)return;const{initScrollOffset:e}=t,n=Te(g);Ld(e)&&n&&(Te(S)?n.scrollLeft=e:n.scrollTop=e),T()})),Qn((()=>{const{direction:e,layout:n}=t,{scrollOffset:i,updateRequested:r}=Te(w),o=Te(g);if(r&&o)if(n===vT)if(e===yT)switch(VT()){case bT:o.scrollLeft=-i;break;case wT:o.scrollLeft=i;break;default:{const{clientWidth:t,scrollWidth:e}=o;o.scrollLeft=e-t-i;break}}else o.scrollLeft=i;else o.scrollTop=i})),Gn((()=>{Te(g).scrollTop=Te(w).scrollOffset}));const O={ns:p,clientSize:k,estimatedTotalSize:x,windowStyle:M,windowRef:g,innerRef:y,innerStyle:C,itemsToRender:_,scrollbarRef:b,states:w,getItemStyle:e=>{const{direction:r,itemSize:o,layout:s}=t,a=v.value(l&&o,l&&s,l&&r);let c;if(u(a,String(e)))c=a[e];else{const o=i(t,e,Te(m)),s=n(t,e,Te(m)),l=Te(S),u=r===yT,d=l?o:0;a[e]=c={position:"absolute",left:u?void 0:`${d}px`,right:u?`${d}px`:void 0,top:l?0:`${o}px`,height:l?"100%":`${s}px`,width:l?`${s}px`:"100%"}}return c},onScroll:e=>{Te(S)?(e=>{const{clientWidth:n,scrollLeft:i,scrollWidth:r}=e.currentTarget,o=Te(w);if(o.scrollOffset===i)return;const{direction:s}=t;let a=i;if(s===yT)switch(VT()){case bT:a=-i;break;case _T:a=r-n-i}a=Math.max(0,Math.min(a,r-n)),w.value={...o,isScrolling:!0,scrollDir:FT(o.scrollOffset,a),scrollOffset:a,updateRequested:!1},Qe(I)})(e):(t=>{const{clientHeight:e,scrollHeight:n,scrollTop:i}=t.currentTarget,r=Te(w);if(r.scrollOffset===i)return;const o=Math.max(0,Math.min(i,n-e));w.value={...r,isScrolling:!0,scrollDir:FT(r.scrollOffset,o),scrollOffset:o,updateRequested:!1},Qe(I)})(e),T()},onScrollbarScroll:(t,e)=>{const n=(x.value-k.value)/e*t;A(Math.min(x.value-k.value,n))},onWheel:E,scrollTo:A,scrollToItem:N,resetScrollTop:R};return h({windowRef:g,innerRef:y,getItemStyleCache:v,scrollTo:A,scrollToItem:N,resetScrollTop:R,states:w}),O},render(t){var e;const{$slots:n,className:i,clientSize:r,containerElement:o,data:s,getItemStyle:a,innerElement:l,itemsToRender:c,innerStyle:u,layout:d,total:h,onScroll:f,onScrollbarScroll:p,states:m,useIsScrolling:g,windowStyle:y,ns:b}=t,[w,_]=c,x=ci(o),S=ci(l),M=[];if(h>0)for(let v=w;v<=_;v++)M.push(go(kr,{key:v},null==(e=n.default)?void 0:e.call(n,{data:s,index:v,isScrolling:g?m.isScrolling:void 0,style:a(v)})));const C=[go(S,{style:u,ref:"innerRef"},v(S)?M:{default:()=>M})],k=go($T,{ref:"scrollbarRef",clientSize:r,layout:d,onScroll:p,ratio:100*r/this.estimatedTotalSize,scrollFrom:m.scrollOffset/(this.estimatedTotalSize-r),total:h}),E=go(x,{class:[b.e("window"),i],style:y,onScroll:f,ref:"windowRef",key:0},v(x)?[C]:{default:()=>[C]});return go("div",{key:0,class:[b.e("wrapper"),m.scrollbarAlwaysOn?"always-on":""]},[E,k])}}),jT=GT({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:i,width:r},o,s,a)=>{const l=UT(i)?r:t,c=Math.max(0,e*n-l),u=Math.min(c,o*n),d=Math.max(0,(o+1)*n-l);switch(s===hT&&(s=a>=d-l&&a<=u+l?dT:pT),s){case fT:return u;case mT:return d;case pT:{const t=Math.round(d+(u-d)/2);return t<Math.ceil(l/2)?0:t>c+Math.floor(l/2)?c:t}default:return a>=d&&a<=u?a:a<d?d:u}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:i,width:r},o,s)=>{const a=o*n,l=UT(i)?r:t,c=Math.ceil((l+s-a)/n);return Math.max(0,Math.min(e-1,o+c-1))},initCache(){},clearCache:!0,validateProps(){}}),WT=(t,e,n)=>{const{itemSize:i}=t,{items:r,lastVisitedIndex:o}=n;if(e>o){let t=0;if(o>=0){const e=r[o];t=e.offset+e.size}for(let n=o+1;n<=e;n++){const e=i(n);r[n]={offset:t,size:e},t+=e}n.lastVisitedIndex=e}return r[e]},KT=(t,e,n,i,r)=>{for(;n<=i;){const o=n+Math.floor((i-n)/2),s=WT(t,o,e).offset;if(s===r)return o;s<r?n=o+1:s>r&&(i=o-1)}return Math.max(0,n-1)},qT=(t,e,n,i)=>{const{total:r}=t;let o=1;for(;n<r&&WT(t,n,e).offset<i;)n+=o,o*=2;return KT(t,e,Math.floor(n/2),Math.min(n,r-1),i)},YT=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:i})=>{let r=0;if(i>=t&&(i=t-1),i>=0){const t=e[i];r=t.offset+t.size}return r+(t-i-1)*n},XT=GT({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>WT(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:YT,getOffset:(t,e,n,i,r)=>{const{height:o,layout:s,width:a}=t,l=UT(s)?a:o,c=WT(t,e,r),u=YT(t,r),d=Math.max(0,Math.min(u-l,c.offset)),h=Math.max(0,c.offset-l+c.size);switch(n===hT&&(n=i>=h-l&&i<=d+l?dT:pT),n){case fT:return d;case mT:return h;case pT:return Math.round(h+(d-h)/2);default:return i>=h&&i<=d?i:i<h?h:d}},getStartIndexForOffset:(t,e,n)=>((t,e,n)=>{const{items:i,lastVisitedIndex:r}=e;return(r>0?i[r].offset:0)>=n?KT(t,e,0,r,n):qT(t,e,Math.max(0,r),n)})(t,n,e),getStopIndexForStartIndex:(t,e,n,i)=>{const{height:r,total:o,layout:s,width:a}=t,l=UT(s)?a:r,c=WT(t,e,i),u=n+l;let d=c.offset+c.size,h=e;for(;h<o-1&&d<u;)h++,d+=WT(t,h,i).size;return h},initCache({estimatedItemSize:t=50},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1,clearCacheAfterIndex:(t,i=!0)=>{var r,o;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,t-1),null==(r=e.exposed)||r.getItemStyleCache(-1),i&&(null==(o=e.proxy)||o.$forceUpdate())}};return n},clearCache:!1,validateProps:({itemSize:t})=>{}});var ZT=Un({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:e,expose:n}){const i=Vi(nT),r=fa("select"),{getLabel:o,getValue:s,getDisabled:a}=ZE(i.props),l=Me([]),c=Me(),u=vo((()=>t.data.length));fr((()=>u.value),(()=>{var t,e;null==(e=(t=i.tooltipRef.value).updatePopper)||e.call(t)}));const d=vo((()=>Rd(i.props.estimatedOptionHeight))),h=vo((()=>d.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:t=>l.value[t]})),f=(t,e)=>i.props.multiple?((t=[],e)=>{const{props:{valueKey:n}}=i;return y(e)?t&&t.some((t=>be(xc(t,n))===xc(e,n))):t.includes(e)})(t,s(e)):((t,e)=>{if(y(e)){const{valueKey:n}=i.props;return xc(t,n)===xc(e,n)}return t===e})(t,s(e)),p=(t,e)=>{const{disabled:n,multiple:r,multipleLimit:o}=i.props;return n||!e&&!!r&&o>0&&t.length>=o},m=e=>t.hoveringIndex===e;n({listRef:c,isSized:d,isItemDisabled:p,isItemHovering:m,isItemSelected:f,scrollToItem:t=>{const e=c.value;e&&e.scrollToItem(t)},resetScrollTop:()=>{const t=c.value;t&&t.resetScrollTop()}});const v=t=>{const{index:n,data:r,style:s}=t,l=Te(d),{itemSize:c,estimatedSize:u}=Te(h),{modelValue:v}=i.props,{onSelect:g,onHover:y}=i,b=r[n];if("Group"===b.type)return $r(YE,{item:b,style:s,height:l?c:u},null);const w=f(v,b),_=p(v,w),x=m(n);return $r(iT,Zr(t,{selected:w,disabled:a(b)||_,created:!!b.created,hovering:x,item:b,onSelect:g,onHover:y}),{default:t=>{var n;return(null==(n=e.default)?void 0:n.call(e,t))||$r("span",null,[o(b)])}})},{onKeyboardNavigate:g,onKeyboardSelect:b}=i,w=t=>{const{code:e}=t,{tab:n,esc:i,down:r,up:o,enter:s,numpadEnter:a}=ev;switch([i,r,o,s,a].includes(e)&&(t.preventDefault(),t.stopPropagation()),e){case n:case i:break;case r:g("forward");break;case o:g("backward");break;case s:case a:b()}};return()=>{var n,o,s,a;const{data:l,width:u}=t,{height:f,multiple:p,scrollbarAlwaysOn:m}=i.props,g=vo((()=>!!Zd||m)),y=Te(d)?jT:XT;return $r("div",{class:[r.b("dropdown"),r.is("multiple",p)],style:{width:`${u}px`}},[null==(n=e.header)?void 0:n.call(e),(null==(o=e.loading)?void 0:o.call(e))||(null==(s=e.empty)?void 0:s.call(e))||$r(y,Zr({ref:c},Te(h),{className:r.be("dropdown","list"),scrollbarAlwaysOn:g.value,data:l,height:f,width:u,total:l.length,onKeydown:w}),{default:t=>$r(v,t,null)}),null==(a=e.footer)?void 0:a.call(e)])}}});function JT(t,e){const{aliasProps:n,getLabel:i,getValue:r}=ZE(t),o=Me(0),s=Me(),a=vo((()=>t.allowCreate&&t.filterable));return{createNewOption:function(r){if(a.value)if(r&&r.length>0){if(function(n){const r=t=>i(t)===n;return t.options&&t.options.some(r)||e.createdOptions.some(r)}(r))return;const s={[n.value.value]:r,[n.value.label]:r,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=o.value?e.createdOptions[o.value]=s:e.createdOptions.push(s)}else if(t.multiple)e.createdOptions.length=o.value;else{const t=s.value;e.createdOptions.length=0,t&&t.created&&e.createdOptions.push(t)}},removeNewOption:function(n){if(!a.value||!n||!n.created||n.created&&t.reserveKeyword&&e.inputValue===i(n))return;const s=e.createdOptions.findIndex((t=>r(t)===r(n)));~s&&(e.createdOptions.splice(s,1),o.value--)},selectNewOption:function(e){a.value&&(t.multiple&&e.created?o.value++:s.value=e)},clearAllNewOption:function(){a.value&&(e.createdOptions.length=0,o.value=0)}}}const QT=(t,e)=>{const{t:n}=$h(),i=fa("select"),r=fa("input"),{form:o,formItem:s}=Qp(),{inputId:a}=tm(t,{formItemContext:s}),{aliasProps:l,getLabel:c,getValue:u,getDisabled:h,getOptions:f}=ZE(t),{valueOnClear:p,isEmptyValue:v}=tf(t),g=de({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),b=Me(-1),w=Me(),_=Me(),x=Me(),S=Me(),M=Me(),C=Me(),k=Me(),E=Me(),T=Me(),A=Me(),{isComposing:N,handleCompositionStart:I,handleCompositionEnd:R,handleCompositionUpdate:O}=om({afterComposition:t=>Pt(t)}),{wrapperRef:L,isFocused:D,handleBlur:P}=rm(M,{beforeFocus:()=>z.value,afterFocus(){t.automaticDropdown&&!H.value&&(H.value=!0,g.menuVisibleOnFocus=!0)},beforeBlur(t){var e,n;return(null==(e=x.value)?void 0:e.isFocusInsideContent(t))||(null==(n=S.value)?void 0:n.isFocusInsideContent(t))},afterBlur(){H.value=!1,g.menuVisibleOnFocus=!1}}),B=vo((()=>J(""))),F=vo((()=>!t.loading&&(t.options.length>0||g.createdOptions.length>0))),U=Me([]),H=Me(!1),z=vo((()=>t.disabled||(null==o?void 0:o.disabled))),V=vo((()=>{var t;return null!=(t=null==o?void 0:o.statusIcon)&&t})),$=vo((()=>{const e=U.value.length*t.itemHeight;return e>t.height?t.height:e})),G=vo((()=>t.multiple?d(t.modelValue)&&t.modelValue.length>0:!v(t.modelValue))),j=vo((()=>t.clearable&&!z.value&&g.inputHovering&&G.value)),W=vo((()=>t.remote&&t.filterable?"":Uf)),K=vo((()=>W.value&&i.is("reverse",H.value))),q=vo((()=>(null==s?void 0:s.validateState)||"")),Y=vo((()=>{if(q.value)return Ip[q.value]})),X=vo((()=>t.remote?300:0)),Z=vo((()=>t.loading?t.loadingText||n("el.select.loading"):!(t.remote&&!g.inputValue&&!F.value)&&(t.filterable&&g.inputValue&&F.value&&0===U.value.length?t.noMatchText||n("el.select.noMatch"):F.value?null:t.noDataText||n("el.select.noData")))),J=e=>{const n=new RegExp(Cw(e),"i"),i=t.filterable&&m(t.filterMethod),r=t.filterable&&t.remote&&m(t.remoteMethod),o=t=>!(!i&&!r)||(!e||n.test(c(t)||""));return t.loading?[]:[...g.createdOptions,...t.options].reduce(((e,n)=>{const i=f(n);if(d(i)){const t=i.filter(o);t.length>0&&e.push({label:c(n),type:"Group"},...t)}else(t.remote||o(n))&&e.push(n);return e}),[])},Q=()=>{U.value=J(g.inputValue)},tt=vo((()=>{const t=new Map;return B.value.forEach(((e,n)=>{t.set(Et(u(e)),{option:e,index:n})})),t})),et=vo((()=>{const t=new Map;return U.value.forEach(((e,n)=>{t.set(Et(u(e)),{option:e,index:n})})),t})),nt=vo((()=>U.value.every((t=>h(t))))),it=nm(),rt=vo((()=>"small"===it.value?"small":"default")),ot=()=>{var e;if(Ld(t.fitInputWidth))return void(b.value=t.fitInputWidth);const n=(null==(e=w.value)?void 0:e.offsetWidth)||200;!t.fitInputWidth&&F.value?Qe((()=>{b.value=Math.max(n,st())})):b.value=n},st=()=>{var t,e;const n=document.createElement("canvas").getContext("2d"),r=i.be("dropdown","item"),o=((null==(e=null==(t=E.value)?void 0:t.listRef)?void 0:e.innerRef)||document).querySelector(`.${r}`);if(null===o||null===n)return 0;const s=getComputedStyle(o),a=Number.parseFloat(s.paddingLeft)+Number.parseFloat(s.paddingRight);n.font=s.font;return U.value.reduce(((t,e)=>{const i=n.measureText(c(e));return Math.max(i.width,t)}),0)+a},at=vo((()=>{const e=(()=>{if(!_.value)return 0;const t=window.getComputedStyle(_.value);return Number.parseFloat(t.gap||"6px")})();return{maxWidth:`${A.value&&1===t.maxCollapseTags?g.selectionWidth-g.collapseItemWidth-e:g.selectionWidth}px`}})),lt=vo((()=>({maxWidth:`${g.selectionWidth}px`}))),ct=vo((()=>d(t.modelValue)?0===t.modelValue.length&&!g.inputValue:!t.filterable||!g.inputValue)),ut=vo((()=>{var e;const i=null!=(e=t.placeholder)?e:n("el.select.placeholder");return t.multiple||!G.value?i:g.selectedLabel})),dt=vo((()=>{var t,e;return null==(e=null==(t=x.value)?void 0:t.popperRef)?void 0:e.contentRef})),ht=vo((()=>{if(t.multiple){const e=t.modelValue.length;if(t.modelValue.length>0&&et.value.has(t.modelValue[e-1])){const{index:n}=et.value.get(t.modelValue[e-1]);return n}}else if(!v(t.modelValue)&&et.value.has(t.modelValue)){const{index:e}=et.value.get(t.modelValue);return e}return-1})),ft=vo({get:()=>H.value&&!1!==Z.value,set(t){H.value=t}}),pt=vo((()=>t.multiple?t.collapseTags?g.cachedOptions.slice(0,t.maxCollapseTags):g.cachedOptions:[])),mt=vo((()=>t.multiple&&t.collapseTags?g.cachedOptions.slice(t.maxCollapseTags):[])),{createNewOption:vt,removeNewOption:gt,selectNewOption:yt,clearAllNewOption:bt}=JT(t,g),wt=()=>{z.value||(g.menuVisibleOnFocus?g.menuVisibleOnFocus=!1:H.value=!H.value)},_t=()=>{g.inputValue.length>0&&!H.value&&(H.value=!0),vt(g.inputValue),St(g.inputValue)},xt=od(_t,X.value),St=e=>{g.previousQuery===e||N.value||(g.previousQuery=e,t.filterable&&m(t.filterMethod)?t.filterMethod(e):t.filterable&&t.remote&&m(t.remoteMethod)&&t.remoteMethod(e),t.defaultFirstOption&&(t.filterable||t.remote)&&U.value.length?Qe(Mt):Qe(Dt))},Mt=()=>{const t=U.value.filter((t=>!t.disabled&&"Group"!==t.type)),e=t.find((t=>t.created)),n=t[0];g.hoveringIndex=kt(U.value,e||n)},Ct=n=>{e(uf,n),(n=>{gd(t.modelValue,n)||e(df,n)})(n),g.previousValue=t.multiple?String(n):n},kt=(e=[],n)=>{if(!y(n))return e.indexOf(n);const i=t.valueKey;let r=-1;return e.some(((t,e)=>xc(t,i)===xc(n,i)&&(r=e,!0))),r},Et=e=>y(e)?xc(e,t.valueKey):e,Tt=()=>{ot()},At=()=>{g.selectionWidth=_.value.getBoundingClientRect().width},Nt=()=>{var t,e;null==(e=null==(t=x.value)?void 0:t.updatePopper)||e.call(t)},It=()=>{var t,e;null==(e=null==(t=S.value)?void 0:t.updatePopper)||e.call(t)},Rt=e=>{if(t.multiple){let n=t.modelValue.slice();const i=kt(n,u(e));i>-1?(n=[...n.slice(0,i),...n.slice(i+1)],g.cachedOptions.splice(i,1),gt(e)):(t.multipleLimit<=0||n.length<t.multipleLimit)&&(n=[...n,u(e)],g.cachedOptions.push(e),yt(e)),Ct(n),e.created&&St(""),t.filterable&&!t.reserveKeyword&&(g.inputValue="")}else g.selectedLabel=c(e),Ct(u(e)),H.value=!1,yt(e),e.created||bt();Ot()},Ot=()=>{var t;null==(t=M.value)||t.focus()},Lt=(t,e=void 0)=>{const n=U.value;if(!["forward","backward"].includes(t)||z.value||n.length<=0||nt.value||N.value)return;if(!H.value)return wt();void 0===e&&(e=g.hoveringIndex);let i=-1;"forward"===t?(i=e+1,i>=n.length&&(i=0)):"backward"===t&&(i=e-1,(i<0||i>=n.length)&&(i=n.length-1));const r=n[i];if(h(r)||"Group"===r.type)return Lt(t,i);g.hoveringIndex=i,Bt(i)},Dt=()=>{t.multiple?g.hoveringIndex=U.value.findIndex((e=>t.modelValue.some((t=>Et(t)===Et(e))))):g.hoveringIndex=U.value.findIndex((e=>Et(e)===Et(t.modelValue)))},Pt=e=>{if(g.inputValue=e.target.value,!t.remote)return _t();xt()},Bt=t=>{E.value.scrollToItem(t)},Ft=(t,e)=>{const n=Et(t);if(tt.value.has(n)){const{option:t}=tt.value.get(n);return t}if(e&&e.length){const t=e.find((t=>Et(u(t))===n));if(t)return t}return{[l.value.value]:t,[l.value.label]:t}},Ut=(e=!1)=>{if(t.multiple)if(t.modelValue.length>0){const e=g.cachedOptions.slice();g.cachedOptions.length=0,g.previousValue=t.modelValue.toString();for(const n of t.modelValue){const t=Ft(n,e);g.cachedOptions.push(t)}}else g.cachedOptions=[],g.previousValue=void 0;else if(G.value){g.previousValue=t.modelValue;const n=U.value,i=n.findIndex((e=>Et(u(e))===Et(t.modelValue)));~i?g.selectedLabel=c(n[i]):g.selectedLabel&&!e||(g.selectedLabel=Et(t.modelValue))}else g.selectedLabel="",g.previousValue=void 0;bt(),ot()};return fr((()=>t.fitInputWidth),(()=>{ot()})),fr(H,(n=>{n?(t.persistent||ot(),St("")):(g.inputValue="",g.previousQuery=null,g.isBeforeHide=!0,vt("")),e("visible-change",n)})),fr((()=>t.modelValue),((e,n)=>{var i;(!e||d(e)&&0===e.length||t.multiple&&!gd(e.toString(),g.previousValue)||!t.multiple&&Et(e)!==Et(g.previousValue))&&Ut(!0),!gd(e,n)&&t.validateEvent&&(null==(i=null==s?void 0:s.validate)||i.call(s,"change").catch((t=>{})))}),{deep:!0}),fr((()=>t.options),(()=>{const t=M.value;(!t||t&&document.activeElement!==t)&&Ut()}),{deep:!0,flush:"post"}),fr((()=>U.value),(()=>(ot(),E.value&&Qe(E.value.resetScrollTop)))),hr((()=>{g.isBeforeHide||Q()})),hr((()=>{const{valueKey:e,options:n}=t,i=new Map;for(const t of n){const n=u(t);let r=n;if(y(r)&&(r=xc(n,e)),i.get(r))break;i.set(r,!0)}})),Zn((()=>{Ut()})),yh(w,Tt),yh(_,At),yh(E,Nt),yh(L,Nt),yh(T,It),yh(A,(()=>{g.collapseItemWidth=A.value.getBoundingClientRect().width})),{inputId:a,collapseTagSize:rt,currentPlaceholder:ut,expanded:H,emptyText:Z,popupHeight:$,debounce:X,allOptions:B,filteredOptions:U,iconComponent:W,iconReverse:K,tagStyle:at,collapseTagStyle:lt,popperSize:b,dropdownMenuVisible:ft,hasModelValue:G,shouldShowPlaceholder:ct,selectDisabled:z,selectSize:it,needStatusIcon:V,showClearBtn:j,states:g,isFocused:D,nsSelect:i,nsInput:r,inputRef:M,menuRef:E,tagMenuRef:T,tooltipRef:x,tagTooltipRef:S,selectRef:w,wrapperRef:L,selectionRef:_,prefixRef:C,suffixRef:k,collapseItemRef:A,popperRef:dt,validateState:q,validateIcon:Y,showTagList:pt,collapseTagList:mt,debouncedOnInputChange:xt,deleteTag:(n,i)=>{let r=t.modelValue.slice();const o=kt(r,u(i));o>-1&&!z.value&&(r=[...t.modelValue.slice(0,o),...t.modelValue.slice(o+1)],g.cachedOptions.splice(o,1),Ct(r),e("remove-tag",u(i)),gt(i)),n.stopPropagation(),Ot()},getLabel:c,getValue:u,getDisabled:h,getValueKey:Et,handleClear:()=>{let n;n=d(t.modelValue)?[]:p.value,t.multiple?g.cachedOptions=[]:g.selectedLabel="",H.value=!1,Ct(n),e("clear"),bt(),Ot()},handleClickOutside:t=>{if(H.value=!1,D.value){const e=new FocusEvent("focus",t);P(e)}},handleDel:n=>{if(t.multiple&&(n.code!==ev.delete&&0===g.inputValue.length)){n.preventDefault();const i=t.modelValue.slice(),r=dd(i,(t=>!g.cachedOptions.some((e=>u(e)===t&&h(e)))));if(r<0)return;const o=i[r];i.splice(r,1);const s=g.cachedOptions[r];g.cachedOptions.splice(r,1),gt(s),Ct(i),e("remove-tag",o)}},handleEsc:()=>{g.inputValue.length>0?g.inputValue="":H.value=!1},focus:Ot,blur:()=>{var t;if(H.value)return H.value=!1,void Qe((()=>{var t;return null==(t=M.value)?void 0:t.blur()}));null==(t=M.value)||t.blur()},handleMenuEnter:()=>(g.isBeforeHide=!1,Qe((()=>{~ht.value&&Bt(g.hoveringIndex)}))),handleResize:Tt,resetSelectionWidth:At,updateTooltip:Nt,updateTagTooltip:It,updateOptions:Q,toggleMenu:wt,scrollTo:Bt,onInput:Pt,onKeyboardNavigate:Lt,onKeyboardSelect:()=>{if(!H.value)return wt();~g.hoveringIndex&&U.value[g.hoveringIndex]&&Rt(U.value[g.hoveringIndex])},onSelect:Rt,onHover:t=>{g.hoveringIndex=null!=t?t:-1},handleCompositionStart:I,handleCompositionEnd:R,handleCompositionUpdate:O}};const tA=Of(mf(Un({name:"ElSelectV2",components:{ElSelectMenu:ZT,ElTag:Hw,ElTooltip:ty,ElIcon:Ff},directives:{ClickOutside:jw},props:JE,emits:tT,setup(t,{emit:e}){const n=vo((()=>{const{modelValue:e,multiple:n}=t,i=n?[]:void 0;return d(e)?n?e:i:n?i:e})),i=QT(de({...Re(t),modelValue:n}),e),{calculatorRef:r,inputStyle:o}=ck();zi(nT,{props:de({...Re(t),height:i.popupHeight,modelValue:n}),expanded:i.expanded,tooltipRef:i.tooltipRef,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect});const s=vo((()=>t.multiple?i.states.cachedOptions.map((t=>t.label)):i.states.selectedLabel));return{...i,modelValue:n,selectedLabel:s,calculatorRef:r,inputStyle:o}}}),[["render",function(t,e,n,i,r,o){const s=ai("el-tag"),a=ai("el-tooltip"),l=ai("el-icon"),c=ai("el-select-menu"),u=ui("click-outside");return dn((Rr(),Pr("div",{ref:"selectRef",class:$([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:e=>t.states.inputHovering=!0,onMouseleave:e=>t.states.inputHovering=!1},[$r(a,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:e=>t.states.isBeforeHide=!1},{default:un((()=>[Vr("div",{ref:"wrapperRef",class:$([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:Ds(t.toggleMenu,["prevent"])},[t.$slots.prefix?(Rr(),Pr("div",{key:0,ref:"prefixRef",class:$(t.nsSelect.e("prefix"))},[mi(t.$slots,"prefix")],2)):Kr("v-if",!0),Vr("div",{ref:"selectionRef",class:$([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?mi(t.$slots,"tag",{key:0},(()=>[(Rr(!0),Pr(kr,null,fi(t.showTagList,(e=>(Rr(),Pr("div",{key:t.getValueKey(t.getValue(e)),class:$(t.nsSelect.e("selected-item"))},[$r(s,{closable:!t.selectDisabled&&!t.getDisabled(e),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:F(t.tagStyle),onClose:n=>t.deleteTag(n,e)},{default:un((()=>[Vr("span",{class:$(t.nsSelect.e("tags-text"))},[mi(t.$slots,"label",{label:t.getLabel(e),value:t.getValue(e)},(()=>[Wr(X(t.getLabel(e)),1)]))],2)])),xt:2},1032,["closable","size","type","effect","style","onClose"])],2)))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(Rr(),Br(a,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:un((()=>[Vr("div",{ref:"collapseItemRef",class:$(t.nsSelect.e("selected-item"))},[$r(s,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,style:F(t.collapseTagStyle),"disable-transitions":""},{default:un((()=>[Vr("span",{class:$(t.nsSelect.e("tags-text"))}," + "+X(t.modelValue.length-t.maxCollapseTags),3)])),xt:1},8,["size","type","effect","style"])],2)])),content:un((()=>[Vr("div",{ref:"tagMenuRef",class:$(t.nsSelect.e("selection"))},[(Rr(!0),Pr(kr,null,fi(t.collapseTagList,(e=>(Rr(),Pr("div",{key:t.getValueKey(t.getValue(e)),class:$(t.nsSelect.e("selected-item"))},[$r(s,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(e),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:n=>t.deleteTag(n,e)},{default:un((()=>[Vr("span",{class:$(t.nsSelect.e("tags-text"))},[mi(t.$slots,"label",{label:t.getLabel(e),value:t.getValue(e)},(()=>[Wr(X(t.getLabel(e)),1)]))],2)])),xt:2},1032,["closable","size","type","effect","onClose"])],2)))),128))],2)])),xt:3},8,["disabled","effect","teleported"])):Kr("v-if",!0)])):Kr("v-if",!0),Vr("div",{class:$([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[dn(Vr("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e=>t.states.inputValue=e,style:F(t.inputStyle),autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:$([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onInput:t.onInput,onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onKeydown:[Bs(Ds((e=>t.onKeyboardNavigate("backward")),["stop","prevent"]),["up"]),Bs(Ds((e=>t.onKeyboardNavigate("forward")),["stop","prevent"]),["down"]),Bs(Ds(t.onKeyboardSelect,["stop","prevent"]),["enter"]),Bs(Ds(t.handleEsc,["stop","prevent"]),["esc"]),Bs(Ds(t.handleDel,["stop"]),["delete"])],onClick:Ds(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[Es,t.states.inputValue]]),t.filterable?(Rr(),Pr("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:$(t.nsSelect.e("input-calculator")),textContent:X(t.states.inputValue)},null,10,["textContent"])):Kr("v-if",!0)],2),t.shouldShowPlaceholder?(Rr(),Pr("div",{key:1,class:$([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?mi(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},(()=>[Vr("span",null,X(t.currentPlaceholder),1)])):(Rr(),Pr("span",{key:1},X(t.currentPlaceholder),1))],2)):Kr("v-if",!0)],2),Vr("div",{ref:"suffixRef",class:$(t.nsSelect.e("suffix"))},[t.iconComponent?dn((Rr(),Br(l,{key:0,class:$([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:un((()=>[(Rr(),Br(ci(t.iconComponent)))])),xt:1},8,["class"])),[[qo,!t.showClearBtn]]):Kr("v-if",!0),t.showClearBtn&&t.clearIcon?(Rr(),Br(l,{key:1,class:$([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.nsSelect.e("clear")]),onClick:Ds(t.handleClear,["prevent","stop"])},{default:un((()=>[(Rr(),Br(ci(t.clearIcon)))])),xt:1},8,["class","onClick"])):Kr("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(Rr(),Br(l,{key:2,class:$([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading","validating"===t.validateState)])},{default:un((()=>[(Rr(),Br(ci(t.validateIcon)))])),xt:1},8,["class"])):Kr("v-if",!0)],2)],10,["onClick"])])),content:un((()=>[$r(c,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},pi({default:un((e=>[mi(t.$slots,"default",G(Gr(e)))])),xt:2},[t.$slots.header?{name:"header",fn:un((()=>[Vr("div",{class:$(t.nsSelect.be("dropdown","header"))},[mi(t.$slots,"header")],2)]))}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:un((()=>[Vr("div",{class:$(t.nsSelect.be("dropdown","loading"))},[mi(t.$slots,"loading")],2)]))}:t.loading||0===t.filteredOptions.length?{name:"empty",fn:un((()=>[Vr("div",{class:$(t.nsSelect.be("dropdown","empty"))},[mi(t.$slots,"empty",{},(()=>[Vr("span",null,X(t.emptyText),1)]))],2)]))}:void 0,t.$slots.footer?{name:"footer",fn:un((()=>[Vr("div",{class:$(t.nsSelect.be("dropdown","footer"))},[mi(t.$slots,"footer")],2)]))}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])])),xt:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[u,t.handleClickOutside,t.popperRef]])}],["__file","select.vue"]])),eA=Wh({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:[Number,Object]}}),nA=Wh({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}});var iA=mf(Un({...Un({name:"ElSkeletonItem"}),props:nA,setup(t){const e=fa("skeleton");return(t,n)=>(Rr(),Pr("div",{class:$([Te(e).e("item"),Te(e).e(t.variant)])},["image"===t.variant?(Rr(),Br(Te(dp),{key:0})):Kr("v-if",!0)],2))}}),[["__file","skeleton-item.vue"]]);const rA=Of(mf(Un({...Un({name:"ElSkeleton"}),props:eA,setup(t,{expose:e}){const n=t,i=fa("skeleton"),r=((t,e=0)=>{if(0===e)return t;const n=Me(y(e)&&Boolean(e.initVal));let i=null;const r=e=>{Rd(e)?n.value=t.value:(i&&clearTimeout(i),i=setTimeout((()=>{n.value=t.value}),e))},o=t=>{"leading"===t?Ld(e)?r(e):r(e.leading):y(e)?r(e.trailing):n.value=!1};return Zn((()=>o("leading"))),fr((()=>t.value),(t=>{o(t?"leading":"trailing")})),n})(De(n,"loading"),n.throttle);return e({uiLoading:r}),(t,e)=>Te(r)?(Rr(),Pr("div",Zr({key:0,class:[Te(i).b(),Te(i).is("animated",t.animated)]},t.$attrs),[(Rr(!0),Pr(kr,null,fi(t.count,(e=>(Rr(),Pr(kr,{key:e},[Te(r)?mi(t.$slots,"template",{key:e},(()=>[$r(iA,{class:$(Te(i).is("first")),variant:"p"},null,8,["class"]),(Rr(!0),Pr(kr,null,fi(t.rows,(e=>(Rr(),Br(iA,{key:e,class:$([Te(i).e("paragraph"),Te(i).is("last",e===t.rows&&t.rows>1)]),variant:"p"},null,8,["class"])))),128))])):Kr("v-if",!0)],64)))),128))],16)):mi(t.$slots,"default",G(Zr({key:1},t.$attrs)))}}),[["__file","skeleton.vue"]]),{SkeletonItem:iA}),oA=Df(iA),sA=Symbol("sliderContextKey"),aA=Wh({modelValue:{type:[Number,Array],default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:qh,inputSize:qh,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:Function,default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:Function,default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:gv,default:"top"},marks:{type:Object},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...zp(["ariaLabel"])}),lA=t=>Ld(t)||d(t)&&t.every(Ld),cA={[uf]:lA,[hf]:lA,[df]:lA},uA=Wh({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:gv,default:"top"}}),dA={[uf]:t=>Ld(t)},hA=(t,e,n)=>{const{disabled:i,min:r,max:o,step:s,showTooltip:a,persistent:l,precision:c,sliderSize:u,formatTooltip:d,emitChange:h,resetSize:f,updateDragging:p}=Vi(sA),{tooltip:m,tooltipVisible:v,formatValue:g,displayTooltip:y,hideTooltip:b}=((t,e,n)=>{const i=Me(),r=Me(!1),o=vo((()=>e.value instanceof Function)),s=vo((()=>o.value&&e.value(t.modelValue)||t.modelValue)),a=od((()=>{n.value&&(r.value=!0)}),50),l=od((()=>{n.value&&(r.value=!1)}),50);return{tooltip:i,tooltipVisible:r,formatValue:s,displayTooltip:a,hideTooltip:l}})(t,d,a),w=Me(),_=vo((()=>(t.modelValue-r.value)/(o.value-r.value)*100+"%")),x=vo((()=>t.vertical?{bottom:_.value}:{left:_.value})),S=t=>{i.value||(t.preventDefault(),k(t),window.addEventListener("mousemove",E),window.addEventListener("touchmove",E),window.addEventListener("mouseup",T),window.addEventListener("touchend",T),window.addEventListener("contextmenu",T),w.value.focus())},M=t=>{i.value||(e.newPosition=Number.parseFloat(_.value)+t/(o.value-r.value)*100,A(e.newPosition),h())},C=t=>{let e,n;return t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}},k=n=>{e.dragging=!0,e.isClick=!0;const{clientX:i,clientY:r}=C(n);t.vertical?e.startY=r:e.startX=i,e.startPosition=Number.parseFloat(_.value),e.newPosition=e.startPosition},E=n=>{if(e.dragging){let i;e.isClick=!1,y(),f();const{clientX:r,clientY:o}=C(n);t.vertical?(e.currentY=o,i=(e.startY-e.currentY)/u.value*100):(e.currentX=r,i=(e.currentX-e.startX)/u.value*100),e.newPosition=e.startPosition+i,A(e.newPosition)}},T=()=>{e.dragging&&(setTimeout((()=>{e.dragging=!1,e.hovering||b(),e.isClick||A(e.newPosition),h()}),0),window.removeEventListener("mousemove",E),window.removeEventListener("touchmove",E),window.removeEventListener("mouseup",T),window.removeEventListener("touchend",T),window.removeEventListener("contextmenu",T))},A=async i=>{if(null===i||Number.isNaN(+i))return;i<0?i=0:i>100&&(i=100);const a=100/((o.value-r.value)/s.value);let l=Math.round(i/a)*a*(o.value-r.value)*.01+r.value;l=Number.parseFloat(l.toFixed(c.value)),l!==t.modelValue&&n(uf,l),e.dragging||t.modelValue===e.oldValue||(e.oldValue=t.modelValue),await Qe(),e.dragging&&y(),m.value.updatePopper()};return fr((()=>e.dragging),(t=>{p(t)})),ch(w,"touchstart",S,{passive:!1}),{disabled:i,button:w,tooltip:m,tooltipVisible:v,showTooltip:a,persistent:l,wrapperStyle:x,formatValue:g,handleMouseEnter:()=>{e.hovering=!0,y()},handleMouseLeave:()=>{e.hovering=!1,e.dragging||b()},onButtonDown:S,onKeyDown:t=>{let e=!0;switch(t.code){case ev.left:case ev.down:M(-s.value);break;case ev.right:case ev.up:M(s.value);break;case ev.home:i.value||(A(0),h());break;case ev.end:i.value||(A(100),h());break;case ev.pageDown:M(4*-s.value);break;case ev.pageUp:M(4*s.value);break;default:e=!1}e&&t.preventDefault()},setPosition:A}};var fA=mf(Un({...Un({name:"ElSliderButton"}),props:uA,emits:dA,setup(t,{expose:e,emit:n}){const i=t,r=fa("slider"),o=de({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:i.modelValue}),s=vo((()=>!!u.value&&d.value)),{disabled:a,button:l,tooltip:c,showTooltip:u,persistent:d,tooltipVisible:h,wrapperStyle:f,formatValue:p,handleMouseEnter:m,handleMouseLeave:v,onButtonDown:g,onKeyDown:y,setPosition:b}=hA(i,o,n),{hovering:w,dragging:_}=Re(o);return e({onButtonDown:g,onKeyDown:y,setPosition:b,hovering:w,dragging:_}),(t,e)=>(Rr(),Pr("div",{ref_key:"button",ref:l,class:$([Te(r).e("button-wrapper"),{hover:Te(w),dragging:Te(_)}]),style:F(Te(f)),tabindex:Te(a)?-1:0,onMouseenter:Te(m),onMouseleave:Te(v),onMousedown:Te(g),onFocus:Te(m),onBlur:Te(v),onKeydown:Te(y)},[$r(Te(ty),{ref_key:"tooltip",ref:c,visible:Te(h),placement:t.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":t.tooltipClass,disabled:!Te(u),persistent:Te(s)},{content:un((()=>[Vr("span",null,X(Te(p)),1)])),default:un((()=>[Vr("div",{class:$([Te(r).e("button"),{hover:Te(w),dragging:Te(_)}])},null,2)])),xt:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}}),[["__file","button.vue"]]);var pA=Un({name:"ElSliderMarker",props:Wh({mark:{type:[String,Object],default:void 0}}),setup(t){const e=fa("slider"),n=vo((()=>v(t.mark)?t.mark:t.mark.label)),i=vo((()=>v(t.mark)?void 0:t.mark.style));return()=>go("div",{class:e.e("marks-text"),style:i.value},n.value)}});const mA=(t,e,n)=>{const{form:i,formItem:r}=Qp(),o=Ce(),s=Me(),a=Me(),l={firstButton:s,secondButton:a},c=vo((()=>t.disabled||(null==i?void 0:i.disabled)||!1)),u=vo((()=>Math.min(e.firstValue,e.secondValue))),d=vo((()=>Math.max(e.firstValue,e.secondValue))),h=vo((()=>t.range?100*(d.value-u.value)/(t.max-t.min)+"%":100*(e.firstValue-t.min)/(t.max-t.min)+"%")),f=vo((()=>t.range?100*(u.value-t.min)/(t.max-t.min)+"%":"0%")),p=vo((()=>t.vertical?{height:t.height}:{})),m=vo((()=>t.vertical?{height:h.value,bottom:f.value}:{width:h.value,left:f.value})),v=()=>{o.value&&(e.sliderSize=o.value["client"+(t.vertical?"Height":"Width")])},g=n=>{const i=(n=>{const i=t.min+n*(t.max-t.min)/100;if(!t.range)return s;let r;return r=Math.abs(u.value-i)<Math.abs(d.value-i)?e.firstValue<e.secondValue?"firstButton":"secondButton":e.firstValue>e.secondValue?"firstButton":"secondButton",l[r]})(n);return i.value.setPosition(n),i},y=t=>{n(uf,t),n(hf,t)},b=async()=>{await Qe(),n(df,t.range?[u.value,d.value]:t.modelValue)},w=n=>{var i,r,s,a,l,u;if(c.value||e.dragging)return;v();let d=0;if(t.vertical){const t=null!=(s=null==(r=null==(i=n.touches)?void 0:i.item(0))?void 0:r.clientY)?s:n.clientY;d=(o.value.getBoundingClientRect().bottom-t)/e.sliderSize*100}else{d=((null!=(u=null==(l=null==(a=n.touches)?void 0:a.item(0))?void 0:l.clientX)?u:n.clientX)-o.value.getBoundingClientRect().left)/e.sliderSize*100}return d<0||d>100?void 0:g(d)};return{elFormItem:r,slider:o,firstButton:s,secondButton:a,sliderDisabled:c,minValue:u,maxValue:d,runwayStyle:p,barStyle:m,resetSize:v,setPosition:g,emitChange:b,onSliderWrapperPrevent:t=>{var e,n;((null==(e=l.firstButton.value)?void 0:e.dragging)||(null==(n=l.secondButton.value)?void 0:n.dragging))&&t.preventDefault()},onSliderClick:t=>{w(t)&&b()},onSliderDown:async t=>{const e=w(t);e&&(await Qe(),e.value.onButtonDown(t))},onSliderMarkerDown:t=>{c.value||e.dragging||g(t)},setFirstValue:n=>{e.firstValue=null!=n?n:t.min,y(t.range?[u.value,d.value]:null!=n?n:t.min)},setSecondValue:n=>{e.secondValue=n,t.range&&y([u.value,d.value])}}},vA=Un({...Un({name:"ElSlider"}),props:aA,emits:cA,setup(t,{expose:e,emit:n}){const i=t,r=fa("slider"),{t:o}=$h(),s=de({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:a,slider:l,firstButton:c,secondButton:u,sliderDisabled:h,minValue:f,maxValue:p,runwayStyle:m,barStyle:v,resetSize:g,emitChange:y,onSliderWrapperPrevent:b,onSliderClick:w,onSliderDown:_,onSliderMarkerDown:x,setFirstValue:S,setSecondValue:M}=mA(i,s,n),{stops:C,getStopStyle:k}=((t,e,n,i)=>({stops:vo((()=>{if(!t.showStops||t.min>t.max)return[];if(0===t.step)return[];const r=(t.max-t.min)/t.step,o=100*t.step/(t.max-t.min),s=Array.from({length:r-1}).map(((t,e)=>(e+1)*o));return t.range?s.filter((e=>e<100*(n.value-t.min)/(t.max-t.min)||e>100*(i.value-t.min)/(t.max-t.min))):s.filter((n=>n>100*(e.firstValue-t.min)/(t.max-t.min)))})),getStopStyle:e=>t.vertical?{bottom:`${e}%`}:{left:`${e}%`}}))(i,s,f,p),{inputId:E,isLabeledByFormItem:T}=tm(i,{formItemContext:a}),A=nm(),N=vo((()=>i.inputSize||A.value)),I=vo((()=>i.ariaLabel||o("el.slider.defaultLabel",{min:i.min,max:i.max}))),R=vo((()=>i.range?i.rangeStartLabel||o("el.slider.defaultRangeStartLabel"):I.value)),O=vo((()=>i.formatValueText?i.formatValueText(z.value):`${z.value}`)),L=vo((()=>i.rangeEndLabel||o("el.slider.defaultRangeEndLabel"))),D=vo((()=>i.formatValueText?i.formatValueText(V.value):`${V.value}`)),P=vo((()=>[r.b(),r.m(A.value),r.is("vertical",i.vertical),{[r.m("with-input")]:i.showInput}])),B=(t=>vo((()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort(((t,e)=>t-e)).filter((e=>e<=t.max&&e>=t.min)).map((e=>({point:e,position:100*(e-t.min)/(t.max-t.min),mark:t.marks[e]}))):[])))(i);((t,e,n,i,r,o)=>{const s=t=>{r(uf,t),r(hf,t)},a=()=>t.range?![n.value,i.value].every(((t,n)=>t===e.oldValue[n])):t.modelValue!==e.oldValue,l=()=>{var n,i;t.min>t.max&&Oh("Slider","min should not be greater than max.");const r=t.modelValue;t.range&&d(r)?r[1]<t.min?s([t.min,t.min]):r[0]>t.max?s([t.max,t.max]):r[0]<t.min?s([t.min,r[1]]):r[1]>t.max?s([r[0],t.max]):(e.firstValue=r[0],e.secondValue=r[1],a()&&(t.validateEvent&&(null==(n=null==o?void 0:o.validate)||n.call(o,"change").catch((t=>{}))),e.oldValue=r.slice())):t.range||!Ld(r)||Number.isNaN(r)||(r<t.min?s(t.min):r>t.max?s(t.max):(e.firstValue=r,a()&&(t.validateEvent&&(null==(i=null==o?void 0:o.validate)||i.call(o,"change").catch((t=>{}))),e.oldValue=r)))};l(),fr((()=>e.dragging),(t=>{t||l()})),fr((()=>t.modelValue),((t,n)=>{e.dragging||d(t)&&d(n)&&t.every(((t,e)=>t===n[e]))&&e.firstValue===t[0]&&e.secondValue===t[1]||l()}),{deep:!0}),fr((()=>[t.min,t.max]),(()=>{l()}))})(i,s,f,p,n,a);const U=vo((()=>{const t=[i.min,i.max,i.step].map((t=>{const e=`${t}`.split(".")[1];return e?e.length:0}));return Math.max.apply(null,t)})),{sliderWrapper:H}=((t,e,n)=>{const i=Me();return Zn((async()=>{t.range?(d(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(!Ld(t.modelValue)||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),ch(window,"resize",n),await Qe(),n()})),{sliderWrapper:i}})(i,s,g),{firstValue:z,secondValue:V,sliderSize:G}=Re(s);return ch(H,"touchstart",b,{passive:!1}),ch(H,"touchmove",b,{passive:!1}),zi(sA,{...Re(i),sliderSize:G,disabled:h,precision:U,emitChange:y,resetSize:g,updateDragging:t=>{s.dragging=t}}),e({onSliderClick:w}),(t,e)=>{var n,i;return Rr(),Pr("div",{id:t.range?Te(E):void 0,ref_key:"sliderWrapper",ref:H,class:$(Te(P)),role:t.range?"group":void 0,"aria-label":t.range&&!Te(T)?Te(I):void 0,"aria-labelledby":t.range&&Te(T)?null==(n=Te(a))?void 0:n.labelId:void 0},[Vr("div",{ref_key:"slider",ref:l,class:$([Te(r).e("runway"),{"show-input":t.showInput&&!t.range},Te(r).is("disabled",Te(h))]),style:F(Te(m)),onMousedown:Te(_),onTouchstartPassive:Te(_)},[Vr("div",{class:$(Te(r).e("bar")),style:F(Te(v))},null,6),$r(fA,{id:t.range?void 0:Te(E),ref_key:"firstButton",ref:c,"model-value":Te(z),vertical:t.vertical,"tooltip-class":t.tooltipClass,placement:t.placement,role:"slider","aria-label":t.range||!Te(T)?Te(R):void 0,"aria-labelledby":!t.range&&Te(T)?null==(i=Te(a))?void 0:i.labelId:void 0,"aria-valuemin":t.min,"aria-valuemax":t.range?Te(V):t.max,"aria-valuenow":Te(z),"aria-valuetext":Te(O),"aria-orientation":t.vertical?"vertical":"horizontal","aria-disabled":Te(h),"onUpdate:modelValue":Te(S)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),t.range?(Rr(),Br(fA,{key:0,ref_key:"secondButton",ref:u,"model-value":Te(V),vertical:t.vertical,"tooltip-class":t.tooltipClass,placement:t.placement,role:"slider","aria-label":Te(L),"aria-valuemin":Te(z),"aria-valuemax":t.max,"aria-valuenow":Te(V),"aria-valuetext":Te(D),"aria-orientation":t.vertical?"vertical":"horizontal","aria-disabled":Te(h),"onUpdate:modelValue":Te(M)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Kr("v-if",!0),t.showStops?(Rr(),Pr("div",{key:1},[(Rr(!0),Pr(kr,null,fi(Te(C),((t,e)=>(Rr(),Pr("div",{key:e,class:$(Te(r).e("stop")),style:F(Te(k)(t))},null,6)))),128))])):Kr("v-if",!0),Te(B).length>0?(Rr(),Pr(kr,{key:2},[Vr("div",null,[(Rr(!0),Pr(kr,null,fi(Te(B),((t,e)=>(Rr(),Pr("div",{key:e,style:F(Te(k)(t.position)),class:$([Te(r).e("stop"),Te(r).e("marks-stop")])},null,6)))),128))]),Vr("div",{class:$(Te(r).e("marks"))},[(Rr(!0),Pr(kr,null,fi(Te(B),((t,e)=>(Rr(),Br(Te(pA),{key:e,mark:t.mark,style:F(Te(k)(t.position)),onMousedown:Ds((e=>Te(x)(t.position)),["stop"])},null,8,["mark","style","onMousedown"])))),128))],2)],64)):Kr("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),t.showInput&&!t.range?(Rr(),Br(Te(sk),{key:0,ref:"input","model-value":Te(z),class:$(Te(r).e("input")),step:t.step,disabled:Te(h),controls:t.showInputControls,min:t.min,max:t.max,precision:Te(U),debounce:t.debounce,size:Te(N),"onUpdate:modelValue":Te(S),onChange:Te(y)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):Kr("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});const gA=Of(mf(vA,[["__file","slider.vue"]])),yA=Un({name:"ElSpaceItem",props:Wh({prefixCls:{type:String}}),setup(t,{slots:e}){const n=fa("space"),i=vo((()=>`${t.prefixCls||n.b()}__item`));return()=>go("div",{class:i.value},mi(e,"default"))}}),bA={small:8,default:12,large:16};const wA=Of(Un({name:"ElSpace",props:Wh({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:[String,Object,Array],default:""},style:{type:[String,Array,Object],default:""},alignment:{type:String,default:"center"},prefixCls:{type:String},spacer:{type:[Object,String,Number,Array],default:null,validator:t=>Fr(t)||Ld(t)||v(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:Kh,validator:t=>Ld(t)||d(t)&&2===t.length&&t.every(Ld)}}),setup(t,{slots:e}){const{classes:n,containerStyle:i,itemStyle:r}=function(t){const e=fa("space"),n=vo((()=>[e.b(),e.m(t.direction),t.class])),i=Me(0),r=Me(0),o=vo((()=>[t.wrap||t.fill?{flexWrap:"wrap"}:{},{alignItems:t.alignment},{rowGap:`${r.value}px`,columnGap:`${i.value}px`},t.style])),s=vo((()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{}));return hr((()=>{const{size:e="small",wrap:n,direction:o,fill:s}=t;if(d(e)){const[t=0,n=0]=e;i.value=t,r.value=n}else{let t;t=Ld(e)?e:bA[e||"small"]||bA.small,(n||s)&&"horizontal"===o?i.value=r.value=t:"horizontal"===o?(i.value=t,r.value=0):(r.value=t,i.value=0)}})),{classes:n,containerStyle:o,itemStyle:s}}(t);function o(e,n="",i=[]){const{prefixCls:s}=t;return e.forEach(((t,e)=>{Lb(t)?d(t.children)&&t.children.forEach(((t,e)=>{Lb(t)&&d(t.children)?o(t.children,`${n+e}-`,i):i.push($r(yA,{style:r.value,prefixCls:s,key:`nested-${n+e}`},{default:()=>[t]},Ob.PROPS|Ob.STYLE,["style","prefixCls"]))})):Db(t)&&i.push($r(yA,{style:r.value,prefixCls:s,key:`LoopKey${n+e}`},{default:()=>[t]},Ob.PROPS|Ob.STYLE,["style","prefixCls"]))})),i}return()=>{var s;const{spacer:a,direction:l}=t,c=mi(e,"default",{key:0},(()=>[]));if(0===(null!=(s=c.children)?s:[]).length)return null;if(d(c.children)){let t=o(c.children);if(a){const e=t.length-1;t=t.reduce(((t,n,i)=>{const o=[...t,n];return i!==e&&o.push($r("span",{style:[r.value,"vertical"===l?"width: 100%":null],key:i},[Fr(a)?a:Wr(a,Ob.TEXT)],Ob.STYLE)),o}),[])}return $r("div",{class:n.value,style:i.value},t,Ob.STYLE|Ob.CLASS)}return c.children}}})),_A=Wh({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:[Number,Object],default:0},prefix:String,suffix:String,title:String,valueStyle:{type:[String,Object,Array]}});const xA=Of(mf(Un({...Un({name:"ElStatistic"}),props:_A,setup(t,{expose:e}){const n=t,i=fa("statistic"),r=vo((()=>{const{value:t,formatter:e,precision:i,decimalSeparator:r,groupSeparator:o}=n;if(m(e))return e(t);if(!Ld(t)||Number.isNaN(t))return t;let[s,a=""]=String(t).split(".");return a=a.padEnd(i,"0").slice(0,i>0?i:0),s=s.replace(/\B(?=(\d{3})+(?!\d))/g,o),[s,a].join(a?r:"")}));return e({displayValue:r}),(t,e)=>(Rr(),Pr("div",{class:$(Te(i).b())},[t.$slots.title||t.title?(Rr(),Pr("div",{key:0,class:$(Te(i).e("head"))},[mi(t.$slots,"title",{},(()=>[Wr(X(t.title),1)]))],2)):Kr("v-if",!0),Vr("div",{class:$(Te(i).e("content"))},[t.$slots.prefix||t.prefix?(Rr(),Pr("div",{key:0,class:$(Te(i).e("prefix"))},[mi(t.$slots,"prefix",{},(()=>[Vr("span",null,X(t.prefix),1)]))],2)):Kr("v-if",!0),Vr("span",{class:$(Te(i).e("number")),style:F(t.valueStyle)},X(Te(r)),7),t.$slots.suffix||t.suffix?(Rr(),Pr("div",{key:1,class:$(Te(i).e("suffix"))},[mi(t.$slots,"suffix",{},(()=>[Vr("span",null,X(t.suffix),1)]))],2)):Kr("v-if",!0)],2)],2))}}),[["__file","statistic.vue"]])),SA=Wh({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:[Number,Object],default:0},valueStyle:{type:[String,Object,Array]}}),MA={finish:()=>!0,[df]:t=>Ld(t)},CA=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]],kA=t=>Ld(t)?new Date(t).getTime():t.valueOf(),EA=(t,e)=>{let n=t;const i=CA.reduce(((t,[e,i])=>{const r=new RegExp(`${e}+(?![^\\[\\]]*\\])`,"g");if(r.test(t)){const e=Math.floor(n/i);return n-=e*i,t.replace(r,(t=>String(e).padStart(t.length,"0")))}return t}),e);return i.replace(/\[([^\]]*)]/g,"$1")},TA=Un({...Un({name:"ElCountdown"}),props:SA,emits:MA,setup(t,{expose:e,emit:n}){const i=t;let r;const o=Me(0),s=vo((()=>EA(o.value,i.format))),a=t=>EA(t,i.format),l=()=>{r&&(gf(r),r=void 0)};return Zn((()=>{o.value=kA(i.value)-Date.now(),fr((()=>[i.value,i.format]),(()=>{l(),(()=>{const t=kA(i.value),e=()=>{let i=t-Date.now();n("change",i),i<=0?(i=0,l(),n("finish")):r=vf(e),o.value=i};r=vf(e)})()}),{immediate:!0})})),ti((()=>{l()})),e({displayValue:s}),(t,e)=>(Rr(),Br(Te(xA),{value:o.value,title:t.title,prefix:t.prefix,suffix:t.suffix,"value-style":t.valueStyle,formatter:a},pi({xt:2},[fi(t.$slots,((e,n)=>({name:n,fn:un((()=>[mi(t.$slots,n)]))})))]),1032,["value","title","prefix","suffix","value-style"]))}});const AA=Of(mf(TA,[["__file","countdown.vue"]])),NA=Wh({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),IA={[df]:(t,e)=>[t,e].every(Ld)};var RA=mf(Un({...Un({name:"ElSteps"}),props:NA,emits:IA,setup(t,{emit:e}){const n=t,i=fa("steps"),{children:r,addChild:o,removeChild:s}=Bb(no(),"ElStep");return fr(r,(()=>{r.value.forEach(((t,e)=>{t.setIndex(e)}))})),zi("ElSteps",{props:n,steps:r,addStep:o,removeStep:s}),fr((()=>n.active),((t,n)=>{e(df,t,n)})),(t,e)=>(Rr(),Pr("div",{class:$([Te(i).b(),Te(i).m(t.simple?"simple":t.direction)])},[mi(t.$slots,"default")],2))}}),[["__file","steps.vue"]]);const OA=Wh({title:{type:String,default:""},icon:{type:Ep},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}});var LA=mf(Un({...Un({name:"ElStep"}),props:OA,setup(t){const e=t,n=fa("step"),i=Me(-1),r=Me({}),o=Me(""),s=Vi("ElSteps"),a=no();Zn((()=>{fr([()=>s.props.active,()=>s.props.processStatus,()=>s.props.finishStatus],(([t])=>{y(t)}),{immediate:!0})})),ti((()=>{s.removeStep(b.uid)}));const l=vo((()=>e.status||o.value)),c=vo((()=>{const t=s.steps.value[i.value-1];return t?t.currentStatus:"wait"})),u=vo((()=>s.props.alignCenter)),d=vo((()=>"vertical"===s.props.direction)),h=vo((()=>s.props.simple)),f=vo((()=>s.steps.value.length)),p=vo((()=>{var t;return(null==(t=s.steps.value[f.value-1])?void 0:t.uid)===(null==a?void 0:a.uid)})),m=vo((()=>h.value?"":s.props.space)),v=vo((()=>[n.b(),n.is(h.value?"simple":s.props.direction),n.is("flex",p.value&&!m.value&&!u.value),n.is("center",u.value&&!d.value&&!h.value)])),g=vo((()=>{const t={flexBasis:Ld(m.value)?`${m.value}px`:m.value?m.value:100/(f.value-(u.value?0:1))+"%"};return d.value||p.value&&(t.maxWidth=100/f.value+"%"),t})),y=t=>{t>i.value?o.value=s.props.finishStatus:t===i.value&&"error"!==c.value?o.value=s.props.processStatus:o.value="wait";const e=s.steps.value[i.value-1];e&&e.calcProgress(o.value)},b=de({uid:a.uid,currentStatus:l,setIndex:t=>{i.value=t},calcProgress:t=>{const e="wait"===t,n={transitionDelay:`${e?"-":""}${150*i.value}ms`},o=t===s.props.processStatus||e?0:100;n.borderWidth=o&&!h.value?"1px":0,n["vertical"===s.props.direction?"height":"width"]=`${o}%`,r.value=n}});return s.addStep(b),(t,e)=>(Rr(),Pr("div",{style:F(Te(g)),class:$(Te(v))},[Kr(" icon & line "),Vr("div",{class:$([Te(n).e("head"),Te(n).is(Te(l))])},[Te(h)?Kr("v-if",!0):(Rr(),Pr("div",{key:0,class:$(Te(n).e("line"))},[Vr("i",{class:$(Te(n).e("line-inner")),style:F(r.value)},null,6)],2)),Vr("div",{class:$([Te(n).e("icon"),Te(n).is(t.icon||t.$slots.icon?"icon":"text")])},[mi(t.$slots,"icon",{},(()=>[t.icon?(Rr(),Br(Te(Ff),{key:0,class:$(Te(n).e("icon-inner"))},{default:un((()=>[(Rr(),Br(ci(t.icon)))])),xt:1},8,["class"])):"success"===Te(l)?(Rr(),Br(Te(Ff),{key:1,class:$([Te(n).e("icon-inner"),Te(n).is("status")])},{default:un((()=>[$r(Te(Kf))])),xt:1},8,["class"])):"error"===Te(l)?(Rr(),Br(Te(Ff),{key:2,class:$([Te(n).e("icon-inner"),Te(n).is("status")])},{default:un((()=>[$r(Te(Qf))])),xt:1},8,["class"])):Te(h)?Kr("v-if",!0):(Rr(),Pr("div",{key:3,class:$(Te(n).e("icon-inner"))},X(i.value+1),3))]))],2)],2),Kr(" title & description "),Vr("div",{class:$(Te(n).e("main"))},[Vr("div",{class:$([Te(n).e("title"),Te(n).is(Te(l))])},[mi(t.$slots,"title",{},(()=>[Wr(X(t.title),1)]))],2),Te(h)?(Rr(),Pr("div",{key:0,class:$(Te(n).e("arrow"))},null,2)):(Rr(),Pr("div",{key:1,class:$([Te(n).e("description"),Te(n).is(Te(l))])},[mi(t.$slots,"description",{},(()=>[Wr(X(t.description),1)]))],2))],2)],6))}}),[["__file","item.vue"]]);const DA=Of(RA,{Step:LA}),PA=Df(LA),BA=t=>["",...Kh].includes(t),FA=Wh({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:BA},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:Ep},activeActionIcon:{type:Ep},activeIcon:{type:Ep},inactiveIcon:{type:Ep},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:Function},id:String,tabindex:{type:[String,Number]},...zp(["ariaLabel"])}),UA={[uf]:t=>Od(t)||v(t)||Ld(t),[df]:t=>Od(t)||v(t)||Ld(t),[hf]:t=>Od(t)||v(t)||Ld(t)},HA="ElSwitch";const zA=Of(mf(Un({...Un({name:HA}),props:FA,emits:UA,setup(t,{expose:e,emit:n}){const i=t,{formItem:r}=Qp(),o=nm(),s=fa("switch"),{inputId:a}=tm(i,{formItemContext:r}),l=im(vo((()=>i.loading))),c=Me(!1!==i.modelValue),u=Me(),d=Me(),h=vo((()=>[s.b(),s.m(o.value),s.is("disabled",l.value),s.is("checked",g.value)])),f=vo((()=>[s.e("label"),s.em("label","left"),s.is("active",!g.value)])),p=vo((()=>[s.e("label"),s.em("label","right"),s.is("active",g.value)])),m=vo((()=>({width:Mf(i.width)})));fr((()=>i.modelValue),(()=>{c.value=!0}));const v=vo((()=>!!c.value&&i.modelValue)),g=vo((()=>v.value===i.activeValue));[i.activeValue,i.inactiveValue].includes(v.value)||(n(uf,i.inactiveValue),n(df,i.inactiveValue),n(hf,i.inactiveValue)),fr(g,(t=>{var e;u.value.checked=t,i.validateEvent&&(null==(e=null==r?void 0:r.validate)||e.call(r,"change").catch((t=>{})))}));const y=()=>{const t=g.value?i.inactiveValue:i.activeValue;n(uf,t),n(df,t),n(hf,t),Qe((()=>{u.value.checked=g.value}))},w=()=>{if(l.value)return;const{beforeChange:t}=i;if(!t)return void y();const e=t();[b(e),Od(e)].includes(!0)||Oh(HA,"beforeChange must return type `Promise<boolean>` or `boolean`"),b(e)?e.then((t=>{t&&y()})).catch((t=>{})):e&&y()};return Zn((()=>{u.value.checked=g.value})),e({focus:()=>{var t,e;null==(e=null==(t=u.value)?void 0:t.focus)||e.call(t)},checked:g}),(t,e)=>(Rr(),Pr("div",{class:$(Te(h)),onClick:Ds(w,["prevent"])},[Vr("input",{id:Te(a),ref_key:"input",ref:u,class:$(Te(s).e("input")),type:"checkbox",role:"switch","aria-checked":Te(g),"aria-disabled":Te(l),"aria-label":t.ariaLabel,name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:Te(l),tabindex:t.tabindex,onChange:y,onKeydown:Bs(w,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),t.inlinePrompt||!t.inactiveIcon&&!t.inactiveText?Kr("v-if",!0):(Rr(),Pr("span",{key:0,class:$(Te(f))},[t.inactiveIcon?(Rr(),Br(Te(Ff),{key:0},{default:un((()=>[(Rr(),Br(ci(t.inactiveIcon)))])),xt:1})):Kr("v-if",!0),!t.inactiveIcon&&t.inactiveText?(Rr(),Pr("span",{key:1,"aria-hidden":Te(g)},X(t.inactiveText),9,["aria-hidden"])):Kr("v-if",!0)],2)),Vr("span",{ref_key:"core",ref:d,class:$(Te(s).e("core")),style:F(Te(m))},[t.inlinePrompt?(Rr(),Pr("div",{key:0,class:$(Te(s).e("inner"))},[t.activeIcon||t.inactiveIcon?(Rr(),Br(Te(Ff),{key:0,class:$(Te(s).is("icon"))},{default:un((()=>[(Rr(),Br(ci(Te(g)?t.activeIcon:t.inactiveIcon)))])),xt:1},8,["class"])):t.activeText||t.inactiveText?(Rr(),Pr("span",{key:1,class:$(Te(s).is("text")),"aria-hidden":!Te(g)},X(Te(g)?t.activeText:t.inactiveText),11,["aria-hidden"])):Kr("v-if",!0)],2)):Kr("v-if",!0),Vr("div",{class:$(Te(s).e("action"))},[t.loading?(Rr(),Br(Te(Ff),{key:0,class:$(Te(s).is("loading"))},{default:un((()=>[$r(Te(ap))])),xt:1},8,["class"])):Te(g)?mi(t.$slots,"active-action",{key:1},(()=>[t.activeActionIcon?(Rr(),Br(Te(Ff),{key:0},{default:un((()=>[(Rr(),Br(ci(t.activeActionIcon)))])),xt:1})):Kr("v-if",!0)])):Te(g)?Kr("v-if",!0):mi(t.$slots,"inactive-action",{key:2},(()=>[t.inactiveActionIcon?(Rr(),Br(Te(Ff),{key:0},{default:un((()=>[(Rr(),Br(ci(t.inactiveActionIcon)))])),xt:1})):Kr("v-if",!0)]))],2)],6),t.inlinePrompt||!t.activeIcon&&!t.activeText?Kr("v-if",!0):(Rr(),Pr("span",{key:1,class:$(Te(p))},[t.activeIcon?(Rr(),Br(Te(Ff),{key:0},{default:un((()=>[(Rr(),Br(ci(t.activeIcon)))])),xt:1})):Kr("v-if",!0),!t.activeIcon&&t.activeText?(Rr(),Pr("span",{key:1,"aria-hidden":!Te(g)},X(t.activeText),9,["aria-hidden"])):Kr("v-if",!0)],2))],10,["onClick"]))}}),[["__file","switch.vue"]])),VA=function(t){var e;return null==(e=t.target)?void 0:e.closest("td")},$A=function(t,e,n,i,r){if(!e&&!i&&(!r||d(r)&&!r.length))return t;n=v(n)?"descending"===n?-1:1:n&&n<0?-1:1;const o=i?null:function(n,i){return r?(d(r)||(r=[r]),r.map((e=>v(e)?xc(n,e):e(n,i,t)))):("$key"!==e&&y(n)&&"$value"in n&&(n=n.$value),[y(n)?xc(n,e):n])};return t.map(((t,e)=>({value:t,index:e,key:o?o(t,e):null}))).sort(((t,e)=>{let r=function(t,e){if(i)return i(t.value,e.value);for(let n=0,i=t.key.length;n<i;n++){if(t.key[n]<e.key[n])return-1;if(t.key[n]>e.key[n])return 1}return 0}(t,e);return r||(r=t.index-e.index),r*+n})).map((t=>t.value))},GA=function(t,e){let n=null;return t.columns.forEach((t=>{t.id===e&&(n=t)})),n},jA=function(t,e,n){const i=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return i?GA(t,i[0]):null},WA=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(v(e)){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let i=t;for(const t of n)i=i[t];return`${i}`}if(m(e))return e.call(null,t)},KA=function(t,e){const n={};return(t||[]).forEach(((t,i)=>{n[WA(t,e)]={row:t,index:i}})),n};function qA(t){return""===t||Rd(t)||(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function YA(t){return""===t||Rd(t)||(t=qA(t),Number.isNaN(t)&&(t=80)),t}function XA(t,e,n,i,r,o){let s=null!=o?o:0,a=!1;const l=t.indexOf(e),c=-1!==l,u=null==r?void 0:r.call(null,e,s),h=n=>{"add"===n?t.push(e):t.splice(l,1),a=!0},f=t=>{let e=0;const n=(null==i?void 0:i.children)&&t[i.children];return n&&d(n)&&(e+=n.length,n.forEach((t=>{e+=f(t)}))),e};return r&&!u||(Od(n)?n&&!c?h("add"):!n&&c&&h("remove"):h(c?"remove":"add")),!(null==i?void 0:i.checkStrictly)&&(null==i?void 0:i.children)&&d(e[i.children])&&e[i.children].forEach((e=>{const o=XA(t,e,null!=n?n:!c,i,r,s+1);s+=f(e)+1,o&&(a=o)})),a}function ZA(t,e,n="children",i="hasChildren"){const r=t=>!(d(t)&&t.length);function o(t,s,a){e(t,s,a),s.forEach((t=>{if(t[i])return void e(t,null,a+1);const s=t[n];r(s)||o(t,s,a+1)}))}t.forEach((t=>{if(t[i])return void e(t,null,0);const s=t[n];r(s)||o(t,s,0)}))}let JA=null;function QA(t,e,n,i,r,o){const s=((t,e,n,i)=>{const r={strategy:"fixed",...t.popperOptions},o=m(i.tooltipFormatter)?i.tooltipFormatter({row:n,column:i,cellValue:rf(n,i.property).value}):void 0;return Fr(o)?{slotContent:o,content:null,...t,popperOptions:r}:{slotContent:null,content:null!=o?o:e,...t,popperOptions:r}})(t,e,n,i),a={...s,slotContent:void 0};if((null==JA?void 0:JA.trigger)===r){const t=JA.vm.component;return xd(t.props,a),void(s.slotContent&&(t.slots.content=()=>[s.slotContent]))}null==JA||JA();const l=null==o?void 0:o.refs.tableWrapper,c=null==l?void 0:l.dataset.prefix,u=$r(ty,{virtualTriggering:!0,virtualRef:r,appendTo:l,placement:"top",transition:"none",offset:0,hideAfter:0,...a},s.slotContent?{content:()=>s.slotContent}:void 0);u.appContext={...o.appContext,...o};const d=document.createElement("div");zs(u,d),u.component.exposed.onOpen();const h=null==l?void 0:l.querySelector(`.${c}-scrollbar__wrap`);JA=()=>{zs(null,d),null==h||h.removeEventListener("scroll",JA),JA=null},JA.trigger=r,JA.vm=u,null==h||h.addEventListener("scroll",JA)}function tN(t){return t.children?fd(t.children,tN):[t]}function eN(t,e){return t+e.colSpan}const nN=(t,e,n,i)=>{let r=0,o=t;const s=n.states.columns.value;if(i){const e=tN(i[t]);r=s.slice(0,s.indexOf(e[0])).reduce(eN,0),o=r+e.reduce(eN,0)-1}else r=t;let a;switch(e){case"left":o<n.states.fixedLeafColumnsLength.value&&(a="left");break;case"right":r>=s.length-n.states.rightFixedLeafColumnsLength.value&&(a="right");break;default:o<n.states.fixedLeafColumnsLength.value?a="left":r>=s.length-n.states.rightFixedLeafColumnsLength.value&&(a="right")}return a?{direction:a,start:r,after:o}:{}},iN=(t,e,n,i,r,o=0)=>{const s=[],{direction:a,start:l,after:c}=nN(e,n,i,r);if(a){const e="left"===a;s.push(`${t}-fixed-column--${a}`),e&&c+o===i.states.fixedLeafColumnsLength.value-1?s.push("is-last-column"):e||l-o!=i.states.columns.value.length-i.states.rightFixedLeafColumnsLength.value||s.push("is-first-column")}return s};function rN(t,e){return t+(bd(e.realWidth)||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const oN=(t,e,n,i)=>{const{direction:r,start:o=0,after:s=0}=nN(t,e,n,i);if(!r)return;const a={},l="left"===r,c=n.states.columns.value;return l?a.left=c.slice(0,o).reduce(rN,0):a.right=c.slice(s+1).reverse().reduce(rN,0),a},sN=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};const aN=t=>{const e=[];return t.forEach((t=>{t.children&&t.children.length>0?e.push.apply(e,aN(t.children)):e.push(t)})),e};function lN(){var t;const e=no(),{size:n}=Re(null==(t=e.proxy)?void 0:t.$props),i=Me(null),r=Me([]),o=Me([]),s=Me(!1),a=Me([]),l=Me([]),c=Me([]),h=Me([]),f=Me([]),p=Me([]),m=Me([]),g=Me([]),y=Me(0),b=Me(0),w=Me(0),_=Me(!1),x=Me([]),S=Me(!1),M=Me(!1),C=Me(null),k=Me({}),E=Me(null),T=Me(null),A=Me(null),N=Me(null),I=Me(null),R=vo((()=>i.value?KA(x.value,i.value):void 0));fr(r,(()=>{var t;if(e.state){D(!1);"auto"===e.props.tableLayout&&(null==(t=e.refs.tableHeaderRef)||t.updateFixedColumnStyle())}}),{deep:!0});const O=t=>{var e;null==(e=t.children)||e.forEach((e=>{e.fixed=t.fixed,O(e)}))},L=()=>{var t,e;let n;if(a.value.forEach((t=>{O(t)})),h.value=a.value.filter((t=>"selection"!==t.type&&[!0,"left"].includes(t.fixed))),"selection"===(null==(e=null==(t=a.value)?void 0:t[0])?void 0:e.type)){const t=a.value[0];n=[!0,"left"].includes(t.fixed)||h.value.length&&"right"!==t.fixed,n&&h.value.unshift(t)}f.value=a.value.filter((t=>"right"===t.fixed));const i=a.value.filter((t=>!(n&&"selection"===t.type||t.fixed)));l.value=[].concat(h.value).concat(i).concat(f.value);const r=aN(i),o=aN(h.value),u=aN(f.value);y.value=r.length,b.value=o.length,w.value=u.length,c.value=[].concat(o).concat(r).concat(u),s.value=h.value.length>0||f.value.length>0},D=(t,n=!1)=>{t&&L(),n?e.state.doLayout():e.state.debouncedUpdateLayout()},P=t=>R.value?!!R.value[WA(t,i.value)]:x.value.includes(t),B=t=>{var n;if(!e||!e.store)return 0;const{treeData:i}=e.store.states;let r=0;const o=null==(n=i.value[t])?void 0:n.children;return o&&(r+=o.length,o.forEach((t=>{r+=B(t)}))),r},F=(t,e,n)=>{T.value&&T.value!==t&&(T.value.order=null),T.value=t,A.value=e,N.value=n},U=()=>{let t=Te(o);Object.keys(k.value).forEach((e=>{const n=k.value[e];if(!n||0===n.length)return;const i=GA({columns:c.value},e);i&&i.filterMethod&&(t=t.filter((t=>n.some((e=>i.filterMethod.call(null,e,t,i))))))})),E.value=t},H=()=>{r.value=((t,e)=>{const n=e.sortingColumn;return!n||v(n.sortable)?t:$A(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)})(E.value,{sortingColumn:T.value,sortProp:A.value,sortOrder:N.value})},{setExpandRowKeys:z,toggleRowExpansion:V,updateExpandRows:$,states:G,isRowExpanded:j}=function(t){const e=no(),n=Me(!1),i=Me([]);return{updateExpandRows:()=>{const e=t.data.value||[],r=t.rowKey.value;if(n.value)i.value=e.slice();else if(r){const t=KA(i.value,r);i.value=e.reduce(((e,n)=>{const i=WA(n,r);return t[i]&&e.push(n),e}),[])}else i.value=[]},toggleRowExpansion:(t,n)=>{XA(i.value,t,n)&&e.emit("expand-change",t,i.value.slice())},setExpandRowKeys:n=>{e.store.assertRowKey();const r=t.data.value||[],o=t.rowKey.value,s=KA(r,o);i.value=n.reduce(((t,e)=>{const n=s[e];return n&&t.push(n.row),t}),[])},isRowExpanded:e=>{const n=t.rowKey.value;return n?!!KA(i.value,n)[WA(e,n)]:i.value.includes(e)},states:{expandRows:i,defaultExpandAll:n}}}({data:r,rowKey:i}),{updateTreeExpandKeys:W,toggleTreeExpansion:K,updateTreeData:q,updateKeyChildren:Y,loadOrToggle:X,states:Z}=function(t){const e=Me([]),n=Me({}),i=Me(16),r=Me(!1),o=Me({}),s=Me("hasChildren"),a=Me("children"),l=Me(!1),c=no(),u=vo((()=>{if(!t.rowKey.value)return{};const e=t.data.value||[];return f(e)})),h=vo((()=>{const e=t.rowKey.value,n=Object.keys(o.value),i={};return n.length?(n.forEach((t=>{if(o.value[t].length){const n={children:[]};o.value[t].forEach((t=>{const r=WA(t,e);n.children.push(r),t[s.value]&&!i[r]&&(i[r]={children:[]})})),i[t]=n}})),i):i})),f=e=>{const n=t.rowKey.value,i={};return ZA(e,((t,e,o)=>{const s=WA(t,n);d(e)?i[s]={children:e.map((t=>WA(t,n))),level:o}:r.value&&(i[s]={children:[],lazy:!0,level:o})}),a.value,s.value),i},p=(t=!1,i=(t=>null==(t=c.store)?void 0:t.states.defaultExpandAll.value)())=>{var o;const s=u.value,a=h.value,l=Object.keys(s),d={};if(l.length){const o=Te(n),c=[],u=(n,r)=>{if(t)return e.value?i||e.value.includes(r):!(!i&&!(null==n?void 0:n.expanded));{const t=i||e.value&&e.value.includes(r);return!(!(null==n?void 0:n.expanded)&&!t)}};l.forEach((t=>{const e=o[t],n={...s[t]};if(n.expanded=u(e,t),n.lazy){const{loaded:i=!1,loading:r=!1}=e||{};n.loaded=!!i,n.loading=!!r,c.push(t)}d[t]=n}));const h=Object.keys(a);r.value&&h.length&&c.length&&h.forEach((t=>{const e=o[t],n=a[t].children;if(c.includes(t)){if(0!==d[t].children.length)throw new Error("[ElTable]children must be an empty array.");d[t].children=n}else{const{loaded:i=!1,loading:r=!1}=e||{};d[t]={lazy:!0,loaded:!!i,loading:!!r,expanded:u(e,t),children:n,level:""}}}))}n.value=d,null==(o=c.store)||o.updateTableScrollY()};fr((()=>e.value),(()=>{p(!0)})),fr((()=>u.value),(()=>{p()})),fr((()=>h.value),(()=>{p()}));const m=t=>r.value&&t&&"loaded"in t&&!t.loaded,v=(e,i)=>{c.store.assertRowKey();const r=t.rowKey.value,o=WA(e,r),s=o&&n.value[o];if(o&&s&&"expanded"in s){const t=s.expanded;i=Rd(i)?!s.expanded:i,n.value[o].expanded=i,t!==i&&c.emit("expand-change",e,i),m(s)&&g(e,o,s),c.store.updateTableScrollY()}},g=(t,e,i)=>{const{load:r}=c.props;r&&!n.value[e].loaded&&(n.value[e].loading=!0,r(t,i,(i=>{if(!d(i))throw new TypeError("[ElTable] data must be an array");n.value[e].loading=!1,n.value[e].loaded=!0,n.value[e].expanded=!0,i.length&&(o.value[e]=i),c.emit("expand-change",t,!0)})))};return{loadData:g,loadOrToggle:e=>{c.store.assertRowKey();const i=t.rowKey.value,r=WA(e,i),o=n.value[r];m(o)?g(e,r,o):v(e,void 0)},toggleTreeExpansion:v,updateTreeExpandKeys:t=>{e.value=t,p()},updateTreeData:p,updateKeyChildren:(t,e)=>{const{lazy:n,rowKey:i}=c.props;if(n){if(!i)throw new Error("[Table] rowKey is required in updateKeyChild");o.value[t]&&(o.value[t]=e)}},normalize:f,states:{expandRowKeys:e,treeData:n,indent:i,lazy:r,lazyTreeNodeMap:o,lazyColumnIdentifier:s,childrenColumnName:a,checkStrictly:l}}}({data:r,rowKey:i}),{updateCurrentRowData:J,updateCurrentRow:Q,setCurrentRowKey:tt,states:et}=function(t){const e=no(),n=Me(null),i=Me(null),r=()=>{n.value=null},o=n=>{const{data:r,rowKey:o}=t;let s=null;o.value&&(s=(Te(r)||[]).find((t=>WA(t,o.value)===n))),i.value=s,e.emit("current-change",i.value,null)};return{setCurrentRowKey:t=>{e.store.assertRowKey(),n.value=t,o(t)},restoreCurrentRowKey:r,setCurrentRowByKey:o,updateCurrentRow:t=>{const n=i.value;if(t&&t!==n)return i.value=t,void e.emit("current-change",i.value,n);!t&&n&&(i.value=null,e.emit("current-change",null,n))},updateCurrentRowData:()=>{const s=t.rowKey.value,a=t.data.value||[],l=i.value;if(!a.includes(l)&&l){if(s){const t=WA(l,s);o(t)}else i.value=null;bd(i.value)&&e.emit("current-change",null,l)}else n.value&&(o(n.value),r())},states:{xe:n,currentRow:i}}}({data:r,rowKey:i});return{assertRowKey:()=>{if(!i.value)throw new Error("[ElTable] prop row-key is required")},updateColumns:L,scheduleLayout:D,isSelected:P,clearSelection:()=>{_.value=!1;const t=x.value;x.value=[],t.length&&e.emit("selection-change",[])},cleanSelection:()=>{let t;if(i.value){t=[];const e=KA(r.value,i.value);for(const n in R.value)u(R.value,n)&&!e[n]&&t.push(R.value[n].row)}else t=x.value.filter((t=>!r.value.includes(t)));if(t.length){const n=x.value.filter((e=>!t.includes(e)));x.value=n,e.emit("selection-change",n.slice())}},getSelectionRows:()=>(x.value||[]).slice(),toggleRowSelection:(t,n,i=!0,o=!1)=>{var s,a,l,c;const u={children:null==(a=null==(s=null==e?void 0:e.store)?void 0:s.states)?void 0:a.childrenColumnName.value,checkStrictly:null==(c=null==(l=null==e?void 0:e.store)?void 0:l.states)?void 0:c.checkStrictly.value};if(XA(x.value,t,n,u,o?void 0:C.value,r.value.indexOf(t))){const n=(x.value||[]).slice();i&&e.emit("select",n,t),e.emit("selection-change",n)}},Se:()=>{var t,n;const i=M.value?!_.value:!(_.value||x.value.length);_.value=i;let o=!1,s=0;const a=null==(n=null==(t=null==e?void 0:e.store)?void 0:t.states)?void 0:n.rowKey.value,{childrenColumnName:l}=e.store.states,c={children:l.value,checkStrictly:!1};r.value.forEach(((t,e)=>{const n=e+s;XA(x.value,t,i,c,C.value,n)&&(o=!0),s+=B(WA(t,a))})),o&&e.emit("selection-change",x.value?x.value.slice():[]),e.emit("select-all",(x.value||[]).slice())},toggleAllSelection:null,updateSelectionByRowKey:()=>{r.value.forEach((t=>{const e=WA(t,i.value),n=R.value[e];n&&(x.value[n.index]=t)}))},updateAllSelected:()=>{var t;if(0===(null==(t=r.value)?void 0:t.length))return void(_.value=!1);const{childrenColumnName:n}=e.store.states;let i=0,o=0;const s=t=>{var e;for(const r of t){const t=C.value&&C.value.call(null,r,i);if(P(r))o++;else if(!C.value||t)return!1;if(i++,(null==(e=r[n.value])?void 0:e.length)&&!s(r[n.value]))return!1}return!0},a=s(r.value||[]);_.value=0!==o&&a},updateFilters:(t,e)=>{d(t)||(t=[t]);const n={};return t.forEach((t=>{k.value[t.id]=e,n[t.columnKey||t.id]=e})),n},updateCurrentRow:Q,updateSort:F,execFilter:U,execSort:H,execQuery:(t=void 0)=>{t&&t.filter||U(),H()},clearFilter:t=>{const{tableHeaderRef:n}=e.refs;if(!n)return;const i=Object.assign({},n.filterPanels),r=Object.keys(i);if(r.length)if(v(t)&&(t=[t]),d(t)){const n=t.map((t=>function(t,e){let n=null;for(let i=0;i<t.columns.length;i++){const r=t.columns[i];if(r.columnKey===e){n=r;break}}return n||Oh("ElTable",`No column matching with column-key: ${e}`),n}({columns:c.value},t)));r.forEach((t=>{const e=n.find((e=>e.id===t));e&&(e.filteredValue=[])})),e.store.commit("filterChange",{column:n,values:[],silent:!0,multi:!0})}else r.forEach((t=>{const e=c.value.find((e=>e.id===t));e&&(e.filteredValue=[])})),k.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},clearSort:()=>{T.value&&(F(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},toggleRowExpansion:V,setExpandRowKeysAdapter:t=>{z(t),W(t)},setCurrentRowKey:tt,toggleRowExpansionAdapter:(t,e)=>{c.value.some((({type:t})=>"expand"===t))?V(t,e):K(t,e)},isRowExpanded:j,updateExpandRows:$,updateCurrentRowData:J,loadOrToggle:X,updateTreeData:q,updateKeyChildren:Y,states:{tableSize:n,rowKey:i,data:r,Me:o,isComplex:s,Ce:a,originColumns:l,columns:c,fixedColumns:h,rightFixedColumns:f,leafColumns:p,fixedLeafColumns:m,rightFixedLeafColumns:g,updateOrderFns:[],leafColumnsLength:y,fixedLeafColumnsLength:b,rightFixedLeafColumnsLength:w,isAllSelected:_,selection:x,reserveSelection:S,selectOnIndeterminate:M,selectable:C,filters:k,filteredData:E,sortingColumn:T,sortProp:A,sortOrder:N,hoverRow:I,...G,...Z,...et}}}function cN(t,e){return t.map((t=>{var n;return t.id===e.id?e:((null==(n=t.children)?void 0:n.length)&&(t.children=cN(t.children,e)),t)}))}function uN(t){t.forEach((t=>{var e,n;t.no=null==(e=t.getColumnIndex)?void 0:e.call(t),(null==(n=t.children)?void 0:n.length)&&uN(t.children)})),t.sort(((t,e)=>t.no-e.no))}const dN={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function hN(t,e){if(!t)throw new Error("Table is required.");const n=function(){const t=no(),e=lN();return{ns:fa("table"),...e,mutations:{setData(e,n){const i=Te(e.Me)!==n;e.data.value=n,e.Me.value=n,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),Te(e.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):i?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(e,n,i,r){const o=Te(e.Ce);let s=[];i?(i&&!i.children&&(i.children=[]),i.children.push(n),s=cN(o,i)):(o.push(n),s=o),uN(s),e.Ce.value=s,e.updateOrderFns.push(r),"selection"===n.type&&(e.selectable.value=n.selectable,e.reserveSelection.value=n.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(e,n){var i;(null==(i=n.getColumnIndex)?void 0:i.call(n))!==n.no&&(uN(e.Ce.value),t.$ready&&t.store.updateColumns())},removeColumn(e,n,i,r){const o=Te(e.Ce)||[];if(i)i.children.splice(i.children.findIndex((t=>t.id===n.id)),1),Qe((()=>{var t;0===(null==(t=i.children)?void 0:t.length)&&delete i.children})),e.Ce.value=cN(o,i);else{const t=o.indexOf(n);t>-1&&(o.splice(t,1),e.Ce.value=o)}const s=e.updateOrderFns.indexOf(r);s>-1&&e.updateOrderFns.splice(s,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(e,n){const{prop:i,order:r,init:o}=n;if(i){const n=Te(e.columns).find((t=>t.property===i));n&&(n.order=r,t.store.updateSort(n,i,r),t.store.commit("changeSortCondition",{init:o}))}},changeSortCondition(e,n){const{sortingColumn:i,sortProp:r,sortOrder:o}=e,s=Te(i),a=Te(r),l=Te(o);bd(l)&&(e.sortingColumn.value=null,e.sortProp.value=null),t.store.execQuery({filter:!0}),n&&(n.silent||n.init)||t.emit("sort-change",{column:s,prop:a,order:l}),t.store.updateTableScrollY()},filterChange(e,n){const{column:i,values:r,silent:o}=n,s=t.store.updateFilters(i,r);t.store.execQuery(),o||t.emit("filter-change",s),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(e,n){t.store.toggleRowSelection(n),t.store.updateAllSelected()},setHoverRow(t,e){t.hoverRow.value=e},setCurrentRow(e,n){t.store.updateCurrentRow(n)}},commit:function(e,...n){const i=t.store.mutations;if(!i[e])throw new Error(`Action not found: ${e}`);i[e].apply(t,[t.store.states].concat(n))},updateTableScrollY:function(){Qe((()=>t.layout.updateScrollY.apply(t.layout)))}}}();return n.toggleAllSelection=od(n.Se,10),Object.keys(dN).forEach((t=>{fN(pN(e,t),t,n)})),function(t,e){Object.keys(dN).forEach((n=>{fr((()=>pN(e,n)),(e=>{fN(e,n,t)}))}))}(n,e),n}function fN(t,e,n){let i=t,r=dN[e];y(dN[e])&&(r=r.key,i=i||dN[e].default),n.states[r].value=i}function pN(t,e){if(e.includes(".")){const n=e.split(".");let i=t;return n.forEach((t=>{i=i[t]})),i}return t[e]}class mN{constructor(t){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=Me(null),this.scrollX=Me(!1),this.scrollY=Me(!1),this.bodyWidth=Me(null),this.fixedWidth=Me(null),this.rightFixedWidth=Me(null),this.gutterWidth=0;for(const e in t)u(t,e)&&(Se(this[e])?this[e].value=t[e]:this[e]=t[e]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(bd(this.height.value))return!1;const t=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(null==t?void 0:t.wrapRef)){let e=!0;const n=this.scrollY.value;return e=t.wrapRef.scrollHeight>t.wrapRef.clientHeight,this.scrollY.value=e,n!==e}return!1}setHeight(t,e="height"){if(!qd)return;const n=this.table.vnode.el;var i;if(t=Ld(i=t)?i:v(i)?/^\d+(?:px)?$/.test(i)?Number.parseInt(i,10):i:null,this.height.value=Number(t),!n&&(t||0===t))return Qe((()=>this.setHeight(t,e)));Ld(t)?(n.style[e]=`${t}px`,this.updateElsHeight()):v(t)&&(n.style[e]=t,this.updateElsHeight())}setMaxHeight(t){this.setHeight(t,"max-height")}getFlattenColumns(){const t=[];return this.table.store.states.columns.value.forEach((e=>{e.isColumnGroup?t.push.apply(t,e.columns):t.push(e)})),t}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(t){if(!t)return!0;let e=t;for(;"DIV"!==e.tagName;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}updateColumnsWidth(){if(!qd)return;const t=this.fit,e=this.table.vnode.el.clientWidth;let n=0;const i=this.getFlattenColumns(),r=i.filter((t=>!Ld(t.width)));if(i.forEach((t=>{Ld(t.width)&&t.realWidth&&(t.realWidth=null)})),r.length>0&&t){if(i.forEach((t=>{n+=Number(t.width||t.minWidth||80)})),n<=e){this.scrollX.value=!1;const t=e-n;if(1===r.length)r[0].realWidth=Number(r[0].minWidth||80)+t;else{const e=t/r.reduce(((t,e)=>t+Number(e.minWidth||80)),0);let n=0;r.forEach(((t,i)=>{if(0===i)return;const r=Math.floor(Number(t.minWidth||80)*e);n+=r,t.realWidth=Number(t.minWidth||80)+r})),r[0].realWidth=Number(r[0].minWidth||80)+t-n}}else this.scrollX.value=!0,r.forEach((t=>{t.realWidth=Number(t.minWidth)}));this.bodyWidth.value=Math.max(n,e),this.table.state.resizeState.value.width=this.bodyWidth.value}else i.forEach((t=>{t.width||t.minWidth?t.realWidth=Number(t.width||t.minWidth):t.realWidth=80,n+=t.realWidth})),this.scrollX.value=n>e,this.bodyWidth.value=n;const o=this.store.states.fixedColumns.value;if(o.length>0){let t=0;o.forEach((e=>{t+=Number(e.realWidth||e.width)})),this.fixedWidth.value=t}const s=this.store.states.rightFixedColumns.value;if(s.length>0){let t=0;s.forEach((e=>{t+=Number(e.realWidth||e.width)})),this.rightFixedWidth.value=t}this.notifyObservers("columns")}addObserver(t){this.observers.push(t)}removeObserver(t){const e=this.observers.indexOf(t);-1!==e&&this.observers.splice(e,1)}notifyObservers(t){this.observers.forEach((e=>{var n,i;switch(t){case"columns":null==(n=e.state)||n.onColumnsChange(this);break;case"scrollable":null==(i=e.state)||i.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${t}.`)}}))}}const{CheckboxGroup:vN}=nw,gN=Un({name:"ElTableFilterPanel",components:{ElCheckbox:nw,ElCheckboxGroup:vN,ElScrollbar:mm,ElTooltip:ty,ElIcon:Ff,ArrowDown:Uf,ArrowUp:Vf},directives:{ClickOutside:jw},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:{type:String}},setup(t){const e=no(),{t:n}=$h(),i=fa("table-filter"),r=null==e?void 0:e.parent;r.filterPanels.value[t.column.id]||(r.filterPanels.value[t.column.id]=e);const o=Me(!1),s=Me(null),a=vo((()=>t.column&&t.column.filters)),l=vo((()=>t.column.filterClassName?`${i.b()} ${t.column.filterClassName}`:i.b())),c=vo({get:()=>{var e;return((null==(e=t.column)?void 0:e.filteredValue)||[])[0]},set:t=>{u.value&&(Bd(t)?u.value.splice(0,1):u.value.splice(0,1,t))}}),u=vo({get:()=>t.column&&t.column.filteredValue||[],set(e){t.column&&t.upDataColumn("filteredValue",e)}}),d=vo((()=>!t.column||t.column.filterMultiple)),h=()=>{o.value=!1},f=e=>{t.store.commit("filterChange",{column:t.column,values:e}),t.store.updateAllSelected()};fr(o,(e=>{t.column&&t.upDataColumn("filterOpened",e)}),{immediate:!0});const p=vo((()=>{var t,e;return null==(e=null==(t=s.value)?void 0:t.popperRef)?void 0:e.contentRef}));return{tooltipVisible:o,multiple:d,filterClassName:l,filteredValue:u,filterValue:c,filters:a,handleConfirm:()=>{f(u.value),h()},handleReset:()=>{u.value=[],f(u.value),h()},handleSelect:t=>{c.value=t,Bd(t)?f([]):f(u.value),h()},isPropAbsent:Bd,isActive:t=>t.value===c.value,t:n,ns:i,showFilterPanel:t=>{t.stopPropagation(),o.value=!o.value},hideFilterPanel:()=>{o.value=!1},popperPaneRef:p,tooltip:s}}});var yN=mf(gN,[["render",function(t,e,n,i,r,o){const s=ai("el-checkbox"),a=ai("el-checkbox-group"),l=ai("el-scrollbar"),c=ai("arrow-up"),u=ai("arrow-down"),d=ai("el-icon"),h=ai("el-tooltip"),f=ui("click-outside");return Rr(),Br(h,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo},{content:un((()=>[t.multiple?(Rr(),Pr("div",{key:0},[Vr("div",{class:$(t.ns.e("content"))},[$r(l,{"wrap-class":t.ns.e("wrap")},{default:un((()=>[$r(a,{modelValue:t.filteredValue,"onUpdate:modelValue":e=>t.filteredValue=e,class:$(t.ns.e("checkbox-group"))},{default:un((()=>[(Rr(!0),Pr(kr,null,fi(t.filters,(t=>(Rr(),Br(s,{key:t.value,value:t.value},{default:un((()=>[Wr(X(t.text),1)])),xt:2},1032,["value"])))),128))])),xt:1},8,["modelValue","onUpdate:modelValue","class"])])),xt:1},8,["wrap-class"])],2),Vr("div",{class:$(t.ns.e("bottom"))},[Vr("button",{class:$({[t.ns.is("disabled")]:0===t.filteredValue.length}),disabled:0===t.filteredValue.length,type:"button",onClick:t.handleConfirm},X(t.t("el.table.confirmFilter")),11,["disabled","onClick"]),Vr("button",{type:"button",onClick:t.handleReset},X(t.t("el.table.resetFilter")),9,["onClick"])],2)])):(Rr(),Pr("ul",{key:1,class:$(t.ns.e("list"))},[Vr("li",{class:$([t.ns.e("list-item"),{[t.ns.is("active")]:t.isPropAbsent(t.filterValue)}]),onClick:e=>t.handleSelect(null)},X(t.t("el.table.clearFilter")),11,["onClick"]),(Rr(!0),Pr(kr,null,fi(t.filters,(e=>(Rr(),Pr("li",{key:e.value,class:$([t.ns.e("list-item"),t.ns.is("active",t.isActive(e))]),label:e.value,onClick:n=>t.handleSelect(e.value)},X(e.text),11,["label","onClick"])))),128))],2))])),default:un((()=>[dn((Rr(),Pr("span",{class:$([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:t.showFilterPanel},[$r(d,null,{default:un((()=>[mi(t.$slots,"filter-icon",{},(()=>[t.column.filterOpened?(Rr(),Br(c,{key:0})):(Rr(),Br(u,{key:1}))]))])),xt:3})],10,["onClick"])),[[f,t.hideFilterPanel,t.popperPaneRef]])])),xt:3},8,["visible","placement","popper-class","append-to"])}],["__file","filter-panel.vue"]]);function bN(t){const e=no();Xn((()=>{n.value.addObserver(e)})),Zn((()=>{i(n.value),r(n.value)})),Qn((()=>{i(n.value),r(n.value)})),ei((()=>{n.value.removeObserver(e)}));const n=vo((()=>{const e=t.layout;if(!e)throw new Error("Can not find table layout.");return e})),i=e=>{var n;const i=(null==(n=t.vnode.el)?void 0:n.querySelectorAll("colgroup > col"))||[];if(!i.length)return;const r=e.getFlattenColumns(),o={};r.forEach((t=>{o[t.id]=t}));for(let t=0,s=i.length;t<s;t++){const e=i[t],n=e.getAttribute("name"),r=o[n];r&&e.setAttribute("width",r.realWidth||r.width)}},r=e=>{var n,i;const r=(null==(n=t.vnode.el)?void 0:n.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let t=0,s=r.length;t<s;t++){r[t].setAttribute("width",e.scrollY.value?e.gutterWidth:"0")}const o=(null==(i=t.vnode.el)?void 0:i.querySelectorAll("th.gutter"))||[];for(let t=0,s=o.length;t<s;t++){const n=o[t];n.style.width=e.scrollY.value?`${e.gutterWidth}px`:"0",n.style.display=e.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:i,onScrollableChange:r}}const wN=Symbol("ElTable");const _N=t=>{const e=[];return t.forEach((t=>{t.children?(e.push(t),e.push.apply(e,_N(t.children))):e.push(t)})),e},xN=t=>{let e=1;const n=(t,i)=>{if(i&&(t.level=i.level+1,e<t.level&&(e=t.level)),t.children){let e=0;t.children.forEach((i=>{n(i,t),e+=i.colSpan})),t.colSpan=e}else t.colSpan=1};t.forEach((t=>{t.level=1,n(t,void 0)}));const i=[];for(let r=0;r<e;r++)i.push([]);return _N(t).forEach((t=>{t.children?(t.rowSpan=1,t.children.forEach((t=>t.isSubColumn=!0))):t.rowSpan=e-t.level+1,i[t.level-1].push(t)})),i};var SN=Un({name:"ElTableHeader",components:{ElCheckbox:nw},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(t,{emit:e}){const n=no(),i=Vi(wN),r=fa("table"),o=Me({}),{onColumnsChange:s,onScrollableChange:a}=bN(i),l="auto"===(null==i?void 0:i.props.tableLayout),c=de(new Map),u=Me(),d=()=>{setTimeout((()=>{c.size>0&&(c.forEach(((t,e)=>{const n=u.value.querySelector(`.${e.replace(/\s/g,".")}`);if(n){const e=n.getBoundingClientRect().width;t.width=e}})),c.clear())}))};fr(c,d),Zn((async()=>{await Qe(),await Qe();const{prop:e,order:n}=t.defaultSort;null==i||i.store.commit("sort",{prop:e,order:n,init:!0}),d()}));const{handleHeaderClick:h,handleHeaderContextMenu:f,handleMouseDown:p,handleMouseMove:g,handleMouseOut:y,handleSortClick:b,handleFilterClick:w}=function(t,e){const n=no(),i=Vi(wN),r=t=>{t.stopPropagation()},o=Me(null),s=Me(!1),a=Me({}),l=(e,n,r)=>{var o;e.stopPropagation();const s=n.order===r?null:r||(({order:t,sortOrders:e})=>{if(""===t)return e[0];const n=e.indexOf(t||null);return e[n>e.length-2?0:n+1]})(n),a=null==(o=e.target)?void 0:o.closest("th");if(a&&bf(a,"noclick"))return void _f(a,"noclick");if(!n.sortable)return;const l=e.currentTarget;if(["ascending","descending"].some((t=>bf(l,t)&&!n.sortOrders.includes(t))))return;const c=t.store.states;let u,d=c.sortProp.value;const h=c.sortingColumn.value;(h!==n||h===n&&bd(h.order))&&(h&&(h.order=null),c.sortingColumn.value=n,d=n.property),u=n.order=s||null,c.sortProp.value=d,c.sortOrder.value=u,null==i||i.store.commit("changeSortCondition")};return{handleHeaderClick:(t,e)=>{!e.filters&&e.sortable?l(t,e,!1):e.filterable&&!e.sortable&&r(t),null==i||i.emit("header-click",e,t)},handleHeaderContextMenu:(t,e)=>{null==i||i.emit("header-contextmenu",e,t)},handleMouseDown:(r,l)=>{if(qd&&!(l.children&&l.children.length>0)&&o.value&&t.border){s.value=!0;const c=i;e("set-drag-visible",!0);const u=(null==c?void 0:c.vnode.el).getBoundingClientRect().left,d=n.vnode.el.querySelector(`th.${l.id}`),h=d.getBoundingClientRect(),f=h.left-u+30;wf(d,"noclick"),a.value={startMouseLeft:r.clientX,startLeft:h.right-u,startColumnLeft:h.left-u,tableLeft:u};const p=null==c?void 0:c.refs.resizeProxy;p.style.left=`${a.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const m=t=>{const e=t.clientX-a.value.startMouseLeft,n=a.value.startLeft+e;p.style.left=`${Math.max(f,n)}px`},v=()=>{if(s.value){const{startColumnLeft:n,startLeft:i}=a.value,u=Number.parseInt(p.style.left,10)-n;l.width=l.realWidth=u,null==c||c.emit("header-dragend",l.width,i-n,l,r),requestAnimationFrame((()=>{t.store.scheduleLayout(!1,!0)})),document.body.style.cursor="",s.value=!1,o.value=null,a.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",v),document.onselectstart=null,document.ondragstart=null,setTimeout((()=>{_f(d,"noclick")}),0)};document.addEventListener("mousemove",m),document.addEventListener("mouseup",v)}},handleMouseMove:(e,n)=>{var i;if(n.children&&n.children.length>0)return;const r=e.target;if(!Pd(r))return;const a=null==r?void 0:r.closest("th");if(n&&n.resizable&&a&&!s.value&&t.border){const r=a.getBoundingClientRect(),l=document.body.style,c=(null==(i=a.parentNode)?void 0:i.lastElementChild)===a,u=t.allowDragLastColumn||!c;r.width>12&&r.right-e.clientX<8&&u?(l.cursor="col-resize",bf(a,"is-sortable")&&(a.style.cursor="col-resize"),o.value=n):s.value||(l.cursor="",bf(a,"is-sortable")&&(a.style.cursor="pointer"),o.value=null)}},handleMouseOut:()=>{qd&&(document.body.style.cursor="")},handleSortClick:l,handleFilterClick:r}}(t,e),{getHeaderRowStyle:_,getHeaderRowClass:x,getHeaderCellStyle:S,getHeaderCellClass:M}=function(t){const e=Vi(wN),n=fa("table");return{getHeaderRowStyle:t=>{const n=null==e?void 0:e.props.headerRowStyle;return m(n)?n.call(null,{rowIndex:t}):n},getHeaderRowClass:t=>{const n=[],i=null==e?void 0:e.props.headerRowClassName;return v(i)?n.push(i):m(i)&&n.push(i.call(null,{rowIndex:t})),n.join(" ")},getHeaderCellStyle:(n,i,r,o)=>{var s;let a=null!=(s=null==e?void 0:e.props.headerCellStyle)?s:{};m(a)&&(a=a.call(null,{rowIndex:n,columnIndex:i,row:r,column:o}));const l=oN(i,o.fixed,t.store,r);return sN(l,"left"),sN(l,"right"),Object.assign({},a,l)},getHeaderCellClass:(i,r,o,s)=>{const a=iN(n.b(),r,s.fixed,t.store,o),l=[s.id,s.order,s.headerAlign,s.className,s.labelClassName,...a];s.children||l.push("is-leaf"),s.sortable&&l.push("is-sortable");const c=null==e?void 0:e.props.headerCellClassName;return v(c)?l.push(c):m(c)&&l.push(c.call(null,{rowIndex:i,columnIndex:r,row:o,column:s})),l.push(n.e("cell")),l.filter((t=>Boolean(t))).join(" ")}}}(t),{isGroup:C,toggleAllSelection:k,columnRows:E}=function(t){const e=Vi(wN),n=vo((()=>xN(t.store.states.originColumns.value)));return{isGroup:vo((()=>{const t=n.value.length>1;return t&&e&&(e.state.isGroup.value=!0),t})),toggleAllSelection:t=>{t.stopPropagation(),null==e||e.store.commit("toggleAllSelection")},columnRows:n}}(t);return n.state={onColumnsChange:s,onScrollableChange:a},n.filterPanels=o,{ns:r,filterPanels:o,onColumnsChange:s,onScrollableChange:a,columnRows:E,getHeaderRowClass:x,getHeaderRowStyle:_,getHeaderCellClass:M,getHeaderCellStyle:S,handleHeaderClick:h,handleHeaderContextMenu:f,handleMouseDown:p,handleMouseMove:g,handleMouseOut:y,handleSortClick:b,handleFilterClick:w,isGroup:C,toggleAllSelection:k,saveIndexSelection:c,isTableLayoutAuto:l,theadRef:u,updateFixedColumnStyle:d}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:i,getHeaderCellClass:r,getHeaderRowClass:o,getHeaderRowStyle:s,handleHeaderClick:a,handleHeaderContextMenu:l,handleMouseDown:c,handleMouseMove:u,handleSortClick:d,handleMouseOut:h,store:f,$parent:p,saveIndexSelection:m,isTableLayoutAuto:v}=this;let g=1;return go("thead",{ref:"theadRef",class:{[t.is("group")]:e}},n.map(((t,e)=>go("tr",{class:o(e),key:e,style:s(e)},t.map(((n,o)=>{n.rowSpan>g&&(g=n.rowSpan);const s=r(e,o,t,n);return v&&n.fixed&&m.set(s,n),go("th",{class:s,colspan:n.colSpan,key:`${n.id}-thead`,rowspan:n.rowSpan,style:i(e,o,t,n),onClick:t=>{t.currentTarget.classList.contains("noclick")||a(t,n)},onContextmenu:t=>l(t,n),onMousedown:t=>c(t,n),onMousemove:t=>u(t,n),onMouseout:h},[go("div",{class:["cell",n.filteredValue&&n.filteredValue.length>0?"highlight":""]},[n.renderHeader?n.renderHeader({column:n,$index:o,store:f,ke:p}):n.label,n.sortable&&go("span",{onClick:t=>d(t,n),class:"caret-wrapper"},[go("i",{onClick:t=>d(t,n,"ascending"),class:"sort-caret ascending"}),go("i",{onClick:t=>d(t,n,"descending"),class:"sort-caret descending"})]),n.filterable&&go(yN,{store:f,placement:n.filterPlacement||"bottom-start",appendTo:p.appendFilterPanelTo,column:n,upDataColumn:(t,e)=>{n[t]=e}},{"filter-icon":()=>n.renderFilterIcon?n.renderFilterIcon({filterOpened:n.filterOpened}):null})])])}))))))}});function MN(t,e,n=.03){return t-e>n}function CN(t){const e=Vi(wN),n=Me(""),i=Me(go("div")),r=(n,i,r)=>{var o;const s=e,a=VA(n);let l;const c=null==(o=null==s?void 0:s.vnode.el)?void 0:o.dataset.prefix;a&&(l=jA({columns:t.store.states.columns.value},a,c),l&&(null==s||s.emit(`cell-${r}`,i,l,a,n))),null==s||s.emit(`row-${r}`,i,l,n)},o=od((e=>{t.store.commit("setHoverRow",e)}),30),s=od((()=>{t.store.commit("setHoverRow",null)}),30),a=(t,e,n)=>{let i=e.target.parentNode;for(;t>1&&(i=null==i?void 0:i.nextSibling,i&&"TR"===i.nodeName);)n(i,"hover-row hover-fixed-row"),t--};return{handleDoubleClick:(t,e)=>{r(t,e,"dblclick")},handleClick:(e,n)=>{t.store.commit("setCurrentRow",n),r(e,n,"click")},handleContextMenu:(t,e)=>{r(t,e,"contextmenu")},handleMouseEnter:o,handleMouseLeave:s,handleCellMouseEnter:(n,i,r)=>{var o,s,l;const c=e,u=VA(n),d=null==(o=null==c?void 0:c.vnode.el)?void 0:o.dataset.prefix;let h;if(u){h=jA({columns:t.store.states.columns.value},u,d),u.rowSpan>1&&a(u.rowSpan,n,wf);const e=c.hoverState={cell:u,column:h,row:i};null==c||c.emit("cell-mouse-enter",e.row,e.column,e.cell,n)}if(!r)return;const f=n.target.querySelector(".cell");if(!bf(f,`${d}-tooltip`)||!f.childNodes.length)return;const p=document.createRange();p.setStart(f,0),p.setEnd(f,f.childNodes.length);const{width:m,height:v}=p.getBoundingClientRect(),{width:g,height:y}=f.getBoundingClientRect(),{top:b,left:w,right:_,bottom:x}=(t=>{const e=window.getComputedStyle(t,null);return{left:Number.parseInt(e.paddingLeft,10)||0,right:Number.parseInt(e.paddingRight,10)||0,top:Number.parseInt(e.paddingTop,10)||0,bottom:Number.parseInt(e.paddingBottom,10)||0}})(f),S=b+x;MN(m+(w+_),g)||MN(v+S,y)||MN(f.scrollWidth,g)?QA(r,u.innerText||u.textContent,i,h,u,c):(null==(s=JA)?void 0:s.trigger)===u&&(null==(l=JA)||l())},handleCellMouseLeave:t=>{const n=VA(t);if(!n)return;n.rowSpan>1&&a(n.rowSpan,t,_f);const i=null==e?void 0:e.hoverState;null==e||e.emit("cell-mouse-leave",null==i?void 0:i.row,null==i?void 0:i.column,null==i?void 0:i.cell,t)},tooltipContent:n,tooltipTrigger:i}}var kN=mf(Un({...Un({name:"TableTdWrapper"}),props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup:t=>(e,n)=>(Rr(),Pr("td",{colspan:t.colspan,rowspan:t.rowspan},[mi(e.$slots,"default")],8,["colspan","rowspan"]))}),[["__file","td-wrapper.vue"]]);function EN(t){const e=Vi(wN),n=fa("table"),{handleDoubleClick:i,handleClick:r,handleContextMenu:o,handleMouseEnter:s,handleMouseLeave:a,handleCellMouseEnter:l,handleCellMouseLeave:c,tooltipContent:u,tooltipTrigger:h}=CN(t),{getRowStyle:f,getRowClass:p,getCellStyle:g,getCellClass:b,getSpan:w,getColspanRealWidth:_}=function(t){const e=Vi(wN),n=fa("table");return{getRowStyle:(t,n)=>{const i=null==e?void 0:e.props.rowStyle;return m(i)?i.call(null,{row:t,rowIndex:n}):i||null},getRowClass:(i,r)=>{const o=[n.e("row")];(null==e?void 0:e.props.highlightCurrentRow)&&i===t.store.states.currentRow.value&&o.push("current-row"),t.stripe&&r%2==1&&o.push(n.em("row","striped"));const s=null==e?void 0:e.props.rowClassName;return v(s)?o.push(s):m(s)&&o.push(s.call(null,{row:i,rowIndex:r})),o},getCellStyle:(n,i,r,o)=>{const s=null==e?void 0:e.props.cellStyle;let a=null!=s?s:{};m(s)&&(a=s.call(null,{rowIndex:n,columnIndex:i,row:r,column:o}));const l=oN(i,null==t?void 0:t.fixed,t.store);return sN(l,"left"),sN(l,"right"),Object.assign({},a,l)},getCellClass:(i,r,o,s,a)=>{const l=iN(n.b(),r,null==t?void 0:t.fixed,t.store,void 0,a),c=[s.id,s.align,s.className,...l],u=null==e?void 0:e.props.cellClassName;return v(u)?c.push(u):m(u)&&c.push(u.call(null,{rowIndex:i,columnIndex:r,row:o,column:s})),c.push(n.e("cell")),c.filter((t=>Boolean(t))).join(" ")},getSpan:(t,n,i,r)=>{let o=1,s=1;const a=null==e?void 0:e.props.spanMethod;if(m(a)){const e=a({row:t,column:n,rowIndex:i,columnIndex:r});d(e)?(o=e[0],s=e[1]):y(e)&&(o=e.rowspan,s=e.colspan)}return{rowspan:o,colspan:s}},getColspanRealWidth:(t,e,n)=>{if(e<1)return t[n].realWidth;const i=t.map((({realWidth:t,width:e})=>t||e)).slice(n,n+e);return Number(i.reduce(((t,e)=>Number(t)+Number(e)),-1))}}}(t),x=vo((()=>t.store.states.columns.value.findIndex((({type:t})=>"default"===t)))),S=(t,n)=>{const i=e.props.rowKey;return i?WA(t,i):n},M=(u,d,h,m=!1)=>{const{tooltipEffect:v,tooltipOptions:y,store:M}=t,{indent:k,columns:E}=M.states,T=p(u,d);let A=!0;h&&(T.push(n.em("row",`level-${h.level}`)),A=h.display);return go("tr",{style:[A?null:{display:"none"},f(u,d)],class:T,key:S(u,d),onDblclick:t=>i(t,u),onClick:t=>r(t,u),onContextmenu:t=>o(t,u),onMouseenter:()=>s(d),onMouseleave:a},E.value.map(((n,i)=>{const{rowspan:r,colspan:o}=w(u,n,d,i);if(!r||!o)return null;const s=Object.assign({},n);s.realWidth=_(E.value,o,i);const a={store:t.store,ke:t.context||e,column:s,row:u,$index:d,cellIndex:i,expanded:m};i===x.value&&h&&(a.treeNode={indent:h.level*k.value,level:h.level},Od(h.expanded)&&(a.treeNode.expanded=h.expanded,"loading"in h&&(a.treeNode.loading=h.loading),"noLazyChildren"in h&&(a.treeNode.noLazyChildren=h.noLazyChildren)));const f=`${S(u,d)},${i}`,p=s.columnKey||s.rawColumnKey||"",M=n.showOverflowTooltip&&xd({effect:v},y,n.showOverflowTooltip);return go(kN,{style:g(d,i,u,n),class:b(d,i,u,n,o-1),key:`${p}${f}`,rowspan:r,colspan:o,onMouseenter:t=>l(t,u,M),onMouseleave:c},{default:()=>C(i,n,a)})})))},C=(t,e,n)=>e.renderCell(n);return{wrappedRowRender:(i,r)=>{const o=t.store,{isRowExpanded:s,assertRowKey:a}=o,{treeData:l,lazyTreeNodeMap:c,childrenColumnName:u,rowKey:d}=o.states,h=o.states.columns.value;if(h.some((({type:t})=>"expand"===t))){const t=s(i),a=M(i,r,void 0,t),l=e.renderExpanded;return t?l?[[a,go("tr",{key:`expanded-row__${a.key}`},[go("td",{colspan:h.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[l({row:i,$index:r,store:o,expanded:t})])])]]:a:[[a]]}if(Object.keys(l.value).length){a();const t=WA(i,d.value);let e=l.value[t],n=null;e&&(n={expanded:e.expanded,level:e.level,display:!0},Od(e.lazy)&&(Od(e.loaded)&&e.loaded&&(n.noLazyChildren=!(e.children&&e.children.length)),n.loading=e.loading));const o=[M(i,r,n)];if(e){let n=0;const s=(t,i)=>{t&&t.length&&i&&t.forEach((t=>{const a={display:i.display&&i.expanded,level:i.level+1,expanded:!1,noLazyChildren:!1,loading:!1},h=WA(t,d.value);if(Bd(h))throw new Error("For nested data item, row-key is required.");if(e={...l.value[h]},e&&(a.expanded=e.expanded,e.level=e.level||a.level,e.display=!(!e.expanded||!a.display),Od(e.lazy)&&(Od(e.loaded)&&e.loaded&&(a.noLazyChildren=!(e.children&&e.children.length)),a.loading=e.loading)),n++,o.push(M(t,r+n,a)),e){const n=c.value[h]||t[u.value];s(n,e)}}))};e.display=!0;const a=c.value[t]||i[u.value];s(a,e)}return o}return M(i,r,void 0)},tooltipContent:u,tooltipTrigger:h}}var TN=Un({name:"ElTableBody",props:{store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean},setup(t){const e=no(),n=Vi(wN),i=fa("table"),{wrappedRowRender:r,tooltipContent:o,tooltipTrigger:s}=EN(t),{onColumnsChange:a,onScrollableChange:l}=bN(n),c=[];return fr(t.store.states.hoverRow,((n,r)=>{var o;const s=null==e?void 0:e.vnode.el,a=Array.from((null==s?void 0:s.children)||[]).filter((t=>null==t?void 0:t.classList.contains(`${i.e("row")}`)));let l=n;const u=null==(o=a[l])?void 0:o.childNodes;if(null==u?void 0:u.length){let t=0;Array.from(u).reduce(((e,n,i)=>{var r,o;return(null==(r=u[i])?void 0:r.colSpan)>1&&(t=null==(o=u[i])?void 0:o.colSpan),"TD"!==n.nodeName&&0===t&&e.push(i),t>0&&t--,e}),[]).forEach((t=>{var e;for(l=n;l>0;){const n=null==(e=a[l-1])?void 0:e.childNodes;if(n[t]&&"TD"===n[t].nodeName&&n[t].rowSpan>1){wf(n[t],"hover-cell"),c.push(n[t]);break}l--}}))}else c.forEach((t=>_f(t,"hover-cell"))),c.length=0;t.store.states.isComplex.value&&qd&&vf((()=>{const t=a[r],e=a[n];t&&!t.classList.contains("hover-fixed-row")&&_f(t,"hover-row"),e&&wf(e,"hover-row")}))})),ei((()=>{var t;null==(t=JA)||t()})),{ns:i,onColumnsChange:a,onScrollableChange:l,wrappedRowRender:r,tooltipContent:o,tooltipTrigger:s}},render(){const{wrappedRowRender:t,store:e}=this;return go("tbody",{tabIndex:-1},[(e.states.data.value||[]).reduce(((e,n)=>e.concat(t(n,e.length))),[])])}});function AN(t){const{columns:e}=function(){const t=Vi(wN),e=null==t?void 0:t.store;return{leftFixedLeafCount:vo((()=>e.states.fixedLeafColumnsLength.value)),rightFixedLeafCount:vo((()=>e.states.rightFixedColumns.value.length)),columnsCount:vo((()=>e.states.columns.value.length)),leftFixedCount:vo((()=>e.states.fixedColumns.value.length)),rightFixedCount:vo((()=>e.states.rightFixedColumns.value.length)),columns:e.states.columns}}(),n=fa("table");return{getCellClasses:(e,i)=>{const r=e[i],o=[n.e("cell"),r.id,r.align,r.labelClassName,...iN(n.b(),i,r.fixed,t.store)];return r.className&&o.push(r.className),r.children||o.push(n.is("leaf")),o},getCellStyles:(e,n)=>{const i=oN(n,e.fixed,t.store);return sN(i,"left"),sN(i,"right"),i},columns:e}}var NN=Un({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const e=Vi(wN),n=fa("table"),{getCellClasses:i,getCellStyles:r,columns:o}=AN(t),{onScrollableChange:s,onColumnsChange:a}=bN(e);return{ns:n,onScrollableChange:s,onColumnsChange:a,getCellClasses:i,getCellStyles:r,columns:o}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:i,sumText:r}=this,o=this.store.states.data.value;let s=[];return i?s=i({columns:t,data:o}):t.forEach(((t,e)=>{if(0===e)return void(s[e]=r);const n=o.map((e=>Number(e[t.property]))),i=[];let a=!0;n.forEach((t=>{if(!Number.isNaN(+t)){a=!1;const e=`${t}`.split(".")[1];i.push(e?e.length:0)}}));const l=Math.max.apply(null,i);s[e]=a?"":n.reduce(((t,e)=>{const n=Number(e);return Number.isNaN(+n)?t:Number.parseFloat((t+e).toFixed(Math.min(l,20)))}),0)})),go(go("tfoot",[go("tr",{},[...t.map(((i,r)=>go("td",{key:r,colspan:i.colSpan,rowspan:i.rowSpan,class:n(t,r),style:e(i,r)},[go("div",{class:["cell",i.labelClassName]},[s[r]])])))])]))}});function IN(t,e,n,i){const r=Me(!1),o=Me(null),s=Me(!1),a=Me({width:null,height:null,headerHeight:null}),l=Me(!1),c=Me(),u=Me(0),d=Me(0),h=Me(0),f=Me(0),p=Me(0);hr((()=>{e.setHeight(t.height)})),hr((()=>{e.setMaxHeight(t.maxHeight)})),fr((()=>[t.currentRowKey,n.states.rowKey]),(([t,e])=>{Te(e)&&Te(t)&&n.setCurrentRowKey(`${t}`)}),{immediate:!0}),fr((()=>t.data),(t=>{i.store.commit("setData",t)}),{immediate:!0,deep:!0}),hr((()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)}));const m=vo((()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0)),v=vo((()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""}))),g=()=>{m.value&&e.updateElsHeight(),e.updateColumnsWidth(),"undefined"!=typeof window&&requestAnimationFrame(b)};Zn((async()=>{await Qe(),n.updateColumns(),w(),requestAnimationFrame(g);const e=i.vnode.el,r=i.refs.headerWrapper;t.flexible&&e&&e.parentElement&&(e.parentElement.style.minWidth="0"),a.value={width:c.value=e.offsetWidth,height:e.offsetHeight,headerHeight:t.showHeader&&r?r.offsetHeight:null},n.states.columns.value.forEach((t=>{t.filteredValue&&t.filteredValue.length&&i.store.commit("filterChange",{column:t,values:t.filteredValue,silent:!0})})),i.$ready=!0}));const y=t=>{const{tableWrapper:n}=i.refs;((t,n)=>{if(!t)return;const i=Array.from(t.classList).filter((t=>!t.startsWith("is-scrolling-")));i.push(e.scrollX.value?n:"is-scrolling-none"),t.className=i.join(" ")})(n,t)},b=function(){if(!i.refs.scrollBarRef)return;if(!e.scrollX.value){const t="is-scrolling-none";return void((t=>{const{tableWrapper:e}=i.refs;return!(!e||!e.classList.contains(t))})(t)||y(t))}const t=i.refs.scrollBarRef.wrapRef;if(!t)return;const{scrollLeft:n,offsetWidth:r,scrollWidth:o}=t,{headerWrapper:s,footerWrapper:a}=i.refs;s&&(s.scrollLeft=n),a&&(a.scrollLeft=n);y(n>=o-r-1?"is-scrolling-right":0===n?"is-scrolling-left":"is-scrolling-middle")},w=()=>{i.refs.scrollBarRef&&(i.refs.scrollBarRef.wrapRef&&ch(i.refs.scrollBarRef.wrapRef,"scroll",b,{passive:!0}),t.fit?yh(i.vnode.el,_):ch(window,"resize",_),yh(i.refs.bodyWrapper,(()=>{var t,e;_(),null==(e=null==(t=i.refs)?void 0:t.scrollBarRef)||e.update()})))},_=()=>{var e,n,r,o;const s=i.vnode.el;if(!i.$ready||!s)return;let l=!1;const{width:v,height:y,headerHeight:b}=a.value,w=c.value=s.offsetWidth;v!==w&&(l=!0);const _=s.offsetHeight;(t.height||m.value)&&y!==_&&(l=!0);const x="fixed"===t.tableLayout?i.refs.headerWrapper:null==(e=i.refs.tableHeaderRef)?void 0:e.$el;t.showHeader&&(null==x?void 0:x.offsetHeight)!==b&&(l=!0),u.value=(null==(n=i.refs.tableWrapper)?void 0:n.scrollHeight)||0,h.value=(null==x?void 0:x.scrollHeight)||0,f.value=(null==(r=i.refs.footerWrapper)?void 0:r.offsetHeight)||0,p.value=(null==(o=i.refs.appendWrapper)?void 0:o.offsetHeight)||0,d.value=u.value-h.value-f.value-p.value,l&&(a.value={width:w,height:_,headerHeight:t.showHeader&&(null==x?void 0:x.offsetHeight)||0},g())},x=nm(),S=vo((()=>{const{bodyWidth:t,scrollY:n,gutterWidth:i}=e;return t.value?t.value-(n.value?i:0)+"px":""})),M=vo((()=>t.maxHeight?"fixed":t.tableLayout)),C=vo((()=>{if(t.data&&t.data.length)return null;let e="100%";t.height&&d.value&&(e=`${d.value}px`);const n=c.value;return{width:n?`${n}px`:"",height:e}})),k=vo((()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${h.value+f.value}px)`}:{maxHeight:t.maxHeight-h.value-f.value+"px"}:{}));return{isHidden:r,renderExpanded:o,setDragVisible:t=>{s.value=t},isGroup:l,handleMouseLeave:()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},handleHeaderFooterMousewheel:(t,e)=>{const{pixelX:n,pixelY:r}=e;Math.abs(n)>=Math.abs(r)&&(i.refs.bodyWrapper.scrollLeft+=e.pixelX/5)},tableSize:x,emptyBlockStyle:C,handleFixedMousewheel:(t,e)=>{const n=i.refs.bodyWrapper;if(Math.abs(e.spinY)>0){const i=n.scrollTop;e.pixelY<0&&0!==i&&t.preventDefault(),e.pixelY>0&&n.scrollHeight-n.clientHeight>i&&t.preventDefault(),n.scrollTop+=Math.ceil(e.pixelY/5)}else n.scrollLeft+=Math.ceil(e.pixelX/5)},resizeProxyVisible:s,bodyWidth:S,resizeState:a,doLayout:g,tableBodyStyles:v,tableLayout:M,scrollbarViewStyle:{display:"inline-block",verticalAlign:"middle"},scrollbarStyle:k}}function RN(t){const e=Me();Zn((()=>{(()=>{const n=t.vnode.el.querySelector(".hidden-columns"),i=t.store.states.updateOrderFns;e.value=new MutationObserver((()=>{i.forEach((t=>t()))})),e.value.observe(n,{childList:!0,subtree:!0})})()})),ei((()=>{var t;null==(t=e.value)||t.disconnect()}))}var ON={data:{type:Array,default:()=>[]},size:qh,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0}};function LN(t){const e="auto"===t.tableLayout;let n=t.columns||[];e&&n.every((({width:t})=>Rd(t)))&&(n=[]);return go("colgroup",{},n.map((n=>go("col",(n=>{const i={key:`${t.tableLayout}_${n.id}`,style:{},name:void 0};return e?i.style={width:`${n.width}px`}:i.name=n.id,i})(n)))))}LN.props=["columns","tableLayout"];var DN,PN,BN,FN,UN,HN,zN,VN,$N,GN,jN,WN,KN,qN,YN,XN=!1;function ZN(){if(!XN){XN=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(WN=/\b(iPhone|iP[ao]d)/.exec(t),KN=/\b(iP[ao]d)/.exec(t),GN=/Android/i.exec(t),qN=/FBAN\/\w+;/i.exec(t),YN=/Mobile/i.exec(t),jN=!!/Win64/.exec(t),e){(DN=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN)&&document&&document.documentMode&&(DN=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(t);HN=i?parseFloat(i[1])+4:DN,PN=e[2]?parseFloat(e[2]):NaN,BN=e[3]?parseFloat(e[3]):NaN,(FN=e[4]?parseFloat(e[4]):NaN)?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),UN=e&&e[1]?parseFloat(e[1]):NaN):UN=NaN}else DN=PN=BN=UN=FN=NaN;if(n){if(n[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);zN=!r||parseFloat(r[1].replace("_","."))}else zN=!1;VN=!!n[2],$N=!!n[3]}else zN=VN=$N=!1}}var JN,QN={ie:function(){return ZN()||DN},ieCompatibilityMode:function(){return ZN()||HN>DN},ie64:function(){return QN.ie()&&jN},firefox:function(){return ZN()||PN},opera:function(){return ZN()||BN},webkit:function(){return ZN()||FN},safari:function(){return QN.webkit()},chrome:function(){return ZN()||UN},windows:function(){return ZN()||VN},osx:function(){return ZN()||zN},linux:function(){return ZN()||$N},iphone:function(){return ZN()||WN},mobile:function(){return ZN()||WN||KN||GN||YN},nativeApp:function(){return ZN()||qN},android:function(){return ZN()||GN},ipad:function(){return ZN()||KN}},tI=QN,eI={canUseDOM:!!(typeof window<"u"&&window.document&&window.document.createElement)};eI.canUseDOM&&(JN=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));var nI=function(t,e){if(!eI.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var r=document.createElement("div");r.setAttribute(n,"return;"),i="function"==typeof r[n]}return!i&&JN&&"wheel"===t&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i};function iI(t){var e=0,n=0,i=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),i=10*e,r=10*n,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||r)&&t.deltaMode&&(1==t.deltaMode?(i*=40,r*=40):(i*=800,r*=800)),i&&!e&&(e=i<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:i,pixelY:r}}iI.getEventType=function(){return tI.firefox()?"DOMMouseScroll":nI("wheel")?"wheel":"mousewheel"};var rI=iI;
/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/let oI=1;const sI=Un({name:"ElTable",directives:{Mousewheel:{beforeMount(t,e){!function(t,e){if(t&&t.addEventListener){const n=function(t){const n=rI(t);e&&Reflect.apply(e,this,[t,n])};t.addEventListener("wheel",n,{passive:!0})}}(t,e.value)}}},components:{TableHeader:SN,TableBody:TN,TableFooter:NN,ElScrollbar:mm,hColgroup:LN},props:ON,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(t){const{t:e}=$h(),n=fa("table"),i=no();zi(wN,i);const r=hN(i,t);i.store=r;const o=new mN({store:i.store,table:i,fit:t.fit,showHeader:t.showHeader});i.layout=o;const s=vo((()=>0===(r.states.data.value||[]).length)),{setCurrentRow:a,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:f,clearSort:p,sort:m,updateKeyChildren:v}=function(t){return{setCurrentRow:e=>{t.commit("setCurrentRow",e)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(e,n,i=!0)=>{t.toggleRowSelection(e,n,!1,i),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:e=>{t.clearFilter(e)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(e,n)=>{t.toggleRowExpansionAdapter(e,n)},clearSort:()=>{t.clearSort()},sort:(e,n)=>{t.commit("sort",{prop:e,order:n})},updateKeyChildren:(e,n)=>{t.updateKeyChildren(e,n)}}}(r),{isHidden:g,renderExpanded:y,setDragVisible:b,isGroup:w,handleMouseLeave:_,handleHeaderFooterMousewheel:x,tableSize:S,emptyBlockStyle:M,handleFixedMousewheel:C,resizeProxyVisible:k,bodyWidth:E,resizeState:T,doLayout:A,tableBodyStyles:N,tableLayout:I,scrollbarViewStyle:R,scrollbarStyle:O}=IN(t,o,r,i),{scrollBarRef:L,scrollTo:D,setScrollLeft:P,setScrollTop:B}=(()=>{const t=Me(),e=(e,n)=>{const i=t.value;i&&Ld(n)&&["Top","Left"].includes(e)&&i[`setScroll${e}`](n)};return{scrollBarRef:t,scrollTo:(e,n)=>{const i=t.value;i&&i.scrollTo(e,n)},setScrollTop:t=>e("Top",t),setScrollLeft:t=>e("Left",t)}})(),F=od(A,50),U=`${n.namespace.value}-table_${oI++}`;i.tableId=U,i.state={isGroup:w,resizeState:T,doLayout:A,debouncedUpdateLayout:F};const H=vo((()=>{var n;return null!=(n=t.sumText)?n:e("el.table.sumText")})),z=vo((()=>{var n;return null!=(n=t.emptyText)?n:e("el.table.emptyText")})),V=vo((()=>xN(r.states.originColumns.value)[0]));return RN(i),ti((()=>{F.cancel()})),{ns:n,layout:o,store:r,columns:V,handleHeaderFooterMousewheel:x,handleMouseLeave:_,tableId:U,tableSize:S,isHidden:g,isEmpty:s,renderExpanded:y,resizeProxyVisible:k,resizeState:T,isGroup:w,bodyWidth:E,tableBodyStyles:N,emptyBlockStyle:M,debouncedUpdateLayout:F,handleFixedMousewheel:C,setCurrentRow:a,getSelectionRows:l,toggleRowSelection:c,clearSelection:u,clearFilter:d,toggleAllSelection:h,toggleRowExpansion:f,clearSort:p,doLayout:A,sort:m,updateKeyChildren:v,t:e,setDragVisible:b,context:i,computedSumText:H,computedEmptyText:z,tableLayout:I,scrollbarViewStyle:R,scrollbarStyle:O,scrollBarRef:L,scrollTo:D,setScrollLeft:P,setScrollTop:B,allowDragLastColumn:t.allowDragLastColumn}}});var aI=mf(sI,[["render",function(t,e,n,i,r,o){const s=ai("hColgroup"),a=ai("table-header"),l=ai("table-body"),c=ai("table-footer"),u=ai("el-scrollbar"),d=ui("mousewheel");return Rr(),Pr("div",{ref:"tableWrapper",class:$([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:0!==(t.store.states.data.value||[]).length&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:F(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:t.handleMouseLeave},[Vr("div",{class:$(t.ns.e("inner-wrapper"))},[Vr("div",{ref:"hiddenColumns",class:"hidden-columns"},[mi(t.$slots,"default")],512),t.showHeader&&"fixed"===t.tableLayout?dn((Rr(),Pr("div",{key:0,ref:"headerWrapper",class:$(t.ns.e("header-wrapper"))},[Vr("table",{ref:"tableHeader",class:$(t.ns.e("header")),style:F(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[$r(s,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),$r(a,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,"allow-drag-last-column":t.allowDragLastColumn,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[d,t.handleHeaderFooterMousewheel]]):Kr("v-if",!0),Vr("div",{ref:"bodyWrapper",class:$(t.ns.e("body-wrapper"))},[$r(u,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex,onScroll:e=>t.$emit("scroll",e)},{default:un((()=>[Vr("table",{ref:"tableBody",class:$(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:F({width:t.bodyWidth,tableLayout:t.tableLayout})},[$r(s,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&"auto"===t.tableLayout?(Rr(),Br(a,{key:0,ref:"tableHeaderRef",class:$(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):Kr("v-if",!0),$r(l,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&"auto"===t.tableLayout?(Rr(),Br(c,{key:1,class:$(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Kr("v-if",!0)],6),t.isEmpty?(Rr(),Pr("div",{key:0,ref:"emptyBlock",style:F(t.emptyBlockStyle),class:$(t.ns.e("empty-block"))},[Vr("span",{class:$(t.ns.e("empty-text"))},[mi(t.$slots,"empty",{},(()=>[Wr(X(t.computedEmptyText),1)]))],2)],6)):Kr("v-if",!0),t.$slots.append?(Rr(),Pr("div",{key:1,ref:"appendWrapper",class:$(t.ns.e("append-wrapper"))},[mi(t.$slots,"append")],2)):Kr("v-if",!0)])),xt:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),t.showSummary&&"fixed"===t.tableLayout?dn((Rr(),Pr("div",{key:1,ref:"footerWrapper",class:$(t.ns.e("footer-wrapper"))},[Vr("table",{class:$(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:F(t.tableBodyStyles)},[$r(s,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),$r(c,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[qo,!t.isEmpty],[d,t.handleHeaderFooterMousewheel]]):Kr("v-if",!0),t.border||t.isGroup?(Rr(),Pr("div",{key:2,class:$(t.ns.e("border-left-patch"))},null,2)):Kr("v-if",!0)],2),dn(Vr("div",{ref:"resizeProxy",class:$(t.ns.e("column-resize-proxy"))},null,2),[[qo,t.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}],["__file","table.vue"]]);const lI={selection:"table-column--selection",expand:"table__expand-column"},cI={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},uI={selection:{renderHeader:({store:t,column:e})=>go(nw,{disabled:t.states.data.value&&0===t.states.data.value.length,size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label}),renderCell:({row:t,column:e,store:n,$index:i})=>go(nw,{disabled:!!e.selectable&&!e.selectable.call(null,t,i),size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:t=>t.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label}),sortable:!1,resizable:!1},index:{renderHeader:({column:t})=>t.label||"#",renderCell({column:t,$index:e}){let n=e+1;const i=t.index;return Ld(i)?n=e+i:m(i)&&(n=i(e)),go("div",{},[n])},sortable:!1},expand:{renderHeader:({column:t})=>t.label||"",renderCell({row:t,store:e,expanded:n}){const{ns:i}=e,r=[i.e("expand-icon")];n&&r.push(i.em("expand-icon","expanded"));return go("div",{class:r,onClick:function(n){n.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[go(Ff,null,{default:()=>[go(zf)]})]})},sortable:!1,resizable:!1}};function dI({row:t,column:e,$index:n}){var i;const r=e.property,o=r&&rf(t,r).value;return e&&e.formatter?e.formatter(t,e,o,n):(null==(i=null==o?void 0:o.toString)?void 0:i.call(o))||""}function hI(t,e){return t.reduce(((t,e)=>(t[e]=e,t)),e)}function fI(t,e,n){const i=no(),r=Me(""),o=Me(!1),s=Me(),a=Me(),l=fa("table");hr((()=>{s.value=t.align?`is-${t.align}`:null,s.value})),hr((()=>{a.value=t.headerAlign?`is-${t.headerAlign}`:s.value,a.value}));const c=vo((()=>{let t=i.vnode.vParent||i.parent;for(;t&&!t.tableId&&!t.columnId;)t=t.vnode.vParent||t.parent;return t})),u=vo((()=>{const{store:t}=i.parent;if(!t)return!1;const{treeData:e}=t.states,n=e.value;return n&&Object.keys(n).length>0})),h=Me(qA(t.width)),f=Me(YA(t.minWidth));return{columnId:r,realAlign:s,isSubColumn:o,realHeaderAlign:a,columnOrTableParent:c,setColumnWidth:t=>(h.value&&(t.width=h.value),f.value&&(t.minWidth=f.value),!h.value&&f.value&&(t.width=void 0),t.minWidth||(t.minWidth=80),t.realWidth=Number(Rd(t.width)?t.minWidth:t.width),t),setColumnForcedProps:t=>{const e=t.type,n=uI[e]||{};Object.keys(n).forEach((e=>{const i=n[e];"className"===e||Rd(i)||(t[e]=i)}));const i=(t=>lI[t]||"")(e);if(i){const e=`${Te(l.namespace)}-${i}`;t.className=t.className?`${t.className} ${e}`:e}return t},setColumnRenders:r=>{t.renderHeader||"selection"!==r.type&&(r.renderHeader=t=>(i.columnConfig.value.label,mi(e,"header",t,(()=>[r.label])))),e["filter-icon"]&&(r.renderFilterIcon=t=>mi(e,"filter-icon",t));let o=r.renderCell;return"expand"===r.type?(r.renderCell=t=>go("div",{class:"cell"},[o(t)]),n.value.renderExpanded=t=>e.default?e.default(t):e.default):(o=o||dI,r.renderCell=t=>{let s=null;if(e.default){const n=e.default(t);s=n.some((t=>t.type!==Tr))?n:o(t)}else s=o(t);const{columns:a}=n.value.store.states,c=a.value.findIndex((t=>"default"===t.type)),h=function({row:t,treeNode:e,store:n},i=!1){const{ns:r}=n;if(!e)return i?[go("span",{class:r.e("placeholder")})]:null;const o=[],s=function(i){i.stopPropagation(),e.loading||n.loadOrToggle(t)};if(e.indent&&o.push(go("span",{class:r.e("indent"),style:{"padding-left":`${e.indent}px`}})),Od(e.expanded)&&!e.noLazyChildren){const t=[r.e("expand-icon"),e.expanded?r.em("expand-icon","expanded"):""];let n=zf;e.loading&&(n=ap),o.push(go("div",{class:t,onClick:s},{default:()=>[go(Ff,{class:{[r.is("loading")]:e.loading}},{default:()=>[go(n)]})]}))}else o.push(go("span",{class:r.e("placeholder")}));return o}(t,u.value&&t.cellIndex===c),f={class:"cell",style:{}};return r.showOverflowTooltip&&(f.class=`${f.class} ${Te(l.namespace)}-tooltip`,f.style={width:(t.column.realWidth||Number(t.column.width))-1+"px"}),(t=>{function e(t){var e;"ElTableColumn"===(null==(e=null==t?void 0:t.type)?void 0:e.name)&&(t.vParent=i)}d(t)?t.forEach((t=>e(t))):e(t)})(s),go("div",f,[h,s])}),r},getPropsData:(...e)=>e.reduce(((e,n)=>(d(n)&&n.forEach((n=>{e[n]=t[n]})),e)),{}),getColumnElIndex:(t,e)=>Array.prototype.indexOf.call(t,e),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",i.columnConfig.value)}}}var pI={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every((t=>["ascending","descending",null].includes(t)))}};let mI=1;var vI=Un({name:"ElTableColumn",components:{ElCheckbox:nw},props:pI,setup(t,{slots:e}){const n=no(),i=Me({}),r=vo((()=>{let t=n.parent;for(;t&&!t.tableId;)t=t.parent;return t})),{registerNormalWatchers:o,registerComplexWatchers:s}=function(t,e){const n=no();return{registerComplexWatchers:()=>{const i={realWidth:"width",realMinWidth:"minWidth"},r=hI(["fixed"],i);Object.keys(r).forEach((r=>{const o=i[r];u(e,o)&&fr((()=>e[o]),(e=>{let i=e;"width"===o&&"realWidth"===r&&(i=qA(e)),"minWidth"===o&&"realMinWidth"===r&&(i=YA(e)),n.columnConfig.value[o]=i,n.columnConfig.value[r]=i;const s="fixed"===o;t.value.store.scheduleLayout(s)}))}))},registerNormalWatchers:()=>{const t={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},i=hI(["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter"],t);Object.keys(i).forEach((i=>{const r=t[i];u(e,r)&&fr((()=>e[r]),(t=>{n.columnConfig.value[i]=t}))}))}}}(r,t),{columnId:a,isSubColumn:l,realHeaderAlign:c,columnOrTableParent:d,setColumnWidth:h,setColumnForcedProps:f,setColumnRenders:p,getPropsData:m,getColumnElIndex:v,realAlign:g,updateColumnOrder:y}=fI(t,e,r),b=d.value;a.value=`${b.tableId||b.columnId}_column_${mI++}`,Xn((()=>{l.value=r.value!==b;const e=t.type||"default",d=""===t.sortable||t.sortable,v=Rd(t.showOverflowTooltip)?b.props.showOverflowTooltip:t.showOverflowTooltip,y=Rd(t.tooltipFormatter)?b.props.tooltipFormatter:t.tooltipFormatter,w={...cI[e],id:a.value,type:e,property:t.prop||t.property,align:g,headerAlign:c,showOverflowTooltip:v,tooltipFormatter:y,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:d,index:t.index,rawColumnKey:n.vnode.key};let _=m(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);_=function(t,e){const n={};let i;for(i in t)n[i]=t[i];for(i in e)if(u(e,i)){const t=e[i];Rd(t)||(n[i]=t)}return n}(w,_);_=function(...t){return 0===t.length?t=>t:1===t.length?t[0]:t.reduce(((t,e)=>(...n)=>t(e(...n))))}(p,h,f)(_),i.value=_,o(),s()})),Zn((()=>{var t;const e=d.value,o=l.value?e.vnode.el.children:null==(t=e.refs.hiddenColumns)?void 0:t.children,s=()=>v(o||[],n.vnode.el);i.value.getColumnIndex=s;s()>-1&&r.value.store.commit("insertColumn",i.value,l.value?e.columnConfig.value:null,y)})),ti((()=>{const t=i.value.getColumnIndex;(t?t():-1)>-1&&r.value.store.commit("removeColumn",i.value,l.value?b.columnConfig.value:null,y)})),n.columnId=a.value,n.columnConfig=i},render(){var t,e,n;try{const i=null==(e=(t=this.$slots).default)?void 0:e.call(t,{row:{},column:{},$index:-1}),r=[];if(d(i))for(const t of i)"ElTableColumn"===(null==(n=t.type)?void 0:n.name)||2&t.shapeFlag?r.push(t):t.type===kr&&d(t.children)&&t.children.forEach((t=>{1024===(null==t?void 0:t.patchFlag)||v(null==t?void 0:t.children)||r.push(t)}));return go("div",r)}catch(ax){return go("div",[])}}});const gI=Of(aI,{TableColumn:vI}),yI=Df(vI);var bI=(t=>(t.ASC="asc",t.DESC="desc",t))(bI||{}),wI=(t=>(t.CENTER="center",t.RIGHT="right",t))(wI||{}),_I=(t=>(t.LEFT="left",t.RIGHT="right",t))(_I||{});const xI={asc:"desc",desc:"asc"},SI=Symbol("placeholder");const MI=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,tableInstance:r,ns:o,isScrolling:s})=>{const a=no(),{emit:l}=a,c=Ce(!1),u=Me(t.defaultExpandedRowKeys||[]),d=Me(-1),h=Ce(null),f=Me({}),p=Me({}),m=Ce({}),v=Ce({}),g=Ce({}),y=vo((()=>Ld(t.estimatedRowHeight)));const b=od((()=>{var t,r,o,s;c.value=!0,f.value={...Te(f),...Te(p)},w(Te(h),!1),p.value={},h.value=null,null==(t=e.value)||t.forceUpdate(),null==(r=n.value)||r.forceUpdate(),null==(o=i.value)||o.forceUpdate(),null==(s=a.proxy)||s.$forceUpdate(),c.value=!1}),0);function w(t,r=!1){Te(y)&&[e,n,i].forEach((e=>{const n=Te(e);n&&n.resetAfterRowIndex(t,r)}))}return{expandedRowKeys:u,lastRenderedRowIndex:d,isDynamic:y,isResetting:c,rowHeights:f,resetAfterIndex:w,onRowExpanded:function({expanded:e,rowData:n,rowIndex:i,rowKey:r}){var o,s;const a=[...Te(u)],c=a.indexOf(r);e?-1===c&&a.push(r):c>-1&&a.splice(c,1),u.value=a,l("update:expandedRowKeys",a),null==(o=t.onRowExpand)||o.call(t,{expanded:e,rowData:n,rowIndex:i,rowKey:r}),null==(s=t.onExpandedRowsChange)||s.call(t,a)},onRowHovered:function({hovered:t,rowKey:e}){if(s.value)return;r.vnode.el.querySelectorAll(`[rowkey="${String(e)}"]`).forEach((e=>{t?e.classList.add(o.is("hovered")):e.classList.remove(o.is("hovered"))}))},onRowsRendered:function(e){var n;null==(n=t.onRowsRendered)||n.call(t,e),e.rowCacheEnd>Te(d)&&(d.value=e.rowCacheEnd)},onRowHeightChange:function({rowKey:t,height:e,rowIndex:n},i){i?i===_I.RIGHT?g.value[t]=e:m.value[t]=e:v.value[t]=e;const r=Math.max(...[m,g,v].map((e=>e.value[t]||0)));Te(f)[t]!==r&&(!function(t,e,n){const i=Te(h);(null===i||i>n)&&(h.value=n),p.value[t]=e}(t,r,n),b())}}},CI=(t,e)=>t+e,kI=t=>d(t)?t.reduce(CI,0):t,EI=(t,e,n={})=>m(t)?t(e):null!=t?t:n,TI=t=>(["width","maxWidth","minWidth","height"].forEach((e=>{t[e]=Mf(t[e])})),t),AI=t=>Fr(t)?e=>go(t,e):t;function NI(t){const e=Me(),n=Me(),i=Me(),{columns:r,columnsStyles:o,columnsTotalWidth:s,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,hasFixedColumns:c,mainColumns:u,onColumnSorted:h}=function(t,e,n){const i=vo((()=>Te(e).map(((t,e)=>{var n,i;return{...t,key:null!=(i=null!=(n=t.key)?n:t.dataKey)?i:e}})))),r=vo((()=>Te(i).filter((t=>!t.hidden)))),o=vo((()=>Te(r).filter((t=>"left"===t.fixed||!0===t.fixed)))),s=vo((()=>Te(r).filter((t=>"right"===t.fixed)))),a=vo((()=>Te(r).filter((t=>!t.fixed)))),l=vo((()=>{const t=[];return Te(o).forEach((e=>{t.push({...e,placeholderSign:SI})})),Te(a).forEach((e=>{t.push(e)})),Te(s).forEach((e=>{t.push({...e,placeholderSign:SI})})),t})),c=vo((()=>Te(o).length||Te(s).length)),u=vo((()=>Te(i).reduce(((e,i)=>(e[i.key]=((t,e,n)=>{var i;const r={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(r.flexShrink=1);const o={...null!=(i=t.style)?i:{},...r,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(o.maxWidth=t.maxWidth),t.minWidth&&(o.minWidth=t.minWidth)),o})(i,Te(n),t.fixed),e)),{}))),d=vo((()=>Te(r).reduce(((t,e)=>t+e.width),0))),h=t=>Te(i).find((e=>e.key===t));return{columns:i,columnsStyles:u,columnsTotalWidth:d,fixedColumnsOnLeft:o,fixedColumnsOnRight:s,hasFixedColumns:c,mainColumns:l,normalColumns:a,visibleColumns:r,getColumn:h,getColumnStyle:t=>Te(u)[t],updateColumnWidth:(t,e)=>{t.width=e},onColumnSorted:function(e){var n;const{key:i}=e.currentTarget.dataset;if(!i)return;const{sortState:r,sortBy:o}=t;let s=bI.ASC;s=y(r)?xI[r[i]]:xI[o.order],null==(n=t.onColumnSort)||n.call(t,{column:h(i),key:i,order:s})}}}(t,De(t,"columns"),De(t,"fixed")),{scrollTo:f,scrollToLeft:p,scrollToTop:m,scrollToRow:v,onScroll:g,onVerticalScroll:b,scrollPos:w}=((t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,onMaybeEndReached:r})=>{const o=Me({scrollLeft:0,scrollTop:0});function s(t){var r,o,s;const{scrollTop:a}=t;null==(r=e.value)||r.scrollTo(t),null==(o=n.value)||o.scrollToTop(a),null==(s=i.value)||s.scrollToTop(a)}function a(t){o.value=t,s(t)}function l(t){o.value.scrollTop=t,s(Te(o))}return fr((()=>Te(o).scrollTop),((t,e)=>{t>e&&r()})),{scrollPos:o,scrollTo:a,scrollToLeft:function(t){var n,i;o.value.scrollLeft=t,null==(i=null==(n=e.value)?void 0:n.scrollTo)||i.call(n,Te(o))},scrollToTop:l,scrollToRow:function(t,n="auto"){var i;null==(i=e.value)||i.scrollToRow(t,n)},onScroll:function(e){var n;a(e),null==(n=t.onScroll)||n.call(t,e)},onVerticalScroll:function({scrollTop:t}){const{scrollTop:e}=Te(o);t!==e&&l(t)}}})(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,onMaybeEndReached:function(){const{onEndReached:e}=t;if(!e)return;const{scrollTop:n}=Te(w),i=Te(P),r=Te($),o=i-(n+r)+t.hScrollbarSize;Te(C)>=0&&i===n+Te(U)-Te(K)&&e(o)}}),_=fa("table-v2"),x=no(),S=Ce(!1),{expandedRowKeys:M,lastRenderedRowIndex:C,isDynamic:k,isResetting:E,rowHeights:T,resetAfterIndex:A,onRowExpanded:N,onRowHeightChange:I,onRowHovered:R,onRowsRendered:O}=MI(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,tableInstance:x,ns:_,isScrolling:S}),{data:L,depthMap:D}=((t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:i})=>{const r=Me({}),o=vo((()=>{const n={},{data:i,rowKey:o}=t,s=Te(e);if(!s||!s.length)return i;const a=[],l=new Set;s.forEach((t=>l.add(t)));let c=i.slice();for(c.forEach((t=>n[t[o]]=0));c.length>0;){const t=c.shift();a.push(t),l.has(t[o])&&d(t.children)&&t.children.length>0&&(c=[...t.children,...c],t.children.forEach((e=>n[e[o]]=n[t[o]]+1)))}return r.value=n,a})),s=vo((()=>{const{data:e,expandColumnKey:n}=t;return n?Te(o):e}));return fr(s,((t,e)=>{t!==e&&(n.value=-1,i(0,!0))})),{data:s,depthMap:r}})(t,{expandedRowKeys:M,lastRenderedRowIndex:C,resetAfterIndex:A}),P=vo((()=>{const{estimatedRowHeight:e,rowHeight:n}=t,i=Te(L);return Ld(e)?Object.values(Te(T)).reduce(((t,e)=>t+e),0):i.length*n})),{bodyWidth:B,fixedTableHeight:F,mainTableHeight:U,leftTableWidth:H,rightTableWidth:z,headerWidth:V,windowHeight:$,footerHeight:G,emptyStyle:j,rootStyle:W,headerHeight:K}=((t,{columnsTotalWidth:e,rowsHeight:n,fixedColumnsOnLeft:i,fixedColumnsOnRight:r})=>{const o=vo((()=>{const{fixed:n,width:i,vScrollbarSize:r}=t,o=i-r;return n?Math.max(Math.round(Te(e)),o):o})),s=vo((()=>Te(o)+t.vScrollbarSize)),a=vo((()=>{const{height:e=0,maxHeight:i=0,footerHeight:r,hScrollbarSize:o}=t;if(i>0){const t=Te(f),e=Te(n),s=Te(h)+t+e+o;return Math.min(s,i-r)}return e-r})),l=vo((()=>{const{maxHeight:e}=t,i=Te(a);if(Ld(e)&&e>0)return i;const r=Te(n)+Te(h)+Te(f);return Math.min(i,r)})),c=t=>t.width,u=vo((()=>kI(Te(i).map(c)))),d=vo((()=>kI(Te(r).map(c)))),h=vo((()=>kI(t.headerHeight))),f=vo((()=>{var e;return((null==(e=t.fixedData)?void 0:e.length)||0)*t.rowHeight})),p=vo((()=>Te(a)-Te(h)-Te(f))),m=vo((()=>{const{style:e={},height:n,width:i}=t;return TI({...e,height:n,width:i})})),v=vo((()=>TI({height:t.footerHeight}))),g=vo((()=>({top:Mf(Te(h)),bottom:Mf(t.footerHeight),width:Mf(t.width)})));return{bodyWidth:o,fixedTableHeight:l,mainTableHeight:a,leftTableWidth:u,rightTableWidth:d,headerWidth:s,windowHeight:p,footerHeight:v,emptyStyle:g,rootStyle:m,headerHeight:h}})(t,{columnsTotalWidth:s,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,rowsHeight:P}),q=Me(),Y=vo((()=>{const e=0===Te(L).length;return d(t.fixedData)?0===t.fixedData.length&&e:e}));return fr((()=>t.expandedRowKeys),(t=>M.value=t),{deep:!0}),{columns:r,containerRef:q,mainTableRef:e,leftTableRef:n,rightTableRef:i,isDynamic:k,isResetting:E,isScrolling:S,hasFixedColumns:c,columnsStyles:o,columnsTotalWidth:s,data:L,expandedRowKeys:M,depthMap:D,fixedColumnsOnLeft:a,fixedColumnsOnRight:l,mainColumns:u,bodyWidth:B,emptyStyle:j,rootStyle:W,headerWidth:V,footerHeight:G,mainTableHeight:U,fixedTableHeight:F,leftTableWidth:H,rightTableWidth:z,showEmpty:Y,getRowHeight:function(e){const{estimatedRowHeight:n,rowHeight:i,rowKey:r}=t;return n?Te(T)[Te(L)[e][r]]||n:i},onColumnSorted:h,onRowHovered:R,onRowExpanded:N,onRowsRendered:O,onRowHeightChange:I,scrollTo:f,scrollToLeft:p,scrollToTop:m,scrollToRow:v,onScroll:g,onVerticalScroll:b}}const II=Symbol("tableV2"),RI=String,OI={type:Array,required:!0},LI={type:Array},DI={...LI,required:!0},PI={type:Array,default:()=>[]},BI={type:Number,required:!0},FI={type:[String,Number,Symbol],default:"id"},UI={type:Object},HI=Wh({class:String,columns:OI,columnsStyles:{type:Object,required:!0},depth:Number,expandColumnKey:String,estimatedRowHeight:{...PT.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:Function},onRowHover:{type:Function},onRowHeightChange:{type:Function},rowData:{type:Object,required:!0},rowEventHandlers:{type:Object},rowIndex:{type:Number,required:!0},rowKey:FI,style:{type:Object}}),zI={type:Number,required:!0},VI=Wh({class:String,columns:OI,fixedHeaderData:{type:Array},headerData:{type:Array,required:!0},headerHeight:{type:[Number,Array],default:50},rowWidth:zI,rowHeight:{type:Number,default:50},height:zI,width:zI}),$I=Wh({columns:OI,data:DI,fixedData:LI,estimatedRowHeight:HI.estimatedRowHeight,width:BI,height:BI,headerWidth:BI,headerHeight:VI.headerHeight,bodyWidth:BI,rowHeight:BI,cache:RT.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:PT.scrollbarAlwaysOn,scrollbarStartGap:PT.scrollbarStartGap,scrollbarEndGap:PT.scrollbarEndGap,class:RI,style:UI,containerStyle:UI,getRowHeight:{type:Function,required:!0},rowKey:HI.rowKey,onRowsRendered:{type:Function},onScroll:{type:Function}}),GI=Wh({cache:$I.cache,estimatedRowHeight:HI.estimatedRowHeight,rowKey:FI,headerClass:{type:[String,Function]},headerProps:{type:[Object,Function]},headerCellProps:{type:[Object,Function]},headerHeight:VI.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:[String,Function]},rowProps:{type:[Object,Function]},rowHeight:{type:Number,default:50},cellProps:{type:[Object,Function]},columns:OI,data:DI,dataGetter:{type:Function},fixedData:LI,expandColumnKey:HI.expandColumnKey,expandedRowKeys:PI,defaultExpandedRowKeys:PI,class:RI,fixed:Boolean,style:{type:Object},width:BI,height:BI,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:PT.hScrollbarSize,vScrollbarSize:PT.vScrollbarSize,scrollbarAlwaysOn:BT.alwaysOn,sortBy:{type:Object,default:()=>({})},sortState:{type:Object,default:void 0},onColumnSort:{type:Function},onExpandedRowsChange:{type:Function},onEndReached:{type:Function},onRowExpand:HI.onRowExpand,onScroll:$I.onScroll,onRowsRendered:$I.onRowsRendered,rowEventHandlers:HI.rowEventHandlers});var jI=Un({name:"ElTableV2Header",props:VI,setup(t,{slots:e,expose:n}){const i=fa("table-v2"),r=Vi("tableV2GridScrollLeft"),o=Me(),s=vo((()=>TI({width:t.width,height:t.height}))),a=vo((()=>TI({width:t.rowWidth,height:t.height}))),l=vo((()=>Pc(Te(t.headerHeight)))),c=t=>{const e=Te(o);Qe((()=>{(null==e?void 0:e.scroll)&&e.scroll({left:t})}))},u=()=>{const n=i.e("fixed-header-row"),{columns:r,fixedHeaderData:o,rowHeight:s}=t;return null==o?void 0:o.map(((t,i)=>{var o;const a=TI({height:s,width:"100%"});return null==(o=e.fixed)?void 0:o.call(e,{class:n,columns:r,rowData:t,rowIndex:-(i+1),style:a})}))},d=()=>{const n=i.e("dynamic-header-row"),{columns:r}=t;return Te(l).map(((t,i)=>{var o;const s=TI({width:"100%",height:t});return null==(o=e.dynamic)?void 0:o.call(e,{class:n,columns:r,headerIndex:i,style:s})}))};return Qn((()=>{(null==r?void 0:r.value)&&c(r.value)})),n({scrollToLeft:c}),()=>{if(!(t.height<=0))return $r("div",{ref:o,class:t.class,style:Te(s),role:"rowgroup"},[$r("div",{style:Te(a),class:i.e("header")},[d(),u()])])}}});const WI=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:o,getEstimatedTotalWidth:s,getColumnOffset:a,getRowOffset:l,getRowPosition:c,getRowStartIndexForOffset:d,getRowStopIndexForStartIndex:h,initCache:f,injectToInstance:p,validateProps:m})=>Un({name:null!=t?t:"ElVirtualList",props:PT,emits:[aT,lT],setup(t,{emit:g,expose:y,slots:b}){const w=fa("vl");m(t);const _=no(),x=Me(f(t,_));null==p||p(_,x);const S=Me(),M=Me(),C=Me(),k=Me(null),E=Me({isScrolling:!1,scrollLeft:Ld(t.initScrollLeft)?t.initScrollLeft:0,scrollTop:Ld(t.initScrollTop)?t.initScrollTop:0,updateRequested:!1,xAxisScrollDir:cT,yAxisScrollDir:cT}),T=sT(),A=vo((()=>Number.parseInt(`${t.height}`,10))),N=vo((()=>Number.parseInt(`${t.width}`,10))),I=vo((()=>{const{totalColumn:e,totalRow:n,columnCache:o}=t,{isScrolling:s,xAxisScrollDir:a,scrollLeft:l}=Te(E);if(0===e||0===n)return[0,0,0,0];const c=i(t,l,Te(x)),u=r(t,c,l,Te(x)),d=s&&a!==uT?1:Math.max(1,o),h=s&&a!==cT?1:Math.max(1,o);return[Math.max(0,c-d),Math.max(0,Math.min(e-1,u+h)),c,u]})),R=vo((()=>{const{totalColumn:e,totalRow:n,rowCache:i}=t,{isScrolling:r,yAxisScrollDir:o,scrollTop:s}=Te(E);if(0===e||0===n)return[0,0,0,0];const a=d(t,s,Te(x)),l=h(t,a,s,Te(x)),c=r&&o!==uT?1:Math.max(1,i),u=r&&o!==cT?1:Math.max(1,i);return[Math.max(0,a-c),Math.max(0,Math.min(n-1,l+u)),a,l]})),O=vo((()=>o(t,Te(x)))),L=vo((()=>s(t,Te(x)))),D=vo((()=>{var e;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:t.direction,height:Ld(t.height)?`${t.height}px`:t.height,width:Ld(t.width)?`${t.width}px`:t.width},null!=(e=t.style)?e:{}]})),P=vo((()=>{const t=`${Te(L)}px`;return{height:`${Te(O)}px`,pointerEvents:Te(E).isScrolling?"none":void 0,width:t}})),B=()=>{const{totalColumn:e,totalRow:n}=t;if(e>0&&n>0){const[t,e,n,i]=Te(I),[r,o,s,a]=Te(R);g(aT,{columnCacheStart:t,columnCacheEnd:e,rowCacheStart:r,rowCacheEnd:o,columnVisibleStart:n,columnVisibleEnd:i,rowVisibleStart:s,rowVisibleEnd:a})}const{scrollLeft:i,scrollTop:r,updateRequested:o,xAxisScrollDir:s,yAxisScrollDir:a}=Te(E);g(lT,{xAxisScrollDir:s,scrollLeft:i,yAxisScrollDir:a,scrollTop:r,updateRequested:o})},F=e=>{const{clientHeight:n,clientWidth:i,scrollHeight:r,scrollLeft:o,scrollTop:s,scrollWidth:a}=e.currentTarget,l=Te(E);if(l.scrollTop===s&&l.scrollLeft===o)return;let c=o;if(HT(t.direction))switch(VT()){case bT:c=-o;break;case _T:c=a-i-o}E.value={...l,isScrolling:!0,scrollLeft:c,scrollTop:Math.max(0,Math.min(s,r-n)),updateRequested:!0,xAxisScrollDir:FT(l.scrollLeft,c),yAxisScrollDir:FT(l.scrollTop,s)},Qe((()=>G())),j(),B()},U=(t,e)=>{const n=Te(A),i=(O.value-n)/e*t;V({scrollTop:Math.min(O.value-n,i)})},H=(t,e)=>{const n=Te(N),i=(L.value-n)/e*t;V({scrollLeft:Math.min(L.value-n,i)})},{onWheel:z}=(({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:i},r)=>{let o=null,s=0,a=0;const l=(r,o)=>{const s=r<=0&&e.value||r>=0&&t.value,a=o<=0&&i.value||o>=0&&n.value;return s&&a};return{hasReachedEdge:l,onWheel:t=>{gf(o);let e=t.deltaX,n=t.deltaY;Math.abs(e)>Math.abs(n)?n=0:e=0,t.shiftKey&&0!==n&&(e=n,n=0),l(s,a)&&l(s+e,a+n)||(s+=e,a+=n,t.preventDefault(),o=vf((()=>{r(s,a),s=0,a=0})))}}})({atXStartEdge:vo((()=>E.value.scrollLeft<=0)),atXEndEdge:vo((()=>E.value.scrollLeft>=L.value-Te(N))),atYStartEdge:vo((()=>E.value.scrollTop<=0)),atYEndEdge:vo((()=>E.value.scrollTop>=O.value-Te(A)))},((t,e)=>{var n,i,r,o;null==(i=null==(n=M.value)?void 0:n.onMouseUp)||i.call(n),null==(o=null==(r=C.value)?void 0:r.onMouseUp)||o.call(r);const s=Te(N),a=Te(A);V({scrollLeft:Math.min(E.value.scrollLeft+t,L.value-s),scrollTop:Math.min(E.value.scrollTop+e,O.value-a)})}));ch(S,"wheel",z,{passive:!1});const V=({scrollLeft:t=E.value.scrollLeft,scrollTop:e=E.value.scrollTop})=>{t=Math.max(t,0),e=Math.max(e,0);const n=Te(E);e===n.scrollTop&&t===n.scrollLeft||(E.value={...n,xAxisScrollDir:FT(n.scrollLeft,t),yAxisScrollDir:FT(n.scrollTop,e),scrollLeft:t,scrollTop:e,updateRequested:!0},Qe((()=>G())),j(),B())},$=(i,r)=>{const{columnWidth:o,direction:s,rowHeight:a}=t,l=T.value(e&&o,e&&a,e&&s),d=`${i},${r}`;if(u(l,d))return l[d];{const[,e]=n(t,r,Te(x)),o=Te(x),a=HT(s),[u,h]=c(t,i,o),[f]=n(t,r,o);return l[d]={position:"absolute",left:a?void 0:`${e}px`,right:a?`${e}px`:void 0,top:`${h}px`,height:`${u}px`,width:`${f}px`},l[d]}},G=()=>{E.value.isScrolling=!1,Qe((()=>{T.value(-1,null,null)}))};Zn((()=>{if(!qd)return;const{initScrollLeft:e,initScrollTop:n}=t,i=Te(S);i&&(Ld(e)&&(i.scrollLeft=e),Ld(n)&&(i.scrollTop=n)),B()}));const j=()=>{const{direction:e}=t,{scrollLeft:n,scrollTop:i,updateRequested:r}=Te(E),o=Te(S);if(r&&o){if(e===yT)switch(VT()){case bT:o.scrollLeft=-n;break;case wT:o.scrollLeft=n;break;default:{const{clientWidth:t,scrollWidth:e}=o;o.scrollLeft=e-t-n;break}}else o.scrollLeft=Math.max(0,n);o.scrollTop=Math.max(0,i)}},{resetAfterColumnIndex:W,resetAfterRowIndex:K,resetAfter:q}=_.proxy;y({windowRef:S,innerRef:k,getItemStyleCache:T,scrollTo:V,scrollToItem:(e=0,n=0,i=dT)=>{const r=Te(E);n=Math.max(0,Math.min(n,t.totalColumn-1)),e=Math.max(0,Math.min(e,t.totalRow-1));const c=Tf(w.namespace.value),u=Te(x),d=o(t,u),h=s(t,u);V({scrollLeft:a(t,n,i,r.scrollLeft,u,h>t.width?c:0),scrollTop:l(t,e,i,r.scrollTop,u,d>t.height?c:0)})},states:E,resetAfterColumnIndex:W,resetAfterRowIndex:K,resetAfter:q});const Y=()=>{const e=ci(t.innerElement),n=(()=>{var e;const[n,i]=Te(I),[r,o]=Te(R),{data:s,totalColumn:a,totalRow:l,useIsScrolling:c,itemKey:u}=t,d=[];if(l>0&&a>0)for(let t=r;t<=o;t++)for(let r=n;r<=i;r++){const n=u({columnIndex:r,data:s,rowIndex:t});d.push(go(kr,{key:n},null==(e=b.default)?void 0:e.call(b,{columnIndex:r,data:s,isScrolling:c?Te(E).isScrolling:void 0,style:$(t,r),rowIndex:t})))}return d})();return[go(e,{style:Te(P),ref:k},v(e)?n:{default:()=>n})]};return()=>{const e=ci(t.containerElement),{horizontalScrollbar:n,verticalScrollbar:i}=(()=>{const{scrollbarAlwaysOn:e,scrollbarStartGap:n,scrollbarEndGap:i,totalColumn:r,totalRow:o}=t,s=Te(N),a=Te(A),l=Te(L),c=Te(O),{scrollLeft:u,scrollTop:d}=Te(E);return{horizontalScrollbar:go($T,{ref:M,alwaysOn:e,startGap:n,endGap:i,class:w.e("horizontal"),clientSize:s,layout:"horizontal",onScroll:H,ratio:100*s/l,scrollFrom:u/(l-s),total:o,visible:!0}),verticalScrollbar:go($T,{ref:C,alwaysOn:e,startGap:n,endGap:i,class:w.e("vertical"),clientSize:a,layout:"vertical",onScroll:U,ratio:100*a/c,scrollFrom:d/(c-a),total:r,visible:!0})}})(),r=Y();return go("div",{key:0,class:w.e("wrapper"),role:t.role},[go(e,{class:t.className,style:Te(D),onScroll:F,ref:S},v(e)?r:{default:()=>r}),n,i])}}}),{max:KI,min:qI,floor:YI}=Math,XI={column:"columnWidth",row:"rowHeight"},ZI={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},JI=(t,e,n,i)=>{const[r,o,s]=[n[i],t[XI[i]],n[ZI[i]]];if(e>s){let t=0;if(s>=0){const e=r[s];t=e.offset+e.size}for(let n=s+1;n<=e;n++){const e=o(n);r[n]={offset:t,size:e},t+=e}n[ZI[i]]=e}return r[e]},QI=(t,e,n,i,r,o)=>{for(;n<=i;){const s=n+YI((i-n)/2),a=JI(t,s,e,o).offset;if(a===r)return s;a<r?n=s+1:i=s-1}return KI(0,n-1)},tR=(t,e,n,i)=>{const[r,o]=[e[i],e[ZI[i]]];return(o>0?r[o].offset:0)>=n?QI(t,e,0,o,n,i):((t,e,n,i,r)=>{const o="column"===r?t.totalColumn:t.totalRow;let s=1;for(;n<o&&JI(t,n,e,r).offset<i;)n+=s,s*=2;return QI(t,e,YI(n/2),qI(n,o-1),i,r)})(t,e,KI(0,o),n,i)},eR=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:i})=>{let r=0;if(n>=t&&(n=t-1),n>=0){const t=i[n];r=t.offset+t.size}return r+(t-n-1)*e},nR=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:i})=>{let r=0;if(i>t&&(i=t-1),i>=0){const t=e[i];r=t.offset+t.size}return r+(t-i-1)*n},iR={column:nR,row:eR},rR=(t,e,n,i,r,o,s)=>{const[a,l]=["row"===o?t.height:t.width,iR[o]],c=JI(t,e,r,o),u=l(t,r),d=KI(0,qI(u-a,c.offset)),h=KI(0,c.offset-a+s+c.size);switch(n===hT&&(n=i>=h-a&&i<=d+a?dT:pT),n){case fT:return d;case mT:return h;case pT:return Math.round(h+(d-h)/2);default:return i>=h&&i<=d?i:h>d||i<h?h:d}},oR=WI({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const i=JI(t,e,n,"column");return[i.size,i.offset]},getRowPosition:(t,e,n)=>{const i=JI(t,e,n,"row");return[i.size,i.offset]},getColumnOffset:(t,e,n,i,r,o)=>rR(t,e,n,i,r,"column",o),getRowOffset:(t,e,n,i,r,o)=>rR(t,e,n,i,r,"row",o),getColumnStartIndexForOffset:(t,e,n)=>tR(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,i)=>{const r=JI(t,e,i,"column"),o=n+t.width;let s=r.offset+r.size,a=e;for(;a<t.totalColumn-1&&s<o;)a++,s+=JI(t,e,i,"column").size;return a},getEstimatedTotalHeight:eR,getEstimatedTotalWidth:nR,getRowStartIndexForOffset:(t,e,n)=>tR(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,i)=>{const{totalRow:r,height:o}=t,s=JI(t,e,i,"row"),a=n+o;let l=s.size+s.offset,c=e;for(;c<r-1&&l<a;)c++,l+=JI(t,c,i,"row").size;return c},injectToInstance:(t,e)=>{const n=({columnIndex:n,rowIndex:i},r)=>{var o,s;r=!!Rd(r)||r,Ld(n)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,n-1)),Ld(i)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,i-1)),null==(o=t.exposed)||o.getItemStyleCache.value(-1,null,null),r&&(null==(s=t.proxy)||s.$forceUpdate())};Object.assign(t.proxy,{resetAfterColumnIndex:(t,e)=>{n({columnIndex:t},e)},resetAfterRowIndex:(t,e)=>{n({rowIndex:t},e)},resetAfter:n})},initCache:({estimatedColumnWidth:t=50,estimatedRowHeight:e=50})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),sR=WI({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},i,r,o,s,a)=>{n=Number(n);const l=Math.max(0,t*e-n),c=Math.min(l,i*e),u=Math.max(0,i*e-n+a+e);switch("smart"===r&&(r=o>=u-n&&o<=c+n?dT:pT),r){case fT:return c;case mT:return u;case pT:{const t=Math.round(u+(c-u)/2);return t<Math.ceil(n/2)?0:t>l+Math.floor(n/2)?l:t}default:return o>=u&&o<=c?o:u>c||o<u?u:c}},getRowOffset:({rowHeight:t,height:e,totalRow:n},i,r,o,s,a)=>{e=Number(e);const l=Math.max(0,n*t-e),c=Math.min(l,i*t),u=Math.max(0,i*t-e+a+t);switch(r===hT&&(r=o>=u-e&&o<=c+e?dT:pT),r){case fT:return c;case mT:return u;case pT:{const t=Math.round(u+(c-u)/2);return t<Math.ceil(e/2)?0:t>l+Math.floor(e/2)?l:t}default:return o>=u&&o<=c?o:u>c||o<u?u:c}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},i,r)=>{const o=i*t,s=Math.ceil((n+r-o)/t);return Math.max(0,Math.min(e-1,i+s-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},i,r)=>{const o=i*t,s=Math.ceil((n+r-o)/t);return Math.max(0,Math.min(e-1,i+s-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}});var aR=Un({name:"ElTableV2Grid",props:$I,setup(t,{slots:e,expose:n}){const{ns:i}=Vi(II),{bodyRef:r,fixedRowHeight:o,gridHeight:s,hasHeader:a,headerRef:l,headerHeight:c,totalHeight:u,forceUpdate:d,itemKey:h,onItemRendered:f,resetAfterRowIndex:p,scrollTo:m,scrollToTop:v,scrollToRow:g,scrollLeft:b}=(t=>{const e=Me(),n=Me(),i=Me(0),r=vo((()=>{const{data:e,rowHeight:n,estimatedRowHeight:i}=t;if(!i)return e.length*n})),o=vo((()=>{const{fixedData:e,rowHeight:n}=t;return((null==e?void 0:e.length)||0)*n})),s=vo((()=>kI(t.headerHeight))),a=vo((()=>{const{height:e}=t;return Math.max(0,e-Te(s)-Te(o))})),l=vo((()=>Te(s)+Te(o)>0));return fr((()=>t.bodyWidth),(()=>{var e;Ld(t.estimatedRowHeight)&&(null==(e=n.value)||e.resetAfter({columnIndex:0},!1))})),{bodyRef:n,forceUpdate:function(){var t,i;null==(t=Te(n))||t.$forceUpdate(),null==(i=Te(e))||i.$forceUpdate()},fixedRowHeight:o,gridHeight:a,hasHeader:l,headerHeight:s,headerRef:e,totalHeight:r,itemKey:({data:e,rowIndex:n})=>e[n][t.rowKey],onItemRendered:function({rowCacheStart:e,rowCacheEnd:n,rowVisibleStart:i,rowVisibleEnd:r}){var o;null==(o=t.onRowsRendered)||o.call(t,{rowCacheStart:e,rowCacheEnd:n,rowVisibleStart:i,rowVisibleEnd:r})},resetAfterRowIndex:function(t,e){var i;null==(i=n.value)||i.resetAfterRowIndex(t,e)},scrollTo:function(t,r){const o=Te(e),s=Te(n);y(t)?(null==o||o.scrollToLeft(t.scrollLeft),i.value=t.scrollLeft,null==s||s.scrollTo(t)):(null==o||o.scrollToLeft(t),i.value=t,null==s||s.scrollTo({scrollLeft:t,scrollTop:r}))},scrollToTop:function(t){var e;null==(e=Te(n))||e.scrollTo({scrollTop:t})},scrollToRow:function(t,e){var i;null==(i=Te(n))||i.scrollToItem(t,1,e)},scrollLeft:i}})(t);zi("tableV2GridScrollLeft",b),n({forceUpdate:d,totalHeight:u,scrollTo:m,scrollToTop:v,scrollToRow:g,resetAfterRowIndex:p});const w=()=>t.bodyWidth;return()=>{const{cache:n,columns:u,data:d,fixedData:p,useIsScrolling:m,scrollbarAlwaysOn:v,scrollbarEndGap:g,scrollbarStartGap:y,style:b,rowHeight:_,bodyWidth:x,estimatedRowHeight:S,headerWidth:M,height:C,width:k,getRowHeight:E,onScroll:T}=t,A=Ld(S),N=A?oR:sR,I=Te(c);return $r("div",{role:"table",class:[i.e("table"),t.class],style:b},[$r(N,{ref:r,data:d,useIsScrolling:m,itemKey:h,columnCache:0,columnWidth:A?w:x,totalColumn:1,totalRow:d.length,rowCache:n,rowHeight:A?E:_,width:k,height:Te(s),class:i.e("body"),role:"rowgroup",scrollbarStartGap:y,scrollbarEndGap:g,scrollbarAlwaysOn:v,onScroll:T,onItemRendered:f,perfMode:!1},{default:t=>{var n;const i=d[t.rowIndex];return null==(n=e.row)?void 0:n.call(e,{...t,columns:u,rowData:i})}}),Te(a)&&$r(jI,{ref:l,class:i.e("header-wrapper"),columns:u,headerData:d,headerHeight:t.headerHeight,fixedHeaderData:p,rowWidth:M,rowHeight:_,width:k,height:Math.min(I+Te(o),C)},{dynamic:e.header,fixed:e.row})])}}});var lR=(t,{slots:e})=>{const{mainTableRef:n,...i}=t;return $r(aR,Zr({ref:n},i),"function"==typeof(r=e)||"[object Object]"===Object.prototype.toString.call(r)&&!Fr(r)?e:{default:()=>[e]});var r};var cR=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...i}=t;return $r(aR,Zr({ref:n},i),"function"==typeof(r=e)||"[object Object]"===Object.prototype.toString.call(r)&&!Fr(r)?e:{default:()=>[e]});var r};var uR=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...i}=t;return $r(aR,Zr({ref:n},i),"function"==typeof(r=e)||"[object Object]"===Object.prototype.toString.call(r)&&!Fr(r)?e:{default:()=>[e]});var r};const dR=t=>{const{isScrolling:e}=Vi(II),n=Me(!1),i=Me(),r=vo((()=>Ld(t.estimatedRowHeight)&&t.rowIndex>=0)),o=vo((()=>{const{rowData:e,rowIndex:n,rowKey:i,onRowHover:r}=t,o=t.rowEventHandlers||{},s={};return Object.entries(o).forEach((([t,r])=>{m(r)&&(s[t]=t=>{r({event:t,rowData:e,rowIndex:n,rowKey:i})})})),r&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach((({name:t,hovered:o})=>{const a=s[t];s[t]=t=>{r({event:t,hovered:o,rowData:e,rowIndex:n,rowKey:i}),null==a||a(t)}})),s}));return Zn((()=>{Te(r)&&((e=!1)=>{const r=Te(i);if(!r)return;const{columns:o,onRowHeightChange:s,rowKey:a,rowIndex:l,style:c}=t,{height:u}=r.getBoundingClientRect();n.value=!0,Qe((()=>{if(e||u!==Number.parseInt(c.height)){const t=o[0],e=(null==t?void 0:t.placeholderSign)===SI;null==s||s({rowKey:a,height:u,rowIndex:l},t&&!e&&t.fixed)}}))})(!0)})),{isScrolling:e,measurable:r,measured:n,rowRef:i,eventHandlers:o,onExpand:e=>{const{onRowExpand:n,rowData:i,rowIndex:r,rowKey:o}=t;null==n||n({expanded:e,rowData:i,rowIndex:r,rowKey:o})}}};var hR=Un({name:"ElTableV2TableRow",props:HI,setup(t,{expose:e,slots:n,attrs:i}){const{eventHandlers:r,isScrolling:o,measurable:s,measured:a,rowRef:l,onExpand:c}=dR(t);return e({onExpand:c}),()=>{const{columns:e,columnsStyles:u,expandColumnKey:h,depth:f,rowData:p,rowIndex:m,style:v}=t;let g=e.map(((t,i)=>{const r=d(p.children)&&p.children.length>0&&t.key===h;return n.cell({column:t,columns:e,columnIndex:i,depth:f,style:u[t.key],rowData:p,rowIndex:m,isScrolling:Te(o),expandIconProps:r?{rowData:p,rowIndex:m,onExpand:c}:void 0})}));if(n.row&&(g=n.row({cells:g.map((t=>d(t)&&1===t.length?t[0]:t)),style:v,columns:e,depth:f,rowData:p,rowIndex:m,isScrolling:Te(o)})),Te(s)){const{height:e,...n}=v||{},o=Te(a);return $r("div",Zr({ref:l,class:t.class,style:o?v:n,role:"row"},i,Te(r)),[g])}return $r("div",Zr(i,{ref:l,class:t.class,style:v,role:"row"},Te(r)),[g])}}});var fR=(t,{slots:e})=>{const{columns:n,columnsStyles:i,depthMap:r,expandColumnKey:o,expandedRowKeys:s,estimatedRowHeight:a,hasFixedColumns:l,rowData:c,rowIndex:u,style:d,isScrolling:h,rowProps:f,rowClass:p,rowKey:m,rowEventHandlers:v,ns:g,onRowHovered:y,onRowExpanded:b}=t,w=EI(p,{columns:n,rowData:c,rowIndex:u},""),_=EI(f,{columns:n,rowData:c,rowIndex:u}),x=c[m],S=r[x]||0,M=Boolean(o),C=u<0,k=[g.e("row"),w,{[g.e(`row-depth-${S}`)]:M&&u>=0,[g.is("expanded")]:M&&s.includes(x),[g.is("fixed")]:!S&&C,[g.is("customized")]:Boolean(e.row)}],E=l?y:void 0,T={..._,columns:n,columnsStyles:i,class:k,depth:S,expandColumnKey:o,estimatedRowHeight:C?void 0:a,isScrolling:h,rowIndex:u,rowData:c,rowKey:x,rowEventHandlers:v,style:d};return $r(hR,Zr(T,{onRowExpand:b,onMouseenter:t=>{null==E||E({hovered:!0,rowKey:x,event:t,rowData:c,rowIndex:u})},onMouseleave:t=>{null==E||E({hovered:!1,rowKey:x,event:t,rowData:c,rowIndex:u})},rowkey:x}),"function"==typeof(A=e)||"[object Object]"===Object.prototype.toString.call(A)&&!Fr(A)?e:{default:()=>[e]});var A};const pR=(t,{slots:e})=>{var n;const{cellData:i,style:r}=t,o=(null==(n=null==i?void 0:i.toString)?void 0:n.call(i))||"",s=mi(e,"default",t,(()=>[o]));return $r("div",{class:t.class,title:o,style:r},[s])};pR.displayName="ElTableV2Cell",pR.inheritAttrs=!1;var mR=pR;var vR=t=>{const{expanded:e,expandable:n,onExpand:i,style:r,size:o}=t,s={onClick:n?()=>i(!e):void 0,class:t.class};return $r(Ff,Zr(s,{size:o,style:r}),{default:()=>[$r(zf,null,null)]})};const gR=({columns:t,column:e,columnIndex:n,depth:i,expandIconProps:r,isScrolling:o,rowData:s,rowIndex:a,style:l,expandedRowKeys:c,ns:u,cellProps:d,expandColumnKey:h,indentSize:f,iconSize:p,rowKey:v},{slots:g})=>{const b=TI(l);if(e.placeholderSign===SI)return $r("div",{class:u.em("row-cell","placeholder"),style:b},null);const{cellRenderer:w,dataKey:_,dataGetter:x}=e,S=m(x)?x({columns:t,column:e,columnIndex:n,rowData:s,rowIndex:a}):xc(s,null!=_?_:""),M=EI(d,{cellData:S,columns:t,column:e,columnIndex:n,rowIndex:a,rowData:s}),C={class:u.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:S,isScrolling:o,rowData:s,rowIndex:a},k=AI(w),E=k?k(C):mi(g,"default",C,(()=>[$r(mR,C,null)])),T=[u.e("row-cell"),e.class,e.align===wI.CENTER&&u.is("align-center"),e.align===wI.RIGHT&&u.is("align-right")],A=a>=0&&h&&e.key===h,N=a>=0&&c.includes(s[v]);let I;const R=`margin-inline-start: ${i*f}px;`;return A&&(I=y(r)?$r(vR,Zr(r,{class:[u.e("expand-icon"),u.is("expanded",N)],size:p,expanded:N,style:R,expandable:!0}),null):$r("div",{style:[R,`width: ${p}px; height: ${p}px;`].join(" ")},null)),$r("div",Zr({class:T,style:b},M,{role:"cell"}),[I,E])};gR.inheritAttrs=!1;var yR=gR;var bR=Un({name:"ElTableV2HeaderRow",props:Wh({class:String,columns:OI,columnsStyles:{type:Object,required:!0},headerIndex:Number,style:{type:Object}}),setup:(t,{slots:e})=>()=>{const{columns:n,columnsStyles:i,headerIndex:r,style:o}=t;let s=n.map(((t,o)=>e.cell({columns:n,column:t,columnIndex:o,headerIndex:r,style:i[t.key]})));return e.header&&(s=e.header({cells:s.map((t=>d(t)&&1===t.length?t[0]:t)),columns:n,headerIndex:r})),$r("div",{class:t.class,style:o,role:"row"},[s])}});var wR=({columns:t,columnsStyles:e,headerIndex:n,style:i,headerClass:r,headerProps:o,ns:s},{slots:a})=>{const l={columns:t,headerIndex:n},c=[s.e("header-row"),EI(r,l,""),{[s.is("customized")]:Boolean(a.header)}],u={...EI(o,l),columnsStyles:e,class:c,columns:t,headerIndex:n,style:i};return $r(bR,u,"function"==typeof(d=a)||"[object Object]"===Object.prototype.toString.call(d)&&!Fr(d)?a:{default:()=>[a]});var d};const _R=(t,{slots:e})=>mi(e,"default",t,(()=>{var e,n;return[$r("div",{class:t.class,title:null==(e=t.column)?void 0:e.title},[null==(n=t.column)?void 0:n.title])]}));_R.displayName="ElTableV2HeaderCell",_R.inheritAttrs=!1;var xR=_R;var SR=t=>{const{sortOrder:e}=t;return $r(Ff,{size:14,class:t.class},{default:()=>[e===bI.ASC?$r(bp,null,null):$r(yp,null,null)]})};var MR=(t,{slots:e})=>{const{column:n,ns:i,style:r,onColumnSorted:o}=t,s=TI(r);if(n.placeholderSign===SI)return $r("div",{class:i.em("header-row-cell","placeholder"),style:s},null);const{headerCellRenderer:a,headerClass:l,sortable:c}=n,u={...t,class:i.e("header-cell-text")},d=AI(a),h=d?d(u):mi(e,"default",u,(()=>[$r(xR,u,null)])),{sortBy:f,sortState:p,headerCellProps:m}=t;let v,g;if(p){const t=p[n.key];v=Boolean(xI[t]),g=v?t:bI.ASC}else v=n.key===f.key,g=v?f.order:bI.ASC;const y=[i.e("header-cell"),EI(l,t,""),n.align===wI.CENTER&&i.is("align-center"),n.align===wI.RIGHT&&i.is("align-right"),c&&i.is("sortable")],b={...EI(m,t),onClick:n.sortable?o:void 0,class:y,style:s,"data-key":n.key};return $r("div",Zr(b,{role:"columnheader"}),[h,c&&$r(SR,{class:[i.e("sort-icon"),v&&i.is("sorting")],sortOrder:g},null)])};const CR=(t,{slots:e})=>{var n;return $r("div",{class:t.class,style:t.style},[null==(n=e.default)?void 0:n.call(e)])};CR.displayName="ElTableV2Footer";var kR=CR;const ER=(t,{slots:e})=>{const n=mi(e,"default",{},(()=>[$r(cC,null,null)]));return $r("div",{class:t.class,style:t.style},[n])};ER.displayName="ElTableV2Empty";var TR=ER;const AR=(t,{slots:e})=>{var n;return $r("div",{class:t.class,style:t.style},[null==(n=e.default)?void 0:n.call(e)])};AR.displayName="ElTableV2Overlay";var NR=AR;function IR(t){return"function"==typeof t||"[object Object]"===Object.prototype.toString.call(t)&&!Fr(t)}var RR=Un({name:"ElTableV2",props:GI,setup(t,{slots:e,expose:n}){const i=fa("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:o,fixedColumnsOnRight:s,mainColumns:a,mainTableHeight:l,fixedTableHeight:c,leftTableWidth:u,rightTableWidth:d,data:h,depthMap:f,expandedRowKeys:p,hasFixedColumns:m,mainTableRef:v,leftTableRef:g,rightTableRef:y,isDynamic:b,isResetting:w,isScrolling:_,bodyWidth:x,emptyStyle:S,rootStyle:M,headerWidth:C,footerHeight:k,showEmpty:E,scrollTo:T,scrollToLeft:A,scrollToTop:N,scrollToRow:I,getRowHeight:R,onColumnSorted:O,onRowHeightChange:L,onRowHovered:D,onRowExpanded:P,onRowsRendered:B,onScroll:F,onVerticalScroll:U}=NI(t);return n({scrollTo:T,scrollToLeft:A,scrollToTop:N,scrollToRow:I}),zi(II,{ns:i,isResetting:w,isScrolling:_}),()=>{const{cache:n,cellProps:w,estimatedRowHeight:_,expandColumnKey:T,fixedData:A,headerHeight:N,headerClass:I,headerProps:H,headerCellProps:z,sortBy:V,sortState:$,rowHeight:G,rowClass:j,rowEventHandlers:W,rowKey:K,rowProps:q,scrollbarAlwaysOn:Y,indentSize:X,iconSize:Z,useIsScrolling:J,vScrollbarSize:Q,width:tt}=t,et=Te(h),nt={cache:n,class:i.e("main"),columns:Te(a),data:et,fixedData:A,estimatedRowHeight:_,bodyWidth:Te(x)+Q,headerHeight:N,headerWidth:Te(C),height:Te(l),mainTableRef:v,rowKey:K,rowHeight:G,scrollbarAlwaysOn:Y,scrollbarStartGap:2,scrollbarEndGap:Q,useIsScrolling:J,width:tt,getRowHeight:R,onRowsRendered:B,onScroll:F},it=Te(u),rt=Te(c),ot={cache:n,class:i.e("left"),columns:Te(o),data:et,fixedData:A,estimatedRowHeight:_,leftTableRef:g,rowHeight:G,bodyWidth:it,headerWidth:it,headerHeight:N,height:rt,rowKey:K,scrollbarAlwaysOn:Y,scrollbarStartGap:2,scrollbarEndGap:Q,useIsScrolling:J,width:it,getRowHeight:R,onScroll:U},st=Te(d)+Q,at={cache:n,class:i.e("right"),columns:Te(s),data:et,fixedData:A,estimatedRowHeight:_,rightTableRef:y,rowHeight:G,bodyWidth:st,headerWidth:st,headerHeight:N,height:rt,rowKey:K,scrollbarAlwaysOn:Y,scrollbarStartGap:2,scrollbarEndGap:Q,width:st,style:`--${Te(i.namespace)}-table-scrollbar-size: ${Q}px`,useIsScrolling:J,getRowHeight:R,onScroll:U},lt=Te(r),ct={ns:i,depthMap:Te(f),columnsStyles:lt,expandColumnKey:T,expandedRowKeys:Te(p),estimatedRowHeight:_,hasFixedColumns:Te(m),rowProps:q,rowClass:j,rowKey:K,rowEventHandlers:W,onRowHovered:D,onRowExpanded:P,onRowHeightChange:L},ut={cellProps:w,expandColumnKey:T,indentSize:X,iconSize:Z,rowKey:K,expandedRowKeys:Te(p),ns:i},dt={ns:i,headerClass:I,headerProps:H,columnsStyles:lt},ht={ns:i,sortBy:V,sortState:$,headerCellProps:z,onColumnSorted:O},ft={row:t=>$r(fR,Zr(t,ct),{row:e.row,cell:t=>{let n;return e.cell?$r(yR,Zr(t,ut,{style:lt[t.column.key]}),IR(n=e.cell(t))?n:{default:()=>[n]}):$r(yR,Zr(t,ut,{style:lt[t.column.key]}),null)}}),header:t=>$r(wR,Zr(t,dt),{header:e.header,cell:t=>{let n;return e["header-cell"]?$r(MR,Zr(t,ht,{style:lt[t.column.key]}),IR(n=e["header-cell"](t))?n:{default:()=>[n]}):$r(MR,Zr(t,ht,{style:lt[t.column.key]}),null)}})},pt=[t.class,i.b(),i.e("root"),{[i.is("dynamic")]:Te(b)}],mt={class:i.e("footer"),style:Te(k)};return $r("div",{class:pt,style:Te(M)},[$r(lR,nt,IR(ft)?ft:{default:()=>[ft]}),$r(cR,ot,IR(ft)?ft:{default:()=>[ft]}),$r(uR,at,IR(ft)?ft:{default:()=>[ft]}),e.footer&&$r(kR,mt,{default:e.footer}),Te(E)&&$r(TR,{class:i.e("empty"),style:Te(S)},{default:e.empty}),e.overlay&&$r(NR,{class:i.e("overlay")},{default:e.overlay})])}}});const OR=Wh({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:Function}});var LR=Un({name:"ElAutoResizer",props:OR,setup(t,{slots:e}){const n=fa("auto-resizer"),{height:i,width:r,sizer:o}=(t=>{const e=Me(),n=Me(0),i=Me(0);let r;return Zn((()=>{r=yh(e,(([t])=>{const{width:e,height:r}=t.contentRect,{paddingLeft:o,paddingRight:s,paddingTop:a,paddingBottom:l}=getComputedStyle(t.target),c=Number.parseInt(o)||0,u=Number.parseInt(s)||0,d=Number.parseInt(a)||0,h=Number.parseInt(l)||0;n.value=e-c-u,i.value=r-d-h})).stop})),ti((()=>{null==r||r()})),fr([n,i],(([e,n])=>{var i;null==(i=t.onResize)||i.call(t,{width:e,height:n})})),{sizer:e,width:n,height:i}})(t),s={width:"100%",height:"100%"};return()=>{var t;return $r("div",{ref:o,class:n.b(),style:s},[null==(t=e.default)?void 0:t.call(e,{height:i.value,width:r.value})])}}});const DR=Of(RR),PR=Of(LR),BR=Symbol("tabsRootContextKey"),FR=Wh({tabs:{type:Array,default:()=>[]}}),UR="ElTabBar";var HR=mf(Un({...Un({name:UR}),props:FR,setup(t,{expose:e}){const n=t,i=no(),r=Vi(BR);r||Oh(UR,"<el-tabs><el-tab-bar /></el-tabs>");const o=fa("tabs"),s=Me(),a=Me(),l=()=>a.value=(()=>{let t=0,e=0;const o=["top","bottom"].includes(r.props.tabPosition)?"width":"height",s="width"===o?"x":"y",a="x"===s?"left":"top";return n.tabs.every((n=>{var r,s;const l=null==(s=null==(r=i.parent)?void 0:r.refs)?void 0:s[`tab-${n.uid}`];if(!l)return!1;if(!n.active)return!0;t=l[`offset${kw(a)}`],e=l[`client${kw(o)}`];const c=window.getComputedStyle(l);return"width"===o&&(e-=Number.parseFloat(c.paddingLeft)+Number.parseFloat(c.paddingRight),t+=Number.parseFloat(c.paddingLeft)),!1})),{[o]:`${e}px`,transform:`translate${kw(s)}(${t}px)`}})(),c=[];fr((()=>n.tabs),(async()=>{await Qe(),l(),(()=>{var t;c.forEach((t=>t.stop())),c.length=0;const e=null==(t=i.parent)?void 0:t.refs;if(e)for(const n in e)if(n.startsWith("tab-")){const t=e[n];t&&c.push(yh(t,l))}})()}),{immediate:!0});const u=yh(s,(()=>l()));return ti((()=>{c.forEach((t=>t.stop())),c.length=0,u.stop()})),e({ref:s,update:l}),(t,e)=>(Rr(),Pr("div",{ref_key:"barRef",ref:s,class:$([Te(o).e("active-bar"),Te(o).is(Te(r).props.tabPosition)]),style:F(a.value)},null,6))}}),[["__file","tab-bar.vue"]]);const zR=Wh({panes:{type:Array,default:()=>[]},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),VR="ElTabNav",$R=Un({name:VR,props:zR,emits:{tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},setup(t,{expose:e,emit:n}){const i=Vi(BR);i||Oh(VR,"<el-tabs><tab-nav /></el-tabs>");const r=fa("tabs"),o=function({document:t=lh}={}){if(!t)return Me("visible");const e=Me(t.visibilityState);return ch(t,"visibilitychange",(()=>{e.value=t.visibilityState})),e}(),s=function({window:t=ah}={}){if(!t)return Me(!1);const e=Me(t.document.hasFocus());return ch(t,"blur",(()=>{e.value=!1})),ch(t,"focus",(()=>{e.value=!0})),e}(),a=Me(),l=Me(),c=Me(),u=Me(),d=Me(!1),h=Me(0),f=Me(!1),p=Me(!0),m=vo((()=>["top","bottom"].includes(i.props.tabPosition)?"width":"height")),v=vo((()=>({transform:`translate${"width"===m.value?"X":"Y"}(-${h.value}px)`}))),g=()=>{if(!a.value)return;const t=a.value[`offset${kw(m.value)}`],e=h.value;if(!e)return;const n=e>t?e-t:0;h.value=n},y=()=>{if(!a.value||!l.value)return;const t=l.value[`offset${kw(m.value)}`],e=a.value[`offset${kw(m.value)}`],n=h.value;if(t-n<=e)return;const i=t-n>2*e?n+e:t-e;h.value=i},b=async()=>{const t=l.value;if(!(d.value&&c.value&&a.value&&t))return;await Qe();const e=c.value.querySelector(".is-active");if(!e)return;const n=a.value,r=["top","bottom"].includes(i.props.tabPosition),o=e.getBoundingClientRect(),s=n.getBoundingClientRect(),u=r?t.offsetWidth-s.width:t.offsetHeight-s.height,f=h.value;let p=f;r?(o.left<s.left&&(p=f-(s.left-o.left)),o.right>s.right&&(p=f+o.right-s.right)):(o.top<s.top&&(p=f-(s.top-o.top)),o.bottom>s.bottom&&(p=f+(o.bottom-s.bottom))),p=Math.max(p,0),h.value=Math.min(p,u)},w=()=>{var e;if(!l.value||!a.value)return;t.stretch&&(null==(e=u.value)||e.update());const n=l.value[`offset${kw(m.value)}`],i=a.value[`offset${kw(m.value)}`],r=h.value;i<n?(d.value=d.value||{},d.value.prev=r,d.value.next=r+i<n,n-r<i&&(h.value=n-i)):(d.value=!1,r>0&&(h.value=0))},_=t=>{let e=0;switch(t.code){case ev.left:case ev.up:e=-1;break;case ev.right:case ev.down:e=1;break;default:return}const n=Array.from(t.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let i=n.indexOf(t.target)+e;i<0?i=n.length-1:i>=n.length&&(i=0),n[i].focus({preventScroll:!0}),n[i].click(),x()},x=()=>{p.value&&(f.value=!0)},S=()=>f.value=!1;return fr(o,(t=>{"hidden"===t?p.value=!1:"visible"===t&&setTimeout((()=>p.value=!0),50)})),fr(s,(t=>{t?setTimeout((()=>p.value=!0),50):p.value=!1})),yh(c,w),Zn((()=>setTimeout((()=>b()),0))),Qn((()=>w())),e({scrollToActiveTab:b,removeFocus:S}),()=>{const e=d.value?[$r("span",{class:[r.e("nav-prev"),r.is("disabled",!d.value.prev)],onClick:g},[$r(Ff,null,{default:()=>[$r(Hf,null,null)]})]),$r("span",{class:[r.e("nav-next"),r.is("disabled",!d.value.next)],onClick:y},[$r(Ff,null,{default:()=>[$r(zf,null,null)]})])]:null,o=t.panes.map(((e,o)=>{var s,a,l,c;const u=e.uid,d=e.props.disabled,h=null!=(a=null!=(s=e.props.name)?s:e.index)?a:`${o}`,p=!d&&(e.isClosable||t.editable);e.index=`${o}`;const m=p?$r(Ff,{class:"is-icon-close",onClick:t=>n("tabRemove",e,t)},{default:()=>[$r(Qf,null,null)]}):null,v=(null==(c=(l=e.slots).label)?void 0:c.call(l))||e.props.label,g=!d&&e.active?0:-1;return $r("div",{ref:`tab-${u}`,class:[r.e("item"),r.is(i.props.tabPosition),r.is("active",e.active),r.is("disabled",d),r.is("closable",p),r.is("focus",f.value)],id:`tab-${h}`,key:`tab-${u}`,"aria-controls":`pane-${h}`,role:"tab","aria-selected":e.active,tabindex:g,onFocus:()=>x(),onBlur:()=>S(),onClick:t=>{S(),n("tabClick",e,h,t)},onKeydown:t=>{!p||t.code!==ev.delete&&t.code!==ev.backspace||n("tabRemove",e,t)}},[v,m])}));return $r("div",{ref:c,class:[r.e("nav-wrap"),r.is("scrollable",!!d.value),r.is(i.props.tabPosition)]},[e,$r("div",{class:r.e("nav-scroll"),ref:a},[$r("div",{class:[r.e("nav"),r.is(i.props.tabPosition),r.is("stretch",t.stretch&&["top","bottom"].includes(i.props.tabPosition))],ref:l,style:v.value,role:"tablist",onKeydown:_},[t.type?null:$r(HR,{ref:u,tabs:[...t.panes]},null),o])])])}}}),GR=Wh({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Function,default:()=>!0},stretch:Boolean}),jR=t=>v(t)||Ld(t),WR={[uf]:t=>jR(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>jR(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>jR(t),tabAdd:()=>!0};var KR=Un({name:"ElTabs",props:GR,emits:WR,setup(t,{emit:e,slots:n,expose:i}){var r;const o=fa("tabs"),s=vo((()=>["left","right"].includes(t.tabPosition))),{children:a,addChild:l,removeChild:c}=Bb(no(),"ElTabPane"),u=Me(),d=Me(null!=(r=t.modelValue)?r:"0"),h=async(n,i=!1)=>{var r,o;if(d.value!==n&&!Rd(n))try{let s;if(t.beforeLeave){const e=t.beforeLeave(n,d.value);s=e instanceof Promise?await e:e}else s=!0;!1!==s&&(d.value=n,i&&(e(uf,n),e("tabChange",n)),null==(o=null==(r=u.value)?void 0:r.removeFocus)||o.call(r))}catch(ax){}},f=(t,n,i)=>{t.props.disabled||(h(n,!0),e("tabClick",t,i))},p=(t,n)=>{t.props.disabled||Rd(t.props.name)||(n.stopPropagation(),e("edit",t.props.name,"remove"),e("tabRemove",t.props.name))},m=()=>{e("edit",void 0,"add"),e("tabAdd")};fr((()=>t.modelValue),(t=>h(t))),fr(d,(async()=>{var t;await Qe(),null==(t=u.value)||t.scrollToActiveTab()})),zi(BR,{props:t,currentName:d,registerPane:t=>{a.value.push(t)},sortPane:l,unregisterPane:c}),i({currentName:d});const v=({render:t})=>t();return()=>{const e=n["add-icon"],i=t.editable||t.addable?$r("div",{class:[o.e("new-tab"),s.value&&o.e("new-tab-vertical")],tabindex:"0",onClick:m,onKeydown:t=>{[ev.enter,ev.numpadEnter].includes(t.code)&&m()}},[e?mi(n,"add-icon"):$r(Ff,{class:o.is("icon-plus")},{default:()=>[$r(hp,null,null)]})]):null,r=$r("div",{class:[o.e("header"),s.value&&o.e("header-vertical"),o.is(t.tabPosition)]},[$r(v,{render:()=>{const e=a.value.some((t=>t.slots.label));return $r($R,{ref:u,currentName:d.value,editable:t.editable,type:t.type,panes:a.value,stretch:t.stretch,onTabClick:f,onTabRemove:p},{$stable:!e})}},null),i]),l=$r("div",{class:o.e("content")},[mi(n,"default")]);return $r("div",{class:[o.b(),o.m(t.tabPosition),{[o.m("card")]:"card"===t.type,[o.m("border-card")]:"border-card"===t.type}]},[l,r])}}});const qR=Wh({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),YR="ElTabPane";var XR=mf(Un({...Un({name:YR}),props:qR,setup(t){const e=t,n=no(),i=_i(),r=Vi(BR);r||Oh(YR,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const o=fa("tab-pane"),s=Me(),a=vo((()=>e.closable||r.props.closable)),l=Kd((()=>{var t;return r.currentName.value===(null!=(t=e.name)?t:s.value)})),c=Me(l.value),u=vo((()=>{var t;return null!=(t=e.name)?t:s.value})),d=Kd((()=>!e.lazy||c.value||l.value));fr(l,(t=>{t&&(c.value=!0)}));const h=de({uid:n.uid,slots:i,props:e,paneName:u,active:l,index:s,isClosable:a});return r.registerPane(h),Zn((()=>{r.sortPane(h)})),ei((()=>{r.unregisterPane(h.uid)})),(t,e)=>Te(d)?dn((Rr(),Pr("div",{key:0,id:`pane-${Te(u)}`,class:$(Te(o).b()),role:"tabpanel","aria-hidden":!Te(l),"aria-labelledby":`tab-${Te(u)}`},[mi(t.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[qo,Te(l)]]):Kr("v-if",!0)}}),[["__file","tab-pane.vue"]]);const ZR=Of(KR,{TabPane:XR}),JR=Df(XR),QR=Wh({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:Kh,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}});const tO=Of(mf(Un({...Un({name:"ElText"}),props:QR,setup(t){const e=t,n=Me(),i=nm(),r=fa("text"),o=vo((()=>[r.b(),r.m(e.type),r.m(i.value),r.is("truncated",e.truncated),r.is("line-clamp",!Rd(e.lineClamp))])),s=xi().title,a=()=>{var t,i,r,o,a;if(s)return;let l=!1;const c=(null==(t=n.value)?void 0:t.textContent)||"";if(e.truncated){const t=null==(i=n.value)?void 0:i.offsetWidth,e=null==(r=n.value)?void 0:r.scrollWidth;t&&e&&e>t&&(l=!0)}else if(!Rd(e.lineClamp)){const t=null==(o=n.value)?void 0:o.offsetHeight,e=null==(a=n.value)?void 0:a.scrollHeight;t&&e&&e>t&&(l=!0)}l?n.value.setAttribute("title",c):n.value.removeAttribute("title")};return Zn(a),Qn(a),(t,e)=>(Rr(),Br(ci(t.tag),{ref_key:"textRef",ref:n,class:$(Te(o)),style:F({"-webkit-line-clamp":t.lineClamp})},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["class","style"]))}}),[["__file","text.vue"]])),eO=Wh({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:qh,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,includeEndTime:{type:Boolean,default:!1},name:String,prefixIcon:{type:[String,Object],default:()=>Jf},clearIcon:{type:[String,Object],default:()=>Zf},...Qh}),nO=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const i=Number.parseInt(e[1],10),r=t.toUpperCase();return r.includes("AM")&&12===n?n=0:r.includes("PM")&&12!==n&&(n+=12),{hours:n,minutes:i}}return null},iO=(t,e)=>{const n=nO(t);if(!n)return-1;const i=nO(e);if(!i)return-1;const r=n.minutes+60*n.hours,o=i.minutes+60*i.hours;return r===o?0:r>o?1:-1},rO=t=>`${t}`.padStart(2,"0"),oO=t=>`${rO(t.hours)}:${rO(t.minutes)}`,sO=(t,e)=>{const n=nO(t);if(!n)return"";const i=nO(e);if(!i)return"";const r={hours:n.hours,minutes:n.minutes};return r.minutes+=i.minutes,r.hours+=i.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,oO(r)};const aO=Of(mf(Un({...Un({name:"ElTimeSelect"}),props:eO,emits:["change","blur","focus","clear","update:modelValue"],setup(t,{expose:e}){const n=t;ib.extend(ex);const{Option:i}=rE,r=fa("input"),o=Me(),s=im(),{lang:a}=$h(),l=vo((()=>n.modelValue)),c=vo((()=>{const t=nO(n.start);return t?oO(t):null})),u=vo((()=>{const t=nO(n.end);return t?oO(t):null})),d=vo((()=>{const t=nO(n.step);return t?oO(t):null})),h=vo((()=>{const t=nO(n.minTime||"");return t?oO(t):null})),f=vo((()=>{const t=nO(n.maxTime||"");return t?oO(t):null})),p=vo((()=>{var t;const e=[],i=(t,n)=>{e.push({value:t,disabled:iO(n,h.value||"-1:-1")<=0||iO(n,f.value||"100:100")>=0})};if(n.start&&n.end&&n.step){let r,o=c.value;for(;o&&u.value&&iO(o,u.value)<=0;)r=ib(o,"HH:mm").locale(a.value).format(n.format),i(r,o),o=sO(o,d.value);if(n.includeEndTime&&u.value&&(null==(t=e[e.length-1])?void 0:t.value)!==u.value){i(ib(u.value,"HH:mm").locale(a.value).format(n.format),u.value)}}return e}));return e({blur:()=>{var t,e;null==(e=null==(t=o.value)?void 0:t.blur)||e.call(t)},focus:()=>{var t,e;null==(e=null==(t=o.value)?void 0:t.focus)||e.call(t)}}),(t,e)=>(Rr(),Br(Te(rE),{ref_key:"select",ref:o,"model-value":Te(l),disabled:Te(s),clearable:t.clearable,"clear-icon":t.clearIcon,size:t.size,effect:t.effect,placeholder:t.placeholder,"default-first-option":"",filterable:t.editable,"empty-values":t.emptyValues,"value-on-clear":t.valueOnClear,"onUpdate:modelValue":e=>t.$emit("update:modelValue",e),onChange:e=>t.$emit("change",e),onBlur:e=>t.$emit("blur",e),onFocus:e=>t.$emit("focus",e),onClear:()=>t.$emit("clear")},{prefix:un((()=>[t.prefixIcon?(Rr(),Br(Te(Ff),{key:0,class:$(Te(r).e("prefix-icon"))},{default:un((()=>[(Rr(),Br(ci(t.prefixIcon)))])),xt:1},8,["class"])):Kr("v-if",!0)])),default:un((()=>[(Rr(!0),Pr(kr,null,fi(Te(p),(t=>(Rr(),Br(Te(i),{key:t.value,label:t.value,value:t.value,disabled:t.disabled},null,8,["label","value","disabled"])))),128))])),xt:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}}),[["__file","time-select.vue"]])),lO=Un({name:"ElTimeline",setup(t,{slots:e}){const n=fa("timeline");return zi("timeline",e),()=>go("ul",{class:[n.b()]},[mi(e,"default")])}}),cO=Wh({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Ep},hollow:Boolean});var uO=mf(Un({...Un({name:"ElTimelineItem"}),props:cO,setup(t){const e=t,n=fa("timeline-item"),i=vo((()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]));return(t,e)=>(Rr(),Pr("li",{class:$([Te(n).b(),{[Te(n).e("center")]:t.center}])},[Vr("div",{class:$(Te(n).e("tail"))},null,2),t.$slots.dot?Kr("v-if",!0):(Rr(),Pr("div",{key:0,class:$(Te(i)),style:F({backgroundColor:t.color})},[t.icon?(Rr(),Br(Te(Ff),{key:0,class:$(Te(n).e("icon"))},{default:un((()=>[(Rr(),Br(ci(t.icon)))])),xt:1},8,["class"])):Kr("v-if",!0)],6)),t.$slots.dot?(Rr(),Pr("div",{key:1,class:$(Te(n).e("dot"))},[mi(t.$slots,"dot")],2)):Kr("v-if",!0),Vr("div",{class:$(Te(n).e("wrapper"))},[t.hideTimestamp||"top"!==t.placement?Kr("v-if",!0):(Rr(),Pr("div",{key:0,class:$([Te(n).e("timestamp"),Te(n).is("top")])},X(t.timestamp),3)),Vr("div",{class:$(Te(n).e("content"))},[mi(t.$slots,"default")],2),t.hideTimestamp||"bottom"!==t.placement?Kr("v-if",!0):(Rr(),Pr("div",{key:1,class:$([Te(n).e("timestamp"),Te(n).is("bottom")])},X(t.timestamp),3))],2)],2))}}),[["__file","timeline-item.vue"]]);const dO=Of(lO,{TimelineItem:uO}),hO=Df(uO),fO=Wh({nowrap:Boolean});var pO=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(pO||{});const mO=Object.values(pO),vO=Wh({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:Object,default:null}}),gO=Wh({side:{type:String,values:mO,required:!0}}),yO=Wh({arrowPadding:{type:Number,default:5},effect:{type:String,default:"light"},contentClass:String,placement:{type:String,values:["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],default:"bottom"},reference:{type:Object,default:null},offset:{type:Number,default:8},strategy:{type:String,values:["absolute","fixed"],default:"absolute"},showArrow:Boolean,...zp(["ariaLabel"])}),bO=Wh({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:Function},"onUpdate:open":{type:Function}}),wO={type:Function},_O=Wh({onBlur:wO,onClick:wO,onFocus:wO,onMouseDown:wO,onMouseEnter:wO,onMouseLeave:wO}),xO=Wh({...bO,...vO,..._O,...yO,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:Object,default:null},teleported:Boolean,to:{type:String,default:"body"}}),SO=Symbol("tooltipV2"),MO=Symbol("tooltipV2Content"),CO="tooltip_v2.open";var kO=mf(Un({...Un({name:"ElTooltipV2Root"}),props:bO,setup(t,{expose:e}){const n=t,i=Me(n.defaultOpen),r=Me(null),o=vo({get:()=>Bd(n.open)?i.value:n.open,set:t=>{var e;i.value=t,null==(e=n["onUpdate:open"])||e.call(n,t)}}),s=vo((()=>Ld(n.delayDuration)&&n.delayDuration>0)),{start:a,stop:l}=oh((()=>{o.value=!0}),vo((()=>n.delayDuration)),{immediate:!1}),c=fa("tooltip-v2"),u=Jp(),d=()=>{l(),o.value=!0},h=d,f=()=>{l(),o.value=!1};return fr(o,(t=>{var e;t&&(document.dispatchEvent(new CustomEvent(CO)),h()),null==(e=n.onOpenChange)||e.call(n,t)})),Zn((()=>{document.addEventListener(CO,f)})),ti((()=>{l(),document.removeEventListener(CO,f)})),zi(SO,{contentId:u,triggerRef:r,ns:c,onClose:f,onDelayOpen:()=>{Te(s)?a():d()},onOpen:h}),e({onOpen:h,onClose:f}),(t,e)=>mi(t.$slots,"default",{open:Te(o)})}}),[["__file","root.vue"]]);var EO=mf(Un({...Un({name:"ElTooltipV2Arrow"}),props:{...vO,...gO},setup(t){const e=t,{ns:n}=Vi(SO),{arrowRef:i}=Vi(MO),r=vo((()=>{const{style:t,width:i,height:r}=e,o=n.namespace.value;return{[`--${o}-tooltip-v2-arrow-width`]:`${i}px`,[`--${o}-tooltip-v2-arrow-height`]:`${r}px`,[`--${o}-tooltip-v2-arrow-border-width`]:i/2+"px",[`--${o}-tooltip-v2-arrow-cover-width`]:i/2-1,...t||{}}}));return(t,e)=>(Rr(),Pr("span",{ref_key:"arrowRef",ref:i,style:F(Te(r)),class:$(Te(n).e("arrow"))},null,6))}}),[["__file","arrow.vue"]]);const TO=Math.min,AO=Math.max,NO=Math.round,IO=Math.floor,RO=t=>({x:t,y:t}),OO={left:"right",right:"left",bottom:"top",top:"bottom"},LO={start:"end",end:"start"};function DO(t,e,n){return AO(t,TO(e,n))}function PO(t,e){return"function"==typeof t?t(e):t}function BO(t){return t.split("-")[0]}function FO(t){return t.split("-")[1]}function UO(t){return"x"===t?"y":"x"}function HO(t){return"y"===t?"height":"width"}function zO(t){return["top","bottom"].includes(BO(t))?"y":"x"}function VO(t){return UO(zO(t))}function $O(t){return t.replace(/start|end/g,(t=>LO[t]))}function GO(t){return t.replace(/left|right|bottom|top/g,(t=>OO[t]))}function jO(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function WO(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function KO(t,e,n){let{reference:i,floating:r}=t;const o=zO(e),s=VO(e),a=HO(s),l=BO(e),c="y"===o,u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[a]/2-r[a]/2;let f;switch(l){case"top":f={x:u,y:i.y-r.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:d};break;case"left":f={x:i.x-r.width,y:d};break;default:f={x:i.x,y:i.y}}switch(FO(e)){case"start":f[s]-=h*(n&&c?-1:1);break;case"end":f[s]+=h*(n&&c?-1:1)}return f}async function qO(t,e){var n;void 0===e&&(e={});const{x:i,y:r,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=PO(e,t),p=jO(f),m=a[h?"floating"===d?"reference":"floating":d],v=WO(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),g="floating"===d?{x:i,y:r,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),b=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},w=WO(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:y,strategy:l}):g);return{top:(v.top-w.top+p.top)/b.y,bottom:(w.bottom-v.bottom+p.bottom)/b.y,left:(v.left-w.left+p.left)/b.x,right:(w.right-v.right+p.right)/b.x}}function YO(){return"undefined"!=typeof window}function XO(t){return QO(t)?(t.nodeName||"").toLowerCase():"#document"}function ZO(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function JO(t){var e;return null==(e=(QO(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function QO(t){return!!YO()&&(t instanceof Node||t instanceof ZO(t).Node)}function tL(t){return!!YO()&&(t instanceof Element||t instanceof ZO(t).Element)}function eL(t){return!!YO()&&(t instanceof HTMLElement||t instanceof ZO(t).HTMLElement)}function nL(t){return!(!YO()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof ZO(t).ShadowRoot)}function iL(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=cL(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function rL(t){return["table","td","th"].includes(XO(t))}function oL(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch(ax){return!1}}))}function sL(t){const e=aL(),n=tL(t)?cL(t):t;return["transform","translate","scale","rotate","perspective"].some((t=>!!n[t]&&"none"!==n[t]))||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function aL(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function lL(t){return["html","body","#document"].includes(XO(t))}function cL(t){return ZO(t).getComputedStyle(t)}function uL(t){return tL(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function dL(t){if("html"===XO(t))return t;const e=t.assignedSlot||t.parentNode||nL(t)&&t.host||JO(t);return nL(e)?e.host:e}function hL(t){const e=dL(t);return lL(e)?t.ownerDocument?t.ownerDocument.body:t.body:eL(e)&&iL(e)?e:hL(e)}function fL(t,e,n){var i;void 0===e&&(e=[]),void 0===n&&(n=!0);const r=hL(t),o=r===(null==(i=t.ownerDocument)?void 0:i.body),s=ZO(r);if(o){const t=pL(s);return e.concat(s,s.visualViewport||[],iL(r)?r:[],t&&n?fL(t):[])}return e.concat(r,fL(r,[],n))}function pL(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function mL(t){const e=cL(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=eL(t),o=r?t.offsetWidth:n,s=r?t.offsetHeight:i,a=NO(n)!==o||NO(i)!==s;return a&&(n=o,i=s),{width:n,height:i,$:a}}function vL(t){return tL(t)?t:t.contextElement}function gL(t){const e=vL(t);if(!eL(e))return RO(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:o}=mL(e);let s=(o?NO(n.width):n.width)/i,a=(o?NO(n.height):n.height)/r;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const yL=RO(0);function bL(t){const e=ZO(t);return aL()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:yL}function wL(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);const r=t.getBoundingClientRect(),o=vL(t);let s=RO(1);e&&(i?tL(i)&&(s=gL(i)):s=gL(t));const a=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==ZO(t))&&e}(o,n,i)?bL(o):RO(0);let l=(r.left+a.x)/s.x,c=(r.top+a.y)/s.y,u=r.width/s.x,d=r.height/s.y;if(o){const t=ZO(o),e=i&&tL(i)?ZO(i):i;let n=t,r=pL(n);for(;r&&i&&e!==n;){const t=gL(r),e=r.getBoundingClientRect(),i=cL(r),o=e.left+(r.clientLeft+parseFloat(i.paddingLeft))*t.x,s=e.top+(r.clientTop+parseFloat(i.paddingTop))*t.y;l*=t.x,c*=t.y,u*=t.x,d*=t.y,l+=o,c+=s,n=ZO(r),r=pL(n)}}return WO({width:u,height:d,x:l,y:c})}function _L(t,e){const n=uL(t).scrollLeft;return e?e.left+n:wL(JO(t)).left+n}function xL(t,e,n){void 0===n&&(n=!1);const i=t.getBoundingClientRect();return{x:i.left+e.scrollLeft-(n?0:_L(t,i)),y:i.top+e.scrollTop}}function SL(t,e,n){let i;if("viewport"===e)i=function(t,e){const n=ZO(t),i=JO(t),r=n.visualViewport;let o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;const t=aL();(!t||t&&"fixed"===e)&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a,y:l}}(t,n);else if("document"===e)i=function(t){const e=JO(t),n=uL(t),i=t.ownerDocument.body,r=AO(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=AO(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+_L(t);const a=-n.scrollTop;return"rtl"===cL(i).direction&&(s+=AO(e.clientWidth,i.clientWidth)-r),{width:r,height:o,x:s,y:a}}(JO(t));else if(tL(e))i=function(t,e){const n=wL(t,!0,"fixed"===e),i=n.top+t.clientTop,r=n.left+t.clientLeft,o=eL(t)?gL(t):RO(1);return{width:t.clientWidth*o.x,height:t.clientHeight*o.y,x:r*o.x,y:i*o.y}}(e,n);else{const n=bL(t);i={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return WO(i)}function ML(t,e){const n=dL(t);return!(n===e||!tL(n)||lL(n))&&("fixed"===cL(n).position||ML(n,e))}function CL(t,e,n){const i=eL(e),r=JO(e),o="fixed"===n,s=wL(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=RO(0);if(i||!i&&!o)if(("body"!==XO(e)||iL(r))&&(a=uL(e)),i){const t=wL(e,!0,o,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else r&&(l.x=_L(r));const c=!r||i||o?RO(0):xL(r,a);return{x:s.left+a.scrollLeft-l.x-c.x,y:s.top+a.scrollTop-l.y-c.y,width:s.width,height:s.height}}function kL(t){return"static"===cL(t).position}function EL(t,e){if(!eL(t)||"fixed"===cL(t).position)return null;if(e)return e(t);let n=t.offsetParent;return JO(t)===n&&(n=n.ownerDocument.body),n}function TL(t,e){const n=ZO(t);if(oL(t))return n;if(!eL(t)){let e=dL(t);for(;e&&!lL(e);){if(tL(e)&&!kL(e))return e;e=dL(e)}return n}let i=EL(t,e);for(;i&&rL(i)&&kL(i);)i=EL(i,e);return i&&lL(i)&&kL(i)&&!sL(i)?n:i||function(t){let e=dL(t);for(;eL(e)&&!lL(e);){if(sL(e))return e;if(oL(e))return null;e=dL(e)}return null}(t)||n}const AL={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const o="fixed"===r,s=JO(i),a=!!e&&oL(e.floating);if(i===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=RO(1);const u=RO(0),d=eL(i);if((d||!d&&!o)&&(("body"!==XO(i)||iL(s))&&(l=uL(i)),eL(i))){const t=wL(i);c=gL(i),u.x=t.x+i.clientLeft,u.y=t.y+i.clientTop}const h=!s||d||o?RO(0):xL(s,l,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}},getDocumentElement:JO,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[..."clippingAncestors"===n?oL(e)?[]:function(t,e){const n=e.get(t);if(n)return n;let i=fL(t,[],!1).filter((t=>tL(t)&&"body"!==XO(t))),r=null;const o="fixed"===cL(t).position;let s=o?dL(t):t;for(;tL(s)&&!lL(s);){const e=cL(s),n=sL(s);n||"fixed"!==e.position||(r=null),(o?!n&&!r:!n&&"static"===e.position&&r&&["absolute","fixed"].includes(r.position)||iL(s)&&!n&&ML(t,s))?i=i.filter((t=>t!==s)):r=e,s=dL(s)}return e.set(t,i),i}(e,this.ct):[].concat(n),i],s=o[0],a=o.reduce(((t,n)=>{const i=SL(e,n,r);return t.top=AO(i.top,t.top),t.right=TO(i.right,t.right),t.bottom=TO(i.bottom,t.bottom),t.left=AO(i.left,t.left),t}),SL(e,s,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:TL,getElementRects:async function(t){const e=this.getOffsetParent||TL,n=this.getDimensions,i=await n(t.floating);return{reference:CL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=mL(t);return{width:e,height:n}},getScale:gL,isElement:tL,isRTL:function(t){return"rtl"===cL(t).direction}};function NL(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function IL(t,e,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=i,c=vL(t),u=r||o?[...c?fL(c):[],...fL(e)]:[];u.forEach((t=>{r&&t.addEventListener("scroll",n,{passive:!0}),o&&t.addEventListener("resize",n)}));const d=c&&a?function(t,e){let n,i=null;const r=JO(t);function o(){var t;clearTimeout(n),null==(t=i)||t.disconnect(),i=null}return function s(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const p={rootMargin:-IO(d)+"px "+-IO(r.clientWidth-(u+h))+"px "+-IO(r.clientHeight-(d+f))+"px "+-IO(u)+"px",threshold:AO(0,TO(1,l))||1};let m=!0;function v(e){const i=e[0].intersectionRatio;if(i!==l){if(!m)return s();i?s(!1,i):n=setTimeout((()=>{s(!1,1e-7)}),1e3)}1!==i||NL(c,t.getBoundingClientRect())||s(),m=!1}try{i=new IntersectionObserver(v,{...p,root:r.ownerDocument})}catch(ax){i=new IntersectionObserver(v,p)}i.observe(t)}(!0),o}(c,n):null;let h,f=-1,p=null;s&&(p=new ResizeObserver((t=>{let[i]=t;i&&i.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var t;null==(t=p)||t.observe(e)}))),n()})),c&&!l&&p.observe(c),p.observe(e));let m=l?wL(t):null;return l&&function e(){const i=wL(t);m&&!NL(m,i)&&n();m=i,h=requestAnimationFrame(e)}(),n(),()=>{var t;u.forEach((t=>{r&&t.removeEventListener("scroll",n),o&&t.removeEventListener("resize",n)})),null==d||d(),null==(t=p)||t.disconnect(),p=null,l&&cancelAnimationFrame(h)}}const RL=qO,OL=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:o,placement:s,middlewareData:a}=e,l=await async function(t,e){const{placement:n,platform:i,elements:r}=t,o=await(null==i.isRTL?void 0:i.isRTL(r.floating)),s=BO(n),a=FO(n),l="y"===zO(n),c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,d=PO(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:p}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&"number"==typeof p&&(f="end"===a?-1*p:p),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}(e,t);return s===(null==(n=a.offset)?void 0:n.placement)&&null!=(i=a.arrow)&&i.alignmentOffset?{}:{x:r+l.x,y:o+l.y,data:{...l,placement:s}}}}},LL=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...l}=PO(t,e),c={x:n,y:i},u=await qO(e,l),d=zO(BO(r)),h=UO(d);let f=c[h],p=c[d];if(o){const t="y"===h?"bottom":"right";f=DO(f+u["y"===h?"top":"left"],f,f-u[t])}if(s){const t="y"===d?"bottom":"right";p=DO(p+u["y"===d?"top":"left"],p,p-u[t])}const m=a.fn({...e,[h]:f,[d]:p});return{...m,data:{x:m.x-n,y:m.y-i,enabled:{[h]:o,[d]:s}}}}}},DL=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...v}=PO(t,e);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const g=BO(r),y=zO(a),b=BO(a)===a,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),_=h||(b||!m?[GO(a)]:function(t){const e=GO(t);return[$O(t),e,$O(e)]}(a)),x="none"!==p;!h&&x&&_.push(...function(t,e,n,i){const r=FO(t);let o=function(t,e,n){const i=["left","right"],r=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?o:s;default:return[]}}(BO(t),"start"===n,i);return r&&(o=o.map((t=>t+"-"+r)),e&&(o=o.concat(o.map($O)))),o}(a,m,p,w));const S=[a,..._],M=await qO(e,v),C=[];let k=(null==(i=o.flip)?void 0:i.overflows)||[];if(u&&C.push(M[g]),d){const t=function(t,e,n){void 0===n&&(n=!1);const i=FO(t),r=VO(t),o=HO(r);let s="x"===r?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=GO(s)),[s,GO(s)]}(r,s,w);C.push(M[t[0]],M[t[1]])}if(k=[...k,{placement:r,overflows:C}],!C.every((t=>t<=0))){var E,T;const t=((null==(E=o.flip)?void 0:E.index)||0)+1,e=S[t];if(e)return{data:{index:t,overflows:k},reset:{placement:e}};let n=null==(T=k.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:T.placement;if(!n)switch(f){case"bestFit":{var A;const t=null==(A=k.filter((t=>{if(x){const e=zO(t.placement);return e===y||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:A[0];t&&(n=t);break}case"initialPlacement":n=a}if(r!==n)return{reset:{placement:n}}}return{}}}},PL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=PO(t,e)||{};if(null==c)return{};const d=jO(u),h={x:n,y:i},f=VO(r),p=HO(f),m=await s.getDimensions(c),v="y"===f,g=v?"top":"left",y=v?"bottom":"right",b=v?"clientHeight":"clientWidth",w=o.reference[p]+o.reference[f]-h[f]-o.floating[p],_=h[f]-o.reference[f],x=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let S=x?x[b]:0;S&&await(null==s.isElement?void 0:s.isElement(x))||(S=a.floating[b]||o.floating[p]);const M=w/2-_/2,C=S/2-m[p]/2-1,k=TO(d[g],C),E=TO(d[y],C),T=k,A=S-m[p]-E,N=S/2-m[p]/2+M,I=DO(T,N,A),R=!l.arrow&&null!=FO(r)&&N!==I&&o.reference[p]/2-(N<T?k:E)-m[p]/2<0,O=R?N<T?N-T:N-A:0;return{[f]:h[f]+O,data:{[f]:I,centerOffset:N-I-O,...R&&{alignmentOffset:O}},reset:R}}}),BL=(t,e,n)=>{const i=new Map,r={platform:AL,...n},o={...r.platform,ct:i};return(async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=KO(c,i,l),h=i,f={},p=0;for(let m=0;m<a.length;m++){const{name:n,fn:o}=a[m],{x:v,y:g,data:y,reset:b}=await o({x:u,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:f,rects:c,platform:s,elements:{reference:t,floating:e}});u=null!=v?v:u,d=null!=g?g:d,f={...f,[n]:{...f[n],...y}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:t,floating:e,strategy:r}):b.rects),({x:u,y:d}=KO(c,h,l))),m=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:f}})(t,e,{...r,platform:o})},FL=Wh({style:{type:[String,Object,Array],default:()=>({})}});var UL=mf(Un({...Un({name:"ElVisuallyHidden"}),props:FL,setup(t){const e=t,n=vo((()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]));return(t,e)=>(Rr(),Pr("span",Zr(t.$attrs,{style:Te(n)}),[mi(t.$slots,"default")],16))}}),[["__file","visual-hidden.vue"]]);Wh({});const HL=({middleware:t,placement:e,strategy:n})=>{const i=Me(),r=Me(),o=Me(),s=Me(),a=Me({}),l={x:o,y:s,placement:e,strategy:n,middlewareData:a},c=async()=>{if(!qd)return;const o=(t=>{if(!qd)return;if(!t)return t;const e=sh(t);return e||(Se(t)?e:t)})(i),s=sh(r);if(!o||!s)return;const a=await BL(o,s,{placement:Te(e),strategy:Te(n),middleware:Te(t)});ef(l).forEach((t=>{l[t].value=a[t]}))};return Zn((()=>{hr((()=>{c()}))})),{...l,update:c,referenceRef:i,contentRef:r}};var zL=mf(Un({...Un({name:"ElTooltipV2Content"}),props:{...yO,...fO},setup(t){const e=t,{triggerRef:n,contentId:i}=Vi(SO),r=Me(e.placement),o=Me(e.strategy),s=Me(null),{referenceRef:a,contentRef:l,middlewareData:c,x:u,y:d,update:h}=HL({placement:r,strategy:o,middleware:vo((()=>{const t=[OL(e.offset)];return e.showArrow&&t.push((({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const i=Te(t);return i?PL({element:i,padding:e}).fn(n):{}}}))({arrowRef:s})),t}))}),f=Fh().nextZIndex(),p=fa("tooltip-v2"),m=vo((()=>r.value.split("-")[0])),v=vo((()=>({position:Te(o),top:`${Te(d)||0}px`,left:`${Te(u)||0}px`,zIndex:f}))),g=vo((()=>{if(!e.showArrow)return{};const{arrow:t}=Te(c);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${null==t?void 0:t.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${null==t?void 0:t.y}px`||""}})),y=vo((()=>[p.e("content"),p.is("dark","dark"===e.effect),p.is(Te(o)),e.contentClass]));return fr(s,(()=>h())),fr((()=>e.placement),(t=>r.value=t)),Zn((()=>{fr((()=>e.reference||n.value),(t=>{a.value=t||void 0}),{immediate:!0})})),zi(MO,{arrowRef:s}),(t,e)=>(Rr(),Pr("div",{ref_key:"contentRef",ref:l,style:F(Te(v)),"data-tooltip-v2-root":""},[t.nowrap?Kr("v-if",!0):(Rr(),Pr("div",{key:0,"data-side":Te(m),class:$(Te(y))},[mi(t.$slots,"default",{contentStyle:Te(v),contentClass:Te(y)}),$r(Te(UL),{id:Te(i),role:"tooltip"},{default:un((()=>[t.ariaLabel?(Rr(),Pr(kr,{key:0},[Wr(X(t.ariaLabel),1)],64)):mi(t.$slots,"default",{key:1})])),xt:3},8,["id"]),mi(t.$slots,"arrow",{style:F(Te(g)),side:Te(m)})],10,["data-side"]))],4))}}),[["__file","content.vue"]]);var VL=Un({props:Wh({setRef:{type:Function,required:!0},onlyChild:Boolean}),setup(t,{slots:e}){const n=Me(),i=nM(n,(e=>{e?t.setRef(e.nextElementSibling):t.setRef(null)}));return()=>{var n;const[r]=(null==(n=e.default)?void 0:n.call(e))||[],o=t.onlyChild?(t=>{if(!d(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]})(r.children):r.children;return $r(kr,{ref:i},[o])}}});const $L=Un({...Un({name:"ElTooltipV2Trigger"}),props:{...fO,..._O},setup(t){const e=t,{onClose:n,onOpen:i,onDelayOpen:r,triggerRef:o,contentId:s}=Vi(SO);let a=!1;const l=t=>{o.value=t},c=()=>{a=!1},u=Wg(e.onMouseEnter,r),d=Wg(e.onMouseLeave,n),h=Wg(e.onMouseDown,(()=>{n(),a=!0,document.addEventListener("mouseup",c,{once:!0})})),f=Wg(e.onFocus,(()=>{a||i()})),p=Wg(e.onBlur,n),m=Wg(e.onClick,(t=>{0===t.detail&&n()})),v={blur:p,click:m,focus:f,mousedown:h,mouseenter:u,mouseleave:d},g=(t,e,n)=>{t&&Object.entries(e).forEach((([e,i])=>{t[n](e,i)}))};return fr(o,((t,e)=>{g(t,v,"addEventListener"),g(e,v,"removeEventListener"),t&&t.setAttribute("aria-describedby",s.value)})),ti((()=>{g(o.value,v,"removeEventListener"),document.removeEventListener("mouseup",c)})),(t,e)=>t.nowrap?(Rr(),Br(Te(VL),{key:0,"set-ref":l,"only-child":""},{default:un((()=>[mi(t.$slots,"default")])),xt:3})):(Rr(),Pr("button",Zr({key:1,ref_key:"triggerRef",ref:o},t.$attrs),[mi(t.$slots,"default")],16))}});var GL=mf($L,[["__file","trigger.vue"]]);const jL=Of(mf(Un({...Un({name:"ElTooltipV2"}),props:xO,setup(t){const e=Re(t),n=de(Td(e,Object.keys(vO))),i=de(Td(e,Object.keys(yO))),r=de(Td(e,Object.keys(bO))),o=de(Td(e,Object.keys(_O)));return(t,e)=>(Rr(),Br(kO,G(Gr(r)),{default:un((({open:e})=>[$r(GL,Zr(o,{nowrap:""}),{default:un((()=>[mi(t.$slots,"trigger")])),xt:3},16),$r(Te(Xg),{to:t.to,disabled:!t.teleported},{default:un((()=>[t.fullTransition?(Rr(),Br(Ro,G(Zr({key:0},t.transitionProps)),{default:un((()=>[t.alwaysOn||e?(Rr(),Br(zL,G(Zr({key:0},i)),{arrow:un((({style:e,side:i})=>[t.showArrow?(Rr(),Br(EO,Zr({key:0},n,{style:e,side:i}),null,16,["style","side"])):Kr("v-if",!0)])),default:un((()=>[mi(t.$slots,"default")])),xt:3},16)):Kr("v-if",!0)])),xt:2},1040)):(Rr(),Pr(kr,{key:1},[t.alwaysOn||e?(Rr(),Br(zL,G(Zr({key:0},i)),{arrow:un((({style:e,side:i})=>[t.showArrow?(Rr(),Br(EO,Zr({key:0},n,{style:e,side:i}),null,16,["style","side"])):Kr("v-if",!0)])),default:un((()=>[mi(t.$slots,"default")])),xt:3},16)):Kr("v-if",!0)],64))])),xt:2},1032,["to","disabled"])])),xt:3},16))}}),[["__file","tooltip.vue"]])),WL="left-check-change",KL="right-check-change",qL=Wh({data:{type:Array,default:()=>[]},titles:{type:Array,default:()=>[]},buttonTexts:{type:Array,default:()=>[]},filterPlaceholder:String,filterMethod:{type:Function},leftDefaultChecked:{type:Array,default:()=>[]},rightDefaultChecked:{type:Array,default:()=>[]},renderContent:{type:Function},modelValue:{type:Array,default:()=>[]},format:{type:Object,default:()=>({})},filterable:Boolean,props:{type:Object,default:()=>({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),YL=(t,e)=>[t,e].every(d)||d(t)&&yd(e),XL={[df]:(t,e,n)=>[t,n].every(d)&&["left","right"].includes(e),[uf]:t=>d(t),[WL]:YL,[KL]:YL},ZL="checked-change",JL=Wh({data:qL.data,optionRender:{type:Function},placeholder:String,title:String,filterable:Boolean,format:qL.format,filterMethod:qL.filterMethod,defaultChecked:qL.leftDefaultChecked,props:qL.props}),QL={[ZL]:YL},tD=t=>{const e={label:"label",key:"key",disabled:"disabled"};return vo((()=>({...e,...t.props})))},eD=Un({...Un({name:"ElTransferPanel"}),props:JL,emits:QL,setup(t,{expose:e,emit:n}){const i=t,r=_i(),o=({option:t})=>t,{t:s}=$h(),a=fa("transfer"),l=de({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=tD(i),{filteredData:u,checkedSummary:d,isIndeterminate:h,handleAllCheckedChange:f}=((t,e,n)=>{const i=tD(t),r=vo((()=>t.data.filter((n=>m(t.filterMethod)?t.filterMethod(e.query,n):String(n[i.value.label]||n[i.value.key]).toLowerCase().includes(e.query.toLowerCase()))))),o=vo((()=>r.value.filter((t=>!t[i.value.disabled])))),s=vo((()=>{const n=e.checked.length,i=t.data.length,{noChecked:r,hasChecked:o}=t.format;return r&&o?n>0?o.replace(/\${checked}/g,n.toString()).replace(/\${total}/g,i.toString()):r.replace(/\${total}/g,i.toString()):`${n}/${i}`})),a=vo((()=>{const t=e.checked.length;return t>0&&t<o.value.length})),l=()=>{const t=o.value.map((t=>t[i.value.key]));e.allChecked=t.length>0&&t.every((t=>e.checked.includes(t)))};return fr((()=>e.checked),((t,i)=>{if(l(),e.checkChangeByUser){const e=t.concat(i).filter((e=>!t.includes(e)||!i.includes(e)));n(ZL,t,e)}else n(ZL,t),e.checkChangeByUser=!0})),fr(o,(()=>{l()})),fr((()=>t.data),(()=>{const t=[],n=r.value.map((t=>t[i.value.key]));e.checked.forEach((e=>{n.includes(e)&&t.push(e)})),e.checkChangeByUser=!1,e.checked=t})),fr((()=>t.defaultChecked),((t,n)=>{if(n&&t.length===n.length&&t.every((t=>n.includes(t))))return;const r=[],s=o.value.map((t=>t[i.value.key]));t.forEach((t=>{s.includes(t)&&r.push(t)})),e.checkChangeByUser=!1,e.checked=r}),{immediate:!0}),{filteredData:r,checkableData:o,checkedSummary:s,isIndeterminate:a,updateAllChecked:l,handleAllCheckedChange:t=>{e.checked=t?o.value.map((t=>t[i.value.key])):[]}}})(i,l,n),p=vo((()=>!Dd(l.query)&&Dd(u.value))),v=vo((()=>!Dd(r.default()[0].children))),{checked:g,allChecked:y,query:b}=Re(l);return e({query:b}),(t,e)=>(Rr(),Pr("div",{class:$(Te(a).b("panel"))},[Vr("p",{class:$(Te(a).be("panel","header"))},[$r(Te(nw),{modelValue:Te(y),"onUpdate:modelValue":t=>Se(y)?y.value=t:null,indeterminate:Te(h),"validate-event":!1,onChange:Te(f)},{default:un((()=>[Wr(X(t.title)+" ",1),Vr("span",null,X(Te(d)),1)])),xt:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),Vr("div",{class:$([Te(a).be("panel","body"),Te(a).is("with-footer",Te(v))])},[t.filterable?(Rr(),Br(Te(sm),{key:0,modelValue:Te(b),"onUpdate:modelValue":t=>Se(b)?b.value=t:null,class:$(Te(a).be("panel","filter")),size:"default",placeholder:t.placeholder,"prefix-icon":Te(gp),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):Kr("v-if",!0),dn($r(Te(rw),{modelValue:Te(g),"onUpdate:modelValue":t=>Se(g)?g.value=t:null,"validate-event":!1,class:$([Te(a).is("filterable",t.filterable),Te(a).be("panel","list")])},{default:un((()=>[(Rr(!0),Pr(kr,null,fi(Te(u),(e=>(Rr(),Br(Te(nw),{key:e[Te(c).key],class:$(Te(a).be("panel","item")),value:e[Te(c).key],disabled:e[Te(c).disabled],"validate-event":!1},{default:un((()=>{var n;return[$r(o,{option:null==(n=t.optionRender)?void 0:n.call(t,e)},null,8,["option"])]})),xt:2},1032,["class","value","disabled"])))),128))])),xt:1},8,["modelValue","onUpdate:modelValue","class"]),[[qo,!Te(p)&&!Te(Dd)(t.data)]]),dn(Vr("div",{class:$(Te(a).be("panel","empty"))},[mi(t.$slots,"empty",{},(()=>[Wr(X(Te(p)?Te(s)("el.transfer.noMatch"):Te(s)("el.transfer.noData")),1)]))],2),[[qo,Te(p)||Te(Dd)(t.data)]])],2),Te(v)?(Rr(),Pr("p",{key:0,class:$(Te(a).be("panel","footer"))},[mi(t.$slots,"default")],2)):Kr("v-if",!0)],2))}});var nD=mf(eD,[["__file","transfer-panel.vue"]]);const iD=Un({...Un({name:"ElTransfer"}),props:qL,emits:XL,setup(t,{expose:e,emit:n}){const i=t,r=_i(),{t:o}=$h(),s=fa("transfer"),{formItem:a}=Qp(),l=de({leftChecked:[],rightChecked:[]}),c=tD(i),{sourceData:u,targetData:d}=(t=>{const e=tD(t),n=vo((()=>t.data.reduce(((t,n)=>(t[n[e.value.key]]=n)&&t),{})));return{sourceData:vo((()=>t.data.filter((n=>!t.modelValue.includes(n[e.value.key]))))),targetData:vo((()=>"original"===t.targetOrder?t.data.filter((n=>t.modelValue.includes(n[e.value.key]))):t.modelValue.reduce(((t,e)=>{const i=n.value[e];return i&&t.push(i),t}),[])))}})(i),{onSourceCheckedChange:h,onTargetCheckedChange:f}=((t,e)=>({onSourceCheckedChange:(n,i)=>{t.leftChecked=n,i&&e(WL,n,i)},onTargetCheckedChange:(n,i)=>{t.rightChecked=n,i&&e(KL,n,i)}}))(l,n),{addToLeft:p,addToRight:m}=((t,e,n)=>{const i=tD(t),r=(t,e,i)=>{n(uf,t),n(df,t,e,i)};return{addToLeft:()=>{const n=t.modelValue.slice();e.rightChecked.forEach((t=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)})),r(n,"left",e.rightChecked)},addToRight:()=>{let n=t.modelValue.slice();const o=t.data.filter((n=>{const r=n[i.value.key];return e.leftChecked.includes(r)&&!t.modelValue.includes(r)})).map((t=>t[i.value.key]));n="unshift"===t.targetOrder?o.concat(n):n.concat(o),"original"===t.targetOrder&&(n=t.data.filter((t=>n.includes(t[i.value.key]))).map((t=>t[i.value.key]))),r(n,"right",e.leftChecked)}}})(i,l,n),v=Me(),g=Me(),y=vo((()=>2===i.buttonTexts.length)),b=vo((()=>i.titles[0]||o("el.transfer.titles.0"))),w=vo((()=>i.titles[1]||o("el.transfer.titles.1"))),_=vo((()=>i.filterPlaceholder||o("el.transfer.filterPlaceholder")));fr((()=>i.modelValue),(()=>{var t;i.validateEvent&&(null==(t=null==a?void 0:a.validate)||t.call(a,"change").catch((t=>{})))}));const x=vo((()=>t=>{var e;if(i.renderContent)return i.renderContent(go,t);const n=((null==(e=r.default)?void 0:e.call(r,{option:t}))||[]).filter((t=>t.type!==Tr));return n.length?n:go("span",t[c.value.label]||t[c.value.key])}));return e({clearQuery:t=>{switch(t){case"left":v.value.query="";break;case"right":g.value.query=""}},leftPanel:v,rightPanel:g}),(t,e)=>(Rr(),Pr("div",{class:$(Te(s).b())},[$r(nD,{ref_key:"leftPanel",ref:v,data:Te(u),"option-render":Te(x),placeholder:Te(_),title:Te(b),filterable:t.filterable,format:t.format,"filter-method":t.filterMethod,"default-checked":t.leftDefaultChecked,props:i.props,onCheckedChange:Te(h)},{empty:un((()=>[mi(t.$slots,"left-empty")])),default:un((()=>[mi(t.$slots,"left-footer")])),xt:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),Vr("div",{class:$(Te(s).e("buttons"))},[$r(Te(Zy),{type:"primary",class:$([Te(s).e("button"),Te(s).is("with-texts",Te(y))]),disabled:Te(Dd)(l.rightChecked),onClick:Te(p)},{default:un((()=>[$r(Te(Ff),null,{default:un((()=>[$r(Te(Hf))])),xt:1}),Te(Rd)(t.buttonTexts[0])?Kr("v-if",!0):(Rr(),Pr("span",{key:0},X(t.buttonTexts[0]),1))])),xt:1},8,["class","disabled","onClick"]),$r(Te(Zy),{type:"primary",class:$([Te(s).e("button"),Te(s).is("with-texts",Te(y))]),disabled:Te(Dd)(l.leftChecked),onClick:Te(m)},{default:un((()=>[Te(Rd)(t.buttonTexts[1])?Kr("v-if",!0):(Rr(),Pr("span",{key:0},X(t.buttonTexts[1]),1)),$r(Te(Ff),null,{default:un((()=>[$r(Te(zf))])),xt:1})])),xt:1},8,["class","disabled","onClick"])],2),$r(nD,{ref_key:"rightPanel",ref:g,data:Te(d),"option-render":Te(x),placeholder:Te(_),filterable:t.filterable,format:t.format,"filter-method":t.filterMethod,title:Te(w),"default-checked":t.rightDefaultChecked,props:i.props,onCheckedChange:Te(f)},{empty:un((()=>[mi(t.$slots,"right-empty")])),default:un((()=>[mi(t.$slots,"right-footer")])),xt:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});const rD=Of(mf(iD,[["__file","transfer.vue"]])),oD="$treeNodeId",sD=function(t,e){e&&!e[oD]&&Object.defineProperty(e,oD,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},aD=(t,e)=>null==e?void 0:e[t||oD],lD=(t,e,n)=>{const i=t.value.currentNode;n();const r=t.value.currentNode;i!==r&&e("current-change",r?r.data:null,r)},cD=t=>{let e=!0,n=!0,i=!0;for(let r=0,o=t.length;r<o;r++){const o=t[r];(!0!==o.checked||o.indeterminate)&&(e=!1,o.disabled||(i=!1)),(!1!==o.checked||o.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:i,half:!e&&!n}},uD=function(t){if(0===t.childNodes.length||t.loading)return;const{all:e,none:n,half:i}=cD(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):i?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;r&&0!==r.level&&(t.store.checkStrictly||uD(r))},dD=function(t,e){const n=t.store.props,i=t.data||{},r=n[e];if(m(r))return r(i,t);if(v(r))return i[r];if(Rd(r)){const t=i[e];return void 0===t?"":t}};let hD=0,fD=class t{constructor(t){this.id=hD++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const e in t)u(t,e)&&(this[e]=t[e]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const e=t.props;if(e&&void 0!==e.isLeaf){const t=dD(this,"isLeaf");Od(t)&&(this.isLeafByUser=t)}if(!0!==t.lazy&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&!this.isLeafByUser&&this.expand(),d(this.data)||sD(this,this.data),!this.data)return;const n=t.defaultExpandedKeys,i=t.key;i&&n&&n.includes(this.key)&&this.expand(null,t.autoExpandParent),i&&void 0!==t.currentNodeKey&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t.Ee(this),this.updateLeafState(),!this.parent||1!==this.level&&!0!==this.parent.expanded||(this.canFocus=!0)}setData(t){let e;d(t)||sD(this,t),this.data=t,this.childNodes=[],e=0===this.level&&d(this.data)?this.data:dD(this,"children")||[];for(let n=0,i=e.length;n<i;n++)this.insertChild({data:e[n]})}get label(){return dD(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return dD(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const e=t.childNodes.indexOf(this);if(e>-1)return t.childNodes[e+1]}return null}get previousSibling(){const t=this.parent;if(t){const e=t.childNodes.indexOf(this);if(e>-1)return e>0?t.childNodes[e-1]:null}return null}contains(t,e=!0){return(this.childNodes||[]).some((n=>n===t||e&&n.contains(t)))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(e,n,i){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof t)){if(!i){const t=this.getChildren(!0);t.includes(e.data)||(Rd(n)||n<0?t.push(e.data):t.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),(e=de(new t(e)))instanceof t&&e.initialize()}e.level=this.level+1,Rd(n)||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(t,e){let n;e&&(n=this.childNodes.indexOf(e)),this.insertChild(t,n)}insertAfter(t,e){let n;e&&(n=this.childNodes.indexOf(e),-1!==n&&(n+=1)),this.insertChild(t,n)}removeChild(t){const e=this.getChildren()||[],n=e.indexOf(t.data);n>-1&&e.splice(n,1);const i=this.childNodes.indexOf(t);i>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(i,1)),this.updateLeafState()}removeChildByData(t){let e=null;for(let n=0;n<this.childNodes.length;n++)if(this.childNodes[n].data===t){e=this.childNodes[n];break}e&&this.removeChild(e)}expand(t,e){const n=()=>{if(e){let t=this.parent;for(;t.level>0;)t.expanded=!0,t=t.parent}this.expanded=!0,t&&t(),this.childNodes.forEach((t=>{t.canFocus=!0}))};this.shouldLoadData()?this.loadData((t=>{d(t)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||uD(this),n())})):n()}doCreateChildren(t,e={}){t.forEach((t=>{this.insertChild(Object.assign({data:t},e),void 0,!0)}))}collapse(){this.expanded=!1,this.childNodes.forEach((t=>{t.canFocus=!1}))}shouldLoadData(){return!0===this.store.lazy&&this.store.load&&!this.loaded}updateLeafState(){if(!0===this.store.lazy&&!0!==this.loaded&&void 0!==this.isLeafByUser)return void(this.isLeaf=this.isLeafByUser);const t=this.childNodes;!this.store.lazy||!0===this.store.lazy&&!0===this.loaded?this.isLeaf=!t||0===t.length:this.isLeaf=!1}setChecked(t,e,n,i){if(this.indeterminate="half"===t,this.checked=!0===t,this.store.checkStrictly)return;if(!this.shouldLoadData()||this.store.checkDescendants){const{all:n,allWithoutDisable:r}=cD(this.childNodes);this.isLeaf||n||!r||(this.checked=!1,t=!1);const o=()=>{if(e){const n=this.childNodes;for(let s=0,a=n.length;s<a;s++){const r=n[s];i=i||!1!==t;const o=r.disabled?r.checked:i;r.setChecked(o,e,!0,i)}const{half:r,all:o}=cD(n);o||(this.checked=o,this.indeterminate=r)}};if(this.shouldLoadData())return void this.loadData((()=>{o(),uD(this)}),{checked:!1!==t});o()}const r=this.parent;r&&0!==r.level&&(n||uD(r))}getChildren(t=!1){if(0===this.level)return this.data;const e=this.data;if(!e)return null;const n=this.store.props;let i="children";return n&&(i=n.children||"children"),void 0===e[i]&&(e[i]=null),t&&!e[i]&&(e[i]=[]),e[i]}updateChildren(){const t=this.getChildren()||[],e=this.childNodes.map((t=>t.data)),n={},i=[];t.forEach(((t,r)=>{const o=t[oD];!!o&&e.findIndex((t=>t[oD]===o))>=0?n[o]={index:r,data:t}:i.push({index:r,data:t})})),this.store.lazy||e.forEach((t=>{n[t[oD]]||this.removeChildByData(t)})),i.forEach((({index:t,data:e})=>{this.insertChild({data:e},t)})),this.updateLeafState()}loadData(t,e={}){if(!0!==this.store.lazy||!this.store.load||this.loaded||this.loading&&!Object.keys(e).length)t&&t.call(this);else{this.loading=!0;const n=n=>{this.childNodes=[],this.doCreateChildren(n,e),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,n)},i=()=>{this.loading=!1};this.store.load(this,n,i)}}eachNode(t){const e=[this];for(;e.length;){const n=e.shift();e.unshift(...n.childNodes),t(n)}}reInitChecked(){this.store.checkStrictly||uD(this)}};class pD{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const e in t)u(t,e)&&(this[e]=t[e]);this.nodesMap={}}initialize(){if(this.root=new fD({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){(0,this.load)(this.root,(t=>{this.root.doCreateChildren(t),this.Te()}))}else this.Te()}filter(t){const e=this.filterNodeMethod,n=this.lazy,i=async function(r){const o=r.root?r.root.childNodes:r.childNodes;for(const[n,s]of o.entries())s.visible=e.call(s,t,s.data,s),n%80==0&&n>0&&await Qe(),i(s);if(!r.visible&&o.length){let t=!0;t=!o.some((t=>t.visible)),r.root?r.root.visible=!1===t:r.visible=!1===t}t&&r.visible&&!r.isLeaf&&(n&&!r.loaded||r.expand())};i(this)}setData(t){t!==this.root.data?(this.nodesMap={},this.root.setData(t),this.Te(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(t){if(t instanceof fD)return t;const e=y(t)?aD(this.key,t):t;return this.nodesMap[e]||null}insertBefore(t,e){const n=this.getNode(e);n.parent.insertBefore({data:t},n)}insertAfter(t,e){const n=this.getNode(e);n.parent.insertAfter({data:t},n)}remove(t){const e=this.getNode(t);e&&e.parent&&(e===this.currentNode&&(this.currentNode=null),e.parent.removeChild(e))}append(t,e){const n=Bd(e)?this.root:this.getNode(e);n&&n.insertChild({data:t})}Te(){const t=this.defaultCheckedKeys||[],e=this.nodesMap;t.forEach((t=>{const n=e[t];n&&n.setChecked(!0,!this.checkStrictly)}))}Ee(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this.Te())}registerNode(t){const e=this.key;if(t&&t.data)if(e){void 0!==t.key&&(this.nodesMap[t.key]=t)}else this.nodesMap[t.id]=t}deregisterNode(t){this.key&&t&&t.data&&(t.childNodes.forEach((t=>{this.deregisterNode(t)})),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,e=!1){const n=[],i=function(r){(r.root?r.root.childNodes:r.childNodes).forEach((r=>{(r.checked||e&&r.indeterminate)&&(!t||t&&r.isLeaf)&&n.push(r.data),i(r)}))};return i(this),n}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map((t=>(t||{})[this.key]))}getHalfCheckedNodes(){const t=[],e=function(n){(n.root?n.root.childNodes:n.childNodes).forEach((n=>{n.indeterminate&&t.push(n.data),e(n)}))};return e(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map((t=>(t||{})[this.key]))}Ae(){const t=[],e=this.nodesMap;for(const n in e)u(e,n)&&t.push(e[n]);return t}updateChildren(t,e){const n=this.nodesMap[t];if(!n)return;const i=n.childNodes;for(let r=i.length-1;r>=0;r--){const t=i[r];this.remove(t.data)}for(let r=0,o=e.length;r<o;r++){const t=e[r];this.append(t,n.data)}}Ne(t,e=!1,n){const i=this.Ae().sort(((t,e)=>t.level-e.level)),r=Object.create(null),o=Object.keys(n);i.forEach((t=>t.setChecked(!1,!1)));const s=e=>{e.childNodes.forEach((e=>{var n;r[e.data[t]]=!0,(null==(n=e.childNodes)?void 0:n.length)&&s(e)}))};for(let a=0,l=i.length;a<l;a++){const n=i[a],l=n.data[t].toString();if(o.includes(l)){if(n.childNodes.length&&s(n),n.isLeaf||this.checkStrictly)n.setChecked(!0,!1);else if(n.setChecked(!0,!0),e){n.setChecked(!1,!1);const t=function(e){e.childNodes.forEach((e=>{e.isLeaf||e.setChecked(!1,!1),t(e)}))};t(n)}}else n.checked&&!r[l]&&n.setChecked(!1,!1)}}setCheckedNodes(t,e=!1){const n=this.key,i={};t.forEach((t=>{i[(t||{})[n]]=!0})),this.Ne(n,e,i)}setCheckedKeys(t,e=!1){this.defaultCheckedKeys=t;const n=this.key,i={};t.forEach((t=>{i[t]=!0})),this.Ne(n,e,i)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach((t=>{const e=this.getNode(t);e&&e.expand(null,this.autoExpandParent)}))}setChecked(t,e,n){const i=this.getNode(t);i&&i.setChecked(!!e,n)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const e=this.currentNode;e&&(e.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,e=!0){const n=t[this.key],i=this.nodesMap[n];this.setCurrentNode(i),e&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,e=!0){if(this.currentNodeKey=t,null==t)return this.currentNode&&(this.currentNode.isCurrent=!1),void(this.currentNode=null);const n=this.getNode(t);n&&(this.setCurrentNode(n),e&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}var mD=mf(Un({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=fa("tree"),n=Vi("NodeInstance"),i=Vi("RootTree");return()=>{const r=t.node,{data:o,store:s}=r;return t.renderContent?t.renderContent(go,{ke:n,node:r,data:o,store:s}):mi(i.ctx.slots,"default",{node:r,data:o},(()=>[go("span",{class:e.be("node","label")},[r.label])]))}}}),[["__file","tree-node-content.vue"]]);function vD(t){const e=Vi("TreeNodeMap",null),n={treeNodeExpand:e=>{t.node!==e&&t.node.collapse()},children:[]};return e&&e.children.push(n),zi("TreeNodeMap",n),{broadcastExpanded:e=>{if(t.accordion)for(const t of n.children)t.treeNodeExpand(e)}}}const gD=Symbol("dragEvents");const yD=Un({name:"ElTreeNode",components:{ElCollapseTransition:s_,ElCheckbox:nw,NodeContent:mD,ElIcon:Ff,Loading:ap},props:{node:{type:fD,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=fa("tree"),{broadcastExpanded:i}=vD(t),r=Vi("RootTree"),o=Me(!1),s=Me(!1),a=Me(),l=Me(),c=Me(),u=Vi(gD),d=no();zi("NodeInstance",d),t.node.expanded&&(o.value=!0,s.value=!0);const h=r.props.props.children||"children";fr((()=>{var e;const n=null==(e=t.node.data)?void 0:e[h];return n&&[...n]}),(()=>{t.node.updateChildren()})),fr((()=>t.node.indeterminate),(e=>{p(t.node.checked,e)})),fr((()=>t.node.checked),(e=>{p(e,t.node.indeterminate)})),fr((()=>t.node.childNodes.length),(()=>t.node.reInitChecked())),fr((()=>t.node.expanded),(t=>{Qe((()=>o.value=t)),t&&(s.value=!0)}));const f=t=>aD(r.props.nodeKey,t.data),p=(e,n)=>{a.value===e&&l.value===n||r.ctx.emit("check-change",t.node.data,e,n),a.value=e,l.value=n},g=()=>{t.node.isLeaf||(o.value?(r.ctx.emit("node-collapse",t.node.data,t.node,d),t.node.collapse()):t.node.expand((()=>{e.emit("node-expand",t.node.data,t.node,d)})))},y=e=>{t.node.setChecked(e,!(null==r?void 0:r.props.checkStrictly)),Qe((()=>{const e=r.store.value;r.ctx.emit("check",t.node.data,{checkedNodes:e.getCheckedNodes(),checkedKeys:e.getCheckedKeys(),halfCheckedNodes:e.getHalfCheckedNodes(),halfCheckedKeys:e.getHalfCheckedKeys()})}))};return{ns:n,node$:c,tree:r,expanded:o,childNodeRendered:s,oldChecked:a,oldIndeterminate:l,getNodeKey:f,getNodeClass:e=>{const n=t.props.class;if(!n)return{};let i;if(m(n)){const{data:t}=e;i=n(t,e)}else i=n;return v(i)?{[i]:!0}:i},handleSelectChange:p,handleClick:e=>{lD(r.store,r.ctx.emit,(()=>{var e;if(null==(e=null==r?void 0:r.props)?void 0:e.nodeKey){const e=f(t.node);r.store.value.setCurrentNodeKey(e)}else r.store.value.setCurrentNode(t.node)})),r.currentNode.value=t.node,r.props.expandOnClickNode&&g(),(r.props.checkOnClickNode||t.node.isLeaf&&r.props.checkOnClickLeaf)&&!t.node.disabled&&y(!t.node.checked),r.ctx.emit("node-click",t.node.data,t.node,d,e)},handleContextMenu:e=>{var n;(null==(n=r.instance.vnode.props)?void 0:n.onNodeContextmenu)&&(e.stopPropagation(),e.preventDefault()),r.ctx.emit("node-contextmenu",e,t.node.data,t.node,d)},handleExpandIconClick:g,handleCheckChange:y,handleChildNodeExpand:(t,e,n)=>{i(e),r.ctx.emit("node-expand",t,e,n)},handleDragStart:e=>{r.props.draggable&&u.treeNodeDragStart({event:e,treeNode:t})},handleDragOver:e=>{e.preventDefault(),r.props.draggable&&u.treeNodeDragOver({event:e,treeNode:{$el:c.value,node:t.node}})},handleDrop:t=>{t.preventDefault()},handleDragEnd:t=>{r.props.draggable&&u.treeNodeDragEnd(t)},CaretRight:jf}}});const bD=Un({name:"ElTree",components:{ElTreeNode:mf(yD,[["render",function(t,e,n,i,r,o){const s=ai("el-icon"),a=ai("el-checkbox"),l=ai("loading"),c=ai("node-content"),u=ai("el-tree-node"),d=ai("el-collapse-transition");return dn((Rr(),Pr("div",{ref:"node$",class:$([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:Ds(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:Ds(t.handleDragStart,["stop"]),onDragover:Ds(t.handleDragOver,["stop"]),onDragend:Ds(t.handleDragEnd,["stop"]),onDrop:Ds(t.handleDrop,["stop"])},[Vr("div",{class:$(t.ns.be("node","content")),style:F({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(Rr(),Br(s,{key:0,class:$([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:Ds(t.handleExpandIconClick,["stop"])},{default:un((()=>[(Rr(),Br(ci(t.tree.props.icon||t.CaretRight)))])),xt:1},8,["class","onClick"])):Kr("v-if",!0),t.showCheckbox?(Rr(),Br(a,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:Ds((()=>{}),["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):Kr("v-if",!0),t.node.loading?(Rr(),Br(s,{key:2,class:$([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:un((()=>[$r(l)])),xt:1},8,["class"])):Kr("v-if",!0),$r(c,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),$r(d,null,{default:un((()=>[!t.renderAfterExpand||t.childNodeRendered?dn((Rr(),Pr("div",{key:0,class:$(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(Rr(!0),Pr(kr,null,fi(t.node.childNodes,(e=>(Rr(),Br(u,{key:t.getNodeKey(e),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:e,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"])))),128))],10,["aria-expanded"])),[[qo,t.expanded]]):Kr("v-if",!0)])),xt:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[qo,t.node.visible]])}],["__file","tree-node.vue"]])},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Ep}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=$h(),i=fa("tree"),r=Vi(Yk,null),o=Me(new pD({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));o.value.initialize();const s=Me(o.value.root),a=Me(null),l=Me(null),c=Me(null),{broadcastExpanded:u}=vD(t),{dragState:d}=function({props:t,ctx:e,el$:n,dropIndicator$:i,store:r}){const o=fa("tree"),s=Me({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return zi(gD,{treeNodeDragStart:({event:n,treeNode:i})=>{if(m(t.allowDrag)&&!t.allowDrag(i.node))return n.preventDefault(),!1;n.dataTransfer.effectAllowed="move";try{n.dataTransfer.setData("text/plain","")}catch(ax){}s.value.draggingNode=i,e.emit("node-drag-start",i.node,n)},treeNodeDragOver:({event:r,treeNode:a})=>{const l=a,c=s.value.dropNode;c&&c.node.id!==l.node.id&&_f(c.$el,o.is("drop-inner"));const u=s.value.draggingNode;if(!u||!l)return;let d=!0,h=!0,f=!0,p=!0;m(t.allowDrop)&&(d=t.allowDrop(u.node,l.node,"prev"),p=h=t.allowDrop(u.node,l.node,"inner"),f=t.allowDrop(u.node,l.node,"next")),r.dataTransfer.dropEffect=h||d||f?"move":"none",(d||h||f)&&(null==c?void 0:c.node.id)!==l.node.id&&(c&&e.emit("node-drag-leave",u.node,c.node,r),e.emit("node-drag-enter",u.node,l.node,r)),s.value.dropNode=d||h||f?l:null,l.node.nextSibling===u.node&&(f=!1),l.node.previousSibling===u.node&&(d=!1),l.node.contains(u.node,!1)&&(h=!1),(u.node===l.node||u.node.contains(l.node))&&(d=!1,h=!1,f=!1);const v=l.$el.querySelector(`.${o.be("node","content")}`).getBoundingClientRect(),g=n.value.getBoundingClientRect();let y;const b=d?h?.25:f?.45:1:-1,w=f?h?.75:d?.55:0:1;let _=-9999;const x=r.clientY-v.top;y=x<v.height*b?"before":x>v.height*w?"after":h?"inner":"none";const S=l.$el.querySelector(`.${o.be("node","expand-icon")}`).getBoundingClientRect(),M=i.value;"before"===y?_=S.top-g.top:"after"===y&&(_=S.bottom-g.top),M.style.top=`${_}px`,M.style.left=S.right-g.left+"px","inner"===y?wf(l.$el,o.is("drop-inner")):_f(l.$el,o.is("drop-inner")),s.value.showDropIndicator="before"===y||"after"===y,s.value.allowDrop=s.value.showDropIndicator||p,s.value.dropType=y,e.emit("node-drag-over",u.node,l.node,r)},treeNodeDragEnd:t=>{const{draggingNode:n,dropType:i,dropNode:a}=s.value;if(t.preventDefault(),t.dataTransfer&&(t.dataTransfer.dropEffect="move"),n&&a){const s={data:n.node.data};"none"!==i&&n.node.remove(),"before"===i?a.node.parent.insertBefore(s,a.node):"after"===i?a.node.parent.insertAfter(s,a.node):"inner"===i&&a.node.insertChild(s),"none"!==i&&(r.value.registerNode(s),r.value.key&&n.node.eachNode((t=>{var e;null==(e=r.value.nodesMap[t.data[r.value.key]])||e.setChecked(t.checked,!r.value.checkStrictly)}))),_f(a.$el,o.is("drop-inner")),e.emit("node-drag-end",n.node,a.node,i,t),"none"!==i&&e.emit("node-drop",n.node,a.node,i,t)}n&&!a&&e.emit("node-drag-end",n.node,null,i,t),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}({props:t,ctx:e,el$:l,dropIndicator$:c,store:o});!function({el$:t},e){const n=fa("tree"),i=Ce([]),r=Ce([]);Zn((()=>{o()})),Qn((()=>{i.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))})),fr(r,(t=>{t.forEach((t=>{t.setAttribute("tabindex","-1")}))})),ch(t,"keydown",(r=>{const o=r.target;if(!o.className.includes(n.b("node")))return;const s=r.code;i.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const a=i.value.indexOf(o);let l;if([ev.up,ev.down].includes(s)){if(r.preventDefault(),s===ev.up){l=-1===a?0:0!==a?a-1:i.value.length-1;const t=l;for(;!e.value.getNode(i.value[l].dataset.key).canFocus;){if(l--,l===t){l=-1;break}l<0&&(l=i.value.length-1)}}else{l=-1===a?0:a<i.value.length-1?a+1:0;const t=l;for(;!e.value.getNode(i.value[l].dataset.key).canFocus;){if(l++,l===t){l=-1;break}l>=i.value.length&&(l=0)}}-1!==l&&i.value[l].focus()}[ev.left,ev.right].includes(s)&&(r.preventDefault(),o.click());const c=o.querySelector('[type="checkbox"]');[ev.enter,ev.numpadEnter,ev.space].includes(s)&&c&&(r.preventDefault(),c.click())}));const o=()=>{var e;i.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const o=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);o.length?o[0].setAttribute("tabindex","0"):null==(e=i.value[0])||e.setAttribute("tabindex","0")}}({el$:l},o);const h=vo((()=>{const{childNodes:t}=s.value,e=!!r&&0!==r.hasFilteredOptions;return(!t||0===t.length||t.every((({visible:t})=>!t)))&&!e}));fr((()=>t.currentNodeKey),(t=>{o.value.setCurrentNodeKey(t)})),fr((()=>t.defaultCheckedKeys),(t=>{o.value.setDefaultCheckedKey(t)})),fr((()=>t.defaultExpandedKeys),(t=>{o.value.setDefaultExpandedKeys(t)})),fr((()=>t.data),(t=>{o.value.setData(t)}),{deep:!0}),fr((()=>t.checkStrictly),(t=>{o.value.checkStrictly=t}));const f=()=>{const t=o.value.getCurrentNode();return t?t.data:null};return zi("RootTree",{ctx:e,props:t,store:o,root:s,currentNode:a,instance:no()}),zi(qp,void 0),{ns:i,store:o,root:s,currentNode:a,dragState:d,el$:l,dropIndicator$:c,isEmpty:h,filter:e=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(e)},getNodeKey:e=>aD(t.nodeKey,e.data),getNodePath:e=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const n=o.value.getNode(e);if(!n)return[];const i=[n.data];let r=n.parent;for(;r&&r!==s.value;)i.push(r.data),r=r.parent;return i.reverse()},getCheckedNodes:(t,e)=>o.value.getCheckedNodes(t,e),getCheckedKeys:t=>o.value.getCheckedKeys(t),getCurrentNode:f,getCurrentKey:()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const e=f();return e?e[t.nodeKey]:null},setCheckedNodes:(e,n)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(e,n)},setCheckedKeys:(e,n)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(e,n)},setChecked:(t,e,n)=>{o.value.setChecked(t,e,n)},getHalfCheckedNodes:()=>o.value.getHalfCheckedNodes(),getHalfCheckedKeys:()=>o.value.getHalfCheckedKeys(),setCurrentNode:(n,i=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");lD(o,e.emit,(()=>{u(n),o.value.setUserCurrentNode(n,i)}))},setCurrentKey:(n,i=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");lD(o,e.emit,(()=>{u(),o.value.setCurrentNodeKey(n,i)}))},t:n,getNode:t=>o.value.getNode(t),remove:t=>{o.value.remove(t)},append:(t,e)=>{o.value.append(t,e)},insertBefore:(t,e)=>{o.value.insertBefore(t,e)},insertAfter:(t,e)=>{o.value.insertAfter(t,e)},handleNodeExpand:(t,n,i)=>{u(n),e.emit("node-expand",t,n,i)},updateKeyChildren:(e,n)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(e,n)}}}});const wD=Of(mf(bD,[["render",function(t,e,n,i,r,o){const s=ai("el-tree-node");return Rr(),Pr("div",{ref:"el$",class:$([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner","inner"===t.dragState.dropType),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(Rr(!0),Pr(kr,null,fi(t.root.childNodes,(e=>(Rr(),Br(s,{key:t.getNodeKey(e),node:e,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"])))),128)),t.isEmpty?(Rr(),Pr("div",{key:0,class:$(t.ns.e("empty-block"))},[mi(t.$slots,"empty",{},(()=>{var e;return[Vr("span",{class:$(t.ns.e("empty-text"))},X(null!=(e=t.emptyText)?e:t.t("el.tree.emptyText")),3)]}))],2)):Kr("v-if",!0),dn(Vr("div",{ref:"dropIndicator$",class:$(t.ns.e("drop-indicator"))},null,2),[[qo,t.dragState.showDropIndicator]])],2)}],["__file","tree.vue"]])),_D=Un({extends:oE,setup(t,e){const n=oE.setup(t,e);delete n.selectOptionClick;const i=no().proxy;return Qe((()=>{n.select.states.cachedOptions.get(i.value)||n.select.onOptionCreate(i)})),fr((()=>e.attrs.visible),(t=>{Qe((()=>{n.states.visible=t}))}),{immediate:!0}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function xD(t){return t||0===t}function SD(t){return d(t)&&t.length}function MD(t){return d(t)?t:xD(t)?[t]:[]}function CD(t,e,n,i,r){for(let o=0;o<t.length;o++){const s=t[o];if(e(s,o,t,r))return i?i(s,o,t,r):s;{const t=n(s);if(SD(t)){const r=CD(t,e,n,i,s);if(r)return r}}}}function kD(t,e,n,i){for(let r=0;r<t.length;r++){const o=t[r];e(o,r,t,i);const s=n(o);SD(s)&&kD(s,e,n,o)}}var ED=Un({props:{data:{type:Array,default:()=>[]}},setup(t){const e=Vi(Yk);return fr((()=>t.data),(()=>{var n;t.data.forEach((t=>{e.states.cachedOptions.has(t.value)||e.states.cachedOptions.set(t.value,t)}));const i=(null==(n=e.selectRef)?void 0:n.querySelectorAll("input"))||[];qd&&!Array.from(i).includes(document.activeElement)&&e.setSelected()}),{flush:"post",immediate:!0}),()=>{}}});const TD=Un({name:"ElTreeSelect",inheritAttrs:!1,props:{...rE.props,...wD.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:i}=e,r=Me(),o=Me(),s=vo((()=>t.nodeKey||t.valueKey||"value")),a=((t,{attrs:e,emit:n},{select:i,tree:r,key:o})=>{const s=fa("tree-select");return fr((()=>t.data),(()=>{t.filterable&&Qe((()=>{var t,e;null==(e=r.value)||e.filter(null==(t=i.value)?void 0:t.states.inputValue)}))}),{flush:"post"}),{...Td(Re(t),Object.keys(rE.props)),...e,class:vo((()=>e.class)),style:vo((()=>e.style)),"onUpdate:modelValue":t=>n(uf,t),valueKey:o,popperClass:vo((()=>{const e=[s.e("popper")];return t.popperClass&&e.push(t.popperClass),e.join(" ")})),filterMethod:(e="")=>{var n;t.filterMethod?t.filterMethod(e):t.remoteMethod?t.remoteMethod(e):null==(n=r.value)||n.filter(e)}}})(t,e,{select:r,tree:o,key:s}),{cacheOptions:l,...c}=((t,{attrs:e,slots:n,emit:i},{select:r,tree:o,key:s})=>{fr((()=>t.modelValue),(()=>{t.showCheckbox&&Qe((()=>{const e=o.value;e&&!gd(e.getCheckedKeys(),MD(t.modelValue))&&e.setCheckedKeys(MD(t.modelValue))}))}),{immediate:!0,deep:!0});const a=vo((()=>({value:s.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props}))),l=(t,e)=>{var n;const i=a.value[t];return m(i)?i(e,null==(n=o.value)?void 0:n.getNode(l("value",e))):e[i]},c=MD(t.modelValue).map((e=>CD(t.data||[],(t=>l("value",t)===e),(t=>l("children",t)),((t,e,n,i)=>i&&l("value",i))))).filter((t=>xD(t))),u=vo((()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const e=[];return kD(t.data.concat(t.cacheData),(t=>{const n=l("value",t);e.push({value:n,currentLabel:l("label",t),isDisabled:l("disabled",t)})}),(t=>l("children",t))),e})),d=()=>{var t;return null==(t=o.value)?void 0:t.getCheckedKeys().filter((t=>{var e;const n=null==(e=o.value)?void 0:e.getNode(t);return!yd(n)&&Dd(n.childNodes)}))};return{...Td(Re(t),Object.keys(wD.props)),...e,nodeKey:s,expandOnClickNode:vo((()=>!t.checkStrictly&&t.expandOnClickNode)),defaultExpandedKeys:vo((()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(c):c)),renderContent:(e,{node:i,data:r,store:o})=>e(_D,{value:l("value",r),label:l("label",r),disabled:l("disabled",r),visible:i.visible},t.renderContent?()=>t.renderContent(e,{node:i,data:r,store:o}):n.default?()=>n.default({node:i,data:r,store:o}):void 0),filterNodeMethod:(e,n,i)=>t.filterNodeMethod?t.filterNodeMethod(e,n,i):!e||new RegExp(Cw(e),"i").test(l("label",n)||""),onNodeClick:(n,i,o)=>{var s,a,c,u;if(null==(s=e.onNodeClick)||s.call(e,n,i,o),!t.showCheckbox||!t.checkOnClickNode){if(t.showCheckbox||!t.checkStrictly&&!i.isLeaf)t.expandOnClickNode&&o.proxy.handleExpandIconClick();else if(!l("disabled",n)){const t=null==(a=r.value)?void 0:a.states.options.get(l("value",n));null==(c=r.value)||c.handleOptionSelect(t)}null==(u=r.value)||u.focus()}},onCheck:(n,s)=>{var a;if(!t.showCheckbox)return;const c=l("value",n),u={};kD([o.value.store.root],(t=>u[t.key]=t),(t=>t.childNodes));const h=s.checkedKeys,f=t.multiple?MD(t.modelValue).filter((t=>!(t in u)&&!h.includes(t))):[],p=f.concat(h);if(t.checkStrictly)i(uf,t.multiple?p:p.includes(c)?c:void 0);else if(t.multiple){const t=d();i(uf,f.concat(t))}else{const e=CD([n],(t=>!SD(l("children",t))&&!l("disabled",t)),(t=>l("children",t))),r=e?l("value",e):void 0,o=xD(t.modelValue)&&!!CD([n],(e=>l("value",e)===t.modelValue),(t=>l("children",t)));i(uf,r===t.modelValue||o?void 0:r)}Qe((()=>{var i;const r=MD(t.modelValue);o.value.setCheckedKeys(r),null==(i=e.onCheck)||i.call(e,n,{checkedKeys:o.value.getCheckedKeys(),checkedNodes:o.value.getCheckedNodes(),halfCheckedKeys:o.value.getHalfCheckedKeys(),halfCheckedNodes:o.value.getHalfCheckedNodes()})})),null==(a=r.value)||a.focus()},onNodeExpand:(n,r,s)=>{var a;null==(a=e.onNodeExpand)||a.call(e,n,r,s),Qe((()=>{if(!t.checkStrictly&&t.lazy&&t.multiple&&r.checked){const e={},n=o.value.getCheckedKeys();kD([o.value.store.root],(t=>e[t.key]=t),(t=>t.childNodes));const r=MD(t.modelValue).filter((t=>!(t in e)&&!n.includes(t))),s=d();i(uf,r.concat(s))}}))},cacheOptions:u}})(t,e,{select:r,tree:o,key:s}),u=de({});return i(u),Zn((()=>{Object.assign(u,{...Td(o.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...Td(r.value,["focus","blur","selectedLabel"])})})),()=>go(rE,de({...a,ref:t=>r.value=t}),{...n,default:()=>[go(ED,{data:l.value}),go(wD,de({...c,ref:t=>o.value=t}))]})}});const AD=Of(mf(TD,[["__file","tree-select.vue"]])),ND=Symbol(),ID={key:-1,level:-1,data:{}};var RD=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t.CLASS="",t))(RD||{}),OD=(t=>(t.ADD="add",t.DELETE="delete",t))(OD||{});const LD={type:Number,default:26},DD=Wh({data:{type:Array,default:()=>[]},emptyText:{type:String},height:{type:Number,default:200},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:Array,default:()=>[]},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:Array,default:()=>[]},indent:{type:Number,default:16},itemSize:LD,icon:{type:Ep},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},checkOnClickLeaf:{type:Boolean,default:!0},currentNodeKey:{type:[String,Number]},accordion:{type:Boolean,default:!1},filterMethod:{type:Function},perfMode:{type:Boolean,default:!0}}),PD=Wh({node:{type:Object,default:()=>ID},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:LD}),BD=Wh({node:{type:Object,required:!0}}),FD="node-click",UD="node-drop",HD="node-expand",zD="node-collapse",VD="current-change",$D="check",GD="check-change",jD="node-contextmenu",WD={[FD]:(t,e,n)=>t&&e&&n,[UD]:(t,e,n)=>t&&e&&n,[HD]:(t,e)=>t&&e,[zD]:(t,e)=>t&&e,[VD]:(t,e)=>t&&e,[$D]:(t,e)=>t&&e,[GD]:(t,e)=>t&&Od(e),[jD]:(t,e,n)=>t&&e&&n},KD={click:(t,e)=>!(!t||!e),drop:(t,e)=>!(!t||!e),toggle:t=>!!t,check:(t,e)=>t&&Od(e)};function qD(t,e){const n=Me(new Set(t.defaultExpandedKeys)),i=Me(),r=Ce(),o=Me();fr((()=>t.currentNodeKey),(t=>{i.value=t}),{immediate:!0}),fr((()=>t.data),(t=>{L(t)}),{immediate:!0});const{isIndeterminate:s,isChecked:a,toggleCheckbox:l,getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:f,setCheckedKeys:p}=function(t,e){const n=Me(new Set),i=Me(new Set),{emit:r}=no();fr([()=>e.value,()=>t.defaultCheckedKeys],(()=>Qe((()=>{d(t.defaultCheckedKeys)}))),{immediate:!0});const o=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:r,maxLevel:o}=e.value,s=n.value,a=new Set;for(let t=o-1;t>=1;--t){const e=r.get(t);e&&e.forEach((t=>{const e=t.children;if(e){let n=!0,i=!1;for(const t of e){const e=t.key;if(s.has(e))i=!0;else{if(a.has(e)){n=!1,i=!0;break}n=!1}}n?s.add(t.key):i?(a.add(t.key),s.delete(t.key)):(s.delete(t.key),a.delete(t.key))}}))}i.value=a},s=t=>n.value.has(t.key),a=(e,i,r=!0,s=!0)=>{const a=n.value,c=(e,n)=>{a[n?OD.ADD:OD.DELETE](e.key);const i=e.children;!t.checkStrictly&&i&&i.forEach((t=>{t.disabled||c(t,n)}))};c(e,i),s&&o(),r&&l(e,i)},l=(t,e)=>{const{checkedNodes:n,checkedKeys:i}=c(),{halfCheckedNodes:o,halfCheckedKeys:s}=u();r($D,t.data,{checkedKeys:i,checkedNodes:n,halfCheckedKeys:s,halfCheckedNodes:o}),r(GD,t.data,e)};function c(i=!1){const r=[],o=[];if((null==e?void 0:e.value)&&t.showCheckbox){const{treeNodeMap:t}=e.value;n.value.forEach((e=>{const n=t.get(e);n&&(!i||i&&n.isLeaf)&&(o.push(e),r.push(n.data))}))}return{checkedKeys:o,checkedNodes:r}}function u(){const n=[],r=[];if((null==e?void 0:e.value)&&t.showCheckbox){const{treeNodeMap:t}=e.value;i.value.forEach((e=>{const i=t.get(e);i&&(r.push(e),n.push(i.data))}))}return{halfCheckedNodes:n,halfCheckedKeys:r}}function d(n){if(null==e?void 0:e.value){const{treeNodeMap:i}=e.value;if(t.showCheckbox&&i&&(null==n?void 0:n.length)>0){for(const t of n){const e=i.get(t);e&&!s(e)&&a(e,!0,!1,!1)}o()}}}return{updateCheckedKeys:o,toggleCheckbox:a,isChecked:s,isIndeterminate:t=>i.value.has(t.key),getCheckedKeys:function(t=!1){return c(t).checkedKeys},getCheckedNodes:function(t=!1){return c(t).checkedNodes},getHalfCheckedKeys:function(){return u().halfCheckedKeys},getHalfCheckedNodes:function(){return u().halfCheckedNodes},setChecked:function(n,i){if((null==e?void 0:e.value)&&t.showCheckbox){const t=e.value.treeNodeMap.get(n);t&&a(t,i,!1)}},setCheckedKeys:function(t){n.value.clear(),i.value.clear(),Qe((()=>{d(t)}))}}}(t,r),{doFilter:v,hiddenNodeKeySet:g,isForceHiddenExpandIcon:b}=function(t,e){const n=Me(new Set([])),i=Me(new Set([])),r=vo((()=>m(t.filterMethod)));return{hiddenExpandIconKeySet:i,hiddenNodeKeySet:n,doFilter:function(o){var s;if(!r.value)return;const a=new Set,l=i.value,c=n.value,u=[],d=(null==(s=e.value)?void 0:s.treeNodes)||[],h=t.filterMethod;return c.clear(),function t(e){e.forEach((e=>{u.push(e),(null==h?void 0:h(o,e.data,e))?u.forEach((t=>{a.add(t.key)})):e.isLeaf&&c.add(e.key);const n=e.children;if(n&&t(n),!e.isLeaf)if(a.has(e.key)){if(n){let t=!0;for(const e of n)if(!c.has(e.key)){t=!1;break}t?l.add(e.key):l.delete(e.key)}}else c.add(e.key);u.pop()}))}(d),a},isForceHiddenExpandIcon:function(t){return i.value.has(t.key)}}}(t,r),w=vo((()=>{var e;return(null==(e=t.props)?void 0:e.value)||RD.KEY})),_=vo((()=>{var e;return(null==(e=t.props)?void 0:e.children)||RD.CHILDREN})),x=vo((()=>{var e;return(null==(e=t.props)?void 0:e.disabled)||RD.DISABLED})),S=vo((()=>{var e;return(null==(e=t.props)?void 0:e.label)||RD.LABEL})),M=vo((()=>{var t;const e=n.value,i=g.value,o=[],s=(null==(t=r.value)?void 0:t.treeNodes)||[],a=[];for(let n=s.length-1;n>=0;--n)a.push(s[n]);for(;a.length;){const t=a.pop();if(!i.has(t.key)&&(o.push(t),t.children&&e.has(t.key)))for(let e=t.children.length-1;e>=0;--e)a.push(t.children[e])}return o})),C=vo((()=>M.value.length>0));function k(t){return t[_.value]}function E(t){return t?t[w.value]:""}function T(t){return t[x.value]}function A(t){return t[S.value]}function N(t){n.value.has(t.key)?R(t):I(t)}function I(i){const o=n.value;if(r.value&&t.accordion){const{treeNodeMap:t}=r.value;o.forEach((e=>{const n=t.get(e);i&&i.level===(null==n?void 0:n.level)&&o.delete(e)}))}o.add(i.key),e(HD,i.data,i)}function R(t){n.value.delete(t.key),e(zD,t.data,t)}function O(t){const e=i.value;return void 0!==e&&e===t.key}function L(t){Qe((()=>r.value=function(t){const e=new Map,n=new Map;let i=1;const r=function t(r,o=1,s){var a;const l=[];for(const i of r){const r=E(i),c={level:o,key:r,data:i};c.label=A(i),c.parent=s;const u=k(i);c.disabled=T(i),c.isLeaf=!u||0===u.length,u&&u.length&&(c.children=t(u,o+1,c)),l.push(c),e.set(r,c),n.has(o)||n.set(o,[]),null==(a=n.get(o))||a.push(c)}return o>i&&(i=o),l}(t);return{treeNodeMap:e,levelTreeNodeMap:n,maxLevel:i,treeNodes:r}}(t)))}function D(t){var e;const n=y(t)?E(t):t;return null==(e=r.value)?void 0:e.treeNodeMap.get(n)}return{tree:r,flattenTree:M,isNotEmpty:C,listRef:o,getKey:E,getChildren:k,toggleExpand:N,toggleCheckbox:l,isExpanded:function(t){return n.value.has(t.key)},isChecked:a,isIndeterminate:s,isDisabled:function(t){return!!t.disabled},isCurrent:O,isForceHiddenExpandIcon:b,handleNodeClick:function(n,r){e(FD,n.data,n,r),function(t){O(t)||(i.value=t.key,e(VD,t.data,t))}(n),t.expandOnClickNode&&N(n),t.showCheckbox&&(t.checkOnClickNode||n.isLeaf&&t.checkOnClickLeaf)&&!n.disabled&&l(n,!a(n),!0)},handleNodeDrop:function(t,n){e(UD,t.data,t,n)},handleNodeCheck:function(t,e){l(t,e)},getCurrentNode:function(){var t,e;if(i.value)return null==(e=null==(t=r.value)?void 0:t.treeNodeMap.get(i.value))?void 0:e.data},getCurrentKey:function(){return i.value},setCurrentKey:function(t){i.value=t},getCheckedKeys:c,getCheckedNodes:u,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:f,setCheckedKeys:p,filter:function(t){const e=v(t);e&&(n.value=e)},setData:L,getNode:D,expandNode:I,collapseNode:R,setExpandedKeys:function(t){const e=new Set,i=r.value.treeNodeMap;t.forEach((t=>{let n=i.get(t);for(;n&&!e.has(n.key);)e.add(n.key),n=n.parent})),n.value=e},scrollToNode:function(t,e="auto"){const n=D(t);n&&o.value&&o.value.scrollToItem(M.value.indexOf(n),e)},scrollTo:function(t){var e;null==(e=o.value)||e.scrollTo(t)}}}var YD=Un({name:"ElTreeNodeContent",props:BD,setup(t){const e=Vi(ND),n=fa("tree");return()=>{const i=t.node,{data:r}=i;return(null==e?void 0:e.ctx.slots.default)?e.ctx.slots.default({node:i,data:r}):go("span",{class:n.be("node","label")},[null==i?void 0:i.label])}}});const XD=Un({...Un({name:"ElTreeNode"}),props:PD,emits:KD,setup(t,{emit:e}){const n=t,i=Vi(ND),r=fa("tree"),o=vo((()=>{var t;return null!=(t=null==i?void 0:i.props.indent)?t:16})),s=vo((()=>{var t;return null!=(t=null==i?void 0:i.props.icon)?t:jf})),a=t=>{const e=null==i?void 0:i.props.props.class;if(!e)return{};let n;if(m(e)){const{data:i}=t;n=e(i,t)}else n=e;return v(n)?{[n]:!0}:n},l=t=>{e("click",n.node,t)},c=t=>{e("drop",n.node,t)},u=()=>{e("toggle",n.node)},d=t=>{e("check",n.node,t)},h=t=>{var e,r,o,s;(null==(o=null==(r=null==(e=null==i?void 0:i.instance)?void 0:e.vnode)?void 0:r.props)?void 0:o.onNodeContextmenu)&&(t.stopPropagation(),t.preventDefault()),null==i||i.ctx.emit(jD,t,null==(s=n.node)?void 0:s.data,n.node)};return(t,e)=>{var n,i,f;return Rr(),Pr("div",{ref:"node$",class:$([Te(r).b("node"),Te(r).is("expanded",t.expanded),Te(r).is("current",t.current),Te(r).is("focusable",!t.disabled),Te(r).is("checked",!t.disabled&&t.checked),a(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.disabled,"aria-checked":t.checked,"data-key":null==(n=t.node)?void 0:n.key,onClick:Ds(l,["stop"]),onContextmenu:h,onDragover:Ds((()=>{}),["prevent"]),onDragenter:Ds((()=>{}),["prevent"]),onDrop:Ds(c,["stop"])},[Vr("div",{class:$(Te(r).be("node","content")),style:F({paddingLeft:(t.node.level-1)*Te(o)+"px",height:t.itemSize+"px"})},[Te(s)?(Rr(),Br(Te(Ff),{key:0,class:$([Te(r).is("leaf",!!(null==(i=t.node)?void 0:i.isLeaf)),Te(r).is("hidden",t.hiddenExpandIcon),{expanded:!(null==(f=t.node)?void 0:f.isLeaf)&&t.expanded},Te(r).be("node","expand-icon")]),onClick:Ds(u,["stop"])},{default:un((()=>[(Rr(),Br(ci(Te(s))))])),xt:1},8,["class","onClick"])):Kr("v-if",!0),t.showCheckbox?(Rr(),Br(Te(nw),{key:1,"model-value":t.checked,indeterminate:t.indeterminate,disabled:t.disabled,onChange:d,onClick:Ds((()=>{}),["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):Kr("v-if",!0),$r(Te(YD),{node:t.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var ZD=mf(XD,[["__file","tree-node.vue"]]);const JD=Un({...Un({name:"ElTreeV2"}),props:DD,emits:WD,setup(t,{expose:e,emit:n}){const i=t,r=_i(),o=vo((()=>i.itemSize));zi(ND,{ctx:{emit:n,slots:r},props:i,instance:no()}),zi(qp,void 0);const{t:s}=$h(),a=fa("tree"),{flattenTree:l,isNotEmpty:c,listRef:u,toggleExpand:d,isExpanded:h,isIndeterminate:f,isChecked:p,isDisabled:m,isCurrent:v,isForceHiddenExpandIcon:g,handleNodeClick:y,handleNodeDrop:b,handleNodeCheck:w,toggleCheckbox:_,getCurrentNode:x,getCurrentKey:S,setCurrentKey:M,getCheckedKeys:C,getCheckedNodes:k,getHalfCheckedKeys:E,getHalfCheckedNodes:T,setChecked:A,setCheckedKeys:N,filter:I,setData:R,getNode:O,expandNode:L,collapseNode:D,setExpandedKeys:P,scrollToNode:B,scrollTo:U}=qD(i,n);return e({toggleCheckbox:_,getCurrentNode:x,getCurrentKey:S,setCurrentKey:M,getCheckedKeys:C,getCheckedNodes:k,getHalfCheckedKeys:E,getHalfCheckedNodes:T,setChecked:A,setCheckedKeys:N,filter:I,setData:R,getNode:O,expandNode:L,collapseNode:D,setExpandedKeys:P,scrollToNode:B,scrollTo:U}),(t,e)=>(Rr(),Pr("div",{class:$([Te(a).b(),{[Te(a).m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[Te(c)?(Rr(),Br(Te(jT),{key:0,ref_key:"listRef",ref:u,"class-name":Te(a).b("virtual-list"),data:Te(l),total:Te(l).length,height:t.height,"item-size":Te(o),"perf-mode":t.perfMode},{default:un((({data:e,index:n,style:i})=>[(Rr(),Br(ZD,{key:e[n].key,style:F(i),node:e[n],expanded:Te(h)(e[n]),"show-checkbox":t.showCheckbox,checked:Te(p)(e[n]),indeterminate:Te(f)(e[n]),"item-size":Te(o),disabled:Te(m)(e[n]),current:Te(v)(e[n]),"hidden-expand-icon":Te(g)(e[n]),onClick:Te(y),onToggle:Te(d),onCheck:Te(w),onDrop:Te(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))])),xt:1},8,["class-name","data","total","height","item-size","perf-mode"])):(Rr(),Pr("div",{key:1,class:$(Te(a).e("empty-block"))},[mi(t.$slots,"empty",{},(()=>{var e;return[Vr("span",{class:$(Te(a).e("empty-text"))},X(null!=(e=t.emptyText)?e:Te(s)("el.tree.emptyText")),3)]}))],2))],2))}});const QD=Of(mf(JD,[["__file","tree.vue"]])),tP=Symbol("uploadContextKey");class eP extends Error{constructor(t,e,n,i){super(t),this.name="UploadAjaxError",this.status=e,this.method=n,this.url=i}}function nP(t,e,n){let i;return i=n.response?`${n.response.error||n.response}`:n.responseText?`${n.responseText}`:`fail to ${e.method} ${t} ${n.status}`,new eP(i,n.status,e.method,t)}const iP=["text","picture","picture-card"];let rP=1;const oP=()=>Date.now()+rP++,sP=Wh({action:{type:String,default:"#"},headers:{type:Object},method:{type:String,default:"post"},data:{type:[Object,Function,Promise],default:()=>({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:Array,default:()=>[]},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:iP,default:"text"},httpRequest:{type:Function,default:t=>{"undefined"==typeof XMLHttpRequest&&Oh("ElUpload","XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",(e=>{const n=e;n.percent=e.total>0?e.loaded/e.total*100:0,t.onProgress(n)}));const i=new FormData;if(t.data)for(const[o,s]of Object.entries(t.data))d(s)&&s.length?i.append(o,...s):i.append(o,s);i.append(t.filename,t.file,t.file.name),e.addEventListener("error",(()=>{t.onError(nP(n,t,e))})),e.addEventListener("load",(()=>{if(e.status<200||e.status>=300)return t.onError(nP(n,t,e));t.onSuccess(function(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch(ax){return e}}(e))})),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=t.headers||{};if(r instanceof Headers)r.forEach(((t,n)=>e.setRequestHeader(n,t)));else for(const[o,s]of Object.entries(r))yd(s)||e.setRequestHeader(o,String(s));return e.send(i),e}},disabled:Boolean,limit:Number}),aP=Wh({...sP,beforeUpload:{type:Function,default:i},beforeRemove:{type:Function},onRemove:{type:Function,default:i},onChange:{type:Function,default:i},onPreview:{type:Function,default:i},onSuccess:{type:Function,default:i},onProgress:{type:Function,default:i},onError:{type:Function,default:i},onExceed:{type:Function,default:i},crossorigin:{type:String}}),lP=Wh({files:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},handlePreview:{type:Function,default:i},listType:{type:String,values:iP,default:"text"},crossorigin:{type:String}}),cP=Un({...Un({name:"ElUploadList"}),props:lP,emits:{remove:t=>!!t},setup(t,{emit:e}){const n=t,{t:i}=$h(),r=fa("upload"),o=fa("icon"),s=fa("list"),a=im(),l=Me(!1),c=vo((()=>[r.b("list"),r.bm("list",n.listType),r.is("disabled",n.disabled)])),u=t=>{e("remove",t)};return(t,e)=>(Rr(),Br(bs,{tag:"ul",class:$(Te(c)),name:Te(s).b()},{default:un((()=>[(Rr(!0),Pr(kr,null,fi(t.files,((e,n)=>(Rr(),Pr("li",{key:e.uid||e.name,class:$([Te(r).be("list","item"),Te(r).is(e.status),{focusing:l.value}]),tabindex:"0",onKeydown:Bs((t=>!Te(a)&&u(e)),["delete"]),onFocus:t=>l.value=!0,onBlur:t=>l.value=!1,onClick:t=>l.value=!1},[mi(t.$slots,"default",{file:e,index:n},(()=>["picture"===t.listType||"uploading"!==e.status&&"picture-card"===t.listType?(Rr(),Pr("img",{key:0,class:$(Te(r).be("list","item-thumbnail")),src:e.url,crossorigin:t.crossorigin,alt:""},null,10,["src","crossorigin"])):Kr("v-if",!0),"uploading"===e.status||"picture-card"!==t.listType?(Rr(),Pr("div",{key:1,class:$(Te(r).be("list","item-info"))},[Vr("a",{class:$(Te(r).be("list","item-name")),onClick:Ds((n=>t.handlePreview(e)),["prevent"])},[$r(Te(Ff),{class:$(Te(o).m("document"))},{default:un((()=>[$r(Te(ip))])),xt:1},8,["class"]),Vr("span",{class:$(Te(r).be("list","item-file-name")),title:e.name},X(e.name),11,["title"])],10,["onClick"]),"uploading"===e.status?(Rr(),Br(Te(FE),{key:0,type:"picture-card"===t.listType?"circle":"line","stroke-width":"picture-card"===t.listType?6:2,percentage:Number(e.percentage),style:F("picture-card"===t.listType?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Kr("v-if",!0)],2)):Kr("v-if",!0),Vr("label",{class:$(Te(r).be("list","item-status-label"))},["text"===t.listType?(Rr(),Br(Te(Ff),{key:0,class:$([Te(o).m("upload-success"),Te(o).m("circle-check")])},{default:un((()=>[$r(Te(Yf))])),xt:1},8,["class"])):["picture-card","picture"].includes(t.listType)?(Rr(),Br(Te(Ff),{key:1,class:$([Te(o).m("upload-success"),Te(o).m("check")])},{default:un((()=>[$r(Te(Kf))])),xt:1},8,["class"])):Kr("v-if",!0)],2),Te(a)?Kr("v-if",!0):(Rr(),Br(Te(Ff),{key:2,class:$(Te(o).m("close")),onClick:t=>u(e)},{default:un((()=>[$r(Te(Qf))])),xt:2},1032,["class","onClick"])),Kr(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Kr(" This is a bug which needs to be fixed "),Kr(" TODO: Fix the incorrect navigation interaction "),Te(a)?Kr("v-if",!0):(Rr(),Pr("i",{key:3,class:$(Te(o).m("close-tip"))},X(Te(i)("el.upload.deleteTip")),3)),"picture-card"===t.listType?(Rr(),Pr("span",{key:4,class:$(Te(r).be("list","item-actions"))},[Vr("span",{class:$(Te(r).be("list","item-preview")),onClick:n=>t.handlePreview(e)},[$r(Te(Ff),{class:$(Te(o).m("zoom-in"))},{default:un((()=>[$r(Te(Cp))])),xt:1},8,["class"])],10,["onClick"]),Te(a)?Kr("v-if",!0):(Rr(),Pr("span",{key:0,class:$(Te(r).be("list","item-delete")),onClick:t=>u(e)},[$r(Te(Ff),{class:$(Te(o).m("delete"))},{default:un((()=>[$r(Te(np))])),xt:1},8,["class"])],10,["onClick"]))],2)):Kr("v-if",!0)]))],42,["onKeydown","onFocus","onBlur","onClick"])))),128)),mi(t.$slots,"append")])),xt:3},8,["class","name"]))}});var uP=mf(cP,[["__file","upload-list.vue"]]);const dP=Wh({disabled:{type:Boolean,default:!1}}),hP={file:t=>d(t)},fP="ElUploadDrag",pP=Un({...Un({name:fP}),props:dP,emits:hP,setup(t,{emit:e}){Vi(tP)||Oh(fP,"usage: <el-upload><el-upload-dragger /></el-upload>");const n=fa("upload"),i=Me(!1),r=im(),o=t=>{if(r.value)return;i.value=!1,t.stopPropagation();const n=Array.from(t.dataTransfer.files);e("file",n)},s=()=>{r.value||(i.value=!0)};return(t,e)=>(Rr(),Pr("div",{class:$([Te(n).b("dragger"),Te(n).is("dragover",i.value)]),onDrop:Ds(o,["prevent"]),onDragover:Ds(s,["prevent"]),onDragleave:Ds((t=>i.value=!1),["prevent"])},[mi(t.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var mP=mf(pP,[["__file","upload-dragger.vue"]]);const vP=Wh({...sP,beforeUpload:{type:Function,default:i},onRemove:{type:Function,default:i},onStart:{type:Function,default:i},onSuccess:{type:Function,default:i},onProgress:{type:Function,default:i},onError:{type:Function,default:i},onExceed:{type:Function,default:i}}),gP=Un({...Un({name:"ElUploadContent",inheritAttrs:!1}),props:vP,setup(t,{expose:e}){const n=t,i=fa("upload"),r=im(),o=Ce({}),s=Ce(),a=t=>{if(0===t.length)return;const{autoUpload:e,limit:i,fileList:r,multiple:o,onStart:s,onExceed:a}=n;if(i&&r.length+t.length>i)a(t,r);else{o||(t=t.slice(0,1));for(const n of t){const t=n;t.uid=oP(),s(t),e&&l(t)}}},l=async t=>{if(s.value.value="",!n.beforeUpload)return c(t);let e,i={};try{const r=n.data,o=n.beforeUpload(t);i=x(n.data)?Nu(n.data):n.data,e=await o,x(n.data)&&gd(r,i)&&(i=Nu(n.data))}catch(ax){e=!1}if(!1===e)return void n.onRemove(t);let r=t;e instanceof Blob&&(r=e instanceof File?e:new File([e],t.name,{type:t.type})),c(Object.assign(r,{uid:t.uid}),i)},c=async(t,e)=>{const{headers:i,data:r,method:s,withCredentials:a,name:l,action:c,onProgress:u,onSuccess:d,onError:h,httpRequest:f}=n;try{e=await(async(t,e)=>m(t)?t(e):t)(null!=e?e:r,t)}catch(ax){return void n.onRemove(t)}const{uid:p}=t,v={headers:i||{},withCredentials:a,file:t,data:e,method:s,filename:l,action:c,onProgress:e=>{u(e,t)},onSuccess:e=>{d(e,t),delete o.value[p]},onError:e=>{h(e,t),delete o.value[p]}},g=f(v);o.value[p]=g,g instanceof Promise&&g.then(v.onSuccess,v.onError)},u=t=>{const e=t.target.files;e&&a(Array.from(e))},d=()=>{r.value||(s.value.value="",s.value.click())},h=()=>{d()};return e({abort:t=>{const e=nf(o.value).filter(t?([e])=>String(t.uid)===e:()=>!0);e.forEach((([t,e])=>{e instanceof XMLHttpRequest&&e.abort(),delete o.value[t]}))},upload:l}),(t,e)=>(Rr(),Pr("div",{class:$([Te(i).b(),Te(i).m(t.listType),Te(i).is("drag",t.drag),Te(i).is("disabled",Te(r))]),tabindex:Te(r)?"-1":"0",onClick:d,onKeydown:Bs(Ds(h,["self"]),["enter","space"])},[t.drag?(Rr(),Br(mP,{key:0,disabled:Te(r),onFile:a},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["disabled"])):mi(t.$slots,"default",{key:1}),Vr("input",{ref_key:"inputRef",ref:s,class:$(Te(i).e("input")),name:t.name,disabled:Te(r),multiple:t.multiple,accept:t.accept,type:"file",onChange:u,onClick:Ds((()=>{}),["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var yP=mf(gP,[["__file","upload-content.vue"]]);const bP="ElUpload",wP=t=>{var e;(null==(e=t.url)?void 0:e.startsWith("blob:"))&&URL.revokeObjectURL(t.url)};const _P=Of(mf(Un({...Un({name:"ElUpload"}),props:aP,setup(t,{expose:e}){const n=t,i=im(),r=Ce(),{abort:o,submit:s,clearFiles:a,uploadFiles:l,handleStart:c,handleError:u,handleRemove:d,handleSuccess:h,handleProgress:f,revokeFileObjectURL:p}=((t,e)=>{const n=Ih(t,"fileList",void 0,{passive:!0}),i=t=>n.value.find((e=>e.uid===t.uid));function r(t){var n;null==(n=e.value)||n.abort(t)}function o(t){n.value=n.value.filter((e=>e.uid!==t.uid))}return fr((()=>t.listType),(e=>{"picture-card"!==e&&"picture"!==e||(n.value=n.value.map((e=>{const{raw:i,url:r}=e;if(!r&&i)try{e.url=URL.createObjectURL(i)}catch(o){t.onError(o,e,n.value)}return e})))})),fr(n,(t=>{for(const e of t)e.uid||(e.uid=oP()),e.status||(e.status="success")}),{immediate:!0,deep:!0}),{uploadFiles:n,abort:r,clearFiles:function(t=["ready","uploading","success","fail"]){n.value=n.value.filter((e=>!t.includes(e.status)))},handleError:(e,r)=>{const s=i(r);s&&(s.status="fail",o(s),t.onError(e,s,n.value),t.onChange(s,n.value))},handleProgress:(e,r)=>{const o=i(r);o&&(t.onProgress(e,o,n.value),o.status="uploading",o.percentage=Math.round(e.percent))},handleStart:e=>{yd(e.uid)&&(e.uid=oP());const i={name:e.name,percentage:0,status:"ready",size:e.size,raw:e,uid:e.uid};if("picture-card"===t.listType||"picture"===t.listType)try{i.url=URL.createObjectURL(e)}catch(r){r.message,t.onError(r,i,n.value)}n.value=[...n.value,i],t.onChange(i,n.value)},handleSuccess:(e,r)=>{const o=i(r);o&&(o.status="success",o.response=e,t.onSuccess(e,o,n.value),t.onChange(o,n.value))},handleRemove:async e=>{const s=e instanceof File?i(e):e;s||Oh(bP,"file to be removed not found");const a=e=>{r(e),o(e),t.onRemove(e,n.value),wP(e)};t.beforeRemove?!1!==await t.beforeRemove(s,n.value)&&a(s):a(s)},submit:function(){n.value.filter((({status:t})=>"ready"===t)).forEach((({raw:t})=>{var n;return t&&(null==(n=e.value)?void 0:n.upload(t))}))},revokeFileObjectURL:wP}})(n,r),m=vo((()=>"picture-card"===n.listType)),v=vo((()=>({...n,fileList:l.value,onStart:c,onProgress:f,onSuccess:h,onError:u,onRemove:d})));return ti((()=>{l.value.forEach(p)})),zi(tP,{accept:De(n,"accept")}),e({abort:o,submit:s,clearFiles:a,handleStart:c,handleRemove:d}),(t,e)=>(Rr(),Pr("div",null,[Te(m)&&t.showFileList?(Rr(),Br(uP,{key:0,disabled:Te(i),"list-type":t.listType,files:Te(l),crossorigin:t.crossorigin,"handle-preview":t.onPreview,onRemove:Te(d)},pi({append:un((()=>[$r(yP,Zr({ref_key:"uploadRef",ref:r},Te(v)),{default:un((()=>[t.$slots.trigger?mi(t.$slots,"trigger",{key:0}):Kr("v-if",!0),!t.$slots.trigger&&t.$slots.default?mi(t.$slots,"default",{key:1}):Kr("v-if",!0)])),xt:3},16)])),xt:2},[t.$slots.file?{name:"default",fn:un((({file:e,index:n})=>[mi(t.$slots,"file",{file:e,index:n})]))}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Kr("v-if",!0),!Te(m)||Te(m)&&!t.showFileList?(Rr(),Br(yP,Zr({key:1,ref_key:"uploadRef",ref:r},Te(v)),{default:un((()=>[t.$slots.trigger?mi(t.$slots,"trigger",{key:0}):Kr("v-if",!0),!t.$slots.trigger&&t.$slots.default?mi(t.$slots,"default",{key:1}):Kr("v-if",!0)])),xt:3},16)):Kr("v-if",!0),t.$slots.trigger?mi(t.$slots,"default",{key:2}):Kr("v-if",!0),mi(t.$slots,"tip"),!Te(m)&&t.showFileList?(Rr(),Br(uP,{key:3,disabled:Te(i),"list-type":t.listType,files:Te(l),crossorigin:t.crossorigin,"handle-preview":t.onPreview,onRemove:Te(d)},pi({xt:2},[t.$slots.file?{name:"default",fn:un((({file:e,index:n})=>[mi(t.$slots,"file",{file:e,index:n})]))}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Kr("v-if",!0)]))}}),[["__file","upload.vue"]])),xP=Wh({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:[String,Array],default:"Element Plus"},font:{type:Object},gap:{type:Array,default:()=>[100,100]},offset:{type:Array}});function SP(t,e,n=1){const i=document.createElement("canvas"),r=i.getContext("2d"),o=t*n,s=e*n;return i.setAttribute("width",`${o}px`),i.setAttribute("height",`${s}px`),r.save(),[r,i,o,s]}function MP(){return function(t,e,n,i,r,o,s,a){const[l,c,u,h]=SP(i,r,n);if(t instanceof HTMLImageElement)l.drawImage(t,0,0,u,h);else{const{color:e,fontSize:i,fontStyle:s,fontWeight:a,fontFamily:c,textAlign:h,textBaseline:f}=o,p=Number(i)*n;l.font=`${s} normal ${a} ${p}px/${r}px ${c}`,l.fillStyle=e,l.textAlign=h,l.textBaseline=f;const m=d(t)?t:[t];null==m||m.forEach(((t,e)=>{l.fillText(null!=t?t:"",u/2,e*(p+3*n))}))}const f=Math.PI/180*Number(e),p=Math.max(i,r),[m,v,g]=SP(p,p,n);m.translate(g/2,g/2),m.rotate(f),u>0&&h>0&&m.drawImage(c,-u/2,-h/2);let y=0,b=0,w=0,_=0;const x=u/2,S=h/2;[[0-x,0-S],[0+x,0-S],[0+x,0+S],[0-x,0+S]].forEach((([t,e])=>{const[n,i]=function(t,e){return[t*Math.cos(f)-e*Math.sin(f),t*Math.sin(f)+e*Math.cos(f)]}(t,e);y=Math.min(y,n),b=Math.max(b,n),w=Math.min(w,i),_=Math.max(_,i)}));const M=y+g/2,C=w+g/2,k=b-y,E=_-w,T=s*n,A=a*n,N=2*(k+T),I=E+A,[R,O]=SP(N,I);function L(t=0,e=0){R.drawImage(v,M,C,k,E,t,e,k,E)}return L(),L(k+T,-E/2-A/2),L(k+T,+E/2+A/2),[O.toDataURL(),N/n,I/n]}}const CP=Of(mf(Un({...Un({name:"ElWatermark"}),props:xP,setup(t){const e=t,n={position:"relative"},i=vo((()=>{var t,n;return null!=(n=null==(t=e.font)?void 0:t.color)?n:"rgba(0,0,0,.15)"})),r=vo((()=>{var t,n;return null!=(n=null==(t=e.font)?void 0:t.fontSize)?n:16})),o=vo((()=>{var t,n;return null!=(n=null==(t=e.font)?void 0:t.fontWeight)?n:"normal"})),s=vo((()=>{var t,n;return null!=(n=null==(t=e.font)?void 0:t.fontStyle)?n:"normal"})),a=vo((()=>{var t,n;return null!=(n=null==(t=e.font)?void 0:t.fontFamily)?n:"sans-serif"})),l=vo((()=>{var t,n;return null!=(n=null==(t=e.font)?void 0:t.textAlign)?n:"center"})),c=vo((()=>{var t,n;return null!=(n=null==(t=e.font)?void 0:t.textBaseline)?n:"hanging"})),u=vo((()=>e.gap[0])),h=vo((()=>e.gap[1])),f=vo((()=>u.value/2)),p=vo((()=>h.value/2)),m=vo((()=>{var t,n;return null!=(n=null==(t=e.offset)?void 0:t[0])?n:f.value})),v=vo((()=>{var t,n;return null!=(n=null==(t=e.offset)?void 0:t[1])?n:p.value})),g=()=>{const t={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let n=m.value-f.value,i=v.value-p.value;return n>0&&(t.left=`${n}px`,t.width=`calc(100% - ${n}px)`,n=0),i>0&&(t.top=`${i}px`,t.height=`calc(100% - ${i}px)`,i=0),t.backgroundPosition=`${n}px ${i}px`,t},y=Ce(null),b=Ce(),w=Me(!1),_=()=>{b.value&&(b.value.remove(),b.value=void 0)},x=(t,e)=>{var n;y.value&&b.value&&(w.value=!0,b.value.setAttribute("style",function(t){return Object.keys(t).map((e=>`${function(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}(e)}: ${t[e]};`)).join(" ")}({...g(),backgroundImage:`url('${t}')`,backgroundSize:`${Math.floor(e)}px`})),null==(n=y.value)||n.append(b.value),setTimeout((()=>{w.value=!1})))},S=MP(),M=()=>{const t=document.createElement("canvas").getContext("2d"),n=e.image,f=e.content,p=e.rotate;if(t){b.value||(b.value=document.createElement("div"));const m=window.devicePixelRatio||1,[v,g]=(t=>{let n=120,i=64;const o=e.image,s=e.content,l=e.width,c=e.height;if(!o&&t.measureText){t.font=`${Number(r.value)}px ${a.value}`;const e=d(s)?s:[s],o=e.map((e=>{const n=t.measureText(e);return[n.width,void 0!==n.fontBoundingBoxAscent?n.fontBoundingBoxAscent+n.fontBoundingBoxDescent:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent]}));n=Math.ceil(Math.max(...o.map((t=>t[0])))),i=Math.ceil(Math.max(...o.map((t=>t[1]))))*e.length+3*(e.length-1)}return[null!=l?l:n,null!=c?c:i]})(t),y=t=>{const[e,n]=S(t||"",p,m,v,g,{color:i.value,fontSize:r.value,fontStyle:s.value,fontWeight:o.value,fontFamily:a.value,textAlign:l.value,textBaseline:c.value},u.value,h.value);x(e,n)};if(n){const t=new Image;t.onload=()=>{y(t)},t.onerror=()=>{y(f)},t.crossOrigin="anonymous",t.referrerPolicy="no-referrer",t.src=n}else y(f)}};Zn((()=>{M()})),fr((()=>e),(()=>{M()}),{deep:!0,flush:"post"}),ti((()=>{_()}));return Ch(y,(t=>{w.value||t.forEach((t=>{((t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),"attributes"===t.type&&t.target===e&&(n=!0),n})(t,b.value)&&(_(),M())}))}),{attributes:!0,subtree:!0,childList:!0}),(t,e)=>(Rr(),Pr("div",{ref_key:"containerRef",ref:y,style:F([n])},[mi(t.$slots,"default")],4))}}),[["__file","watermark.vue"]])),kP=Wh({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:Object},targetAreaClickable:{type:Boolean,default:!0}}),EP=(t,e,n,i,r)=>{const o=Me(null),s=()=>{let e;return e=v(t.value)?document.querySelector(t.value):m(t.value)?t.value():t.value,e},a=()=>{const t=s();if(!t||!e.value)return void(o.value=null);(function(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:i,right:r,bottom:o,left:s}=t.getBoundingClientRect();return i>=0&&s>=0&&r<=e&&o<=n})(t)||t.scrollIntoView(r.value);const{left:n,top:i,width:a,height:l}=t.getBoundingClientRect();o.value={left:n,top:i,width:a,height:l,radius:0}};Zn((()=>{fr([e,t],(()=>{a()}),{immediate:!0}),window.addEventListener("resize",a)})),ti((()=>{window.removeEventListener("resize",a)}));const l=t=>{var e;return null!=(e=d(n.value.offset)?n.value.offset[t]:n.value.offset)?e:6},c=vo((()=>{var t;if(!o.value)return o.value;const e=l(0),i=l(1),r=(null==(t=n.value)?void 0:t.radius)||2;return{left:o.value.left-e,top:o.value.top-i,width:o.value.width+2*e,height:o.value.height+2*i,radius:r}})),u=vo((()=>{const t=s();return i.value&&t&&window.DOMRect?{getBoundingClientRect(){var t,e,n,i;return window.DOMRect.fromRect({width:(null==(t=c.value)?void 0:t.width)||0,height:(null==(e=c.value)?void 0:e.height)||0,x:(null==(n=c.value)?void 0:n.left)||0,y:(null==(i=c.value)?void 0:i.top)||0})}}:t||void 0}));return{mergedPosInfo:c,triggerTarget:u}},TP=Symbol("ElTour");const AP=()=>({name:"overflow",async fn(t){const e=await RL(t);let n=0;e.left>0&&(n=e.left),e.right>0&&(n=e.right);return{data:{maxWidth:t.rects.floating.width-n}}}});var NP=mf(Un({...Un({name:"ElTourMask",inheritAttrs:!1}),props:kP,setup(t){const e=t,{ns:n}=Vi(TP),i=vo((()=>{var t,n;return null!=(n=null==(t=e.pos)?void 0:t.radius)?n:2})),r=vo((()=>{const t=i.value,e=`a${t},${t} 0 0 1`;return{topRight:`${e} ${t},${t}`,bottomRight:`${e} ${-t},${t}`,bottomLeft:`${e} ${-t},${-t}`,topLeft:`${e} ${t},${-t}`}})),o=vo((()=>{const t=window.innerWidth,n=window.innerHeight,o=r.value,s=`M${t},0 L0,0 L0,${n} L${t},${n} L${t},0 Z`,a=i.value;return e.pos?`${s} M${e.pos.left+a},${e.pos.top} h${e.pos.width-2*a} ${o.topRight} v${e.pos.height-2*a} ${o.bottomRight} h${-e.pos.width+2*a} ${o.bottomLeft} v${-e.pos.height+2*a} ${o.topLeft} z`:s})),s=vo((()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"})));return aM(De(e,"visible"),{ns:n}),(t,e)=>t.visible?(Rr(),Pr("div",Zr({key:0,class:Te(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:t.zIndex,pointerEvents:t.pos&&t.targetAreaClickable?"none":"auto"}},t.$attrs),[(Rr(),Pr("svg",{style:{width:"100%",height:"100%"}},[Vr("path",{class:$(Te(n).e("hollow")),style:F(Te(s)),d:Te(o)},null,14,["d"])]))],16)):Kr("v-if",!0)}}),[["__file","mask.vue"]]);const IP=Wh({placement:{type:String,values:["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],default:"bottom"},reference:{type:Object,default:null},strategy:{type:String,values:["absolute","fixed"],default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}});var RP=mf(Un({...Un({name:"ElTourContent"}),props:IP,emits:{close:()=>!0},setup(t,{emit:e}){const n=t,i=Me(n.placement),r=Me(n.strategy),o=Me(null),s=Me(null);fr((()=>n.placement),(()=>{i.value=n.placement}));const{contentStyle:a,arrowStyle:l}=((t,e,n,i,r,o,s,a)=>{const l=Me(),c=Me(),u=Me({}),d={x:l,y:c,placement:i,strategy:r,middlewareData:u},h=vo((()=>{const t=[OL(Te(o)),DL(),LL(),AP()];return Te(a)&&Te(n)&&t.push(PL({element:Te(n)})),t})),f=async()=>{if(!qd)return;const n=Te(t),o=Te(e);if(!n||!o)return;const s=await BL(n,o,{placement:Te(i),strategy:Te(r),middleware:Te(h)});ef(d).forEach((t=>{d[t].value=s[t]}))},p=vo((()=>{if(!Te(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:Te(s)};const{overflow:e}=Te(u);return{position:Te(r),zIndex:Te(s),top:null!=Te(c)?`${Te(c)}px`:"",left:null!=Te(l)?`${Te(l)}px`:"",maxWidth:(null==e?void 0:e.maxWidth)?`${null==e?void 0:e.maxWidth}px`:""}})),m=vo((()=>{if(!Te(a))return{};const{arrow:t}=Te(u);return{left:null!=(null==t?void 0:t.x)?`${null==t?void 0:t.x}px`:"",top:null!=(null==t?void 0:t.y)?`${null==t?void 0:t.y}px`:""}}));let v;return Zn((()=>{const n=Te(t),i=Te(e);n&&i&&(v=IL(n,i,f)),hr((()=>{f()}))})),ti((()=>{v&&v()})),{update:f,contentStyle:p,arrowStyle:m}})(De(n,"reference"),o,s,i,r,De(n,"offset"),De(n,"zIndex"),De(n,"showArrow")),c=vo((()=>i.value.split("-")[0])),{ns:u}=Vi(TP),d=()=>{e("close")},h=t=>{"pointer"===t.detail.focusReason&&t.preventDefault()};return(t,e)=>(Rr(),Pr("div",{ref_key:"contentRef",ref:o,style:F(Te(a)),class:$(Te(u).e("content")),"data-side":Te(c),tabindex:"-1"},[$r(Te(ov),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":o.value||void 0,onReleaseRequested:d,onFocusoutPrevented:h},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["focus-trap-el"]),t.showArrow?(Rr(),Pr("span",{key:0,ref_key:"arrowRef",ref:s,style:F(Te(l)),class:$(Te(u).e("arrow"))},null,6)):Kr("v-if",!0)],14,["data-side"]))}}),[["__file","content.vue"]]),OP=Un({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let i=0;return()=>{var r,o;const s=null==(r=e.default)?void 0:r.call(e),a=[];let l=0;var c;return s.length&&(c=Pb(null==(o=s[0])?void 0:o.children),d(c)&&c.forEach((t=>{var e;"ElTourStep"===(null==(e=(null==t?void 0:t.type)||{})?void 0:e.name)&&(a.push(t),l+=1)}))),i!==l&&(i=l,n("update-total",l)),a.length?a[t.current]:null}}});const LP=Wh({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Ep},placement:IP.placement,contentStyle:{type:[Object]},mask:{type:[Boolean,Object],default:!0},gap:{type:Object,default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:[Boolean,Object],default:()=>({block:"center"})},type:{type:String},appendTo:{type:[String,Object],default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),DP={[uf]:t=>Od(t),"update:current":t=>Ld(t),close:t=>Ld(t),finish:()=>!0,change:t=>Ld(t)};var PP=mf(Un({...Un({name:"ElTour"}),props:LP,emits:DP,setup(t,{emit:e}){const n=t,i=fa("tour"),r=Me(0),o=Me(),s=Ih(n,"current",e,{passive:!0}),a=vo((()=>{var t;return null==(t=o.value)?void 0:t.target})),l=vo((()=>[i.b(),"primary"===v.value?i.m("primary"):""])),c=vo((()=>{var t;return(null==(t=o.value)?void 0:t.placement)||n.placement})),u=vo((()=>{var t,e;return null!=(e=null==(t=o.value)?void 0:t.contentStyle)?e:n.contentStyle})),d=vo((()=>{var t,e;return null!=(e=null==(t=o.value)?void 0:t.mask)?e:n.mask})),h=vo((()=>!!d.value&&n.modelValue)),f=vo((()=>Od(d.value)?void 0:d.value)),p=vo((()=>{var t,e;return!!a.value&&(null!=(e=null==(t=o.value)?void 0:t.showArrow)?e:n.showArrow)})),m=vo((()=>{var t,e;return null!=(e=null==(t=o.value)?void 0:t.scrollIntoViewOptions)?e:n.scrollIntoViewOptions})),v=vo((()=>{var t,e;return null!=(e=null==(t=o.value)?void 0:t.type)?e:n.type})),{nextZIndex:g}=Fh(),y=g(),b=vo((()=>{var t;return null!=(t=n.zIndex)?t:y})),{mergedPosInfo:w,triggerTarget:_}=EP(a,De(n,"modelValue"),De(n,"gap"),d,m);fr((()=>n.modelValue),(t=>{t||(s.value=0)}));const x=()=>{n.closeOnPressEscape&&(e("update:modelValue",!1),e("close",s.value))},S=t=>{r.value=t},M=_i();return zi(TP,{currentStep:o,current:s,total:r,showClose:De(n,"showClose"),closeIcon:De(n,"closeIcon"),mergedType:v,ns:i,slots:M,updateModelValue(t){e("update:modelValue",t)},onClose(){e("close",s.value)},onFinish(){e("finish")},onChange(){e("change",s.value)}}),(t,e)=>(Rr(),Pr(kr,null,[$r(Te(Xg),{to:t.appendTo},{default:un((()=>{var e,n;return[Vr("div",Zr({class:Te(l)},t.$attrs),[$r(NP,{visible:Te(h),fill:null==(e=Te(f))?void 0:e.color,style:F(null==(n=Te(f))?void 0:n.style),pos:Te(w),"z-index":Te(b),"target-area-clickable":t.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),t.modelValue?(Rr(),Br(RP,{key:Te(s),reference:Te(_),placement:Te(c),"show-arrow":Te(p),"z-index":Te(b),style:F(Te(u)),onClose:x},{default:un((()=>[$r(Te(OP),{current:Te(s),onUpdateTotal:S},{default:un((()=>[mi(t.$slots,"default")])),xt:3},8,["current"])])),xt:3},8,["reference","placement","show-arrow","z-index","style"])):Kr("v-if",!0)],16)]})),xt:3},8,["to"]),Kr(" just for IDE "),Kr("v-if",!0)],64))}}),[["__file","tour.vue"]]);const BP=Wh({target:{type:[String,Object,Function]},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Ep},showArrow:{type:Boolean,default:void 0},placement:IP.placement,mask:{type:[Boolean,Object],default:void 0},contentStyle:{type:[Object]},prevButtonProps:{type:Object},nextButtonProps:{type:Object},scrollIntoViewOptions:{type:[Boolean,Object],default:void 0},type:{type:String}}),FP=Un({...Un({name:"ElTourStep"}),props:BP,emits:{close:()=>!0},setup(t,{emit:e}){const n=t,{Close:i}=Tp,{t:r}=$h(),{currentStep:o,current:s,total:a,showClose:l,closeIcon:c,mergedType:u,ns:d,slots:h,updateModelValue:f,onClose:p,onFinish:m,onChange:v}=Vi(TP);fr(n,(t=>{o.value=t}),{immediate:!0});const g=vo((()=>{var t;return null!=(t=n.showClose)?t:l.value})),y=vo((()=>{var t,e;return null!=(e=null!=(t=n.closeIcon)?t:c.value)?e:i})),b=t=>{if(t)return Cd(t,["children","onClick"])},w=()=>{var t,e;s.value-=1,(null==(t=n.prevButtonProps)?void 0:t.onClick)&&(null==(e=n.prevButtonProps)||e.onClick()),v()},_=()=>{var t;s.value>=a.value-1?x():s.value+=1,(null==(t=n.nextButtonProps)?void 0:t.onClick)&&n.nextButtonProps.onClick(),v()},x=()=>{S(),m()},S=()=>{f(!1),p(),e("close")};return(t,e)=>(Rr(),Pr(kr,null,[Te(g)?(Rr(),Pr("button",{key:0,"aria-label":"Close",class:$(Te(d).e("closebtn")),type:"button",onClick:S},[$r(Te(Ff),{class:$(Te(d).e("close"))},{default:un((()=>[(Rr(),Br(ci(Te(y))))])),xt:1},8,["class"])],2)):Kr("v-if",!0),Vr("header",{class:$([Te(d).e("header"),{"show-close":Te(l)}])},[mi(t.$slots,"header",{},(()=>[Vr("span",{role:"heading",class:$(Te(d).e("title"))},X(t.title),3)]))],2),Vr("div",{class:$(Te(d).e("body"))},[mi(t.$slots,"default",{},(()=>[Vr("span",null,X(t.description),1)]))],2),Vr("footer",{class:$(Te(d).e("footer"))},[Vr("div",{class:$(Te(d).b("indicators"))},[Te(h).indicators?(Rr(),Br(ci(Te(h).indicators),{key:0,current:Te(s),total:Te(a)},null,8,["current","total"])):(Rr(!0),Pr(kr,{key:1},fi(Te(a),((t,e)=>(Rr(),Pr("span",{key:t,class:$([Te(d).b("indicator"),e===Te(s)?"is-active":""])},null,2)))),128))],2),Vr("div",{class:$(Te(d).b("buttons"))},[Te(s)>0?(Rr(),Br(Te(Zy),Zr({key:0,size:"small",type:Te(u)},b(t.prevButtonProps),{onClick:w}),{default:un((()=>{var e,n;return[Wr(X(null!=(n=null==(e=t.prevButtonProps)?void 0:e.children)?n:Te(r)("el.tour.previous")),1)]})),xt:1},16,["type"])):Kr("v-if",!0),Te(s)<=Te(a)-1?(Rr(),Br(Te(Zy),Zr({key:1,size:"small",type:"primary"===Te(u)?"default":"primary"},b(t.nextButtonProps),{onClick:_}),{default:un((()=>{var e,n;return[Wr(X(null!=(n=null==(e=t.nextButtonProps)?void 0:e.children)?n:Te(s)===Te(a)-1?Te(r)("el.tour.finish"):Te(r)("el.tour.next")),1)]})),xt:1},16,["type"])):Kr("v-if",!0)],2)],2)],64))}});var UP=mf(FP,[["__file","step.vue"]]);const HP=Of(PP,{TourStep:UP}),zP=Df(UP),VP=Wh({container:{type:[String,Object]},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:String,default:"default"},direction:{type:String,default:"vertical"},selectScrollTop:{type:Boolean,default:!1}}),$P={change:t=>v(t),click:(t,e)=>t instanceof MouseEvent&&(v(e)||Rd(e))},GP=Symbol("anchor"),jP=t=>{if(!qd||""===t)return null;if(v(t))try{return document.querySelector(t)}catch(ax){return null}return t};const WP=Un({...Un({name:"ElAnchor"}),props:VP,emits:$P,setup(t,{expose:e,emit:n}){const i=t,r=Me(""),o=Me(null),s=Me(null),a=Me(),l={};let c=!1,u=0;const d=fa("anchor"),h=vo((()=>[d.b(),"underline"===i.type?d.m("underline"):"",d.m(i.direction)])),f=t=>{r.value!==t&&(r.value=t,n("change",t))};let p=null;const v=t=>{if(!a.value)return;const e=jP(t);if(!e)return;p&&p(),c=!0;const n=Nf(e,a.value),r=v_(e,n),o=n.scrollHeight-n.clientHeight,s=Math.min(r-i.offset,o);p=function(t,e,n,i,r){const o=Date.now();let s;const a=()=>{const l=Date.now()-o,c=function(t,e,n,i){const r=n-e;return(t/=i/2)<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e}(l>i?i:l,e,n,i);Fd(t)?t.scrollTo(window.pageXOffset,c):t.scrollTop=c,l<i?s=vf(a):m(r)&&r()};return a(),()=>{s&&gf(s)}}(a.value,u,s,i.duration,(()=>{setTimeout((()=>{c=!1}),20)}))},g=t=>{t&&(f(t),v(t))},y=function(t){let e=0;const n=(...n)=>{e&&gf(e),e=vf((()=>{t(...n),e=0}))};return n.cancel=()=>{gf(e),e=0},n}((()=>{a.value&&(u=If(a.value));const t=b();c||Rd(t)||f(t)})),b=()=>{if(!a.value)return;const t=If(a.value),e=[];for(const n of Object.keys(l)){const t=jP(n);if(!t)continue;const r=Nf(t,a.value),o=v_(t,r);e.push({top:o-i.offset-i.bound,href:n})}e.sort(((t,e)=>t.top-e.top));for(let n=0;n<e.length;n++){const r=e[n],o=e[n+1];if(0===n&&0===t)return i.selectScrollTop?r.href:"";if(r.top<=t&&(!o||o.top>t))return r.href}},w=()=>{const t=jP(i.container);!t||Fd(t)?a.value=window:a.value=t};ch(a,"scroll",y);const _=vo((()=>{if(!o.value||!s.value||!r.value)return{};const t=l[r.value];if(!t)return{};const e=o.value.getBoundingClientRect(),n=s.value.getBoundingClientRect(),a=t.getBoundingClientRect();if("horizontal"===i.direction){return{left:`${a.left-e.left}px`,width:`${a.width}px`,opacity:1}}return{top:`${a.top-e.top+(a.height-n.height)/2}px`,opacity:1}}));return Zn((()=>{w();const t=decodeURIComponent(window.location.hash);jP(t)?g(t):y()})),fr((()=>i.container),(()=>{w()})),zi(GP,{ns:d,direction:i.direction,currentAnchor:r,addLink:t=>{l[t.href]=t.el},removeLink:t=>{delete l[t]},handleClick:(t,e)=>{n("click",t,e),g(e)}}),e({scrollTo:g}),(t,e)=>(Rr(),Pr("div",{ref_key:"anchorRef",ref:o,class:$(Te(h))},[t.marker?(Rr(),Pr("div",{key:0,ref_key:"markerRef",ref:s,class:$(Te(d).e("marker")),style:F(Te(_))},null,6)):Kr("v-if",!0),Vr("div",{class:$(Te(d).e("list"))},[mi(t.$slots,"default")],2)],2))}});var KP=mf(WP,[["__file","anchor.vue"]]);const qP=Wh({title:String,href:String}),YP=Un({...Un({name:"ElAnchorLink"}),props:qP,setup(t){const e=t,n=Me(null),{ns:i,direction:r,currentAnchor:o,addLink:s,removeLink:a,handleClick:l}=Vi(GP),c=vo((()=>[i.e("link"),i.is("active",o.value===e.href)])),u=t=>{l(t,e.href)};return fr((()=>e.href),((t,e)=>{Qe((()=>{e&&a(e),t&&s({href:t,el:n.value})}))})),Zn((()=>{const{href:t}=e;t&&s({href:t,el:n.value})})),ti((()=>{const{href:t}=e;t&&a(t)})),(t,e)=>(Rr(),Pr("div",{class:$(Te(i).e("item"))},[Vr("a",{ref_key:"linkRef",ref:n,class:$(Te(c)),href:t.href,onClick:u},[mi(t.$slots,"default",{},(()=>[Wr(X(t.title),1)]))],10,["href"]),t.$slots["sub-link"]&&"vertical"===Te(r)?(Rr(),Pr("div",{key:0,class:$(Te(i).e("list"))},[mi(t.$slots,"sub-link")],2)):Kr("v-if",!0)],2))}});var XP=mf(YP,[["__file","anchor-link.vue"]]);const ZP=Of(KP,{AnchorLink:XP}),JP=Df(XP),QP=Wh({direction:{type:String,default:"horizontal"},options:{type:Array,default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:qh,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...zp(["ariaLabel"])}),tB={[uf]:t=>v(t)||Ld(t)||Od(t),[df]:t=>v(t)||Ld(t)||Od(t)},eB=Un({...Un({name:"ElSegmented"}),props:QP,emits:tB,setup(t,{emit:e}){const n=t,i=fa("segmented"),r=Jp(),o=nm(),s=im(),{formItem:a}=Qp(),{inputId:l,isLabeledByFormItem:c}=tm(n,{formItemContext:a}),u=Me(null),d=function(t={}){var e;const{window:n=ah}=t,i=null!=(e=t.document)?e:null==n?void 0:n.document,r=th((()=>null),(()=>null==i?void 0:i.activeElement));return n&&(ch(n,"blur",(t=>{null===t.relatedTarget&&r.trigger()}),!0),ch(n,"focus",r.trigger,!0)),r}(),h=de({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),f=t=>y(t)?t.value:t,p=t=>y(t)?t.label:t,m=t=>!!(s.value||y(t)&&t.disabled),v=t=>n.modelValue===f(t),g=t=>[i.e("item"),i.is("selected",v(t)),i.is("disabled",m(t))],b=()=>{if(!u.value)return;const t=u.value.querySelector(".is-selected"),e=u.value.querySelector(".is-selected input");if(!t||!e)return h.width=0,h.height=0,h.translateX=0,h.translateY=0,void(h.focusVisible=!1);const i=t.getBoundingClientRect();h.isInit=!0,"vertical"===n.direction?(h.height=i.height,h.translateY=t.offsetTop):(h.width=i.width,h.translateX=t.offsetLeft);try{h.focusVisible=e.matches(":focus-visible")}catch(ax){}},w=vo((()=>[i.b(),i.m(o.value),i.is("block",n.block)])),_=vo((()=>({width:"vertical"===n.direction?"100%":`${h.width}px`,height:"vertical"===n.direction?`${h.height}px`:"100%",transform:"vertical"===n.direction?`translateY(${h.translateY}px)`:`translateX(${h.translateX}px)`,display:h.isInit?"block":"none"}))),x=vo((()=>{return[i.e("item-selected"),i.is("disabled",m((t=n.modelValue,n.options.find((e=>f(e)===t))))),i.is("focus-visible",h.focusVisible)];var t})),S=vo((()=>n.name||r.value));return yh(u,b),fr(d,b),fr((()=>n.modelValue),(()=>{var t;b(),n.validateEvent&&(null==(t=null==a?void 0:a.validate)||t.call(a,"change").catch((t=>{})))}),{flush:"post"}),(t,r)=>t.options.length?(Rr(),Pr("div",{key:0,id:Te(l),ref_key:"segmentedRef",ref:u,class:$(Te(w)),role:"radiogroup","aria-label":Te(c)?void 0:t.ariaLabel||"segmented","aria-labelledby":Te(c)?Te(a).labelId:void 0},[Vr("div",{class:$([Te(i).e("group"),Te(i).m(n.direction)])},[Vr("div",{style:F(Te(_)),class:$(Te(x))},null,6),(Rr(!0),Pr(kr,null,fi(t.options,((n,r)=>(Rr(),Pr("label",{key:r,class:$(g(n))},[Vr("input",{class:$(Te(i).e("item-input")),type:"radio",name:Te(S),disabled:m(n),checked:v(n),onChange:t=>(t=>{const n=f(t);e(uf,n),e(df,n)})(n)},null,42,["name","disabled","checked","onChange"]),Vr("div",{class:$(Te(i).e("item-label"))},[mi(t.$slots,"default",{item:n},(()=>[Wr(X(p(n)),1)]))],2)],2)))),128))],2)],10,["id","aria-label","aria-labelledby"])):Kr("v-if",!0)}});const nB=Of(mf(eB,[["__file","segmented.vue"]])),iB=(t,e)=>{const n=t.toLowerCase();return(e.label||e.value).toLowerCase().includes(n)},rB=Wh({...Vp,options:{type:Array,default:()=>[]},prefix:{type:[String,Array],default:"@",validator:t=>v(t)?1===t.length:t.every((t=>v(t)&&1===t.length))},split:{type:String,default:" ",validator:t=>1===t.length},filterOption:{type:[Boolean,Function],default:()=>iB,validator:t=>!1===t||m(t)},placement:{type:String,default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:Function},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})}}),oB={[uf]:t=>v(t),search:(t,e)=>v(t)&&v(e),select:(t,e)=>v(t.value)&&v(e),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},sB=Wh({options:{type:Array,default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),aB={select:t=>v(t.value)},lB=Un({...Un({name:"ElMentionDropdown"}),props:sB,emits:aB,setup(t,{expose:e,emit:n}){const i=t,r=fa("mention"),{t:o}=$h(),s=Me(-1),a=Me(),l=Me(),c=Me(),u=(t,e)=>[r.be("dropdown","item"),r.is("hovering",s.value===e),r.is("disabled",t.disabled||i.disabled)],d=vo((()=>i.disabled||i.options.every((t=>t.disabled)))),h=vo((()=>i.options[s.value])),f=t=>{const{options:e}=i;if(0===e.length||d.value)return;"next"===t?(s.value++,s.value===e.length&&(s.value=0)):"prev"===t&&(s.value--,s.value<0&&(s.value=e.length-1));const n=e[s.value];n.disabled?f(t):Qe((()=>p(n)))},p=t=>{var e,n,o,s;const{options:u}=i,d=u.findIndex((e=>e.value===t.value)),h=null==(e=l.value)?void 0:e[d];if(h){const t=null==(o=null==(n=c.value)?void 0:n.querySelector)?void 0:o.call(n,`.${r.be("dropdown","wrap")}`);t&&Af(t,h)}null==(s=a.value)||s.handleScroll()};return fr((()=>i.options),(()=>{d.value||0===i.options.length?s.value=-1:s.value=0}),{immediate:!0}),e({hoveringIndex:s,navigateOptions:f,selectHoverOption:()=>{h.value&&n("select",h.value)},hoverOption:h}),(t,e)=>(Rr(),Pr("div",{ref_key:"dropdownRef",ref:c,class:$(Te(r).b("dropdown"))},[t.$slots.header?(Rr(),Pr("div",{key:0,class:$(Te(r).be("dropdown","header"))},[mi(t.$slots,"header")],2)):Kr("v-if",!0),dn($r(Te(mm),{id:t.contentId,ref_key:"scrollbarRef",ref:a,tag:"ul","wrap-class":Te(r).be("dropdown","wrap"),"view-class":Te(r).be("dropdown","list"),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:un((()=>[(Rr(!0),Pr(kr,null,fi(t.options,((e,r)=>(Rr(),Pr("li",{id:`${t.contentId}-${r}`,ref_for:!0,ref_key:"optionRefs",ref:l,key:r,class:$(u(e,r)),role:"option","aria-disabled":e.disabled||t.disabled||void 0,"aria-selected":s.value===r,onMousemove:t=>(t=>{s.value=t})(r),onClick:Ds((t=>(t=>{t.disabled||i.disabled||n("select",t)})(e)),["stop"])},[mi(t.$slots,"label",{item:e,index:r},(()=>{var t;return[Vr("span",null,X(null!=(t=e.label)?t:e.value),1)]}))],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])))),128))])),xt:3},8,["id","wrap-class","view-class","aria-label"]),[[qo,t.options.length>0&&!t.loading]]),t.loading?(Rr(),Pr("div",{key:1,class:$(Te(r).be("dropdown","loading"))},[mi(t.$slots,"loading",{},(()=>[Wr(X(Te(o)("el.mention.loading")),1)]))],2)):Kr("v-if",!0),t.$slots.footer?(Rr(),Pr("div",{key:2,class:$(Te(r).be("dropdown","footer"))},[mi(t.$slots,"footer")],2)):Kr("v-if",!0)],2))}});var cB=mf(lB,[["__file","mention-dropdown.vue"]]);const uB=Un({...Un({name:"ElMention",inheritAttrs:!1}),props:rB,emits:oB,setup(t,{expose:e,emit:n}){const i=t,r=vo((()=>Td(i,Object.keys(Vp)))),o=fa("mention"),s=im(),a=Jp(),l=Me(),c=Me(),u=Me(),d=Me(!1),h=Me(),f=Me(),p=vo((()=>i.showArrow?i.placement:`${i.placement}-start`)),v=vo((()=>i.showArrow?["bottom","top"]:["bottom-start","top-start"])),g=vo((()=>{const{filterOption:t,options:e}=i;return f.value&&t?e.filter((e=>t(f.value.pattern,e))):e})),y=vo((()=>d.value&&(!!g.value.length||i.loading))),b=vo((()=>{var t;return`${a.value}-${null==(t=u.value)?void 0:t.hoveringIndex}`})),w=t=>{n("update:modelValue",t),k()},_=t=>{var e,r,o,s;if("code"in t&&!(null==(e=l.value)?void 0:e.isComposing))switch(t.code){case ev.left:case ev.right:k();break;case ev.up:case ev.down:if(!d.value)return;t.preventDefault(),null==(r=u.value)||r.navigateOptions(t.code===ev.up?"prev":"next");break;case ev.enter:case ev.numpadEnter:if(!d.value)return;t.preventDefault(),(null==(o=u.value)?void 0:o.hoverOption)?null==(s=u.value)||s.selectHoverOption():d.value=!1;break;case ev.esc:if(!d.value)return;t.preventDefault(),d.value=!1;break;case ev.backspace:if(i.whole&&f.value){const{splitIndex:e,selectionEnd:r,pattern:o,prefixIndex:s,prefix:a}=f.value,l=C();if(!l)return;const c=l.value,u=i.options.find((t=>t.value===o));if((m(i.checkIsWhole)?i.checkIsWhole(o,a):u)&&-1!==e&&e+1===r){t.preventDefault();const i=c.slice(0,s)+c.slice(e+1);n(uf,i);const r=s;Qe((()=>{l.selectionStart=r,l.selectionEnd=r,T()}))}}}},{wrapperRef:x}=rm(l,{beforeFocus:()=>s.value,afterFocus(){k()},beforeBlur(t){var e;return null==(e=c.value)?void 0:e.isFocusInsideContent(t)},afterBlur(){d.value=!1}}),S=()=>{k()},M=t=>{if(!f.value)return;const e=C();if(!e)return;const r=e.value,{split:o}=i,s=r.slice(f.value.end),a=s.startsWith(o),l=`${t.value}${a?"":o}`,c=r.slice(0,f.value.start)+l+s;n(uf,c),n("select",t,f.value.prefix);const u=f.value.start+l.length+(a?1:0);Qe((()=>{e.selectionStart=u,e.selectionEnd=u,e.focus(),T()}))},C=()=>{var t,e;return"textarea"===i.type?null==(t=l.value)?void 0:t.textarea:null==(e=l.value)?void 0:e.input},k=()=>{setTimeout((()=>{E(),T(),Qe((()=>{var t;return null==(t=c.value)?void 0:t.updatePopper()}))}),0)},E=()=>{const t=C();if(!t)return;const e=((t,e={debug:!1,useSelectionEnd:!1})=>{const n=null!==t.selectionStart?t.selectionStart:0,i=null!==t.selectionEnd?t.selectionEnd:0,r=e.useSelectionEnd?i:n;if(e.debug){const t=document.querySelector("#input-textarea-caret-position-mirror-div");(null==t?void 0:t.parentNode)&&t.parentNode.removeChild(t)}const o=document.createElement("div");o.id="input-textarea-caret-position-mirror-div",document.body.appendChild(o);const s=o.style,a=window.getComputedStyle(t),l="INPUT"===t.nodeName;s.whiteSpace=l?"nowrap":"pre-wrap",l||(s.wordWrap="break-word"),s.position="absolute",e.debug||(s.visibility="hidden"),["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"].forEach((t=>{if(l&&"lineHeight"===t)if("border-box"===a.boxSizing){const t=Number.parseInt(a.height),e=Number.parseInt(a.paddingTop)+Number.parseInt(a.paddingBottom)+Number.parseInt(a.borderTopWidth)+Number.parseInt(a.borderBottomWidth),n=e+Number.parseInt(a.lineHeight);s.lineHeight=t>n?t-e+"px":t===n?a.lineHeight:"0"}else s.lineHeight=a.height;else s[t]=a[t]})),Dp()?t.scrollHeight>Number.parseInt(a.height)&&(s.overflowY="scroll"):s.overflow="hidden",o.textContent=t.value.slice(0,Math.max(0,r)),l&&o.textContent&&(o.textContent=o.textContent.replace(/\s/g," "));const c=document.createElement("span");c.textContent=t.value.slice(Math.max(0,r))||".",c.style.position="relative",c.style.left=-t.scrollLeft+"px",c.style.top=-t.scrollTop+"px",o.appendChild(c);const u={top:c.offsetTop+Number.parseInt(a.borderTopWidth),left:c.offsetLeft+Number.parseInt(a.borderLeftWidth),height:1.5*Number.parseInt(a.fontSize)};return e.debug?c.style.backgroundColor="#aaa":document.body.removeChild(o),u.left>=t.clientWidth&&(u.left=t.clientWidth),u})(t),n=t.getBoundingClientRect(),i=l.value.$el.getBoundingClientRect();h.value={position:"absolute",width:0,height:`${e.height}px`,left:e.left+n.left-i.left+"px",top:e.top+n.top-i.top+"px"}},T=()=>{const t=C();if(document.activeElement!==t)return void(d.value=!1);const{prefix:e,split:r}=i;if(f.value=((t,e,n)=>{const{selectionEnd:i}=t;if(null===i)return;const r=t.value,o=Pc(e);let s,a=-1;for(let l=i-1;l>=0;--l){const t=r[l];if(t!==n&&"\n"!==t&&"\r"!==t){if(o.includes(t)){const e=-1===a?i:a;s={pattern:r.slice(l+1,e),start:l+1,end:e,prefix:t,prefixIndex:l,splitIndex:a,selectionEnd:i};break}}else a=l}return s})(t,e,r),f.value&&-1===f.value.splitIndex)return d.value=!0,void n("search",f.value.pattern,f.value.prefix);d.value=!1};return e({input:l,tooltip:c,dropdownVisible:y}),(t,e)=>(Rr(),Pr("div",{ref_key:"wrapperRef",ref:x,class:$([Te(o).b(),Te(o).is("disabled",Te(s))])},[$r(Te(sm),Zr(Zr(Te(r),t.$attrs),{ref_key:"elInputRef",ref:l,"model-value":t.modelValue,disabled:Te(s),role:Te(y)?"combobox":void 0,"aria-activedescendant":Te(y)?Te(b)||"":void 0,"aria-controls":Te(y)?Te(a):void 0,"aria-expanded":Te(y)||void 0,"aria-label":t.ariaLabel,"aria-autocomplete":Te(y)?"none":void 0,"aria-haspopup":Te(y)?"listbox":void 0,onInput:w,onKeydown:_,onMousedown:S}),pi({xt:2},[fi(t.$slots,((e,n)=>({name:n,fn:un((e=>[mi(t.$slots,n,G(Gr(e)))]))})))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),$r(Te(ty),{ref_key:"tooltipRef",ref:c,visible:Te(y),"popper-class":[Te(o).e("popper"),t.popperClass],"popper-options":t.popperOptions,placement:Te(p),"fallback-placements":Te(v),effect:"light",pure:"",offset:t.offset,"show-arrow":t.showArrow},{default:un((()=>[Vr("div",{style:F(h.value)},null,4)])),content:un((()=>{var e;return[$r(cB,{ref_key:"dropdownRef",ref:u,options:Te(g),disabled:Te(s),loading:t.loading,"content-id":Te(a),"aria-label":t.ariaLabel,onSelect:M,onClick:Ds(null==(e=l.value)?void 0:e.focus,["stop"])},pi({xt:2},[fi(t.$slots,((e,n)=>({name:n,fn:un((e=>[mi(t.$slots,n,G(Gr(e)))]))})))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]})),xt:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});const dB=Of(mf(uB,[["__file","mention.vue"]]));var hB=[Pf,Lp,ry,PR,ly,hy,py,_y,xy,Zy,Jy,kb,Tb,Gb,jb,Kw,Bw,Xw,nw,iw,rw,Qw,u_,d_,s_,F_,z_,K_,q_,Y_,X_,Z_,FS,KS,qS,cM,dM,mM,iC,rC,oC,cC,KC,qC,Ff,nk,JC,sm,sk,uk,fk,Ok,Lk,Dk,Pk,Uk,ME,TE,PE,Rg,FE,gw,bw,yw,VE,WE,qE,mm,rE,oE,sE,tA,rA,oA,gA,wA,xA,AA,DA,PA,zA,gI,yI,DR,ZR,JR,Hw,tO,Jx,aO,dO,hO,ty,jL,rD,wD,AD,QD,_P,CP,HP,zP,ZP,JP,nB,dB];const fB="ElInfiniteScroll",pB={delay:{type:Number,default:200},distance:{type:Number,default:0},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},mB=(t,e)=>Object.entries(pB).reduce(((n,[i,r])=>{var o,s;const{type:a,default:l}=r,c=t.getAttribute(`infinite-scroll-${i}`);let u=null!=(s=null!=(o=e[c])?o:c)?s:l;return u="false"!==u&&u,u=a(u),n[i]=Number.isNaN(u)?l:u,n}),{}),vB=t=>{const{observer:e}=t[fB];e&&(e.disconnect(),delete t[fB].observer)},gB=(t,e)=>{const{container:n,containerEl:i,instance:r,observer:o,lastScrollTop:s}=t[fB],{disabled:a,distance:l}=mB(t,r),{clientHeight:c,scrollHeight:u,scrollTop:d}=i,h=d-s;if(t[fB].lastScrollTop=d,o||a||h<0)return;let f=!1;if(n===t)f=u-(c+d)<=l;else{const{clientTop:e,scrollHeight:n}=t;f=d+c>=v_(t,i)+e+n-l}f&&e.call(r)};function yB(t,e){const{containerEl:n,instance:i}=t[fB],{disabled:r}=mB(t,i);r||0===n.clientHeight||(n.scrollHeight<=n.clientHeight?e.call(i):vB(t))}const bB={async mounted(t,e){const{instance:n,value:i}=e;m(i)||Oh(fB,"'v-infinite-scroll' binding value must be a function"),await Qe();const{delay:r,immediate:o}=mB(t,n),s=kf(t,!0),a=s===window?document.documentElement:s,l=Ad(gB.bind(null,t,i),r);if(s){if(t[fB]={instance:n,container:s,containerEl:a,delay:r,cb:i,onScroll:l,lastScrollTop:a.scrollTop},o){const e=new MutationObserver(Ad(yB.bind(null,t,i),50));t[fB].observer=e,e.observe(t,{childList:!0,subtree:!0}),yB(t,i)}s.addEventListener("scroll",l)}},unmounted(t){if(!t[fB])return;const{container:e,onScroll:n}=t[fB];null==e||e.removeEventListener("scroll",n),vB(t)},async updated(t){if(t[fB]){const{containerEl:e,cb:n,observer:i}=t[fB];e.clientHeight&&i&&yB(t,n)}else await Qe()},install:t=>{t.directive("InfiniteScroll",bB)}},wB=bB;function _B(t){let e;const n=Me(!1),i=de({...t,originalPosition:"",originalOverflow:"",visible:!1});function r(){var t,e;null==(e=null==(t=a.$el)?void 0:t.parentNode)||e.removeChild(a.$el)}function o(){if(!n.value)return;const t=i.parent;n.value=!1,t.vLoadingAddClassList=void 0,function(){const t=i.parent,e=a.ns;if(!t.vLoadingAddClassList){let n=t.getAttribute("loading-number");n=Number.parseInt(n)-1,n?t.setAttribute("loading-number",n.toString()):(_f(t,e.bm("parent","relative")),t.removeAttribute("loading-number")),_f(t,e.bm("parent","hidden"))}r(),s.unmount()}()}const s=Vs(Un({name:"ElLoading",setup(t,{expose:e}){const{ns:n,zIndex:r}=af("loading");return e({ns:n,zIndex:r}),()=>{const t=i.spinner||i.svg,e=go("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...t?{innerHTML:t}:{}},[go("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),r=i.text?go("p",{class:n.b("text")},[i.text]):void 0;return go(Ro,{name:n.b("fade"),onAfterLeave:o},{default:un((()=>[dn($r("div",{style:{backgroundColor:i.background||""},class:[n.b("mask"),i.customClass,i.fullscreen?"is-fullscreen":""]},[go("div",{class:n.b("spinner")},[e,r])]),[[qo,i.visible]])]))})}}})),a=s.mount(document.createElement("div"));return{...Re(i),setText:function(t){i.text=t},removeElLoadingChild:r,close:function(){var r;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=setTimeout(o,400),i.visible=!1,null==(r=t.closed)||r.call(t))},handleAfterLeave:o,vm:a,get $el(){return a.$el}}}let xB;const SB=function(t={}){if(!qd)return;const e=MB(t);if(e.fullscreen&&xB)return xB;const n=_B({...e,closed:()=>{var t;null==(t=e.closed)||t.call(e),e.fullscreen&&(xB=void 0)}});CB(e,e.parent,n),kB(e,e.parent,n),e.parent.vLoadingAddClassList=()=>kB(e,e.parent,n);let i=e.parent.getAttribute("loading-number");return i=i?`${Number.parseInt(i)+1}`:"1",e.parent.setAttribute("loading-number",i),e.parent.appendChild(n.$el),Qe((()=>n.visible.value=e.visible)),e.fullscreen&&(xB=n),n},MB=t=>{var e,n,i,r;let o;return o=v(t.target)?null!=(e=document.querySelector(t.target))?e:document.body:t.target||document.body,{parent:o===document.body||t.body?document.body:o,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:o===document.body&&(null==(n=t.fullscreen)||n),lock:null!=(i=t.lock)&&i,customClass:t.customClass||"",visible:null==(r=t.visible)||r,beforeClose:t.beforeClose,closed:t.closed,target:o}},CB=async(t,e,n)=>{const{nextZIndex:i}=n.vm.zIndex||n.vm.xt.exposed.zIndex,r={};if(t.fullscreen)n.originalPosition.value=xf(document.body,"position"),n.originalOverflow.value=xf(document.body,"overflow"),r.zIndex=i();else if(t.parent===document.body){n.originalPosition.value=xf(document.body,"position"),await Qe();for(const e of["top","left"]){const n="top"===e?"scrollTop":"scrollLeft";r[e]=t.target.getBoundingClientRect()[e]+document.body[n]+document.documentElement[n]-Number.parseInt(xf(document.body,`margin-${e}`),10)+"px"}for(const e of["height","width"])r[e]=`${t.target.getBoundingClientRect()[e]}px`}else n.originalPosition.value=xf(e,"position");for(const[o,s]of Object.entries(r))n.$el.style[o]=s},kB=(t,e,n)=>{const i=n.vm.ns||n.vm.xt.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?_f(e,i.bm("parent","relative")):wf(e,i.bm("parent","relative")),t.fullscreen&&t.lock?wf(e,i.bm("parent","hidden")):_f(e,i.bm("parent","hidden"))},EB=Symbol("ElLoading"),TB=(t,e)=>{var n,i,r,o;const s=e.instance,a=t=>y(e.value)?e.value[t]:void 0,l=e=>(t=>{const e=v(t)&&(null==s?void 0:s[t])||t;return e?Me(e):e})(a(e)||t.getAttribute(`element-loading-${A(e)}`)),c=null!=(n=a("fullscreen"))?n:e.modifiers.fullscreen,u={text:l("text"),svg:l("svg"),svgViewBox:l("svgViewBox"),spinner:l("spinner"),background:l("background"),customClass:l("customClass"),fullscreen:c,target:null!=(i=a("target"))?i:c?void 0:t,body:null!=(r=a("body"))?r:e.modifiers.body,lock:null!=(o=a("lock"))?o:e.modifiers.lock};t[EB]={options:u,instance:SB(u)}},AB={mounted(t,e){e.value&&TB(t,e)},updated(t,e){const n=t[EB];e.oldValue!==e.value&&(e.value&&!e.oldValue?TB(t,e):e.value&&e.oldValue?y(e.value)&&((t,e)=>{for(const n of Object.keys(e))Se(e[n])&&(e[n].value=t[n])})(e.value,n.options):null==n||n.instance.close())},unmounted(t){var e;null==(e=t[EB])||e.instance.close(),t[EB]=null}},NB={install(t){t.directive("loading",AB),t.config.globalProperties.$loading=SB},directive:AB,service:SB},IB=["success","info","warning","error"],RB={customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:qd?document.body:void 0},OB=Wh({customClass:{type:String,default:RB.customClass},center:{type:Boolean,default:RB.center},dangerouslyUseHTMLString:{type:Boolean,default:RB.dangerouslyUseHTMLString},duration:{type:Number,default:RB.duration},icon:{type:Ep,default:RB.icon},id:{type:String,default:RB.id},message:{type:[String,Object,Function],default:RB.message},onClose:{type:Function,default:RB.onClose},showClose:{type:Boolean,default:RB.showClose},type:{type:String,values:IB,default:RB.type},plain:{type:Boolean,default:RB.plain},offset:{type:Number,default:RB.offset},zIndex:{type:Number,default:RB.zIndex},grouping:{type:Boolean,default:RB.grouping},repeatNum:{type:Number,default:RB.repeatNum}}),LB=he([]),DB=t=>{const{prev:e}=(t=>{const e=LB.findIndex((e=>e.id===t)),n=LB[e];let i;return e>0&&(i=LB[e-1]),{current:n,prev:i}})(t);return e?e.vm.exposed.bottom.value:0};var PB=mf(Un({...Un({name:"ElMessage"}),props:OB,emits:{destroy:()=>!0},setup(t,{expose:e}){const n=t,{Close:i}=Ap,{ns:r,zIndex:o}=af("message"),{currentZIndex:s,nextZIndex:a}=o,l=Me(),c=Me(!1),u=Me(0);let d;const h=vo((()=>n.type?"error"===n.type?"danger":n.type:"info")),f=vo((()=>{const t=n.type;return{[r.bm("icon",t)]:t&&Np[t]}})),p=vo((()=>n.icon||Np[n.type]||"")),m=vo((()=>DB(n.id))),v=vo((()=>((t,e)=>LB.findIndex((e=>e.id===t))>0?16:e)(n.id,n.offset)+m.value)),g=vo((()=>u.value+v.value)),y=vo((()=>({top:`${v.value}px`,zIndex:s.value})));function b(){0!==n.duration&&({stop:d}=oh((()=>{_()}),n.duration))}function w(){null==d||d()}function _(){c.value=!1}return Zn((()=>{b(),a(),c.value=!0})),fr((()=>n.repeatNum),(()=>{w(),b()})),ch(document,"keydown",(function({code:t}){t===ev.esc&&_()})),yh(l,(()=>{u.value=l.value.getBoundingClientRect().height})),e({visible:c,bottom:g,close:_}),(t,e)=>(Rr(),Br(Ro,{name:Te(r).b("fade"),onBeforeLeave:t.onClose,onAfterLeave:e=>t.$emit("destroy"),persisted:""},{default:un((()=>[dn(Vr("div",{id:t.id,ref_key:"messageRef",ref:l,class:$([Te(r).b(),{[Te(r).m(t.type)]:t.type},Te(r).is("center",t.center),Te(r).is("closable",t.showClose),Te(r).is("plain",t.plain),t.customClass]),style:F(Te(y)),role:"alert",onMouseenter:w,onMouseleave:b},[t.repeatNum>1?(Rr(),Br(Te(py),{key:0,value:t.repeatNum,type:Te(h),class:$(Te(r).e("badge"))},null,8,["value","type","class"])):Kr("v-if",!0),Te(p)?(Rr(),Br(Te(Ff),{key:1,class:$([Te(r).e("icon"),Te(f)])},{default:un((()=>[(Rr(),Br(ci(Te(p))))])),xt:1},8,["class"])):Kr("v-if",!0),mi(t.$slots,"default",{},(()=>[t.dangerouslyUseHTMLString?(Rr(),Pr(kr,{key:1},[Kr(" Caution here, message could've been compromised, never use user's input as message "),Vr("p",{class:$(Te(r).e("content")),innerHTML:t.message},null,10,["innerHTML"])],2112)):(Rr(),Pr("p",{key:0,class:$(Te(r).e("content"))},X(t.message),3))])),t.showClose?(Rr(),Br(Te(Ff),{key:2,class:$(Te(r).e("closeBtn")),onClick:Ds(_,["stop"])},{default:un((()=>[$r(Te(i))])),xt:1},8,["class","onClick"])):Kr("v-if",!0)],46,["id"]),[[qo,c.value]])])),xt:3},8,["name","onBeforeLeave","onAfterLeave"]))}}),[["__file","message.vue"]]);let BB=1;const FB=t=>{const e=!t||v(t)||Fr(t)||m(t)?{message:t}:t,n={...RB,...e};if(n.appendTo){if(v(n.appendTo)){let t=document.querySelector(n.appendTo);Pd(t)||(t=document.body),n.appendTo=t}}else n.appendTo=document.body;return Od(H_.grouping)&&!n.grouping&&(n.grouping=H_.grouping),Ld(H_.duration)&&3e3===n.duration&&(n.duration=H_.duration),Ld(H_.offset)&&16===n.offset&&(n.offset=H_.offset),Od(H_.showClose)&&!n.showClose&&(n.showClose=H_.showClose),n},UB=({appendTo:t,...e},n)=>{const i="message_"+BB++,r=e.onClose,o=document.createElement("div"),s={...e,id:i,onClose:()=>{null==r||r(),(t=>{const e=LB.indexOf(t);if(-1===e)return;LB.splice(e,1);const{handler:n}=t;n.close()})(u)},onDestroy:()=>{zs(null,o)}},a=$r(PB,s,m(s.message)||Fr(s.message)?{default:m(s.message)?s.message:()=>s.message}:null);a.appContext=n||HB.At,zs(a,o),t.appendChild(o.firstElementChild);const l=a.component,c={close:()=>{l.exposed.visible.value=!1}},u={id:i,vnode:a,vm:l,handler:c,props:a.component.props};return u},HB=(t={},e)=>{if(!qd)return{close:()=>{}};const n=FB(t);if(n.grouping&&LB.length){const t=LB.find((({vnode:t})=>{var e;return(null==(e=t.props)?void 0:e.message)===n.message}));if(t)return t.props.repeatNum+=1,t.props.type=n.type,t.handler}if(Ld(H_.max)&&LB.length>=H_.max)return{close:()=>{}};const i=UB(n,e);return LB.push(i),i.handler};IB.forEach((t=>{HB[t]=(e={},n)=>{const i=FB(e);return HB({...i,type:t},n)}})),HB.closeAll=function(t){for(const e of LB)t&&t!==e.props.type||e.handler.close()},HB.At=null;const zB=Lf(HB,"$message"),VB="_trap-focus-children",$B=[],GB=t=>{if(0===$B.length)return;const e=$B[$B.length-1][VB];if(e.length>0&&t.code===ev.tab){if(1===e.length)return t.preventDefault(),void(document.activeElement!==e[0]&&e[0].focus());const n=t.shiftKey,i=t.target===e[0],r=t.target===e[e.length-1];i&&n&&(t.preventDefault(),e[e.length-1].focus()),r&&!n&&(t.preventDefault(),e[0].focus())}},jB=Un({name:"ElMessageBox",directives:{TrapFocus:{beforeMount(t){t[VB]=Cm(t),$B.push(t),$B.length<=1&&document.addEventListener("keydown",GB)},updated(t){Qe((()=>{t[VB]=Cm(t)}))},unmounted(){$B.shift(),0===$B.length&&document.removeEventListener("keydown",GB)}}},components:{ElButton:Zy,ElFocusTrap:ov,ElInput:sm,ElOverlay:JS,ElIcon:Ff,...Ap},inheritAttrs:!1,props:{buttonSize:{type:String,validator:BA},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:i,ns:r,size:o}=af("message-box",vo((()=>t.buttonSize))),{t:s}=n,{nextZIndex:a}=i,l=Me(!1),c=de({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:we(ap),cancelButtonLoadingIcon:we(ap),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:a()}),u=vo((()=>{const t=c.type;return{[r.bm("icon",t)]:t&&Np[t]}})),d=Jp(),h=Jp(),f=vo((()=>{const t=c.type;return c.icon||t&&Np[t]||""})),p=vo((()=>!!c.message)),g=Me(),y=Me(),b=Me(),w=Me(),_=Me(),x=vo((()=>c.confirmButtonClass));fr((()=>c.inputValue),(async e=>{await Qe(),"prompt"===t.boxType&&e&&A()}),{immediate:!0}),fr((()=>l.value),(e=>{var n,i;e&&("prompt"!==t.boxType&&(c.autofocus?b.value=null!=(i=null==(n=_.value)?void 0:n.$el)?i:g.value:b.value=g.value),c.zIndex=a()),"prompt"===t.boxType&&(e?Qe().then((()=>{var t;w.value&&w.value.$el&&(c.autofocus?b.value=null!=(t=N())?t:g.value:b.value=g.value)})):(c.editorErrorMessage="",c.validateError=!1))}));const S=vo((()=>t.draggable)),M=vo((()=>t.overflow));function C(){l.value&&(l.value=!1,Qe((()=>{c.action&&e("action",c.action)})))}eM(g,y,S,M),Zn((async()=>{await Qe(),t.closeOnHashChange&&window.addEventListener("hashchange",C)})),ti((()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",C)}));const k=()=>{t.closeOnClickModal&&T(c.distinguishCancelAndClose?"close":"cancel")},E=YS(k),T=e=>{var n;("prompt"!==t.boxType||"confirm"!==e||A())&&(c.action=e,c.beforeClose?null==(n=c.beforeClose)||n.call(c,e,c,C):C())},A=()=>{if("prompt"===t.boxType){const t=c.inputPattern;if(t&&!t.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;const e=c.inputValidator;if(m(e)){const t=e(c.inputValue);if(!1===t)return c.editorErrorMessage=c.inputErrorMessage||s("el.messagebox.error"),c.validateError=!0,!1;if(v(t))return c.editorErrorMessage=t,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},N=()=>{var t,e;const n=null==(t=w.value)?void 0:t.$refs;return null!=(e=null==n?void 0:n.input)?e:null==n?void 0:n.textarea},I=()=>{T("close")};return t.lockScroll&&aM(l),{...Re(c),ns:r,overlayEvent:E,visible:l,hasMessage:p,typeClass:u,contentId:d,inputId:h,btnSize:o,iconComponent:f,confirmButtonClasses:x,rootRef:g,focusStartRef:b,headerRef:y,inputRef:w,confirmRef:_,doClose:C,handleClose:I,onCloseRequested:()=>{t.closeOnPressEscape&&I()},handleWrapperClick:k,handleInputEnter:t=>{if("textarea"!==c.inputType)return t.preventDefault(),T("confirm")},handleAction:T,t:s}}});var WB=mf(jB,[["render",function(t,e,n,i,r,o){const s=ai("el-icon"),a=ai("el-input"),l=ai("el-button"),c=ai("el-focus-trap"),u=ai("el-overlay");return Rr(),Br(Ro,{name:"fade-in-linear",onAfterLeave:e=>t.$emit("vanish"),persisted:""},{default:un((()=>[dn($r(u,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:un((()=>[Vr("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:$(`${t.ns.namespace.value}-overlay-message-box`),onClick:t.overlayEvent.onClick,onMousedown:t.overlayEvent.onMousedown,onMouseup:t.overlayEvent.onMouseup},[$r(c,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:un((()=>[Vr("div",{ref:"rootRef",class:$([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:F(t.customStyle),tabindex:"-1",onClick:Ds((()=>{}),["stop"])},[null!==t.title&&void 0!==t.title?(Rr(),Pr("div",{key:0,ref:"headerRef",class:$([t.ns.e("header"),{"show-close":t.showClose}])},[Vr("div",{class:$(t.ns.e("title"))},[t.iconComponent&&t.center?(Rr(),Br(s,{key:0,class:$([t.ns.e("status"),t.typeClass])},{default:un((()=>[(Rr(),Br(ci(t.iconComponent)))])),xt:1},8,["class"])):Kr("v-if",!0),Vr("span",null,X(t.title),1)],2),t.showClose?(Rr(),Pr("button",{key:0,type:"button",class:$(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:e=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),onKeydown:Bs(Ds((e=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),["prevent"]),["enter"])},[$r(s,{class:$(t.ns.e("close"))},{default:un((()=>[(Rr(),Br(ci(t.closeIcon||"close")))])),xt:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):Kr("v-if",!0)],2)):Kr("v-if",!0),Vr("div",{id:t.contentId,class:$(t.ns.e("content"))},[Vr("div",{class:$(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(Rr(),Br(s,{key:0,class:$([t.ns.e("status"),t.typeClass])},{default:un((()=>[(Rr(),Br(ci(t.iconComponent)))])),xt:1},8,["class"])):Kr("v-if",!0),t.hasMessage?(Rr(),Pr("div",{key:1,class:$(t.ns.e("message"))},[mi(t.$slots,"default",{},(()=>[t.dangerouslyUseHTMLString?(Rr(),Br(ci(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(Rr(),Br(ci(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:un((()=>[Wr(X(t.dangerouslyUseHTMLString?"":t.message),1)])),xt:1},8,["for"]))]))],2)):Kr("v-if",!0)],2),dn(Vr("div",{class:$(t.ns.e("input"))},[$r(a,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e=>t.inputValue=e,type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:$({invalid:t.validateError}),onKeydown:Bs(t.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),Vr("div",{class:$(t.ns.e("errormsg")),style:F({visibility:t.editorErrorMessage?"visible":"hidden"})},X(t.editorErrorMessage),7)],2),[[qo,t.showInput]])],10,["id"]),Vr("div",{class:$(t.ns.e("btns"))},[t.showCancelButton?(Rr(),Br(l,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:$([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:e=>t.handleAction("cancel"),onKeydown:Bs(Ds((e=>t.handleAction("cancel")),["prevent"]),["enter"])},{default:un((()=>[Wr(X(t.cancelButtonText||t.t("el.messagebox.cancel")),1)])),xt:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):Kr("v-if",!0),dn($r(l,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:$([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:e=>t.handleAction("confirm"),onKeydown:Bs(Ds((e=>t.handleAction("confirm")),["prevent"]),["enter"])},{default:un((()=>[Wr(X(t.confirmButtonText||t.t("el.messagebox.confirm")),1)])),xt:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[qo,t.showConfirmButton]])],2)],14,["onClick"])])),xt:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])])),xt:3},8,["z-index","overlay-class","mask"]),[[qo,t.visible]])])),xt:3},8,["onAfterLeave"])}],["__file","index.vue"]]);const KB=new Map,qB=(t,e,n=null)=>{const i=$r(WB,t,m(t.message)||Fr(t.message)?{default:m(t.message)?t.message:()=>t.message}:null);return i.appContext=n,zs(i,e),(t=>{let e=document.body;return t.appendTo&&(v(t.appendTo)&&(e=document.querySelector(t.appendTo)),Pd(t.appendTo)&&(e=t.appendTo),Pd(e)||(e=document.body)),e})(t).appendChild(e.firstElementChild),i.component},YB=(t,e)=>{const n=document.createElement("div");t.onVanish=()=>{zs(null,n),KB.delete(r)},t.onAction=e=>{const n=KB.get(r);let o;o=t.showInput?{value:r.inputValue,action:e}:e,t.callback?t.callback(o,i.proxy):"cancel"===e||"close"===e?t.distinguishCancelAndClose&&"cancel"!==e?n.reject("close"):n.reject("cancel"):n.resolve(o)};const i=qB(t,n,e),r=i.proxy;for(const o in t)u(t,o)&&!u(r.$props,o)&&("closeIcon"===o&&y(t[o])?r[o]=we(t[o]):r[o]=t[o]);return r.visible=!0,r};function XB(t,e=null){if(!qd)return Promise.reject();let n;return v(t)||Fr(t)?t={message:t}:n=t.callback,new Promise(((i,r)=>{const o=YB(t,null!=e?e:XB.At);KB.set(o,{options:t,callback:n,resolve:i,reject:r})}))}const ZB={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};["alert","confirm","prompt"].forEach((t=>{XB[t]=function(t){return(e,n,i,r)=>{let o="";return y(n)?(i=n,o=""):o=Rd(n)?"":n,XB(Object.assign({title:o,message:e,type:"",...ZB[t]},i,{boxType:t}),r)}}(t)})),XB.close=()=>{KB.forEach(((t,e)=>{e.doClose()})),KB.clear()},XB.At=null;const JB=XB;JB.install=t=>{JB.At=t.At,t.config.globalProperties.$msgbox=JB,t.config.globalProperties.$messageBox=JB,t.config.globalProperties.$alert=JB.alert,t.config.globalProperties.$confirm=JB.confirm,t.config.globalProperties.$prompt=JB.prompt};const QB=JB,tF=["success","info","warning","error"],eF=Wh({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:Ep},id:{type:String,default:""},message:{type:[String,Object,Function],default:""},offset:{type:Number,default:0},onClick:{type:Function,default:()=>{}},onClose:{type:Function,required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...tF,""],default:""},zIndex:Number});var nF=mf(Un({...Un({name:"ElNotification"}),props:eF,emits:{destroy:()=>!0},setup(t,{expose:e}){const n=t,{ns:i,zIndex:r}=af("notification"),{nextZIndex:o,currentZIndex:s}=r,{Close:a}=Tp,l=Me(!1);let c;const u=vo((()=>{const t=n.type;return t&&Np[n.type]?i.m(t):""})),d=vo((()=>n.type&&Np[n.type]||n.icon)),h=vo((()=>n.position.endsWith("right")?"right":"left")),f=vo((()=>n.position.startsWith("top")?"top":"bottom")),p=vo((()=>{var t;return{[f.value]:`${n.offset}px`,zIndex:null!=(t=n.zIndex)?t:s.value}}));function m(){n.duration>0&&({stop:c}=oh((()=>{l.value&&g()}),n.duration))}function v(){null==c||c()}function g(){l.value=!1}return Zn((()=>{m(),o(),l.value=!0})),ch(document,"keydown",(function({code:t}){t===ev.delete||t===ev.backspace?v():t===ev.esc?l.value&&g():m()})),e({visible:l,close:g}),(t,e)=>(Rr(),Br(Ro,{name:Te(i).b("fade"),onBeforeLeave:t.onClose,onAfterLeave:e=>t.$emit("destroy"),persisted:""},{default:un((()=>[dn(Vr("div",{id:t.id,class:$([Te(i).b(),t.customClass,Te(h)]),style:F(Te(p)),role:"alert",onMouseenter:v,onMouseleave:m,onClick:t.onClick},[Te(d)?(Rr(),Br(Te(Ff),{key:0,class:$([Te(i).e("icon"),Te(u)])},{default:un((()=>[(Rr(),Br(ci(Te(d))))])),xt:1},8,["class"])):Kr("v-if",!0),Vr("div",{class:$(Te(i).e("group"))},[Vr("h2",{class:$(Te(i).e("title")),textContent:X(t.title)},null,10,["textContent"]),dn(Vr("div",{class:$(Te(i).e("content")),style:F(t.title?void 0:{margin:0})},[mi(t.$slots,"default",{},(()=>[t.dangerouslyUseHTMLString?(Rr(),Pr(kr,{key:1},[Kr(" Caution here, message could've been compromised, never use user's input as message "),Vr("p",{innerHTML:t.message},null,8,["innerHTML"])],2112)):(Rr(),Pr("p",{key:0},X(t.message),1))]))],6),[[qo,t.message]]),t.showClose?(Rr(),Br(Te(Ff),{key:0,class:$(Te(i).e("closeBtn")),onClick:Ds(g,["stop"])},{default:un((()=>[$r(Te(a))])),xt:1},8,["class","onClick"])):Kr("v-if",!0)],2)],46,["id","onClick"]),[[qo,l.value]])])),xt:3},8,["name","onBeforeLeave","onAfterLeave"]))}}),[["__file","notification.vue"]]);const iF={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]};let rF=1;const oF=function(t={},e){if(!qd)return{close:()=>{}};(v(t)||Fr(t))&&(t={message:t});const n=t.position||"top-right";let i=t.offset||0;iF[n].forEach((({vm:t})=>{var e;i+=((null==(e=t.el)?void 0:e.offsetHeight)||0)+16})),i+=16;const r="notification_"+rF++,o=t.onClose,s={...t,offset:i,id:r,onClose:()=>{!function(t,e,n){const i=iF[e],r=i.findIndex((({vm:e})=>{var n;return(null==(n=e.component)?void 0:n.props.id)===t}));if(-1===r)return;const{vm:o}=i[r];if(!o)return;null==n||n(o);const s=o.el.offsetHeight,a=e.split("-")[0];i.splice(r,1);const l=i.length;if(l<1)return;for(let c=r;c<l;c++){const{el:t,component:e}=i[c].vm,n=Number.parseInt(t.style[a],10)-s-16;e.props.offset=n}}(r,n,o)}};let a=document.body;Pd(t.appendTo)?a=t.appendTo:v(t.appendTo)&&(a=document.querySelector(t.appendTo)),Pd(a)||(a=document.body);const l=document.createElement("div"),c=$r(nF,s,m(s.message)?s.message:Fr(s.message)?()=>s.message:null);return c.appContext=Rd(e)?oF.At:e,c.props.onDestroy=()=>{zs(null,l)},zs(c,l),iF[n].push({vm:c}),a.appendChild(l.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};tF.forEach((t=>{oF[t]=(e={},n)=>((v(e)||Fr(e))&&(e={message:e}),oF({...e,type:t},n))})),oF.closeAll=function(){for(const t of Object.values(iF))t.forEach((({vm:t})=>{t.component.exposed.visible.value=!1}))},oF.At=null;var sF=((t=[])=>({version:"2.9.6",install:(e,n)=>{e[aa]||(e[aa]=!0,t.forEach((t=>e.use(t))),n&&lf(n,e,!0))}}))([...hB,...[wB,NB,zB,QB,Lf(oF,"$notify"),OE]]),aF={name:"zh-cn",el:{breadcrumb:{label:"面包屑"},colorpicker:{confirm:"确定",clear:"清空",defaultLabel:"颜色选择器",description:"当前颜色 {color}，按 Enter 键选择新颜色",alphaLabel:"选择透明度的值"},datepicker:{now:"此刻",today:"今天",cancel:"取消",clear:"清空",confirm:"确定",dateTablePrompt:"使用方向键与 Enter 键可选择日期",monthTablePrompt:"使用方向键与 Enter 键可选择月份",yearTablePrompt:"使用方向键与 Enter 键可选择年份",selectedDate:"已选日期",selectDate:"选择日期",selectTime:"选择时间",startDate:"开始日期",startTime:"开始时间",endDate:"结束日期",endTime:"结束时间",prevYear:"前一年",nextYear:"后一年",prevMonth:"上个月",nextMonth:"下个月",year:"年",month1:"1 月",month2:"2 月",month3:"3 月",month4:"4 月",month5:"5 月",month6:"6 月",month7:"7 月",month8:"8 月",month9:"9 月",month10:"10 月",month11:"11 月",month12:"12 月",weeks:{sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},weeksFull:{sun:"星期日",mon:"星期一",tue:"星期二",wed:"星期三",thu:"星期四",fri:"星期五",sat:"星期六"},months:{jan:"一月",feb:"二月",mar:"三月",apr:"四月",may:"五月",jun:"六月",jul:"七月",aug:"八月",sep:"九月",oct:"十月",nov:"十一月",dec:"十二月"}},inputNumber:{decrease:"减少数值",increase:"增加数值"},select:{loading:"加载中",noMatch:"无匹配数据",noData:"无数据",placeholder:"请选择"},dropdown:{toggleDropdown:"切换下拉选项"},mention:{loading:"加载中"},cascader:{noMatch:"无匹配数据",loading:"加载中",placeholder:"请选择",noData:"暂无数据"},pagination:{goto:"前往",pagesize:"条/页",total:"共 {total} 条",pageClassifier:"页",page:"页",prev:"上一页",next:"下一页",currentPage:"第 {pager} 页",prevPages:"向前 {pager} 页",nextPages:"向后 {pager} 页",deprecationWarning:"你使用了一些已被废弃的用法，请参考 el-pagination 的官方文档"},dialog:{close:"关闭此对话框"},drawer:{close:"关闭此对话框"},messagebox:{title:"提示",confirm:"确定",cancel:"取消",error:"输入的数据不合法!",close:"关闭此对话框"},upload:{deleteTip:"按 delete 键可删除",delete:"删除",preview:"查看图片",continue:"继续上传"},slider:{defaultLabel:"滑块介于 {min} 至 {max}",defaultRangeStartLabel:"选择起始值",defaultRangeEndLabel:"选择结束值"},table:{emptyText:"暂无数据",confirmFilter:"筛选",resetFilter:"重置",clearFilter:"全部",sumText:"合计"},tour:{next:"下一步",previous:"上一步",finish:"结束导览"},tree:{emptyText:"暂无数据"},transfer:{noMatch:"无匹配数据",noData:"无数据",titles:["列表 1","列表 2"],filterPlaceholder:"请输入搜索内容",noCheckedFormat:"共 {total} 项",hasCheckedFormat:"已选 {checked}/{total} 项"},image:{error:"加载失败"},pageHeader:{title:"返回"},popconfirm:{confirmButtonText:"确定",cancelButtonText:"取消"},carousel:{leftArrow:"上一张幻灯片",rightArrow:"下一张幻灯片",indicator:"幻灯片切换至索引 {index}"}}},lF={name:"ja",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"クリア"},datepicker:{now:"現在",today:"今日",cancel:"キャンセル",clear:"クリア",confirm:"OK",selectDate:"日付を選択",selectTime:"時間を選択",startDate:"開始日",startTime:"開始時間",endDate:"終了日",endTime:"終了時間",prevYear:"前年",nextYear:"翌年",prevMonth:"前月",nextMonth:"翌月",year:"年",month1:"1月",month2:"2月",month3:"3月",month4:"4月",month5:"5月",month6:"6月",month7:"7月",month8:"8月",month9:"9月",month10:"10月",month11:"11月",month12:"12月",weeks:{sun:"日",mon:"月",tue:"火",wed:"水",thu:"木",fri:"金",sat:"土"},months:{jan:"1月",feb:"2月",mar:"3月",apr:"4月",may:"5月",jun:"6月",jul:"7月",aug:"8月",sep:"9月",oct:"10月",nov:"11月",dec:"12月"}},select:{loading:"ロード中",noMatch:"データなし",noData:"データなし",placeholder:"選択してください"},mention:{loading:"ロード中"},cascader:{noMatch:"データなし",loading:"ロード中",placeholder:"選択してください",noData:"データなし"},pagination:{goto:"",pagesize:"件/ページ",total:"総計 {total} 件",pageClassifier:"ページ目へ",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages"},messagebox:{title:"メッセージ",confirm:"OK",cancel:"キャンセル",error:"正しくない入力"},upload:{deleteTip:"Delキーを押して削除する",delete:"削除する",preview:"プレビュー",continue:"続行する"},table:{emptyText:"データなし",confirmFilter:"確認",resetFilter:"初期化",clearFilter:"すべて",sumText:"合計"},tour:{next:"次へ",previous:"前へ",finish:"ツアー終了"},tree:{emptyText:"データなし"},transfer:{noMatch:"データなし",noData:"データなし",titles:["リスト 1","リスト 2"],filterPlaceholder:"キーワードを入力",noCheckedFormat:"総計 {total} 件",hasCheckedFormat:"{checked}/{total} を選択した"},image:{error:"失敗"},pageHeader:{title:"戻る"},popconfirm:{confirmButtonText:"はい",cancelButtonText:"いいえ"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const cF={$t:"App",setup(t){const e=sa(),n=Me(aF);fr((()=>e.currentLang),(t=>{n.value=i(t)}));const i=t=>"ja"===t?lF:"en"===t?Uh:aF;return(t,e)=>{const i=ai("router-view");return Rr(),Br(Te(z_),{locale:n.value},{default:un((()=>[$r(i)])),xt:1},8,["locale"])}}},uF={},dF=function(t,e,n){let i=Promise.resolve();if(e&&e.length>0){const t=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),o=(null==r?void 0:r.nonce)||(null==r?void 0:r.getAttribute("nonce"));i=Promise.allSettled(e.map((e=>{if(e=function(t,e){return new URL(t,e).href}(e,n),e in uF)return;uF[e]=!0;const i=e.endsWith(".css"),r=i?'[rel="stylesheet"]':"";if(!!n)for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.href===e&&(!i||"stylesheet"===r.rel))return}else if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=i?"stylesheet":"modulepreload",i||(s.as="script"),s.crossOrigin="",s.href=e,o&&s.setAttribute("nonce",o),document.head.appendChild(s),i?new Promise(((t,n)=>{s.addEventListener("load",t),s.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function r(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return i.then((e=>{for(const t of e||[])"rejected"===t.status&&r(t.reason);return t().catch(r)}))},hF="undefined"!=typeof document;function fF(t){return"object"==typeof t||"displayName"in t||"props"in t||"zt"in t}const pF=Object.assign;function mF(t,e){const n={};for(const i in e){const r=e[i];n[i]=gF(r)?r.map(t):t(r)}return n}const vF=()=>{},gF=Array.isArray,yF=/#/g,bF=/&/g,wF=/\//g,_F=/=/g,xF=/\?/g,SF=/\+/g,MF=/%5B/g,CF=/%5D/g,kF=/%5E/g,EF=/%60/g,TF=/%7B/g,AF=/%7C/g,NF=/%7D/g,IF=/%20/g;function RF(t){return encodeURI(""+t).replace(AF,"|").replace(MF,"[").replace(CF,"]")}function OF(t){return RF(t).replace(SF,"%2B").replace(IF,"+").replace(yF,"%23").replace(bF,"%26").replace(EF,"`").replace(TF,"{").replace(NF,"}").replace(kF,"^")}function LF(t){return null==t?"":function(t){return RF(t).replace(yF,"%23").replace(xF,"%3F")}(t).replace(wF,"%2F")}function DF(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}const PF=/\/$/;function BF(t,e,n="/"){let i,r={},o="",s="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),r=t(o)),a>-1&&(i=i||e.slice(0,a),s=e.slice(a,e.length)),i=function(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];".."!==r&&"."!==r||i.push("");let o,s,a=n.length-1;for(o=0;o<i.length;o++)if(s=i[o],"."!==s){if(".."!==s)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+i.slice(o).join("/")}(null!=i?i:e,n),{fullPath:i+(o&&"?")+o+s,path:i,query:r,hash:DF(s)}}function FF(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function UF(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function HF(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!zF(t[n],e[n]))return!1;return!0}function zF(t,e){return gF(t)?VF(t,e):gF(e)?VF(e,t):t===e}function VF(t,e){return gF(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}const $F={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var GF,jF,WF,KF;function qF(t){if(!t)if(hF){const e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),t.replace(PF,"")}(jF=GF||(GF={})).pop="pop",jF.push="push",(KF=WF||(WF={})).back="back",KF.forward="forward",KF.unknown="";const YF=/^[^#]+#/;function XF(t,e){return t.replace(YF,"#")+e}const ZF=()=>({left:window.scrollX,top:window.scrollY});function JF(t){let e;if("el"in t){const n=t.el,i="string"==typeof n&&n.startsWith("#"),r="string"==typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=function(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.scrollX,null!=e.top?e.top:window.scrollY)}function QF(t,e){return(history.state?history.state.position-e:-1)+t}const tU=new Map;function eU(t,e){const{pathname:n,search:i,hash:r}=e,o=t.indexOf("#");if(o>-1){let e=r.includes(t.slice(o))?t.slice(o).length:1,n=r.slice(e);return"/"!==n[0]&&(n="/"+n),FF(n,"")}return FF(n,t)+i+r}function nU(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?ZF():null}}function iU(t){const{history:e,location:n}=window,i={value:eU(t,n)},r={value:e.state};function o(i,o,s){const a=t.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+i:location.protocol+"//"+location.host+t+i;try{e[s?"replaceState":"pushState"](o,"",l),r.value=o}catch(c){n[s?"replace":"assign"](l)}}return r.value||o(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:function(t,n){const s=pF({},r.value,e.state,{forward:t,scroll:ZF()});o(s.current,s,!0),o(t,pF({},nU(i.value,t,null),{position:s.position+1},n),!1),i.value=t},replace:function(t,n){o(t,pF({},e.state,nU(r.value.back,t,r.value.forward,!0),n,{position:r.value.position}),!0),i.value=t}}}function rU(t){return"string"==typeof t||"symbol"==typeof t}const oU=Symbol("");var sU,aU;function lU(t,e){return pF(new Error,{type:t,[oU]:!0},e)}function cU(t,e){return t instanceof Error&&oU in t&&(null==e||!!(t.type&e))}(aU=sU||(sU={}))[aU.aborted=4]="aborted",aU[aU.cancelled=8]="cancelled",aU[aU.duplicated=16]="duplicated";const uU="[^/]+?",dU={sensitive:!1,strict:!1,start:!0,end:!0},hU=/[.+*?^${}()[\]/\\]/g;function fU(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function pU(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const t=fU(i[n],r[n]);if(t)return t;n++}if(1===Math.abs(r.length-i.length)){if(mU(i))return 1;if(mU(r))return-1}return r.length-i.length}function mU(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const vU={type:0,value:""},gU=/[a-zA-Z0-9_]/;function yU(t,e,n){const i=function(t,e){const n=pF({},dU,e),i=[];let r=n.start?"^":"";const o=[];for(const l of t){const t=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let e=0;e<l.length;e++){const i=l[e];let s=40+(n.sensitive?.25:0);if(0===i.type)e||(r+="/"),r+=i.value.replace(hU,"\\$&"),s+=40;else if(1===i.type){const{value:t,repeatable:n,optional:c,regexp:u}=i;o.push({name:t,repeatable:n,optional:c});const d=u||uU;if(d!==uU){s+=10;try{new RegExp(`(${d})`)}catch(a){throw new Error(`Invalid custom RegExp for param "${t}" (${d}): `+a.message)}}let h=n?`((?:${d})(?:/(?:${d}))*)`:`(${d})`;e||(h=c&&l.length<2?`(?:/${h})`:"/"+h),c&&(h+="?"),r+=h,s+=20,c&&(s+=-8),n&&(s+=-20),".*"===d&&(s+=-50)}t.push(s)}i.push(t)}if(n.strict&&n.end){const t=i.length-1;i[t][i[t].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");return{re:s,score:i,keys:o,parse:function(t){const e=t.match(s),n={};if(!e)return null;for(let i=1;i<e.length;i++){const t=e[i]||"",r=o[i-1];n[r.name]=t&&r.repeatable?t.split("/"):t}return n},stringify:function(e){let n="",i=!1;for(const r of t){i&&n.endsWith("/")||(n+="/"),i=!1;for(const t of r)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,l=o in e?e[o]:"";if(gF(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=gF(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=c}}return n||"/"}}}(function(t){if(!t)return[[]];if("/"===t)return[[vU]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,i=n;const r=[];let o;function s(){o&&r.push(o),o=[]}let a,l=0,c="",u="";function d(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<t.length;)if(a=t[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&d(),s()):":"===a?(d(),n=1):h();break;case 4:h(),n=i;break;case 1:"("===a?n=2:gU.test(a)?h():(d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:d(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:e("Unknown state")}else i=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),d(),s(),r}(t.path),n),r=pF(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function bU(t,e){const n=[],i=new Map;function r(t,n,i){const a=!i,l=_U(t);l.aliasOf=i&&i.record;const c=CU(e,t),u=[l];if("alias"in t){const e="string"==typeof t.alias?[t.alias]:t.alias;for(const t of e)u.push(_U(pF({},l,{components:i?i.record.components:l.components,path:t,aliasOf:i?i.record:l})))}let d,h;for(const e of u){const{path:u}=e;if(n&&"/"!==u[0]){const t=n.record.path,i="/"===t[t.length-1]?"":"/";e.path=n.record.path+(u&&i+u)}if(d=yU(e,n,c),i?i.alias.push(d):(h=h||d,h!==d&&h.alias.push(d),a&&t.name&&!SU(d)&&o(t.name)),kU(d)&&s(d),l.children){const t=l.children;for(let e=0;e<t.length;e++)r(t[e],d,i&&i.children[e])}i=i||d}return h?()=>{o(h)}:vF}function o(t){if(rU(t)){const e=i.get(t);e&&(i.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&i.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function s(t){const e=function(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;pU(t,e[r])<0?i=r:n=r+1}const r=function(t){let e=t;for(;e=e.parent;)if(kU(e)&&0===pU(t,e))return e;return}(t);r&&(i=e.lastIndexOf(r,i-1));return i}(t,n);n.splice(e,0,t),t.record.name&&!SU(t)&&i.set(t.record.name,t)}return e=CU({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>r(t))),{addRoute:r,resolve:function(t,e){let r,o,s,a={};if("name"in t&&t.name){if(r=i.get(t.name),!r)throw lU(1,{location:t});s=r.record.name,a=pF(wU(e.params,r.keys.filter((t=>!t.optional)).concat(r.parent?r.parent.keys.filter((t=>t.optional)):[]).map((t=>t.name))),t.params&&wU(t.params,r.keys.map((t=>t.name)))),o=r.stringify(a)}else if(null!=t.path)o=t.path,r=n.find((t=>t.re.test(o))),r&&(a=r.parse(o),s=r.record.name);else{if(r=e.name?i.get(e.name):n.find((t=>t.re.test(e.path))),!r)throw lU(1,{location:t,currentLocation:e});s=r.record.name,a=pF({},e.params,t.params),o=r.stringify(a)}const l=[];let c=r;for(;c;)l.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:l,meta:MU(l)}},removeRoute:o,clearRoutes:function(){n.length=0,i.clear()},getRoutes:function(){return n},getRecordMatcher:function(t){return i.get(t)}}}function wU(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function _U(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:xU(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function xU(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]="object"==typeof n?n[i]:n;return e}function SU(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function MU(t){return t.reduce(((t,e)=>pF(t,e.meta)),{})}function CU(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function kU({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function EU(t){const e={};if(""===t||"?"===t)return e;const n=("?"===t[0]?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const t=n[i].replace(SF," "),r=t.indexOf("="),o=DF(r<0?t:t.slice(0,r)),s=r<0?null:DF(t.slice(r+1));if(o in e){let t=e[o];gF(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function TU(t){let e="";for(let n in t){const i=t[n];if(n=OF(n).replace(_F,"%3D"),null==i){void 0!==i&&(e+=(e.length?"&":"")+n);continue}(gF(i)?i.map((t=>t&&OF(t))):[i&&OF(i)]).forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function AU(t){const e={};for(const n in t){const i=t[n];void 0!==i&&(e[n]=gF(i)?i.map((t=>null==t?null:""+t)):null==i?i:""+i)}return e}const NU=Symbol(""),IU=Symbol(""),RU=Symbol(""),OU=Symbol(""),LU=Symbol("");function DU(){let t=[];return{add:function(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}},list:()=>t.slice(),reset:function(){t=[]}}}function PU(t,e,n,i,r,o=t=>t()){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((a,l)=>{const c=t=>{var o;!1===t?l(lU(4,{from:n,to:e})):t instanceof Error?l(t):"string"==typeof(o=t)||o&&"object"==typeof o?l(lU(2,{from:e,to:t})):(s&&i.enterCallbacks[r]===s&&"function"==typeof t&&s.push(t),a())},u=o((()=>t.call(i&&i.instances[r],e,n,c)));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch((t=>l(t)))}))}function BU(t,e,n,i,r=t=>t()){const o=[];for(const s of t)for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if(fF(a)){const l=(a.zt||a)[e];l&&o.push(PU(l,n,i,s,t,r))}else{let l=a();o.push((()=>l.then((o=>{if(!o)throw new Error(`Couldn't resolve component "${t}" at "${s.path}"`);const a=(l=o).me||"Module"===l[Symbol.toStringTag]||l.default&&fF(l.default)?o.default:o;var l;s.mods[t]=o,s.components[t]=a;const c=(a.zt||a)[e];return c&&PU(c,n,i,s,t,r)()}))))}}return o}function FU(t){const e=Vi(RU),n=Vi(OU),i=vo((()=>{const n=Te(t.to);return e.resolve(n)})),r=vo((()=>{const{matched:t}=i.value,{length:e}=t,r=t[e-1],o=n.matched;if(!r||!o.length)return-1;const s=o.findIndex(UF.bind(null,r));if(s>-1)return s;const a=HU(t[e-2]);return e>1&&HU(r)===a&&o[o.length-1].path!==a?o.findIndex(UF.bind(null,t[e-2])):s})),o=vo((()=>r.value>-1&&function(t,e){for(const n in e){const i=e[n],r=t[n];if("string"==typeof i){if(i!==r)return!1}else if(!gF(r)||r.length!==i.length||i.some(((t,e)=>t!==r[e])))return!1}return!0}(n.params,i.value.params))),s=vo((()=>r.value>-1&&r.value===n.matched.length-1&&HF(n.params,i.value.params)));return{route:i,href:vo((()=>i.value.href)),isActive:o,isExactActive:s,navigate:function(n={}){if(function(t){if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)return;if(t.defaultPrevented)return;if(void 0!==t.button&&0!==t.button)return;if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}t.preventDefault&&t.preventDefault();return!0}(n)){const n=e[Te(t.replace)?"replace":"push"](Te(t.to)).catch(vF);return t.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition((()=>n)),n}return Promise.resolve()}}}const UU=Un({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:FU,setup(t,{slots:e}){const n=de(FU(t)),{options:i}=Vi(RU),r=vo((()=>({[zU(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[zU(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=e.default&&(1===(o=e.default(n)).length?o[0]:o);var o;return t.custom?i:go("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}});function HU(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const zU=(t,e,n)=>null!=t?t:null!=e?e:n,VU=Un({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Vi(LU),r=vo((()=>t.route||i.value)),o=Vi(IU,0),s=vo((()=>{let t=Te(o);const{matched:e}=r.value;let n;for(;(n=e[t])&&!n.components;)t++;return t})),a=vo((()=>r.value.matched[s.value]));zi(IU,vo((()=>s.value+1))),zi(NU,a),zi(LU,r);const l=Me();return fr((()=>[l.value,a.value,t.name]),(([t,e,n],[i,r,o])=>{e&&(e.instances[n]=t,r&&r!==e&&t&&t===i&&(e.leaveGuards.size||(e.leaveGuards=r.leaveGuards),e.updateGuards.size||(e.updateGuards=r.updateGuards))),!t||!e||r&&UF(e,r)&&i||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const i=r.value,o=t.name,s=a.value,c=s&&s.components[o];if(!c)return $U(n.default,{Component:c,route:i});const u=s.props[o],d=u?!0===u?i.params:"function"==typeof u?u(i):u:null,h=go(c,pF({},d,e,{onVnodeUnmounted:t=>{t.component.isUnmounted&&(s.instances[o]=null)},ref:l}));return $U(n.default,{Component:h,route:i})||h}}});function $U(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const GU=VU;function jU(){return Vi(RU)}
/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const WU="175",KU=0,qU=1,YU=2,XU=100,ZU=101,JU=102,QU=200,tH=201,eH=202,nH=203,iH=204,rH=205,oH=206,sH=207,aH=208,lH=209,cH=210,uH=211,dH=212,hH=213,fH=214,pH=0,mH=1,vH=2,gH=3,yH=4,bH=5,wH=6,_H=7,xH="attached",SH="detached",MH=300,CH=301,kH=302,EH=303,TH=304,AH=306,NH=1e3,IH=1001,RH=1002,OH=1003,LH=1004,DH=1005,PH=1006,BH=1007,FH=1008,UH=1009,HH=1010,zH=1011,VH=1012,$H=1013,GH=1014,jH=1015,WH=1016,KH=1017,qH=1018,YH=1020,XH=35902,ZH=1021,JH=1022,QH=1023,tz=1024,ez=1025,nz=1026,iz=1027,rz=1028,oz=1029,sz=1030,az=1031,lz=1033,cz=33776,uz=33777,dz=33778,hz=33779,fz=35840,pz=35841,mz=35842,vz=35843,gz=36196,yz=37492,bz=37496,wz=37808,_z=37809,xz=37810,Sz=37811,Mz=37812,Cz=37813,kz=37814,Ez=37815,Tz=37816,Az=37817,Nz=37818,Iz=37819,Rz=37820,Oz=37821,Lz=36492,Dz=36494,Pz=36495,Bz=36283,Fz=36284,Uz=36285,Hz=36286,zz=2300,Vz=2301,$z=2302,Gz=2400,jz=2401,Wz=2402,Kz=2500,qz=2501,Yz="",Xz="srgb",Zz="srgb-linear",Jz="linear",Qz="srgb",tV=7680,eV=512,nV=513,iV=514,rV=515,oV=516,sV=517,aV=518,lV=519,cV=35044,uV="300 es",dV=2e3,hV=2001;class fV{addEventListener(t,e){void 0===this.Ie&&(this.Ie={});const n=this.Ie;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}hasEventListener(t,e){const n=this.Ie;return void 0!==n&&(void 0!==n[t]&&-1!==n[t].indexOf(e))}removeEventListener(t,e){const n=this.Ie;if(void 0===n)return;const i=n[t];if(void 0!==i){const t=i.indexOf(e);-1!==t&&i.splice(t,1)}}dispatchEvent(t){const e=this.Ie;if(void 0===e)return;const n=e[t.type];if(void 0!==n){t.target=this;const e=n.slice(0);for(let n=0,i=e.length;n<i;n++)e[n].call(this,t);t.target=null}}}const pV=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let mV=1234567;const vV=Math.PI/180,gV=180/Math.PI;function yV(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(pV[255&t]+pV[t>>8&255]+pV[t>>16&255]+pV[t>>24&255]+"-"+pV[255&e]+pV[e>>8&255]+"-"+pV[e>>16&15|64]+pV[e>>24&255]+"-"+pV[63&n|128]+pV[n>>8&255]+"-"+pV[n>>16&255]+pV[n>>24&255]+pV[255&i]+pV[i>>8&255]+pV[i>>16&255]+pV[i>>24&255]).toLowerCase()}function bV(t,e,n){return Math.max(e,Math.min(n,t))}function wV(t,e){return(t%e+e)%e}function _V(t,e,n){return(1-n)*t+n*e}function xV(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function SV(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(4294967295*t);case Uint16Array:return Math.round(65535*t);case Uint8Array:return Math.round(255*t);case Int32Array:return Math.round(2147483647*t);case Int16Array:return Math.round(32767*t);case Int8Array:return Math.round(127*t);default:throw new Error("Invalid component type.")}}const MV={DEG2RAD:vV,RAD2DEG:gV,generateUUID:yV,clamp:bV,euclideanModulo:wV,mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},inverseLerp:function(t,e,n){return t!==e?(n-t)/(e-t):0},lerp:_V,damp:function(t,e,n,i){return _V(t,e,1-Math.exp(-n*i))},pingpong:function(t,e=1){return e-Math.abs(wV(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){void 0!==t&&(mV=t);let e=mV+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296},degToRad:function(t){return t*vV},radToDeg:function(t){return t*gV},isPowerOfTwo:function(t){return!(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((e+i)/2),u=s((e+i)/2),d=o((e-i)/2),h=s((e-i)/2),f=o((i-e)/2),p=s((i-e)/2);switch(r){case"XYX":t.set(a*u,l*d,l*h,a*c);break;case"YZY":t.set(l*h,a*u,l*d,a*c);break;case"ZXZ":t.set(l*d,l*h,a*u,a*c);break;case"XZX":t.set(a*u,l*p,l*f,a*c);break;case"YXY":t.set(l*f,a*u,l*p,a*c);break;case"ZYZ":t.set(l*p,l*f,a*u,a*c)}},normalize:SV,denormalize:xV};class CV{constructor(t=0,e=0){CV.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=bV(this.x,t.x,e.x),this.y=bV(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=bV(this.x,t,e),this.y=bV(this.y,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(bV(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(bV(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y;return e*e+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class kV{constructor(t,e,n,i,r,o,s,a,l){kV.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,n,i,r,o,s,a,l)}set(t,e,n,i,r,o,s,a,l){const c=this.elements;return c[0]=t,c[1]=i,c[2]=s,c[3]=e,c[4]=r,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}extractBasis(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],u=n[7],d=n[2],h=n[5],f=n[8],p=i[0],m=i[3],v=i[6],g=i[1],y=i[4],b=i[7],w=i[2],_=i[5],x=i[8];return r[0]=o*p+s*g+a*w,r[3]=o*m+s*y+a*_,r[6]=o*v+s*b+a*x,r[1]=l*p+c*g+u*w,r[4]=l*m+c*y+u*_,r[7]=l*v+c*b+u*x,r[2]=d*p+h*g+f*w,r[5]=d*m+h*y+f*_,r[8]=d*v+h*b+f*x,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8];return e*o*c-e*s*l-n*r*c+n*s*a+i*r*l-i*o*a}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=c*o-s*l,d=s*a-c*r,h=l*r-o*a,f=e*u+n*d+i*h;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);const p=1/f;return t[0]=u*p,t[1]=(i*l-c*n)*p,t[2]=(s*n-i*o)*p,t[3]=d*p,t[4]=(c*e-i*a)*p,t[5]=(i*r-s*e)*p,t[6]=h*p,t[7]=(n*a-l*e)*p,t[8]=(o*e-n*r)*p,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,n,i,r,o,s){const a=Math.cos(r),l=Math.sin(r);return this.set(n*a,n*l,-n*(a*o+l*s)+o+t,-i*l,i*a,-i*(-l*o+a*s)+s+e,0,0,1),this}scale(t,e){return this.premultiply(EV.makeScale(t,e)),this}rotate(t){return this.premultiply(EV.makeRotation(-t)),this}translate(t,e){return this.premultiply(EV.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,n,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let n=0;n<9;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const EV=new kV;function TV(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const AV={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function NV(t,e){return new AV[t](e)}function IV(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function RV(){const t=IV("canvas");return t.style.display="block",t}const OV={};function LV(t){t in OV||(OV[t]=!0)}const DV=(new kV).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),PV=(new kV).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function BV(){const t={enabled:!0,workingColorSpace:Zz,spaces:{},convert:function(t,e,n){return!1!==this.enabled&&e!==n&&e&&n?(this.spaces[e].transfer===Qz&&(t.r=UV(t.r),t.g=UV(t.g),t.b=UV(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===Qz&&(t.r=HV(t.r),t.g=HV(t.g),t.b=HV(t.b)),t):t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===Yz?Jz:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},Re:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},Oe:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},Le:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[Zz]:{primaries:e,whitePoint:i,transfer:Jz,toXYZ:DV,fromXYZ:PV,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Xz},outputColorSpaceConfig:{drawingBufferColorSpace:Xz}},[Xz]:{primaries:e,whitePoint:i,transfer:Qz,toXYZ:DV,fromXYZ:PV,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Xz}}}),t}const FV=BV();function UV(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function HV(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}let zV;class VV{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let n;if(t instanceof HTMLCanvasElement)n=t;else{void 0===zV&&(zV=IV("canvas")),zV.width=t.width,zV.height=t.height;const e=zV.getContext("2d");t instanceof ImageData?e.putImageData(t,0,0):e.drawImage(t,0,0,t.width,t.height),n=zV}return n.toDataURL(e)}static sRGBToLinear(t){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const e=IV("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d");n.drawImage(t,0,0,t.width,t.height);const i=n.getImageData(0,0,t.width,t.height),r=i.data;for(let t=0;t<r.length;t++)r[t]=255*UV(r[t]/255);return n.putImageData(i,0,0),e}if(t.data){const e=t.data.slice(0);for(let t=0;t<e.length;t++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[t]=Math.floor(255*UV(e[t]/255)):e[t]=UV(e[t]);return{data:e,width:t.width,height:t.height}}return t}}let $V=0;class GV{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:$V++}),this.uuid=yV(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(null!==i){let t;if(Array.isArray(i)){t=[];for(let e=0,n=i.length;e<n;e++)i[e].isDataTexture?t.push(jV(i[e].image)):t.push(jV(i[e]))}else t=jV(i);n.url=t}return e||(t.images[this.uuid]=n),n}}function jV(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?VV.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:{}}let WV=0;class KV extends fV{constructor(t=KV.DEFAULT_IMAGE,e=KV.DEFAULT_MAPPING,n=1001,i=1001,r=1006,o=1008,s=1023,a=1009,l=KV.DEFAULT_ANISOTROPY,c=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:WV++}),this.uuid=yV(),this.name="",this.source=new GV(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=r,this.minFilter=o,this.anisotropy=l,this.format=s,this.internalFormat=null,this.type=a,this.offset=new CV(0,0),this.repeat=new CV(1,1),this.center=new CV(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kV,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),e||(t.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==MH)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case NH:t.x=t.x-Math.floor(t.x);break;case IH:t.x=t.x<0?0:1;break;case RH:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case NH:t.y=t.y-Math.floor(t.y);break;case IH:t.y=t.y<0?0:1;break;case RH:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){!0===t&&this.pmremVersion++}}KV.DEFAULT_IMAGE=null,KV.DEFAULT_MAPPING=MH,KV.DEFAULT_ANISOTROPY=1;class qV{constructor(t=0,e=0,n=0,i=1){qV.prototype.isVector4=!0,this.x=t,this.y=e,this.z=n,this.w=i}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,n,i,r;const o=.01,s=.1,a=t.elements,l=a[0],c=a[4],u=a[8],d=a[1],h=a[5],f=a[9],p=a[2],m=a[6],v=a[10];if(Math.abs(c-d)<o&&Math.abs(u-p)<o&&Math.abs(f-m)<o){if(Math.abs(c+d)<s&&Math.abs(u+p)<s&&Math.abs(f+m)<s&&Math.abs(l+h+v-3)<s)return this.set(1,0,0,0),this;e=Math.PI;const t=(l+1)/2,a=(h+1)/2,g=(v+1)/2,y=(c+d)/4,b=(u+p)/4,w=(f+m)/4;return t>a&&t>g?t<o?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(t),i=y/n,r=b/n):a>g?a<o?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(a),n=y/i,r=w/i):g<o?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(g),n=b/r,i=w/r),this.set(n,i,r,e),this}let g=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(d-c)*(d-c));return Math.abs(g)<.001&&(g=1),this.x=(m-f)/g,this.y=(u-p)/g,this.z=(d-c)/g,this.w=Math.acos((l+h+v-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=bV(this.x,t.x,e.x),this.y=bV(this.y,t.y,e.y),this.z=bV(this.z,t.z,e.z),this.w=bV(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=bV(this.x,t,e),this.y=bV(this.y,t,e),this.z=bV(this.z,t,e),this.w=bV(this.w,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(bV(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class YV extends fV{constructor(t=1,e=1,n={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new qV(0,0,t,e),this.scissorTest=!1,this.viewport=new qV(0,0,t,e);const i={width:t,height:e,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:PH,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const r=new KV(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);r.flipY=!1,r.generateMipmaps=n.generateMipmaps,r.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let s=0;s<o;s++)this.textures[s]=r.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.De=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){null!==this.De&&(this.De.renderTarget=null),null!==t&&(t.renderTarget=this),this.De=t}get depthTexture(){return this.De}setSize(t,e,n=1){if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(let i=0,r=this.textures.length;i<r;i++)this.textures[i].image.width=t,this.textures[i].image.height=e,this.textures[i].image.depth=n;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,n=t.textures.length;e<n;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const n=Object.assign({},t.textures[e].image);this.textures[e].source=new GV(n)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class XV extends YV{constructor(t=1,e=1,n={}){super(t,e,n),this.isWebGLRenderTarget=!0}}class ZV extends KV{constructor(t=null,e=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:n,depth:i},this.magFilter=OH,this.minFilter=OH,this.wrapR=IH,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class JV extends KV{constructor(t=null,e=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:n,depth:i},this.magFilter=OH,this.minFilter=OH,this.wrapR=IH,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class QV{constructor(t=0,e=0,n=0,i=1){this.isQuaternion=!0,this.Pe=t,this.Be=e,this.Fe=n,this.Ue=i}static slerpFlat(t,e,n,i,r,o,s){let a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const d=r[o+0],h=r[o+1],f=r[o+2],p=r[o+3];if(0===s)return t[e+0]=a,t[e+1]=l,t[e+2]=c,void(t[e+3]=u);if(1===s)return t[e+0]=d,t[e+1]=h,t[e+2]=f,void(t[e+3]=p);if(u!==p||a!==d||l!==h||c!==f){let t=1-s;const e=a*d+l*h+c*f+u*p,n=e>=0?1:-1,i=1-e*e;if(i>Number.EPSILON){const r=Math.sqrt(i),o=Math.atan2(r,e*n);t=Math.sin(t*o)/r,s=Math.sin(s*o)/r}const r=s*n;if(a=a*t+d*r,l=l*t+h*r,c=c*t+f*r,u=u*t+p*r,t===1-s){const t=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=t,l*=t,c*=t,u*=t}}t[e]=a,t[e+1]=l,t[e+2]=c,t[e+3]=u}static multiplyQuaternionsFlat(t,e,n,i,r,o){const s=n[i],a=n[i+1],l=n[i+2],c=n[i+3],u=r[o],d=r[o+1],h=r[o+2],f=r[o+3];return t[e]=s*f+c*u+a*h-l*d,t[e+1]=a*f+c*d+l*u-s*h,t[e+2]=l*f+c*h+s*d-a*u,t[e+3]=c*f-s*u-a*d-l*h,t}get x(){return this.Pe}set x(t){this.Pe=t,this.He()}get y(){return this.Be}set y(t){this.Be=t,this.He()}get z(){return this.Fe}set z(t){this.Fe=t,this.He()}get w(){return this.Ue}set w(t){this.Ue=t,this.He()}set(t,e,n,i){return this.Pe=t,this.Be=e,this.Fe=n,this.Ue=i,this.He(),this}clone(){return new this.constructor(this.Pe,this.Be,this.Fe,this.Ue)}copy(t){return this.Pe=t.x,this.Be=t.y,this.Fe=t.z,this.Ue=t.w,this.He(),this}setFromEuler(t,e=!0){const n=t.Pe,i=t.Be,r=t.Fe,o=t.ze,s=Math.cos,a=Math.sin,l=s(n/2),c=s(i/2),u=s(r/2),d=a(n/2),h=a(i/2),f=a(r/2);switch(o){case"XYZ":this.Pe=d*c*u+l*h*f,this.Be=l*h*u-d*c*f,this.Fe=l*c*f+d*h*u,this.Ue=l*c*u-d*h*f;break;case"YXZ":this.Pe=d*c*u+l*h*f,this.Be=l*h*u-d*c*f,this.Fe=l*c*f-d*h*u,this.Ue=l*c*u+d*h*f;break;case"ZXY":this.Pe=d*c*u-l*h*f,this.Be=l*h*u+d*c*f,this.Fe=l*c*f+d*h*u,this.Ue=l*c*u-d*h*f;break;case"ZYX":this.Pe=d*c*u-l*h*f,this.Be=l*h*u+d*c*f,this.Fe=l*c*f-d*h*u,this.Ue=l*c*u+d*h*f;break;case"YZX":this.Pe=d*c*u+l*h*f,this.Be=l*h*u+d*c*f,this.Fe=l*c*f-d*h*u,this.Ue=l*c*u-d*h*f;break;case"XZY":this.Pe=d*c*u-l*h*f,this.Be=l*h*u-d*c*f,this.Fe=l*c*f+d*h*u,this.Ue=l*c*u+d*h*f}return!0===e&&this.He(),this}setFromAxisAngle(t,e){const n=e/2,i=Math.sin(n);return this.Pe=t.x*i,this.Be=t.y*i,this.Fe=t.z*i,this.Ue=Math.cos(n),this.He(),this}setFromRotationMatrix(t){const e=t.elements,n=e[0],i=e[4],r=e[8],o=e[1],s=e[5],a=e[9],l=e[2],c=e[6],u=e[10],d=n+s+u;if(d>0){const t=.5/Math.sqrt(d+1);this.Ue=.25/t,this.Pe=(c-a)*t,this.Be=(r-l)*t,this.Fe=(o-i)*t}else if(n>s&&n>u){const t=2*Math.sqrt(1+n-s-u);this.Ue=(c-a)/t,this.Pe=.25*t,this.Be=(i+o)/t,this.Fe=(r+l)/t}else if(s>u){const t=2*Math.sqrt(1+s-n-u);this.Ue=(r-l)/t,this.Pe=(i+o)/t,this.Be=.25*t,this.Fe=(a+c)/t}else{const t=2*Math.sqrt(1+u-n-s);this.Ue=(o-i)/t,this.Pe=(r+l)/t,this.Be=(a+c)/t,this.Fe=.25*t}return this.He(),this}setFromUnitVectors(t,e){let n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this.Pe=-t.y,this.Be=t.x,this.Fe=0,this.Ue=n):(this.Pe=0,this.Be=-t.z,this.Fe=t.y,this.Ue=n)):(this.Pe=t.y*e.z-t.z*e.y,this.Be=t.z*e.x-t.x*e.z,this.Fe=t.x*e.y-t.y*e.x,this.Ue=n),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(bV(this.dot(t),-1,1)))}rotateTowards(t,e){const n=this.angleTo(t);if(0===n)return this;const i=Math.min(1,e/n);return this.slerp(t,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this.Pe*=-1,this.Be*=-1,this.Fe*=-1,this.He(),this}dot(t){return this.Pe*t.Pe+this.Be*t.Be+this.Fe*t.Fe+this.Ue*t.Ue}lengthSq(){return this.Pe*this.Pe+this.Be*this.Be+this.Fe*this.Fe+this.Ue*this.Ue}length(){return Math.sqrt(this.Pe*this.Pe+this.Be*this.Be+this.Fe*this.Fe+this.Ue*this.Ue)}normalize(){let t=this.length();return 0===t?(this.Pe=0,this.Be=0,this.Fe=0,this.Ue=1):(t=1/t,this.Pe=this.Pe*t,this.Be=this.Be*t,this.Fe=this.Fe*t,this.Ue=this.Ue*t),this.He(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const n=t.Pe,i=t.Be,r=t.Fe,o=t.Ue,s=e.Pe,a=e.Be,l=e.Fe,c=e.Ue;return this.Pe=n*c+o*s+i*l-r*a,this.Be=i*c+o*a+r*s-n*l,this.Fe=r*c+o*l+n*a-i*s,this.Ue=o*c-n*s-i*a-r*l,this.He(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const n=this.Pe,i=this.Be,r=this.Fe,o=this.Ue;let s=o*t.Ue+n*t.Pe+i*t.Be+r*t.Fe;if(s<0?(this.Ue=-t.Ue,this.Pe=-t.Pe,this.Be=-t.Be,this.Fe=-t.Fe,s=-s):this.copy(t),s>=1)return this.Ue=o,this.Pe=n,this.Be=i,this.Fe=r,this;const a=1-s*s;if(a<=Number.EPSILON){const t=1-e;return this.Ue=t*o+e*this.Ue,this.Pe=t*n+e*this.Pe,this.Be=t*i+e*this.Be,this.Fe=t*r+e*this.Fe,this.normalize(),this}const l=Math.sqrt(a),c=Math.atan2(l,s),u=Math.sin((1-e)*c)/l,d=Math.sin(e*c)/l;return this.Ue=o*u+this.Ue*d,this.Pe=n*u+this.Pe*d,this.Be=i*u+this.Be*d,this.Fe=r*u+this.Fe*d,this.He(),this}slerpQuaternions(t,e,n){return this.copy(t).slerp(e,n)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),r=Math.sqrt(n);return this.set(i*Math.sin(t),i*Math.cos(t),r*Math.sin(e),r*Math.cos(e))}equals(t){return t.Pe===this.Pe&&t.Be===this.Be&&t.Fe===this.Fe&&t.Ue===this.Ue}fromArray(t,e=0){return this.Pe=t[e],this.Be=t[e+1],this.Fe=t[e+2],this.Ue=t[e+3],this.He(),this}toArray(t=[],e=0){return t[e]=this.Pe,t[e+1]=this.Be,t[e+2]=this.Fe,t[e+3]=this.Ue,t}fromBufferAttribute(t,e){return this.Pe=t.getX(e),this.Be=t.getY(e),this.Fe=t.getZ(e),this.Ue=t.getW(e),this.He(),this}toJSON(){return this.toArray()}Ve(t){return this.He=t,this}He(){}*[Symbol.iterator](){yield this.Pe,yield this.Be,yield this.Fe,yield this.Ue}}class t${constructor(t=0,e=0,n=0){t$.prototype.isVector3=!0,this.x=t,this.y=e,this.z=n}set(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(n$.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(n$.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this}applyQuaternion(t){const e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,s=t.z,a=t.w,l=2*(o*i-s*n),c=2*(s*e-r*i),u=2*(r*n-o*e);return this.x=e+a*l+o*u-s*c,this.y=n+a*c+s*l-r*u,this.z=i+a*u+r*c-o*l,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=bV(this.x,t.x,e.x),this.y=bV(this.y,t.y,e.y),this.z=bV(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=bV(this.x,t,e),this.y=bV(this.y,t,e),this.z=bV(this.z,t,e),this}clampLength(t,e){const n=this.length();return this.divideScalar(n||1).multiplyScalar(bV(n,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const n=t.x,i=t.y,r=t.z,o=e.x,s=e.y,a=e.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return e$.copy(this).projectOnVector(t),this.sub(e$)}reflect(t){return this.sub(e$.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const n=this.dot(t)/e;return Math.acos(bV(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,n){const i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t.Pe,this.y=t.Be,this.z=t.Fe,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=2*Math.random()-1,n=Math.sqrt(1-e*e);return this.x=n*Math.cos(t),this.y=e,this.z=n*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const e$=new t$,n$=new QV;class i${constructor(t=new t$(1/0,1/0,1/0),e=new t$(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e+=3)this.expandByPoint(o$.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,n=t.count;e<n;e++)this.expandByPoint(o$.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=o$.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const n=t.geometry;if(void 0!==n){const i=n.getAttribute("position");if(!0===e&&void 0!==i&&!0!==t.isInstancedMesh)for(let e=0,n=i.count;e<n;e++)!0===t.isMesh?t.getVertexPosition(e,o$):o$.fromBufferAttribute(i,e),o$.applyMatrix4(t.matrixWorld),this.expandByPoint(o$);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),s$.copy(t.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),s$.copy(n.boundingBox)),s$.applyMatrix4(t.matrixWorld),this.union(s$)}const i=t.children;for(let r=0,o=i.length;r<o;r++)this.expandByObject(i[r],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,o$),o$.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(f$),p$.subVectors(this.max,f$),a$.subVectors(t.a,f$),l$.subVectors(t.b,f$),c$.subVectors(t.c,f$),u$.subVectors(l$,a$),d$.subVectors(c$,l$),h$.subVectors(a$,c$);let e=[0,-u$.z,u$.y,0,-d$.z,d$.y,0,-h$.z,h$.y,u$.z,0,-u$.x,d$.z,0,-d$.x,h$.z,0,-h$.x,-u$.y,u$.x,0,-d$.y,d$.x,0,-h$.y,h$.x,0];return!!g$(e,a$,l$,c$,p$)&&(e=[1,0,0,0,1,0,0,0,1],!!g$(e,a$,l$,c$,p$)&&(m$.crossVectors(u$,d$),e=[m$.x,m$.y,m$.z],g$(e,a$,l$,c$,p$)))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,o$).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(o$).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(r$[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),r$[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),r$[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),r$[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),r$[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),r$[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),r$[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),r$[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(r$)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const r$=[new t$,new t$,new t$,new t$,new t$,new t$,new t$,new t$],o$=new t$,s$=new i$,a$=new t$,l$=new t$,c$=new t$,u$=new t$,d$=new t$,h$=new t$,f$=new t$,p$=new t$,m$=new t$,v$=new t$;function g$(t,e,n,i,r){for(let o=0,s=t.length-3;o<=s;o+=3){v$.fromArray(t,o);const s=r.x*Math.abs(v$.x)+r.y*Math.abs(v$.y)+r.z*Math.abs(v$.z),a=e.dot(v$),l=n.dot(v$),c=i.dot(v$);if(Math.max(-Math.max(a,l,c),Math.min(a,l,c))>s)return!1}return!0}const y$=new i$,b$=new t$,w$=new t$;class _${constructor(t=new t$,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const n=this.center;void 0!==e?n.copy(e):y$.setFromPoints(t).getCenter(n);let i=0;for(let r=0,o=t.length;r<o;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;b$.subVectors(t,this.center);const e=b$.lengthSq();if(e>this.radius*this.radius){const t=Math.sqrt(e),n=.5*(t-this.radius);this.center.addScaledVector(b$,n/t),this.radius+=n}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(w$.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(b$.copy(t.center).add(w$)),this.expandByPoint(b$.copy(t.center).sub(w$))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const x$=new t$,S$=new t$,M$=new t$,C$=new t$,k$=new t$,E$=new t$,T$=new t$;class A${constructor(t=new t$,e=new t$(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,x$)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=x$.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(x$.copy(this.origin).addScaledVector(this.direction,e),x$.distanceToSquared(t))}distanceSqToSegment(t,e,n,i){S$.copy(t).add(e).multiplyScalar(.5),M$.copy(e).sub(t).normalize(),C$.copy(this.origin).sub(S$);const r=.5*t.distanceTo(e),o=-this.direction.dot(M$),s=C$.dot(this.direction),a=-C$.dot(M$),l=C$.lengthSq(),c=Math.abs(1-o*o);let u,d,h,f;if(c>0)if(u=o*a-s,d=o*s-a,f=r*c,u>=0)if(d>=-f)if(d<=f){const t=1/c;u*=t,d*=t,h=u*(u+o*d+2*s)+d*(o*u+d+2*a)+l}else d=r,u=Math.max(0,-(o*d+s)),h=-u*u+d*(d+2*a)+l;else d=-r,u=Math.max(0,-(o*d+s)),h=-u*u+d*(d+2*a)+l;else d<=-f?(u=Math.max(0,-(-o*r+s)),d=u>0?-r:Math.min(Math.max(-r,-a),r),h=-u*u+d*(d+2*a)+l):d<=f?(u=0,d=Math.min(Math.max(-r,-a),r),h=d*(d+2*a)+l):(u=Math.max(0,-(o*r+s)),d=u>0?r:Math.min(Math.max(-r,-a),r),h=-u*u+d*(d+2*a)+l);else d=o>0?-r:r,u=Math.max(0,-(o*d+s)),h=-u*u+d*(d+2*a)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(S$).addScaledVector(M$,d),h}intersectSphere(t,e){x$.subVectors(t.center,this.origin);const n=x$.dot(this.direction),i=x$.dot(x$)-n*n,r=t.radius*t.radius;if(i>r)return null;const o=Math.sqrt(r-i),s=n-o,a=n+o;return a<0?null:s<0?this.at(a,e):this.at(s,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}intersectPlane(t,e){const n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);if(0===e)return!0;return t.normal.dot(this.direction)*e<0}intersectBox(t,e){let n,i,r,o,s,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,d=this.origin;return l>=0?(n=(t.min.x-d.x)*l,i=(t.max.x-d.x)*l):(n=(t.max.x-d.x)*l,i=(t.min.x-d.x)*l),c>=0?(r=(t.min.y-d.y)*c,o=(t.max.y-d.y)*c):(r=(t.max.y-d.y)*c,o=(t.min.y-d.y)*c),n>o||r>i?null:((r>n||isNaN(n))&&(n=r),(o<i||isNaN(i))&&(i=o),u>=0?(s=(t.min.z-d.z)*u,a=(t.max.z-d.z)*u):(s=(t.max.z-d.z)*u,a=(t.min.z-d.z)*u),n>a||s>i?null:((s>n||n!=n)&&(n=s),(a<i||i!=i)&&(i=a),i<0?null:this.at(n>=0?n:i,e)))}intersectsBox(t){return null!==this.intersectBox(t,x$)}intersectTriangle(t,e,n,i,r){k$.subVectors(e,t),E$.subVectors(n,t),T$.crossVectors(k$,E$);let o,s=this.direction.dot(T$);if(s>0){if(i)return null;o=1}else{if(!(s<0))return null;o=-1,s=-s}C$.subVectors(this.origin,t);const a=o*this.direction.dot(E$.crossVectors(C$,E$));if(a<0)return null;const l=o*this.direction.dot(k$.cross(C$));if(l<0)return null;if(a+l>s)return null;const c=-o*C$.dot(T$);return c<0?null:this.at(c/s,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class N${constructor(t,e,n,i,r,o,s,a,l,c,u,d,h,f,p,m){N$.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,n,i,r,o,s,a,l,c,u,d,h,f,p,m)}set(t,e,n,i,r,o,s,a,l,c,u,d,h,f,p,m){const v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=i,v[1]=r,v[5]=o,v[9]=s,v[13]=a,v[2]=l,v[6]=c,v[10]=u,v[14]=d,v[3]=h,v[7]=f,v[11]=p,v[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new N$).fromArray(this.elements)}copy(t){const e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}copyPosition(t){const e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,n=t.elements,i=1/I$.setFromMatrixColumn(t,0).length(),r=1/I$.setFromMatrixColumn(t,1).length(),o=1/I$.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){const t=o*c,n=o*u,i=s*c,r=s*u;e[0]=a*c,e[4]=-a*u,e[8]=l,e[1]=n+i*l,e[5]=t-r*l,e[9]=-s*a,e[2]=r-t*l,e[6]=i+n*l,e[10]=o*a}else if("YXZ"===t.order){const t=a*c,n=a*u,i=l*c,r=l*u;e[0]=t+r*s,e[4]=i*s-n,e[8]=o*l,e[1]=o*u,e[5]=o*c,e[9]=-s,e[2]=n*s-i,e[6]=r+t*s,e[10]=o*a}else if("ZXY"===t.order){const t=a*c,n=a*u,i=l*c,r=l*u;e[0]=t-r*s,e[4]=-o*u,e[8]=i+n*s,e[1]=n+i*s,e[5]=o*c,e[9]=r-t*s,e[2]=-o*l,e[6]=s,e[10]=o*a}else if("ZYX"===t.order){const t=o*c,n=o*u,i=s*c,r=s*u;e[0]=a*c,e[4]=i*l-n,e[8]=t*l+r,e[1]=a*u,e[5]=r*l+t,e[9]=n*l-i,e[2]=-l,e[6]=s*a,e[10]=o*a}else if("YZX"===t.order){const t=o*a,n=o*l,i=s*a,r=s*l;e[0]=a*c,e[4]=r-t*u,e[8]=i*u+n,e[1]=u,e[5]=o*c,e[9]=-s*c,e[2]=-l*c,e[6]=n*u+i,e[10]=t-r*u}else if("XZY"===t.order){const t=o*a,n=o*l,i=s*a,r=s*l;e[0]=a*c,e[4]=-u,e[8]=l*c,e[1]=t*u+r,e[5]=o*c,e[9]=n*u-i,e[2]=i*u-n,e[6]=s*c,e[10]=r*u+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(O$,t,L$)}lookAt(t,e,n){const i=this.elements;return B$.subVectors(t,e),0===B$.lengthSq()&&(B$.z=1),B$.normalize(),D$.crossVectors(n,B$),0===D$.lengthSq()&&(1===Math.abs(n.z)?B$.x+=1e-4:B$.z+=1e-4,B$.normalize(),D$.crossVectors(n,B$)),D$.normalize(),P$.crossVectors(B$,D$),i[0]=D$.x,i[4]=P$.x,i[8]=B$.x,i[1]=D$.y,i[5]=P$.y,i[9]=B$.y,i[2]=D$.z,i[6]=P$.z,i[10]=B$.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const n=t.elements,i=e.elements,r=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],u=n[5],d=n[9],h=n[13],f=n[2],p=n[6],m=n[10],v=n[14],g=n[3],y=n[7],b=n[11],w=n[15],_=i[0],x=i[4],S=i[8],M=i[12],C=i[1],k=i[5],E=i[9],T=i[13],A=i[2],N=i[6],I=i[10],R=i[14],O=i[3],L=i[7],D=i[11],P=i[15];return r[0]=o*_+s*C+a*A+l*O,r[4]=o*x+s*k+a*N+l*L,r[8]=o*S+s*E+a*I+l*D,r[12]=o*M+s*T+a*R+l*P,r[1]=c*_+u*C+d*A+h*O,r[5]=c*x+u*k+d*N+h*L,r[9]=c*S+u*E+d*I+h*D,r[13]=c*M+u*T+d*R+h*P,r[2]=f*_+p*C+m*A+v*O,r[6]=f*x+p*k+m*N+v*L,r[10]=f*S+p*E+m*I+v*D,r[14]=f*M+p*T+m*R+v*P,r[3]=g*_+y*C+b*A+w*O,r[7]=g*x+y*k+b*N+w*L,r[11]=g*S+y*E+b*I+w*D,r[15]=g*M+y*T+b*R+w*P,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],s=t[5],a=t[9],l=t[13],c=t[2],u=t[6],d=t[10],h=t[14];return t[3]*(+r*a*u-i*l*u-r*s*d+n*l*d+i*s*h-n*a*h)+t[7]*(+e*a*h-e*l*d+r*o*d-i*o*h+i*l*c-r*a*c)+t[11]*(+e*l*u-e*s*h-r*o*u+n*o*h+r*s*c-n*l*c)+t[15]*(-i*s*c-e*a*u+e*s*d+i*o*u-n*o*d+n*a*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,n){const i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}invert(){const t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=t[9],d=t[10],h=t[11],f=t[12],p=t[13],m=t[14],v=t[15],g=u*m*l-p*d*l+p*a*h-s*m*h-u*a*v+s*d*v,y=f*d*l-c*m*l-f*a*h+o*m*h+c*a*v-o*d*v,b=c*p*l-f*u*l+f*s*h-o*p*h-c*s*v+o*u*v,w=f*u*a-c*p*a-f*s*d+o*p*d+c*s*m-o*u*m,_=e*g+n*y+i*b+r*w;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/_;return t[0]=g*x,t[1]=(p*d*r-u*m*r-p*i*h+n*m*h+u*i*v-n*d*v)*x,t[2]=(s*m*r-p*a*r+p*i*l-n*m*l-s*i*v+n*a*v)*x,t[3]=(u*a*r-s*d*r-u*i*l+n*d*l+s*i*h-n*a*h)*x,t[4]=y*x,t[5]=(c*m*r-f*d*r+f*i*h-e*m*h-c*i*v+e*d*v)*x,t[6]=(f*a*r-o*m*r-f*i*l+e*m*l+o*i*v-e*a*v)*x,t[7]=(o*d*r-c*a*r+c*i*l-e*d*l-o*i*h+e*a*h)*x,t[8]=b*x,t[9]=(f*u*r-c*p*r-f*n*h+e*p*h+c*n*v-e*u*v)*x,t[10]=(o*p*r-f*s*r+f*n*l-e*p*l-o*n*v+e*s*v)*x,t[11]=(c*s*r-o*u*r-c*n*l+e*u*l+o*n*h-e*s*h)*x,t[12]=w*x,t[13]=(c*p*i-f*u*i+f*n*d-e*p*d-c*n*m+e*u*m)*x,t[14]=(f*s*i-o*p*i-f*n*a+e*p*a+o*n*m-e*s*m)*x,t[15]=(o*u*i-c*s*i+c*n*a-e*u*a-o*n*d+e*s*d)*x,this}scale(t){const e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))}makeTranslation(t,e,n){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,s=t.y,a=t.z,l=r*o,c=r*s;return this.set(l*o+n,l*s-i*a,l*a+i*s,0,l*s+i*a,c*s+n,c*a-i*o,0,l*a-i*s,c*a+i*o,r*a*a+n,0,0,0,0,1),this}makeScale(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}makeShear(t,e,n,i,r,o){return this.set(1,n,r,0,t,1,o,0,e,i,1,0,0,0,0,1),this}compose(t,e,n){const i=this.elements,r=e.Pe,o=e.Be,s=e.Fe,a=e.Ue,l=r+r,c=o+o,u=s+s,d=r*l,h=r*c,f=r*u,p=o*c,m=o*u,v=s*u,g=a*l,y=a*c,b=a*u,w=n.x,_=n.y,x=n.z;return i[0]=(1-(p+v))*w,i[1]=(h+b)*w,i[2]=(f-y)*w,i[3]=0,i[4]=(h-b)*_,i[5]=(1-(d+v))*_,i[6]=(m+g)*_,i[7]=0,i[8]=(f+y)*x,i[9]=(m-g)*x,i[10]=(1-(d+p))*x,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}decompose(t,e,n){const i=this.elements;let r=I$.set(i[0],i[1],i[2]).length();const o=I$.set(i[4],i[5],i[6]).length(),s=I$.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],R$.copy(this);const a=1/r,l=1/o,c=1/s;return R$.elements[0]*=a,R$.elements[1]*=a,R$.elements[2]*=a,R$.elements[4]*=l,R$.elements[5]*=l,R$.elements[6]*=l,R$.elements[8]*=c,R$.elements[9]*=c,R$.elements[10]*=c,e.setFromRotationMatrix(R$),n.x=r,n.y=o,n.z=s,this}makePerspective(t,e,n,i,r,o,s=2e3){const a=this.elements,l=2*r/(e-t),c=2*r/(n-i),u=(e+t)/(e-t),d=(n+i)/(n-i);let h,f;if(s===dV)h=-(o+r)/(o-r),f=-2*o*r/(o-r);else{if(s!==hV)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);h=-o/(o-r),f=-o*r/(o-r)}return a[0]=l,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=c,a[9]=d,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(t,e,n,i,r,o,s=2e3){const a=this.elements,l=1/(e-t),c=1/(n-i),u=1/(o-r),d=(e+t)*l,h=(n+i)*c;let f,p;if(s===dV)f=(o+r)*u,p=-2*u;else{if(s!==hV)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);f=r*u,p=-1*u}return a[0]=2*l,a[4]=0,a[8]=0,a[12]=-d,a[1]=0,a[5]=2*c,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=p,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(t){const e=this.elements,n=t.elements;for(let i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}fromArray(t,e=0){for(let n=0;n<16;n++)this.elements[n]=t[n+e];return this}toArray(t=[],e=0){const n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}const I$=new t$,R$=new N$,O$=new t$(0,0,0),L$=new t$(1,1,1),D$=new t$,P$=new t$,B$=new t$,F$=new N$,U$=new QV;class H${constructor(t=0,e=0,n=0,i=H$.DEFAULT_ORDER){this.isEuler=!0,this.Pe=t,this.Be=e,this.Fe=n,this.ze=i}get x(){return this.Pe}set x(t){this.Pe=t,this.He()}get y(){return this.Be}set y(t){this.Be=t,this.He()}get z(){return this.Fe}set z(t){this.Fe=t,this.He()}get order(){return this.ze}set order(t){this.ze=t,this.He()}set(t,e,n,i=this.ze){return this.Pe=t,this.Be=e,this.Fe=n,this.ze=i,this.He(),this}clone(){return new this.constructor(this.Pe,this.Be,this.Fe,this.ze)}copy(t){return this.Pe=t.Pe,this.Be=t.Be,this.Fe=t.Fe,this.ze=t.ze,this.He(),this}setFromRotationMatrix(t,e=this.ze,n=!0){const i=t.elements,r=i[0],o=i[4],s=i[8],a=i[1],l=i[5],c=i[9],u=i[2],d=i[6],h=i[10];switch(e){case"XYZ":this.Be=Math.asin(bV(s,-1,1)),Math.abs(s)<.9999999?(this.Pe=Math.atan2(-c,h),this.Fe=Math.atan2(-o,r)):(this.Pe=Math.atan2(d,l),this.Fe=0);break;case"YXZ":this.Pe=Math.asin(-bV(c,-1,1)),Math.abs(c)<.9999999?(this.Be=Math.atan2(s,h),this.Fe=Math.atan2(a,l)):(this.Be=Math.atan2(-u,r),this.Fe=0);break;case"ZXY":this.Pe=Math.asin(bV(d,-1,1)),Math.abs(d)<.9999999?(this.Be=Math.atan2(-u,h),this.Fe=Math.atan2(-o,l)):(this.Be=0,this.Fe=Math.atan2(a,r));break;case"ZYX":this.Be=Math.asin(-bV(u,-1,1)),Math.abs(u)<.9999999?(this.Pe=Math.atan2(d,h),this.Fe=Math.atan2(a,r)):(this.Pe=0,this.Fe=Math.atan2(-o,l));break;case"YZX":this.Fe=Math.asin(bV(a,-1,1)),Math.abs(a)<.9999999?(this.Pe=Math.atan2(-c,l),this.Be=Math.atan2(-u,r)):(this.Pe=0,this.Be=Math.atan2(s,h));break;case"XZY":this.Fe=Math.asin(-bV(o,-1,1)),Math.abs(o)<.9999999?(this.Pe=Math.atan2(d,l),this.Be=Math.atan2(s,r)):(this.Pe=Math.atan2(-c,h),this.Be=0)}return this.ze=e,!0===n&&this.He(),this}setFromQuaternion(t,e,n){return F$.makeRotationFromQuaternion(t),this.setFromRotationMatrix(F$,e,n)}setFromVector3(t,e=this.ze){return this.set(t.x,t.y,t.z,e)}reorder(t){return U$.setFromEuler(this),this.setFromQuaternion(U$,t)}equals(t){return t.Pe===this.Pe&&t.Be===this.Be&&t.Fe===this.Fe&&t.ze===this.ze}fromArray(t){return this.Pe=t[0],this.Be=t[1],this.Fe=t[2],void 0!==t[3]&&(this.ze=t[3]),this.He(),this}toArray(t=[],e=0){return t[e]=this.Pe,t[e+1]=this.Be,t[e+2]=this.Fe,t[e+3]=this.ze,t}Ve(t){return this.He=t,this}He(){}*[Symbol.iterator](){yield this.Pe,yield this.Be,yield this.Fe,yield this.ze}}H$.DEFAULT_ORDER="XYZ";class z${constructor(){this.mask=1}set(t){this.mask=1<<t>>>0}enable(t){this.mask|=1<<t}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t}disable(t){this.mask&=~(1<<t)}disableAll(){this.mask=0}test(t){return!!(this.mask&t.mask)}isEnabled(t){return!!(this.mask&1<<t)}}let V$=0;const $$=new t$,G$=new QV,j$=new N$,W$=new t$,K$=new t$,q$=new t$,Y$=new QV,X$=new t$(1,0,0),Z$=new t$(0,1,0),J$=new t$(0,0,1),Q$={type:"added"},tG={type:"removed"},eG={type:"childadded",child:null},nG={type:"childremoved",child:null};class iG extends fV{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:V$++}),this.uuid=yV(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=iG.DEFAULT_UP.clone();const t=new t$,e=new H$,n=new QV,i=new t$(1,1,1);e.Ve((function(){n.setFromEuler(e,!1)})),n.Ve((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new N$},normalMatrix:{value:new kV}}),this.matrix=new N$,this.matrixWorld=new N$,this.matrixAutoUpdate=iG.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=iG.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new z$,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return G$.setFromAxisAngle(t,e),this.quaternion.multiply(G$),this}rotateOnWorldAxis(t,e){return G$.setFromAxisAngle(t,e),this.quaternion.premultiply(G$),this}rotateX(t){return this.rotateOnAxis(X$,t)}rotateY(t){return this.rotateOnAxis(Z$,t)}rotateZ(t){return this.rotateOnAxis(J$,t)}translateOnAxis(t,e){return $$.copy(t).applyQuaternion(this.quaternion),this.position.add($$.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(X$,t)}translateY(t){return this.translateOnAxis(Z$,t)}translateZ(t){return this.translateOnAxis(J$,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(j$.copy(this.matrixWorld).invert())}lookAt(t,e,n){t.isVector3?W$.copy(t):W$.set(t,e,n);const i=this.parent;this.updateWorldMatrix(!0,!1),K$.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?j$.lookAt(K$,W$,this.up):j$.lookAt(W$,K$,this.up),this.quaternion.setFromRotationMatrix(j$),i&&(j$.extractRotation(i.matrixWorld),G$.setFromRotationMatrix(j$),this.quaternion.premultiply(G$.invert()))}add(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this||t&&t.isObject3D&&(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(Q$),eG.child=t,this.dispatchEvent(eG),eG.child=null),this}remove(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(tG),nG.child=t,this.dispatchEvent(nG),nG.child=null),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),j$.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),j$.multiply(t.parent.matrixWorld)),t.applyMatrix4(j$),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(Q$),eG.child=t,this.dispatchEvent(eG),eG.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let n=0,i=this.children.length;n<i;n++){const i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}}getObjectsByProperty(t,e,n=[]){this[t]===e&&n.push(this);const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].getObjectsByProperty(t,e,n);return n}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(K$,t,q$),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(K$,Y$,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let n=0,i=e.length;n<i;n++){e[n].updateMatrixWorld(t)}}updateWorldMatrix(t,e){const n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===e){const t=this.children;for(let e=0,n=t.length;e<n;e++){t[e].updateWorldMatrix(!1,!0)}}}toJSON(t){const e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this.$e,i.reservedRanges=this.Ge,i.visibility=this.je,i.active=this.T,i.bounds=this.We.map((t=>({boxInitialized:t.boxInitialized,boxMin:t.box.min.toArray(),boxMax:t.box.max.toArray(),sphereInitialized:t.sphereInitialized,sphereRadius:t.sphere.radius,sphereCenter:t.sphere.center.toArray()}))),i.maxInstanceCount=this.Ke,i.maxVertexCount=this.qe,i.maxIndexCount=this.Ye,i.geometryInitialized=this.Xe,i.geometryCount=this.Ze,i.matricesTexture=this.Je.toJSON(t),null!==this.Qe&&(i.colorsTexture=this.Qe.toJSON(t)),null!==this.boundingSphere&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),null!==this.boundingBox&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const n=e.shapes;if(Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const i=n[e];r(t.shapes,i)}else r(t.shapes,n)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let n=0,i=this.material.length;n<i;n++)e.push(r(t.materials,this.material[n]));i.material=e}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(let e=0;e<this.children.length;e++)i.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(let e=0;e<this.animations.length;e++){const n=this.animations[e];i.animations.push(r(t.animations,n))}}if(e){const e=o(t.geometries),i=o(t.materials),r=o(t.textures),s=o(t.images),a=o(t.shapes),l=o(t.skeletons),c=o(t.animations),u=o(t.nodes);e.length>0&&(n.geometries=e),i.length>0&&(n.materials=i),r.length>0&&(n.textures=r),s.length>0&&(n.images=s),a.length>0&&(n.shapes=a),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=i,n;function o(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let n=0;n<t.children.length;n++){const e=t.children[n];this.add(e.clone())}return this}}iG.DEFAULT_UP=new t$(0,1,0),iG.DEFAULT_MATRIX_AUTO_UPDATE=!0,iG.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const rG=new t$,oG=new t$,sG=new t$,aG=new t$,lG=new t$,cG=new t$,uG=new t$,dG=new t$,hG=new t$,fG=new t$,pG=new qV,mG=new qV,vG=new qV;class gG{constructor(t=new t$,e=new t$,n=new t$){this.a=t,this.b=e,this.c=n}static getNormal(t,e,n,i){i.subVectors(n,e),rG.subVectors(t,e),i.cross(rG);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}static getBarycoord(t,e,n,i,r){rG.subVectors(i,e),oG.subVectors(n,e),sG.subVectors(t,e);const o=rG.dot(rG),s=rG.dot(oG),a=rG.dot(sG),l=oG.dot(oG),c=oG.dot(sG),u=o*l-s*s;if(0===u)return r.set(0,0,0),null;const d=1/u,h=(l*a-s*c)*d,f=(o*c-s*a)*d;return r.set(1-h-f,f,h)}static containsPoint(t,e,n,i){return null!==this.getBarycoord(t,e,n,i,aG)&&(aG.x>=0&&aG.y>=0&&aG.x+aG.y<=1)}static getInterpolation(t,e,n,i,r,o,s,a){return null===this.getBarycoord(t,e,n,i,aG)?(a.x=0,a.y=0,"z"in a&&(a.z=0),"w"in a&&(a.w=0),null):(a.setScalar(0),a.addScaledVector(r,aG.x),a.addScaledVector(o,aG.y),a.addScaledVector(s,aG.z),a)}static getInterpolatedAttribute(t,e,n,i,r,o){return pG.setScalar(0),mG.setScalar(0),vG.setScalar(0),pG.fromBufferAttribute(t,e),mG.fromBufferAttribute(t,n),vG.fromBufferAttribute(t,i),o.setScalar(0),o.addScaledVector(pG,r.x),o.addScaledVector(mG,r.y),o.addScaledVector(vG,r.z),o}static isFrontFacing(t,e,n,i){return rG.subVectors(n,e),oG.subVectors(t,e),rG.cross(oG).dot(i)<0}set(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}setFromPointsAndIndices(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}setFromAttributeAndIndices(t,e,n,i){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,n),this.c.fromBufferAttribute(t,i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return rG.subVectors(this.c,this.b),oG.subVectors(this.a,this.b),.5*rG.cross(oG).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return gG.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return gG.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,n,i,r){return gG.getInterpolation(t,this.a,this.b,this.c,e,n,i,r)}containsPoint(t){return gG.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return gG.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const n=this.a,i=this.b,r=this.c;let o,s;lG.subVectors(i,n),cG.subVectors(r,n),dG.subVectors(t,n);const a=lG.dot(dG),l=cG.dot(dG);if(a<=0&&l<=0)return e.copy(n);hG.subVectors(t,i);const c=lG.dot(hG),u=cG.dot(hG);if(c>=0&&u<=c)return e.copy(i);const d=a*u-c*l;if(d<=0&&a>=0&&c<=0)return o=a/(a-c),e.copy(n).addScaledVector(lG,o);fG.subVectors(t,r);const h=lG.dot(fG),f=cG.dot(fG);if(f>=0&&h<=f)return e.copy(r);const p=h*l-a*f;if(p<=0&&l>=0&&f<=0)return s=l/(l-f),e.copy(n).addScaledVector(cG,s);const m=c*f-h*u;if(m<=0&&u-c>=0&&h-f>=0)return uG.subVectors(r,i),s=(u-c)/(u-c+(h-f)),e.copy(i).addScaledVector(uG,s);const v=1/(m+p+d);return o=p*v,s=d*v,e.copy(n).addScaledVector(lG,o).addScaledVector(cG,s)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const yG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bG={h:0,s:0,l:0},wG={h:0,s:0,l:0};function _G(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}class xG{constructor(t,e,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,n)}set(t,e,n){if(void 0===e&&void 0===n){const e=t;e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e)}else this.setRGB(t,e,n);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Xz){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,FV.toWorkingColorSpace(this,e),this}setRGB(t,e,n,i=FV.workingColorSpace){return this.r=t,this.g=e,this.b=n,FV.toWorkingColorSpace(this,i),this}setHSL(t,e,n,i=FV.workingColorSpace){if(t=wV(t,1),e=bV(e,0,1),n=bV(n,0,1),0===e)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=_G(r,i,t+1/3),this.g=_G(r,i,t),this.b=_G(r,i,t-1/3)}return FV.toWorkingColorSpace(this,i),this}setStyle(t,e=Xz){function n(t){void 0!==t&&parseFloat(t)}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(t)){let t;const r=i[1],o=i[2];switch(r){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(t[4]),this.setRGB(Math.min(255,parseInt(t[1],10))/255,Math.min(255,parseInt(t[2],10))/255,Math.min(255,parseInt(t[3],10))/255,e);if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(t[4]),this.setRGB(Math.min(100,parseInt(t[1],10))/100,Math.min(100,parseInt(t[2],10))/100,Math.min(100,parseInt(t[3],10))/100,e);break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(t[4]),this.setHSL(parseFloat(t[1])/360,parseFloat(t[2])/100,parseFloat(t[3])/100,e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=i[1],n=t.length;if(3===n)return this.setRGB(parseInt(t.charAt(0),16)/15,parseInt(t.charAt(1),16)/15,parseInt(t.charAt(2),16)/15,e);if(6===n)return this.setHex(parseInt(t,16),e)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Xz){const n=yG[t.toLowerCase()];return void 0!==n&&this.setHex(n,e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=UV(t.r),this.g=UV(t.g),this.b=UV(t.b),this}copyLinearToSRGB(t){return this.r=HV(t.r),this.g=HV(t.g),this.b=HV(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Xz){return FV.fromWorkingColorSpace(SG.copy(this),t),65536*Math.round(bV(255*SG.r,0,255))+256*Math.round(bV(255*SG.g,0,255))+Math.round(bV(255*SG.b,0,255))}getHexString(t=Xz){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=FV.workingColorSpace){FV.fromWorkingColorSpace(SG.copy(this),e);const n=SG.r,i=SG.g,r=SG.b,o=Math.max(n,i,r),s=Math.min(n,i,r);let a,l;const c=(s+o)/2;if(s===o)a=0,l=0;else{const t=o-s;switch(l=c<=.5?t/(o+s):t/(2-o-s),o){case n:a=(i-r)/t+(i<r?6:0);break;case i:a=(r-n)/t+2;break;case r:a=(n-i)/t+4}a/=6}return t.h=a,t.s=l,t.l=c,t}getRGB(t,e=FV.workingColorSpace){return FV.fromWorkingColorSpace(SG.copy(this),e),t.r=SG.r,t.g=SG.g,t.b=SG.b,t}getStyle(t=Xz){FV.fromWorkingColorSpace(SG.copy(this),t);const e=SG.r,n=SG.g,i=SG.b;return t!==Xz?`color(${t} ${e.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*n)},${Math.round(255*i)})`}offsetHSL(t,e,n){return this.getHSL(bG),this.setHSL(bG.h+t,bG.s+e,bG.l+n)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}lerpHSL(t,e){this.getHSL(bG),t.getHSL(wG);const n=_V(bG.h,wG.h,e),i=_V(bG.s,wG.s,e),r=_V(bG.l,wG.l,e);return this.setHSL(n,i,r),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,n=this.g,i=this.b,r=t.elements;return this.r=r[0]*e+r[3]*n+r[6]*i,this.g=r[1]*e+r[4]*n+r[7]*i,this.b=r[2]*e+r[5]*n+r[8]*i,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const SG=new xG;xG.NAMES=yG;let MG=0;class CG extends fV{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:MG++}),this.uuid=yV(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=iH,this.blendDst=rH,this.blendEquation=XU,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new xG(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=tV,this.stencilZFail=tV,this.stencilZPass=tV,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this.tn=0}get alphaTest(){return this.tn}set alphaTest(t){this.tn>0!=t>0&&this.version++,this.tn=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const n=t[e];if(void 0===n)continue;const i=this[e];void 0!==i&&(i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function i(t){const e=[];for(const n in t){const i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==iH&&(n.blendSrc=this.blendSrc),this.blendDst!==rH&&(n.blendDst=this.blendDst),this.blendEquation!==XU&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==tV&&(n.stencilFail=this.stencilFail),this.stencilZFail!==tV&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==tV&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),e){const e=i(t.textures),r=i(t.images);e.length>0&&(n.textures=e),r.length>0&&(n.images=r)}return n}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let n=null;if(null!==e){const t=e.length;n=new Array(t);for(let i=0;i!==t;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}onBuild(){}}class kG extends CG{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xG(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new H$,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const EG=TG();function TG(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const t=l-127;t<-27?(i[l]=0,i[256|l]=32768,r[l]=24,r[256|l]=24):t<-14?(i[l]=1024>>-t-14,i[256|l]=1024>>-t-14|32768,r[l]=-t-1,r[256|l]=-t-1):t<=15?(i[l]=t+15<<10,i[256|l]=t+15<<10|32768,r[l]=13,r[256|l]=13):t<128?(i[l]=31744,i[256|l]=64512,r[l]=24,r[256|l]=24):(i[l]=31744,i[256|l]=64512,r[l]=13,r[256|l]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let t=l<<13,e=0;for(;!(8388608&t);)t<<=1,e-=8388608;t&=-8388609,e+=947912704,o[l]=t|e}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)s[l]=l<<23;s[31]=1199570944,s[32]=2147483648;for(let l=33;l<63;++l)s[l]=2147483648+(l-32<<23);s[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:i,shiftTable:r,mantissaTable:o,exponentTable:s,offsetTable:a}}function AG(t){Math.abs(t),t=bV(t,-65504,65504),EG.floatView[0]=t;const e=EG.uint32View[0],n=e>>23&511;return EG.baseTable[n]+((8388607&e)>>EG.shiftTable[n])}function NG(t){const e=t>>10;return EG.uint32View[0]=EG.mantissaTable[EG.offsetTable[e]+(1023&t)]+EG.exponentTable[e],EG.floatView[0]}const IG=new t$,RG=new CV;let OG=0;class LG{constructor(t,e,n=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:OG++}),this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=n,this.usage=cV,this.updateRanges=[],this.gpuType=jH,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,n){t*=this.itemSize,n*=e.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,n=this.count;e<n;e++)RG.fromBufferAttribute(this,e),RG.applyMatrix3(t),this.setXY(e,RG.x,RG.y);else if(3===this.itemSize)for(let e=0,n=this.count;e<n;e++)IG.fromBufferAttribute(this,e),IG.applyMatrix3(t),this.setXYZ(e,IG.x,IG.y,IG.z);return this}applyMatrix4(t){for(let e=0,n=this.count;e<n;e++)IG.fromBufferAttribute(this,e),IG.applyMatrix4(t),this.setXYZ(e,IG.x,IG.y,IG.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)IG.fromBufferAttribute(this,e),IG.applyNormalMatrix(t),this.setXYZ(e,IG.x,IG.y,IG.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)IG.fromBufferAttribute(this,e),IG.transformDirection(t),this.setXYZ(e,IG.x,IG.y,IG.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let n=this.array[t*this.itemSize+e];return this.normalized&&(n=xV(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=SV(n,this.array)),this.array[t*this.itemSize+e]=n,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=xV(e,this.array)),e}setX(t,e){return this.normalized&&(e=SV(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=xV(e,this.array)),e}setY(t,e){return this.normalized&&(e=SV(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=xV(e,this.array)),e}setZ(t,e){return this.normalized&&(e=SV(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=xV(e,this.array)),e}setW(t,e){return this.normalized&&(e=SV(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=SV(e,this.array),n=SV(n,this.array)),this.array[t+0]=e,this.array[t+1]=n,this}setXYZ(t,e,n,i){return t*=this.itemSize,this.normalized&&(e=SV(e,this.array),n=SV(n,this.array),i=SV(i,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this}setXYZW(t,e,n,i,r){return t*=this.itemSize,this.normalized&&(e=SV(e,this.array),n=SV(n,this.array),i=SV(i,this.array),r=SV(r,this.array)),this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==cV&&(t.usage=this.usage),t}}class DG extends LG{constructor(t,e,n){super(new Uint16Array(t),e,n)}}class PG extends LG{constructor(t,e,n){super(new Uint32Array(t),e,n)}}class BG extends LG{constructor(t,e,n){super(new Float32Array(t),e,n)}}let FG=0;const UG=new N$,HG=new iG,zG=new t$,VG=new i$,$G=new i$,GG=new t$;class jG extends fV{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:FG++}),this.uuid=yV(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(TV(t)?PG:DG)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,n=0){this.groups.push({start:t,count:e,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const e=(new kV).getNormalMatrix(t);n.applyNormalMatrix(e),n.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(t),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return UG.makeRotationFromQuaternion(t),this.applyMatrix4(UG),this}rotateX(t){return UG.makeRotationX(t),this.applyMatrix4(UG),this}rotateY(t){return UG.makeRotationY(t),this.applyMatrix4(UG),this}rotateZ(t){return UG.makeRotationZ(t),this.applyMatrix4(UG),this}translate(t,e,n){return UG.makeTranslation(t,e,n),this.applyMatrix4(UG),this}scale(t,e,n){return UG.makeScale(t,e,n),this.applyMatrix4(UG),this}lookAt(t){return HG.lookAt(t),HG.updateMatrix(),this.applyMatrix4(HG.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(zG).negate(),this.translate(zG.x,zG.y,zG.z),this}setFromPoints(t){const e=this.getAttribute("position");if(void 0===e){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n];e.push(i.x,i.y,i.z||0)}this.setAttribute("position",new BG(e,3))}else{const n=Math.min(t.length,e.count);for(let i=0;i<n;i++){const n=t[i];e.setXYZ(i,n.x,n.y,n.z||0)}t.length,e.count,e.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new i$);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)this.boundingBox.set(new t$(-1/0,-1/0,-1/0),new t$(1/0,1/0,1/0));else{if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let t=0,n=e.length;t<n;t++){const n=e[t];VG.setFromBufferAttribute(n),this.morphTargetsRelative?(GG.addVectors(this.boundingBox.min,VG.min),this.boundingBox.expandByPoint(GG),GG.addVectors(this.boundingBox.max,VG.max),this.boundingBox.expandByPoint(GG)):(this.boundingBox.expandByPoint(VG.min),this.boundingBox.expandByPoint(VG.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new _$);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)this.boundingSphere.set(new t$,1/0);else if(t){const n=this.boundingSphere.center;if(VG.setFromBufferAttribute(t),e)for(let t=0,r=e.length;t<r;t++){const n=e[t];$G.setFromBufferAttribute(n),this.morphTargetsRelative?(GG.addVectors(VG.min,$G.min),VG.expandByPoint(GG),GG.addVectors(VG.max,$G.max),VG.expandByPoint(GG)):(VG.expandByPoint($G.min),VG.expandByPoint($G.max))}VG.getCenter(n);let i=0;for(let e=0,r=t.count;e<r;e++)GG.fromBufferAttribute(t,e),i=Math.max(i,n.distanceToSquared(GG));if(e)for(let r=0,o=e.length;r<o;r++){const o=e[r],s=this.morphTargetsRelative;for(let e=0,r=o.count;e<r;e++)GG.fromBufferAttribute(o,e),s&&(zG.fromBufferAttribute(t,e),GG.add(zG)),i=Math.max(i,n.distanceToSquared(GG))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return;const n=e.position,i=e.normal,r=e.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new LG(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),s=[],a=[];for(let S=0;S<n.count;S++)s[S]=new t$,a[S]=new t$;const l=new t$,c=new t$,u=new t$,d=new CV,h=new CV,f=new CV,p=new t$,m=new t$;function v(t,e,i){l.fromBufferAttribute(n,t),c.fromBufferAttribute(n,e),u.fromBufferAttribute(n,i),d.fromBufferAttribute(r,t),h.fromBufferAttribute(r,e),f.fromBufferAttribute(r,i),c.sub(l),u.sub(l),h.sub(d),f.sub(d);const o=1/(h.x*f.y-f.x*h.y);isFinite(o)&&(p.copy(c).multiplyScalar(f.y).addScaledVector(u,-h.y).multiplyScalar(o),m.copy(u).multiplyScalar(h.x).addScaledVector(c,-f.x).multiplyScalar(o),s[t].add(p),s[e].add(p),s[i].add(p),a[t].add(m),a[e].add(m),a[i].add(m))}let g=this.groups;0===g.length&&(g=[{start:0,count:t.count}]);for(let S=0,M=g.length;S<M;++S){const e=g[S],n=e.start;for(let i=n,r=n+e.count;i<r;i+=3)v(t.getX(i+0),t.getX(i+1),t.getX(i+2))}const y=new t$,b=new t$,w=new t$,_=new t$;function x(t){w.fromBufferAttribute(i,t),_.copy(w);const e=s[t];y.copy(e),y.sub(w.multiplyScalar(w.dot(e))).normalize(),b.crossVectors(_,e);const n=b.dot(a[t])<0?-1:1;o.setXYZW(t,y.x,y.y,y.z,n)}for(let S=0,M=g.length;S<M;++S){const e=g[S],n=e.start;for(let i=n,r=n+e.count;i<r;i+=3)x(t.getX(i+0)),x(t.getX(i+1)),x(t.getX(i+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let n=this.getAttribute("normal");if(void 0===n)n=new LG(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(let t=0,e=n.count;t<e;t++)n.setXYZ(t,0,0,0);const i=new t$,r=new t$,o=new t$,s=new t$,a=new t$,l=new t$,c=new t$,u=new t$;if(t)for(let d=0,h=t.count;d<h;d+=3){const h=t.getX(d+0),f=t.getX(d+1),p=t.getX(d+2);i.fromBufferAttribute(e,h),r.fromBufferAttribute(e,f),o.fromBufferAttribute(e,p),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),s.fromBufferAttribute(n,h),a.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),s.add(c),a.add(c),l.add(c),n.setXYZ(h,s.x,s.y,s.z),n.setXYZ(f,a.x,a.y,a.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let t=0,d=e.count;t<d;t+=3)i.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),o.fromBufferAttribute(e,t+2),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),n.setXYZ(t+0,c.x,c.y,c.z),n.setXYZ(t+1,c.x,c.y,c.z),n.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,n=t.count;e<n;e++)GG.fromBufferAttribute(t,e),GG.normalize(),t.setXYZ(e,GG.x,GG.y,GG.z)}toNonIndexed(){function t(t,e){const n=t.array,i=t.itemSize,r=t.normalized,o=new n.constructor(e.length*i);let s=0,a=0;for(let l=0,c=e.length;l<c;l++){s=t.isInterleavedBufferAttribute?e[l]*t.data.stride+t.offset:e[l]*i;for(let t=0;t<i;t++)o[a++]=n[s++]}return new LG(o,i,r)}if(null===this.index)return this;const e=new jG,n=this.index.array,i=this.attributes;for(const s in i){const r=t(i[s],n);e.setAttribute(s,r)}const r=this.morphAttributes;for(const s in r){const i=[],o=r[s];for(let e=0,r=o.length;e<r;e++){const r=t(o[e],n);i.push(r)}e.morphAttributes[s]=i}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,a=o.length;s<a;s++){const t=o[s];e.addGroup(t.start,t.count,t.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const n=this.attributes;for(const a in n){const e=n[a];t.data.attributes[a]=e.toJSON(t.data)}const i={};let r=!1;for(const a in this.morphAttributes){const e=this.morphAttributes[a],n=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];n.push(r.toJSON(t.data))}n.length>0&&(i[a]=n,r=!0)}r&&(t.data.morphAttributes=i,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return null!==s&&(t.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const n=t.index;null!==n&&this.setIndex(n.clone());const i=t.attributes;for(const l in i){const t=i[l];this.setAttribute(l,t.clone(e))}const r=t.morphAttributes;for(const l in r){const t=[],n=r[l];for(let i=0,r=n.length;i<r;i++)t.push(n[i].clone(e));this.morphAttributes[l]=t}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let l=0,c=o.length;l<c;l++){const t=o[l];this.addGroup(t.start,t.count,t.materialIndex)}const s=t.boundingBox;null!==s&&(this.boundingBox=s.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const WG=new N$,KG=new A$,qG=new _$,YG=new t$,XG=new t$,ZG=new t$,JG=new t$,QG=new t$,tj=new t$,ej=new t$,nj=new t$;class ij extends iG{constructor(t=new jG,e=new kG){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}getVertexPosition(t,e){const n=this.geometry,i=n.attributes.position,r=n.morphAttributes.position,o=n.morphTargetsRelative;e.fromBufferAttribute(i,t);const s=this.morphTargetInfluences;if(r&&s){tj.set(0,0,0);for(let n=0,i=r.length;n<i;n++){const i=s[n],a=r[n];0!==i&&(QG.fromBufferAttribute(a,t),o?tj.addScaledVector(QG,i):tj.addScaledVector(QG.sub(e),i))}e.add(tj)}return e}raycast(t,e){const n=this.geometry,i=this.material,r=this.matrixWorld;if(void 0!==i){if(null===n.boundingSphere&&n.computeBoundingSphere(),qG.copy(n.boundingSphere),qG.applyMatrix4(r),KG.copy(t.ray).recast(t.near),!1===qG.containsPoint(KG.origin)){if(null===KG.intersectSphere(qG,YG))return;if(KG.origin.distanceToSquared(YG)>(t.far-t.near)**2)return}WG.copy(r).invert(),KG.copy(t.ray).applyMatrix4(WG),null!==n.boundingBox&&!1===KG.intersectsBox(n.boundingBox)||this.nn(t,e,KG)}}nn(t,e,n){let i;const r=this.geometry,o=this.material,s=r.index,a=r.attributes.position,l=r.attributes.uv,c=r.attributes.uv1,u=r.attributes.normal,d=r.groups,h=r.drawRange;if(null!==s)if(Array.isArray(o))for(let f=0,p=d.length;f<p;f++){const r=d[f],a=o[r.materialIndex];for(let o=Math.max(r.start,h.start),d=Math.min(s.count,Math.min(r.start+r.count,h.start+h.count));o<d;o+=3){i=rj(this,a,t,n,l,c,u,s.getX(o),s.getX(o+1),s.getX(o+2)),i&&(i.faceIndex=Math.floor(o/3),i.face.materialIndex=r.materialIndex,e.push(i))}}else{for(let r=Math.max(0,h.start),a=Math.min(s.count,h.start+h.count);r<a;r+=3){i=rj(this,o,t,n,l,c,u,s.getX(r),s.getX(r+1),s.getX(r+2)),i&&(i.faceIndex=Math.floor(r/3),e.push(i))}}else if(void 0!==a)if(Array.isArray(o))for(let f=0,p=d.length;f<p;f++){const r=d[f],s=o[r.materialIndex];for(let o=Math.max(r.start,h.start),d=Math.min(a.count,Math.min(r.start+r.count,h.start+h.count));o<d;o+=3){i=rj(this,s,t,n,l,c,u,o,o+1,o+2),i&&(i.faceIndex=Math.floor(o/3),i.face.materialIndex=r.materialIndex,e.push(i))}}else{for(let r=Math.max(0,h.start),s=Math.min(a.count,h.start+h.count);r<s;r+=3){i=rj(this,o,t,n,l,c,u,r,r+1,r+2),i&&(i.faceIndex=Math.floor(r/3),e.push(i))}}}}function rj(t,e,n,i,r,o,s,a,l,c){t.getVertexPosition(a,XG),t.getVertexPosition(l,ZG),t.getVertexPosition(c,JG);const u=function(t,e,n,i,r,o,s,a){let l;if(l=1===e.side?i.intersectTriangle(s,o,r,!0,a):i.intersectTriangle(r,o,s,0===e.side,a),null===l)return null;nj.copy(a),nj.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(nj);return c<n.near||c>n.far?null:{distance:c,point:nj.clone(),object:t}}(t,e,n,i,XG,ZG,JG,ej);if(u){const t=new t$;gG.getBarycoord(ej,XG,ZG,JG,t),r&&(u.uv=gG.getInterpolatedAttribute(r,a,l,c,t,new CV)),o&&(u.uv1=gG.getInterpolatedAttribute(o,a,l,c,t,new CV)),s&&(u.normal=gG.getInterpolatedAttribute(s,a,l,c,t,new t$),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const e={a:a,b:l,c:c,normal:new t$,materialIndex:0};gG.getNormal(XG,ZG,JG,e.normal),u.face=e,u.barycoord=t}return u}class oj extends jG{constructor(t=1,e=1,n=1,i=1,r=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};const s=this;i=Math.floor(i),r=Math.floor(r),o=Math.floor(o);const a=[],l=[],c=[],u=[];let d=0,h=0;function f(t,e,n,i,r,o,f,p,m,v,g){const y=o/m,b=f/v,w=o/2,_=f/2,x=p/2,S=m+1,M=v+1;let C=0,k=0;const E=new t$;for(let s=0;s<M;s++){const o=s*b-_;for(let a=0;a<S;a++){const d=a*y-w;E[t]=d*i,E[e]=o*r,E[n]=x,l.push(E.x,E.y,E.z),E[t]=0,E[e]=0,E[n]=p>0?1:-1,c.push(E.x,E.y,E.z),u.push(a/m),u.push(1-s/v),C+=1}}for(let s=0;s<v;s++)for(let t=0;t<m;t++){const e=d+t+S*s,n=d+t+S*(s+1),i=d+(t+1)+S*(s+1),r=d+(t+1)+S*s;a.push(e,n,r),a.push(n,i,r),k+=6}s.addGroup(h,k,g),h+=k,d+=C}f("z","y","x",-1,-1,n,e,t,o,r,0),f("z","y","x",1,-1,n,e,-t,o,r,1),f("x","z","y",1,1,t,n,e,i,o,2),f("x","z","y",1,-1,t,n,-e,i,o,3),f("x","y","z",1,-1,t,e,n,i,r,4),f("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(a),this.setAttribute("position",new BG(l,3)),this.setAttribute("normal",new BG(c,3)),this.setAttribute("uv",new BG(u,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new oj(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function sj(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?e[n][i]=null:e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function aj(t){const e={};for(let n=0;n<t.length;n++){const i=sj(t[n]);for(const t in i)e[t]=i[t]}return e}function lj(t){const e=t.getRenderTarget();return null===e?t.outputColorSpace:!0===e.isXRRenderTarget?e.texture.colorSpace:FV.workingColorSpace}const cj={clone:sj,merge:aj};class uj extends CG{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=sj(t.uniforms),this.uniformsGroups=function(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const i in this.uniforms){const n=this.uniforms[i].value;n&&n.isTexture?e.uniforms[i]={type:"t",value:n.toJSON(t).uuid}:n&&n.isColor?e.uniforms[i]={type:"c",value:n.getHex()}:n&&n.isVector2?e.uniforms[i]={type:"v2",value:n.toArray()}:n&&n.isVector3?e.uniforms[i]={type:"v3",value:n.toArray()}:n&&n.isVector4?e.uniforms[i]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?e.uniforms[i]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?e.uniforms[i]={type:"m4",value:n.toArray()}:e.uniforms[i]={value:n}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const n={};for(const i in this.extensions)!0===this.extensions[i]&&(n[i]=!0);return Object.keys(n).length>0&&(e.extensions=n),e}}class dj extends iG{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new N$,this.projectionMatrix=new N$,this.projectionMatrixInverse=new N$,this.coordinateSystem=dV}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const hj=new t$,fj=new CV,pj=new CV;class mj extends dj{constructor(t=50,e=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*gV*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*vV*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*gV*Math.atan(Math.tan(.5*vV*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,n){hj.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(hj.x,hj.y).multiplyScalar(-t/hj.z),hj.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(hj.x,hj.y).multiplyScalar(-t/hj.z)}getViewSize(t,e){return this.getViewBounds(t,fj,pj),e.subVectors(pj,fj)}setViewOffset(t,e,n,i,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*vV*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i;const o=this.view;if(null!==this.view&&this.view.enabled){const t=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/t,e-=o.offsetY*n/s,i*=o.width/t,n*=o.height/s}const s=this.filmOffset;0!==s&&(r+=t*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const vj=-90;class gj extends iG{constructor(t,e,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new mj(vj,1,t,e);i.layers=this.layers,this.add(i);const r=new mj(vj,1,t,e);r.layers=this.layers,this.add(r);const o=new mj(vj,1,t,e);o.layers=this.layers,this.add(o);const s=new mj(vj,1,t,e);s.layers=this.layers,this.add(s);const a=new mj(vj,1,t,e);a.layers=this.layers,this.add(a);const l=new mj(vj,1,t,e);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[n,i,r,o,s,a]=e;for(const l of e)this.remove(l);if(t===dV)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),r.up.set(0,0,-1),r.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),a.up.set(0,1,0),a.lookAt(0,0,-1);else{if(t!==hV)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),r.up.set(0,0,1),r.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),a.up.set(0,-1,0),a.lookAt(0,0,-1)}for(const l of e)this.add(l),l.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[r,o,s,a,l,c]=this.children,u=t.getRenderTarget(),d=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),f=t.xr.enabled;t.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0,i),t.render(e,r),t.setRenderTarget(n,1,i),t.render(e,o),t.setRenderTarget(n,2,i),t.render(e,s),t.setRenderTarget(n,3,i),t.render(e,a),t.setRenderTarget(n,4,i),t.render(e,l),n.texture.generateMipmaps=p,t.setRenderTarget(n,5,i),t.render(e,c),t.setRenderTarget(u,d,h),t.xr.enabled=f,n.texture.needsPMREMUpdate=!0}}class yj extends KV{constructor(t=[],e=301,n,i,r,o,s,a,l,c){super(t,e,n,i,r,o,s,a,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class bj extends XV{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const n={width:t,height:t,depth:1},i=[n,n,n,n,n,n];this.texture=new yj(i,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:PH}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},i=new oj(5,5,5),r=new uj({name:"CubemapFromEquirect",uniforms:sj(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;const o=new ij(i,r),s=e.minFilter;e.minFilter===FH&&(e.minFilter=PH);return new gj(1,10,this).update(t,o),e.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(t,e=!0,n=!0,i=!0){const r=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,n,i);t.setRenderTarget(r)}}class wj extends iG{constructor(){super(),this.isGroup=!0,this.type="Group"}}const _j={type:"move"};class xj{constructor(){this.rn=null,this.sn=null,this.an=null}getHandSpace(){return null===this.an&&(this.an=new wj,this.an.matrixAutoUpdate=!1,this.an.visible=!1,this.an.joints={},this.an.inputState={pinching:!1}),this.an}getTargetRaySpace(){return null===this.rn&&(this.rn=new wj,this.rn.matrixAutoUpdate=!1,this.rn.visible=!1,this.rn.hasLinearVelocity=!1,this.rn.linearVelocity=new t$,this.rn.hasAngularVelocity=!1,this.rn.angularVelocity=new t$),this.rn}getGripSpace(){return null===this.sn&&(this.sn=new wj,this.sn.matrixAutoUpdate=!1,this.sn.visible=!1,this.sn.hasLinearVelocity=!1,this.sn.linearVelocity=new t$,this.sn.hasAngularVelocity=!1,this.sn.angularVelocity=new t$),this.sn}dispatchEvent(t){return null!==this.rn&&this.rn.dispatchEvent(t),null!==this.sn&&this.sn.dispatchEvent(t),null!==this.an&&this.an.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this.an;if(e)for(const n of t.hand.values())this.ln(e,n)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this.rn&&(this.rn.visible=!1),null!==this.sn&&(this.sn.visible=!1),null!==this.an&&(this.an.visible=!1),this}update(t,e,n){let i=null,r=null,o=null;const s=this.rn,a=this.sn,l=this.an;if(t&&"visible-blurred"!==e.session.visibilityState){if(l&&t.hand){o=!0;for(const o of t.hand.values()){const t=e.getJointPose(o,n),i=this.ln(l,o);null!==t&&(i.matrix.fromArray(t.transform.matrix),i.matrix.decompose(i.position,i.rotation,i.scale),i.matrixWorldNeedsUpdate=!0,i.jointRadius=t.radius),i.visible=null!==t}const i=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],s=i.position.distanceTo(r.position),a=.02,c=.005;l.inputState.pinching&&s>a+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&s<=a-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==a&&t.gripSpace&&(r=e.getPose(t.gripSpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1));null!==s&&(i=e.getPose(t.targetRaySpace,n),null===i&&null!==r&&(i=r),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(_j)))}return null!==s&&(s.visible=null!==i),null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==o),this}ln(t,e){if(void 0===t.joints[e.jointName]){const n=new wj;n.matrixAutoUpdate=!1,n.visible=!1,t.joints[e.jointName]=n,t.add(n)}return t.joints[e.jointName]}}class Sj{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new xG(t),this.density=e}clone(){return new Sj(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Mj{constructor(t,e=1,n=1e3){this.isFog=!0,this.name="",this.color=new xG(t),this.near=e,this.far=n}clone(){return new Mj(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class Cj extends iG{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new H$,this.environmentIntensity=1,this.environmentRotation=new H$,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class kj{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=cV,this.updateRanges=[],this.version=0,this.uuid=yV()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,n){t*=this.stride,n*=e.stride;for(let i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer.cn&&(this.array.buffer.cn=yV()),void 0===t.arrayBuffers[this.array.buffer.cn]&&(t.arrayBuffers[this.array.buffer.cn]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer.cn]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer.cn&&(this.array.buffer.cn=yV()),void 0===t.arrayBuffers[this.array.buffer.cn]&&(t.arrayBuffers[this.array.buffer.cn]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer.cn,type:this.array.constructor.name,stride:this.stride}}}const Ej=new t$;class Tj{constructor(t,e,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,n=this.data.count;e<n;e++)Ej.fromBufferAttribute(this,e),Ej.applyMatrix4(t),this.setXYZ(e,Ej.x,Ej.y,Ej.z);return this}applyNormalMatrix(t){for(let e=0,n=this.count;e<n;e++)Ej.fromBufferAttribute(this,e),Ej.applyNormalMatrix(t),this.setXYZ(e,Ej.x,Ej.y,Ej.z);return this}transformDirection(t){for(let e=0,n=this.count;e<n;e++)Ej.fromBufferAttribute(this,e),Ej.transformDirection(t),this.setXYZ(e,Ej.x,Ej.y,Ej.z);return this}getComponent(t,e){let n=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(n=xV(n,this.array)),n}setComponent(t,e,n){return this.normalized&&(n=SV(n,this.array)),this.data.array[t*this.data.stride+this.offset+e]=n,this}setX(t,e){return this.normalized&&(e=SV(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=SV(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=SV(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=SV(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=xV(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=xV(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=xV(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=xV(e,this.array)),e}setXY(t,e,n){return t=t*this.data.stride+this.offset,this.normalized&&(e=SV(e,this.array),n=SV(n,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this}setXYZ(t,e,n,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=SV(e,this.array),n=SV(n,this.array),i=SV(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this}setXYZW(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.normalized&&(e=SV(e,this.array),n=SV(n,this.array),i=SV(i,this.array),r=SV(r,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}clone(t){if(void 0===t){const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return new LG(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Tj(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){const t=[];for(let e=0;e<this.count;e++){const n=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[n+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class Aj extends CG{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new xG(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let Nj;const Ij=new t$,Rj=new t$,Oj=new t$,Lj=new CV,Dj=new CV,Pj=new N$,Bj=new t$,Fj=new t$,Uj=new t$,Hj=new CV,zj=new CV,Vj=new CV;class $j extends iG{constructor(t=new Aj){if(super(),this.isSprite=!0,this.type="Sprite",void 0===Nj){Nj=new jG;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),e=new kj(t,5);Nj.setIndex([0,1,2,0,2,3]),Nj.setAttribute("position",new Tj(e,3,0,!1)),Nj.setAttribute("uv",new Tj(e,2,3,!1))}this.geometry=Nj,this.material=t,this.center=new CV(.5,.5)}raycast(t,e){t.camera,Rj.setFromMatrixScale(this.matrixWorld),Pj.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Oj.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Rj.multiplyScalar(-Oj.z);const n=this.material.rotation;let i,r;0!==n&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;Gj(Bj.set(-.5,-.5,0),Oj,o,Rj,i,r),Gj(Fj.set(.5,-.5,0),Oj,o,Rj,i,r),Gj(Uj.set(.5,.5,0),Oj,o,Rj,i,r),Hj.set(0,0),zj.set(1,0),Vj.set(1,1);let s=t.ray.intersectTriangle(Bj,Fj,Uj,!1,Ij);if(null===s&&(Gj(Fj.set(-.5,.5,0),Oj,o,Rj,i,r),zj.set(0,1),s=t.ray.intersectTriangle(Bj,Uj,Fj,!1,Ij),null===s))return;const a=t.ray.origin.distanceTo(Ij);a<t.near||a>t.far||e.push({distance:a,point:Ij.clone(),uv:gG.getInterpolation(Ij,Bj,Fj,Uj,Hj,zj,Vj,new CV),face:null,object:this})}copy(t,e){return super.copy(t,e),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}function Gj(t,e,n,i,r,o){Lj.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(Dj.x=o*Lj.x-r*Lj.y,Dj.y=r*Lj.x+o*Lj.y):Dj.copy(Lj),t.copy(e),t.x+=Dj.x,t.y+=Dj.y,t.applyMatrix4(Pj)}const jj=new t$,Wj=new t$;class Kj extends iG{constructor(){super(),this.isLOD=!0,this.un=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let n=0,i=e.length;n<i;n++){const t=e[n];this.addLevel(t.object.clone(),t.distance,t.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,n=0){e=Math.abs(e);const i=this.levels;let r;for(r=0;r<i.length&&!(e<i[r].distance);r++);return i.splice(r,0,{distance:e,hysteresis:n,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let n=0;n<e.length;n++)if(e[n].distance===t){const t=e.splice(n,1);return this.remove(t[0].object),!0}return!1}getCurrentLevel(){return this.un}getObjectForDistance(t){const e=this.levels;if(e.length>0){let n,i;for(n=1,i=e.length;n<i;n++){let i=e[n].distance;if(e[n].object.visible&&(i-=i*e[n].hysteresis),t<i)break}return e[n-1].object}return null}raycast(t,e){if(this.levels.length>0){jj.setFromMatrixPosition(this.matrixWorld);const n=t.ray.origin.distanceTo(jj);this.getObjectForDistance(n).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){jj.setFromMatrixPosition(t.matrixWorld),Wj.setFromMatrixPosition(this.matrixWorld);const n=jj.distanceTo(Wj)/t.zoom;let i,r;for(e[0].object.visible=!0,i=1,r=e.length;i<r;i++){let t=e[i].distance;if(e[i].object.visible&&(t-=t*e[i].hysteresis),!(n>=t))break;e[i-1].object.visible=!1,e[i].object.visible=!0}for(this.un=i-1;i<r;i++)e[i].object.visible=!1}}toJSON(t){const e=super.toJSON(t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const t=n[i];e.object.levels.push({object:t.object.uuid,distance:t.distance,hysteresis:t.hysteresis})}return e}}const qj=new t$,Yj=new qV,Xj=new qV,Zj=new t$,Jj=new N$,Qj=new t$,tW=new _$,eW=new N$,nW=new A$;class iW extends ij{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=xH,this.bindMatrix=new N$,this.bindMatrixInverse=new N$,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;null===this.boundingBox&&(this.boundingBox=new i$),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let n=0;n<e.count;n++)this.getVertexPosition(n,Qj),this.boundingBox.expandByPoint(Qj)}computeBoundingSphere(){const t=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new _$),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let n=0;n<e.count;n++)this.getVertexPosition(n,Qj),this.boundingSphere.expandByPoint(Qj)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const n=this.material,i=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),tW.copy(this.boundingSphere),tW.applyMatrix4(i),!1!==t.ray.intersectsSphere(tW)&&(eW.copy(i).invert(),nW.copy(t.ray).applyMatrix4(eW),null!==this.boundingBox&&!1===nW.intersectsBox(this.boundingBox)||this.nn(t,e,nW)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new qV,e=this.geometry.attributes.skinWeight;for(let n=0,i=e.count;n<i;n++){t.fromBufferAttribute(e,n);const i=1/t.manhattanLength();i!==1/0?t.multiplyScalar(i):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===xH?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===SH&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}applyBoneTransform(t,e){const n=this.skeleton,i=this.geometry;Yj.fromBufferAttribute(i.attributes.skinIndex,t),Xj.fromBufferAttribute(i.attributes.skinWeight,t),qj.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const t=Xj.getComponent(r);if(0!==t){const i=Yj.getComponent(r);Jj.multiplyMatrices(n.bones[i].matrixWorld,n.boneInverses[i]),e.addScaledVector(Zj.copy(qj).applyMatrix4(Jj),t)}}return e.applyMatrix4(this.bindMatrixInverse)}}class rW extends iG{constructor(){super(),this.isBone=!0,this.type="Bone"}}class oW extends KV{constructor(t=null,e=1,n=1,i,r,o,s,a,l=1003,c=1003,u,d){super(null,o,s,a,l,c,i,r,u,d),this.isDataTexture=!0,this.image={data:t,width:e,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const sW=new N$,aW=new N$;class lW{constructor(t=[],e=[]){this.uuid=yV(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new N$)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new N$;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}}update(){const t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=t.length;r<o;r++){const i=t[r]?t[r].matrixWorld:aW;sW.multiplyMatrices(i,e[r]),sW.toArray(n,16*r)}null!==i&&(i.needsUpdate=!0)}clone(){return new lW(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(4*this.bones.length);t=4*Math.ceil(t/4),t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const n=new oW(e,t,t,QH,jH);return n.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=n,this}getBoneByName(t){for(let e=0,n=this.bones.length;e<n;e++){const n=this.bones[e];if(n.name===t)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let n=0,i=t.bones.length;n<i;n++){let i=e[t.bones[n]];void 0===i&&(i=new rW),this.bones.push(i),this.boneInverses.push((new N$).fromArray(t.boneInverses[n]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,n=this.boneInverses;for(let i=0,r=e.length;i<r;i++){const r=e[i];t.bones.push(r.uuid);const o=n[i];t.boneInverses.push(o.toArray())}return t}}class cW extends LG{constructor(t,e,n,i=1){super(t,e,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const uW=new N$,dW=new N$,hW=[],fW=new i$,pW=new N$,mW=new ij,vW=new _$;class gW extends ij{constructor(t,e,n){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new cW(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,pW)}computeBoundingBox(){const t=this.geometry,e=this.count;null===this.boundingBox&&(this.boundingBox=new i$),null===t.boundingBox&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,uW),fW.copy(t.boundingBox).applyMatrix4(uW),this.boundingBox.union(fW)}computeBoundingSphere(){const t=this.geometry,e=this.count;null===this.boundingSphere&&(this.boundingSphere=new _$),null===t.boundingSphere&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<e;n++)this.getMatrixAt(n,uW),vW.copy(t.boundingSphere).applyMatrix4(uW),this.boundingSphere.union(vW)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),null!==t.morphTexture&&(this.morphTexture=t.morphTexture.clone()),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}getMorphAt(t,e){const n=e.morphTargetInfluences,i=this.morphTexture.source.data.data,r=t*(n.length+1)+1;for(let o=0;o<n.length;o++)n[o]=i[r+o]}raycast(t,e){const n=this.matrixWorld,i=this.count;if(mW.geometry=this.geometry,mW.material=this.material,void 0!==mW.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),vW.copy(this.boundingSphere),vW.applyMatrix4(n),!1!==t.ray.intersectsSphere(vW)))for(let r=0;r<i;r++){this.getMatrixAt(r,uW),dW.multiplyMatrices(n,uW),mW.matrixWorld=dW,mW.raycast(t,hW);for(let t=0,n=hW.length;t<n;t++){const n=hW[t];n.instanceId=r,n.object=this,e.push(n)}hW.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new cW(new Float32Array(3*this.instanceMatrix.count).fill(1),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}setMorphAt(t,e){const n=e.morphTargetInfluences,i=n.length+1;null===this.morphTexture&&(this.morphTexture=new oW(new Float32Array(i*this.count),i,this.count,rz,jH));const r=this.morphTexture.source.data.data;let o=0;for(let l=0;l<n.length;l++)o+=n[l];const s=this.geometry.morphTargetsRelative?1:1-o,a=i*t;r[a]=s,r.set(n,a+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null)}}const yW=new t$,bW=new t$,wW=new kV;class _W{constructor(t=new t$(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,n){const i=yW.subVectors(n,e).cross(bW.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const n=t.delta(yW),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:e.copy(t.start).addScaledVector(n,r)}intersectsLine(t){const e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const n=e||wW.getNormalMatrix(t),i=this.coplanarPoint(yW).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const xW=new _$,SW=new t$;class MW{constructor(t=new _W,e=new _W,n=new _W,i=new _W,r=new _W,o=new _W){this.planes=[t,e,n,i,r,o]}set(t,e,n,i,r,o){const s=this.planes;return s[0].copy(t),s[1].copy(e),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this}copy(t){const e=this.planes;for(let n=0;n<6;n++)e[n].copy(t.planes[n]);return this}setFromProjectionMatrix(t,e=2e3){const n=this.planes,i=t.elements,r=i[0],o=i[1],s=i[2],a=i[3],l=i[4],c=i[5],u=i[6],d=i[7],h=i[8],f=i[9],p=i[10],m=i[11],v=i[12],g=i[13],y=i[14],b=i[15];if(n[0].setComponents(a-r,d-l,m-h,b-v).normalize(),n[1].setComponents(a+r,d+l,m+h,b+v).normalize(),n[2].setComponents(a+o,d+c,m+f,b+g).normalize(),n[3].setComponents(a-o,d-c,m-f,b-g).normalize(),n[4].setComponents(a-s,d-u,m-p,b-y).normalize(),e===dV)n[5].setComponents(a+s,d+u,m+p,b+y).normalize();else{if(e!==hV)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);n[5].setComponents(s,u,p,y).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),xW.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),xW.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(xW)}intersectsSprite(t){return xW.center.set(0,0,0),xW.radius=.7071067811865476,xW.applyMatrix4(t.matrixWorld),this.intersectsSphere(xW)}intersectsSphere(t){const e=this.planes,n=t.center,i=-t.radius;for(let r=0;r<6;r++){if(e[r].distanceToPoint(n)<i)return!1}return!0}intersectsBox(t){const e=this.planes;for(let n=0;n<6;n++){const i=e[n];if(SW.x=i.normal.x>0?t.max.x:t.min.x,SW.y=i.normal.y>0?t.max.y:t.min.y,SW.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(SW)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function CW(t,e){return t-e}function kW(t,e){return t.z-e.z}function EW(t,e){return e.z-t.z}class TW{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,n,i){const r=this.pool,o=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const s=r[this.index];o.push(s),this.index++,s.start=t,s.count=e,s.z=n,s.index=i}reset(){this.list.length=0,this.index=0}}const AW=new N$,NW=new xG(1,1,1),IW=new MW,RW=new i$,OW=new _$,LW=new t$,DW=new t$,PW=new t$,BW=new TW,FW=new ij,UW=[];function HW(t,e,n=0){const i=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const r=t.count;for(let o=0;o<r;o++)for(let r=0;r<i;r++)e.setComponent(o+n,r,t.getComponent(o,r))}else e.array.set(t.array,n*i);e.needsUpdate=!0}function zW(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)e[i]=t[i]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class VW extends ij{constructor(t,e,n=2*e,i){super(new jG,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this.dn=[],this.hn=[],this.pn=[],this.mn=[],this.vn=0,this.gn=0,this.Ze=0,this.yn=!0,this.Xe=!1,this.Ke=t,this.qe=e,this.Ye=n,this.bn=new Int32Array(t),this.wn=new Int32Array(t),this._n=0,this.xn=null,this.Je=null,this.Sn=null,this.Qe=null,this.Mn(),this.Cn()}get maxInstanceCount(){return this.Ke}get instanceCount(){return this.dn.length-this.pn.length}get unusedVertexCount(){return this.qe-this.gn}get unusedIndexCount(){return this.Ye-this.vn}Mn(){let t=Math.sqrt(4*this.Ke);t=4*Math.ceil(t/4),t=Math.max(t,4);const e=new Float32Array(t*t*4),n=new oW(e,t,t,QH,jH);this.Je=n}Cn(){let t=Math.sqrt(this.Ke);t=Math.ceil(t);const e=new Uint32Array(t*t),n=new oW(e,t,t,oz,GH);this.Sn=n}kn(){let t=Math.sqrt(this.Ke);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),n=new oW(e,t,t,QH,jH);n.colorSpace=FV.workingColorSpace,this.Qe=n}En(t){const e=this.geometry,n=this.qe,i=this.Ye;if(!1===this.Xe){for(const i in t.attributes){const r=t.getAttribute(i),{array:o,itemSize:s,normalized:a}=r,l=new o.constructor(n*s),c=new LG(l,s,a);e.setAttribute(i,c)}if(null!==t.getIndex()){const t=n>65535?new Uint32Array(i):new Uint16Array(i);e.setIndex(new LG(t,1))}this.Xe=!0}}Tn(t){const e=this.geometry;if(Boolean(t.getIndex())!==Boolean(e.getIndex()))throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in e.attributes){if(!t.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=t.getAttribute(n),r=e.getAttribute(n);if(i.itemSize!==r.itemSize||i.normalized!==r.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this.dn;if(t<0||t>=e.length||!1===e[t].active)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this.hn;if(t<0||t>=e.length||!1===e[t].active)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new i$);const t=this.boundingBox,e=this.dn;t.makeEmpty();for(let n=0,i=e.length;n<i;n++){if(!1===e[n].active)continue;const i=e[n].geometryIndex;this.getMatrixAt(n,AW),this.getBoundingBoxAt(i,RW).applyMatrix4(AW),t.union(RW)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new _$);const t=this.boundingSphere,e=this.dn;t.makeEmpty();for(let n=0,i=e.length;n<i;n++){if(!1===e[n].active)continue;const i=e[n].geometryIndex;this.getMatrixAt(n,AW),this.getBoundingSphereAt(i,OW).applyMatrix4(AW),t.union(OW)}}addInstance(t){if(this.dn.length>=this.maxInstanceCount&&0===this.pn.length)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const e={visible:!0,active:!0,geometryIndex:t};let n=null;this.pn.length>0?(this.pn.sort(CW),n=this.pn.shift(),this.dn[n]=e):(n=this.dn.length,this.dn.push(e));const i=this.Je;AW.identity().toArray(i.image.data,16*n),i.needsUpdate=!0;const r=this.Qe;return r&&(NW.toArray(r.image.data,4*n),r.needsUpdate=!0),this.yn=!0,n}addGeometry(t,e=-1,n=-1){this.En(t),this.Tn(t);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},r=this.hn;i.vertexStart=this.gn,i.reservedVertexCount=-1===e?t.getAttribute("position").count:e;const o=t.getIndex();if(null!==o&&(i.indexStart=this.vn,i.reservedIndexCount=-1===n?o.count:n),-1!==i.indexStart&&i.indexStart+i.reservedIndexCount>this.Ye||i.vertexStart+i.reservedVertexCount>this.qe)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let s;return this.mn.length>0?(this.mn.sort(CW),s=this.mn.shift(),r[s]=i):(s=this.Ze,this.Ze++,r.push(i)),this.setGeometryAt(s,t),this.vn=i.indexStart+i.reservedIndexCount,this.gn=i.vertexStart+i.reservedVertexCount,s}setGeometryAt(t,e){if(t>=this.Ze)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this.Tn(e);const n=this.geometry,i=null!==n.getIndex(),r=n.getIndex(),o=e.getIndex(),s=this.hn[t];if(i&&o.count>s.reservedIndexCount||e.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const a=s.vertexStart,l=s.reservedVertexCount;s.vertexCount=e.getAttribute("position").count;for(const c in n.attributes){const t=e.getAttribute(c),i=n.getAttribute(c);HW(t,i,a);const r=t.itemSize;for(let e=t.count,n=l;e<n;e++){const t=a+e;for(let e=0;e<r;e++)i.setComponent(t,e,0)}i.needsUpdate=!0,i.addUpdateRange(a*r,l*r)}if(i){const t=s.indexStart,n=s.reservedIndexCount;s.indexCount=e.getIndex().count;for(let e=0;e<o.count;e++)r.setX(t+e,a+o.getX(e));for(let e=o.count,i=n;e<i;e++)r.setX(t+e,a);r.needsUpdate=!0,r.addUpdateRange(t,s.reservedIndexCount)}return s.start=i?s.indexStart:s.vertexStart,s.count=i?s.indexCount:s.vertexCount,s.boundingBox=null,null!==e.boundingBox&&(s.boundingBox=e.boundingBox.clone()),s.boundingSphere=null,null!==e.boundingSphere&&(s.boundingSphere=e.boundingSphere.clone()),this.yn=!0,t}deleteGeometry(t){const e=this.hn;if(t>=e.length||!1===e[t].active)return this;const n=this.dn;for(let i=0,r=n.length;i<r;i++)n[i].active&&n[i].geometryIndex===t&&this.deleteInstance(i);return e[t].active=!1,this.mn.push(t),this.yn=!0,this}deleteInstance(t){return this.validateInstanceId(t),this.dn[t].active=!1,this.pn.push(t),this.yn=!0,this}optimize(){let t=0,e=0;const n=this.hn,i=n.map(((t,e)=>e)).sort(((t,e)=>n[t].vertexStart-n[e].vertexStart)),r=this.geometry;for(let o=0,s=n.length;o<s;o++){const s=i[o],a=n[s];if(!1!==a.active){if(null!==r.index){if(a.indexStart!==e){const{indexStart:n,vertexStart:i,reservedIndexCount:o}=a,s=r.index,l=s.array,c=t-i;for(let t=n;t<n+o;t++)l[t]=l[t]+c;s.array.copyWithin(e,n,n+o),s.addUpdateRange(e,o),a.indexStart=e}e+=a.reservedIndexCount}if(a.vertexStart!==t){const{vertexStart:e,reservedVertexCount:n}=a,i=r.attributes;for(const r in i){const o=i[r],{array:s,itemSize:a}=o;s.copyWithin(t*a,e*a,(e+n)*a),o.addUpdateRange(t*a,n*a)}a.vertexStart=t}t+=a.reservedVertexCount,a.start=r.index?a.indexStart:a.vertexStart,this.vn=r.index?a.indexStart+a.reservedIndexCount:0,this.gn=a.vertexStart+a.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this.Ze)return null;const n=this.geometry,i=this.hn[t];if(null===i.boundingBox){const t=new i$,e=n.index,r=n.attributes.position;for(let n=i.start,o=i.start+i.count;n<o;n++){let i=n;e&&(i=e.getX(i)),t.expandByPoint(LW.fromBufferAttribute(r,i))}i.boundingBox=t}return e.copy(i.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this.Ze)return null;const n=this.geometry,i=this.hn[t];if(null===i.boundingSphere){const e=new _$;this.getBoundingBoxAt(t,RW),RW.getCenter(e.center);const r=n.index,o=n.attributes.position;let s=0;for(let t=i.start,n=i.start+i.count;t<n;t++){let n=t;r&&(n=r.getX(n)),LW.fromBufferAttribute(o,n),s=Math.max(s,e.center.distanceToSquared(LW))}e.radius=Math.sqrt(s),i.boundingSphere=e}return e.copy(i.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const n=this.Je,i=this.Je.image.data;return e.toArray(i,16*t),n.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this.Je.image.data,16*t)}setColorAt(t,e){return this.validateInstanceId(t),null===this.Qe&&this.kn(),e.toArray(this.Qe.image.data,4*t),this.Qe.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this.Qe.image.data,4*t)}setVisibleAt(t,e){return this.validateInstanceId(t),this.dn[t].visible===e||(this.dn[t].visible=e,this.yn=!0),this}getVisibleAt(t){return this.validateInstanceId(t),this.dn[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this.dn[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this.dn[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const n=this.hn[t];return e.vertexStart=n.vertexStart,e.vertexCount=n.vertexCount,e.reservedVertexCount=n.reservedVertexCount,e.indexStart=n.indexStart,e.indexCount=n.indexCount,e.reservedIndexCount=n.reservedIndexCount,e.start=n.start,e.count=n.count,e}setInstanceCount(t){const e=this.pn,n=this.dn;for(e.sort(CW);e[e.length-1]===n.length;)n.pop(),e.pop();if(t<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const i=new Int32Array(t),r=new Int32Array(t);zW(this.bn,i),zW(this.wn,r),this.bn=i,this.wn=r,this.Ke=t;const o=this.Sn,s=this.Je,a=this.Qe;o.dispose(),this.Cn(),zW(o.image.data,this.Sn.image.data),s.dispose(),this.Mn(),zW(s.image.data,this.Je.image.data),a&&(a.dispose(),this.kn(),zW(a.image.data,this.Qe.image.data))}setGeometrySize(t,e){const n=[...this.hn].filter((t=>t.active));if(Math.max(...n.map((t=>t.vertexStart+t.reservedVertexCount)))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index){if(Math.max(...n.map((t=>t.indexStart+t.reservedIndexCount)))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`)}const i=this.geometry;i.dispose(),this.qe=t,this.Ye=e,this.Xe&&(this.Xe=!1,this.geometry=new jG,this.En(i));const r=this.geometry;i.index&&zW(i.index.array,r.index.array);for(const o in i.attributes)zW(i.attributes[o].array,r.attributes[o].array)}raycast(t,e){const n=this.dn,i=this.hn,r=this.matrixWorld,o=this.geometry;FW.material=this.material,FW.geometry.index=o.index,FW.geometry.attributes=o.attributes,null===FW.geometry.boundingBox&&(FW.geometry.boundingBox=new i$),null===FW.geometry.boundingSphere&&(FW.geometry.boundingSphere=new _$);for(let s=0,a=n.length;s<a;s++){if(!n[s].visible||!n[s].active)continue;const o=n[s].geometryIndex,a=i[o];FW.geometry.setDrawRange(a.start,a.count),this.getMatrixAt(s,FW.matrixWorld).premultiply(r),this.getBoundingBoxAt(o,FW.geometry.boundingBox),this.getBoundingSphereAt(o,FW.geometry.boundingSphere),FW.raycast(t,UW);for(let t=0,n=UW.length;t<n;t++){const n=UW[t];n.object=this,n.batchId=s,e.push(n)}UW.length=0}FW.material=null,FW.geometry.index=null,FW.geometry.attributes={},FW.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=null!==t.boundingBox?t.boundingBox.clone():null,this.boundingSphere=null!==t.boundingSphere?t.boundingSphere.clone():null,this.hn=t.hn.map((t=>({...t,boundingBox:null!==t.boundingBox?t.boundingBox.clone():null,boundingSphere:null!==t.boundingSphere?t.boundingSphere.clone():null}))),this.dn=t.dn.map((t=>({...t}))),this.Ke=t.Ke,this.qe=t.qe,this.Ye=t.Ye,this.Xe=t.Xe,this.Ze=t.Ze,this.bn=t.bn.slice(),this.wn=t.wn.slice(),this.Je=t.Je.clone(),this.Je.image.data=this.Je.image.data.slice(),null!==this.Qe&&(this.Qe=t.Qe.clone(),this.Qe.image.data=this.Qe.image.data.slice()),this}dispose(){this.geometry.dispose(),this.Je.dispose(),this.Je=null,this.Sn.dispose(),this.Sn=null,null!==this.Qe&&(this.Qe.dispose(),this.Qe=null)}onBeforeRender(t,e,n,i,r){if(!this.yn&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),s=null===o?1:o.array.BYTES_PER_ELEMENT,a=this.dn,l=this.wn,c=this.bn,u=this.hn,d=this.perObjectFrustumCulled,h=this.Sn,f=h.image.data;d&&(AW.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),IW.setFromProjectionMatrix(AW,t.coordinateSystem));let p=0;if(this.sortObjects){AW.copy(this.matrixWorld).invert(),LW.setFromMatrixPosition(n.matrixWorld).applyMatrix4(AW),DW.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(AW);for(let n=0,i=a.length;n<i;n++)if(a[n].visible&&a[n].active){const t=a[n].geometryIndex;this.getMatrixAt(n,AW),this.getBoundingSphereAt(t,OW).applyMatrix4(AW);let e=!1;if(d&&(e=!IW.intersectsSphere(OW)),!e){const e=u[t],i=PW.subVectors(OW.center,LW).dot(DW);BW.push(e.start,e.count,i,n)}}const t=BW.list,e=this.customSort;null===e?t.sort(r.transparent?EW:kW):e.call(this,t,n);for(let n=0,i=t.length;n<i;n++){const e=t[n];l[p]=e.start*s,c[p]=e.count,f[p]=e.index,p++}BW.reset()}else for(let m=0,v=a.length;m<v;m++)if(a[m].visible&&a[m].active){const t=a[m].geometryIndex;let e=!1;if(d&&(this.getMatrixAt(m,AW),this.getBoundingSphereAt(t,OW).applyMatrix4(AW),e=!IW.intersectsSphere(OW)),!e){const e=u[t];l[p]=e.start*s,c[p]=e.count,f[p]=m,p++}}h.needsUpdate=!0,this._n=p,this.yn=!1}onBeforeShadow(t,e,n,i,r,o){this.onBeforeRender(t,null,i,r,o)}}class $W extends CG{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xG(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const GW=new t$,jW=new t$,WW=new N$,KW=new A$,qW=new _$,YW=new t$,XW=new t$;class ZW extends iG{constructor(t=new jG,e=new $W){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[0];for(let t=1,i=e.count;t<i;t++)GW.fromBufferAttribute(e,t-1),jW.fromBufferAttribute(e,t),n[t]=n[t-1],n[t]+=GW.distanceTo(jW);t.setAttribute("lineDistance",new BG(n,1))}return this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),qW.copy(n.boundingSphere),qW.applyMatrix4(i),qW.radius+=r,!1===t.ray.intersectsSphere(qW))return;WW.copy(i).invert(),KW.copy(t.ray).applyMatrix4(WW);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,o.start),i=Math.min(c.count,o.start+o.count);for(let r=n,o=i-1;r<o;r+=l){const n=c.getX(r),i=c.getX(r+1),o=JW(this,t,KW,a,n,i,r);o&&e.push(o)}if(this.isLineLoop){const r=c.getX(i-1),o=c.getX(n),s=JW(this,t,KW,a,r,o,i-1);s&&e.push(s)}}else{const n=Math.max(0,o.start),i=Math.min(u.count,o.start+o.count);for(let r=n,o=i-1;r<o;r+=l){const n=JW(this,t,KW,a,r,r+1,r);n&&e.push(n)}if(this.isLineLoop){const r=JW(this,t,KW,a,i-1,n,i-1);r&&e.push(r)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function JW(t,e,n,i,r,o,s){const a=t.geometry.attributes.position;GW.fromBufferAttribute(a,r),jW.fromBufferAttribute(a,o);if(n.distanceSqToSegment(GW,jW,YW,XW)>i)return;YW.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(YW);return l<e.near||l>e.far?void 0:{distance:l,point:XW.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:t}}const QW=new t$,tK=new t$;class eK extends ZW{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(null===t.index){const e=t.attributes.position,n=[];for(let t=0,i=e.count;t<i;t+=2)QW.fromBufferAttribute(e,t),tK.fromBufferAttribute(e,t+1),n[t]=0===t?0:n[t-1],n[t+1]=n[t]+QW.distanceTo(tK);t.setAttribute("lineDistance",new BG(n,1))}return this}}class nK extends ZW{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class iK extends CG{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new xG(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const rK=new N$,oK=new A$,sK=new _$,aK=new t$;class lK extends iG{constructor(t=new jG,e=new iK){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),sK.copy(n.boundingSphere),sK.applyMatrix4(i),sK.radius+=r,!1===t.ray.intersectsSphere(sK))return;rK.copy(i).invert(),oK.copy(t.ray).applyMatrix4(rK);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=s*s,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,o.start),r=Math.min(l.count,o.start+o.count);n<r;n++){const r=l.getX(n);aK.fromBufferAttribute(c,r),cK(aK,r,a,i,t,e,this)}}else{for(let n=Math.max(0,o.start),r=Math.min(c.count,o.start+o.count);n<r;n++)aK.fromBufferAttribute(c,n),cK(aK,n,a,i,t,e,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,e=Object.keys(t);if(e.length>0){const n=t[e[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,e=n.length;t<e;t++){const e=n[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[e]=t}}}}}function cK(t,e,n,i,r,o,s){const a=oK.distanceSqToPoint(t);if(a<n){const n=new t$;oK.closestPointToPoint(t,n),n.applyMatrix4(i);const l=r.ray.origin.distanceTo(n);if(l<r.near||l>r.far)return;o.push({distance:l,distanceToRay:Math.sqrt(a),point:n,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class uK extends KV{constructor(t,e,n,i,r=1006,o=1006,s,a,l){super(t,e,n,i,r,o,s,a,l),this.isVideoTexture=!0,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){c.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;!1==="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class dK extends KV{constructor(t,e,n,i,r,o,s,a,l,c,u,d){super(null,o,s,a,l,c,i,r,u,d),this.isCompressedTexture=!0,this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class hK extends KV{constructor(t,e,n=1014,i,r,o,s=1003,a=1003,l,c=1026){if(c!==nz&&c!==iz)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,i,r,o,s,a,c,n,l),this.isDepthTexture=!0,this.image={width:t,height:e},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new GV(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class fK{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){}getPointAt(t,e){const n=this.getUtoTmapping(t);return this.getPoint(n,e)}getPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}getSpacedPoints(t=5){const e=[];for(let n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let n,i=this.getPoint(0),r=0;e.push(0);for(let o=1;o<=t;o++)n=this.getPoint(o/t),r+=n.distanceTo(i),e.push(r),i=n;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const n=this.getLengths();let i=0;const r=n.length;let o;o=e||t*n[r-1];let s,a=0,l=r-1;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),s=n[i]-o,s<0)a=i+1;else{if(!(s>0)){l=i;break}l=i-1}if(i=l,n[i]===o)return i/(r-1);const c=n[i];return(i+(o-c)/(n[i+1]-c))/(r-1)}getTangent(t,e){const n=1e-4;let i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),s=this.getPoint(r),a=e||(o.isVector2?new CV:new t$);return a.copy(s).sub(o).normalize(),a}getTangentAt(t,e){const n=this.getUtoTmapping(t);return this.getTangent(n,e)}computeFrenetFrames(t,e=!1){const n=new t$,i=[],r=[],o=[],s=new t$,a=new N$;for(let h=0;h<=t;h++){const e=h/t;i[h]=this.getTangentAt(e,new t$)}r[0]=new t$,o[0]=new t$;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),d<=l&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let h=1;h<=t;h++){if(r[h]=r[h-1].clone(),o[h]=o[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();const t=Math.acos(bV(i[h-1].dot(i[h]),-1,1));r[h].applyMatrix4(a.makeRotationAxis(s,t))}o[h].crossVectors(i[h],r[h])}if(!0===e){let e=Math.acos(bV(r[0].dot(r[t]),-1,1));e/=t,i[0].dot(s.crossVectors(r[0],r[t]))>0&&(e=-e);for(let n=1;n<=t;n++)r[n].applyMatrix4(a.makeRotationAxis(i[n],e*n)),o[n].crossVectors(i[n],r[n])}return{tangents:i,normals:r,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class pK extends fK{constructor(t=0,e=0,n=1,i=1,r=0,o=2*Math.PI,s=!1,a=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=i,this.aStartAngle=r,this.aEndAngle=o,this.aClockwise=s,this.aRotation=a}getPoint(t,e=new CV){const n=e,i=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);const s=this.aStartAngle+t*r;let a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),n=a-this.aX,i=l-this.aY;a=n*t-i*e+this.aX,l=n*e+i*t+this.aY}return n.set(a,l)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class mK extends pK{constructor(t,e,n,i,r,o){super(t,e,n,n,i,r,o),this.isArcCurve=!0,this.type="ArcCurve"}}function vK(){let t=0,e=0,n=0,i=0;function r(r,o,s,a){t=r,e=s,n=-3*r+3*o-2*s-a,i=2*r-2*o+s+a}return{initCatmullRom:function(t,e,n,i,o){r(e,n,o*(n-t),o*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,o,s,a){let l=(e-t)/o-(n-t)/(o+s)+(n-e)/s,c=(n-e)/s-(i-e)/(s+a)+(i-n)/a;l*=s,c*=s,r(e,n,l,c)},calc:function(r){const o=r*r;return t+e*r+n*o+i*(o*r)}}}const gK=new t$,yK=new vK,bK=new vK,wK=new vK;class _K extends fK{constructor(t=[],e=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=n,this.tension=i}getPoint(t,e=new t$){const n=e,i=this.points,r=i.length,o=(r-(this.closed?0:1))*t;let s,a,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:0===c&&l===r-1&&(l=r-2,c=1),this.closed||l>0?s=i[(l-1)%r]:(gK.subVectors(i[0],i[1]).add(i[0]),s=gK);const u=i[l%r],d=i[(l+1)%r];if(this.closed||l+2<r?a=i[(l+2)%r]:(gK.subVectors(i[r-1],i[r-2]).add(i[r-1]),a=gK),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(s.distanceToSquared(u),t),n=Math.pow(u.distanceToSquared(d),t),i=Math.pow(d.distanceToSquared(a),t);n<1e-4&&(n=1),e<1e-4&&(e=n),i<1e-4&&(i=n),yK.initNonuniformCatmullRom(s.x,u.x,d.x,a.x,e,n,i),bK.initNonuniformCatmullRom(s.y,u.y,d.y,a.y,e,n,i),wK.initNonuniformCatmullRom(s.z,u.z,d.z,a.z,e,n,i)}else"catmullrom"===this.curveType&&(yK.initCatmullRom(s.x,u.x,d.x,a.x,this.tension),bK.initCatmullRom(s.y,u.y,d.y,a.y,this.tension),wK.initCatmullRom(s.z,u.z,d.z,a.z,this.tension));return n.set(yK.calc(c),bK.calc(c),wK.calc(c)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new t$).fromArray(n))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function xK(t,e,n,i,r){const o=.5*(i-e),s=.5*(r-n),a=t*t;return(2*n-2*i+o+s)*(t*a)+(-3*n+3*i-2*o-s)*a+o*t+n}function SK(t,e,n,i){return function(t,e){const n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function MK(t,e,n,i,r){return function(t,e){const n=1-t;return n*n*n*e}(t,e)+function(t,e){const n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}class CK extends fK{constructor(t=new CV,e=new CV,n=new CV,i=new CV){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=n,this.v3=i}getPoint(t,e=new CV){const n=e,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(MK(t,i.x,r.x,o.x,s.x),MK(t,i.y,r.y,o.y,s.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class kK extends fK{constructor(t=new t$,e=new t$,n=new t$,i=new t$){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=n,this.v3=i}getPoint(t,e=new t$){const n=e,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(MK(t,i.x,r.x,o.x,s.x),MK(t,i.y,r.y,o.y,s.y),MK(t,i.z,r.z,o.z,s.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class EK extends fK{constructor(t=new CV,e=new CV){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new CV){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new CV){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class TK extends fK{constructor(t=new t$,e=new t$){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new t$){const n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new t$){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class AK extends fK{constructor(t=new CV,e=new CV,n=new CV){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new CV){const n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(SK(t,i.x,r.x,o.x),SK(t,i.y,r.y,o.y)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class NK extends fK{constructor(t=new t$,e=new t$,n=new t$){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=n}getPoint(t,e=new t$){const n=e,i=this.v0,r=this.v1,o=this.v2;return n.set(SK(t,i.x,r.x,o.x),SK(t,i.y,r.y,o.y),SK(t,i.z,r.z,o.z)),n}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class IK extends fK{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new CV){const n=e,i=this.points,r=(i.length-1)*t,o=Math.floor(r),s=r-o,a=i[0===o?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return n.set(xK(s,a.x,l.x,c.x,u.x),xK(s,a.y,l.y,c.y,u.y)),n}copy(t){super.copy(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,n=this.points.length;e<n;e++){const n=this.points[e];t.points.push(n.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,n=t.points.length;e<n;e++){const n=t.points[e];this.points.push((new CV).fromArray(n))}return this}}var RK=Object.freeze({__proto__:null,ArcCurve:mK,CatmullRomCurve3:_K,CubicBezierCurve:CK,CubicBezierCurve3:kK,EllipseCurve:pK,LineCurve:EK,LineCurve3:TK,QuadraticBezierCurve:AK,QuadraticBezierCurve3:NK,SplineCurve:IK});class OK extends fK{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const n=!0===t.isVector2?"LineCurve":"LineCurve3";this.curves.push(new RK[n](e,t))}return this}getPoint(t,e){const n=t*this.getLength(),i=this.getCurveLengths();let r=0;for(;r<i.length;){if(i[r]>=n){const t=i[r]-n,o=this.curves[r],s=o.getLength(),a=0===s?0:1-t/s;return o.getPointAt(a,e)}r++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],s=o.isEllipseCurve?2*t:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?t*o.points.length:t,a=o.getPoints(s);for(let t=0;t<a.length;t++){const i=a[t];n&&n.equals(i)||(e.push(i),n=i)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push(n.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,n=this.curves.length;e<n;e++){const n=this.curves[e];t.curves.push(n.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,n=t.curves.length;e<n;e++){const n=t.curves[e];this.curves.push((new RK[n.type]).fromJSON(n))}return this}}class LK extends OK{constructor(t){super(),this.type="Path",this.currentPoint=new CV,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const n=new EK(this.currentPoint.clone(),new CV(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,n,i){const r=new AK(this.currentPoint.clone(),new CV(t,e),new CV(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}bezierCurveTo(t,e,n,i,r,o){const s=new CK(this.currentPoint.clone(),new CV(t,e),new CV(n,i),new CV(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),n=new IK(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,n,i,r,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(t+s,e+a,n,i,r,o),this}absarc(t,e,n,i,r,o){return this.absellipse(t,e,n,n,i,r,o),this}ellipse(t,e,n,i,r,o,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(t+l,e+c,n,i,r,o,s,a),this}absellipse(t,e,n,i,r,o,s,a){const l=new pK(t,e,n,i,r,o,s,a);if(this.curves.length>0){const t=l.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class DK extends jG{constructor(t=[new CV(0,-.5),new CV(.5,0),new CV(0,.5)],e=12,n=0,i=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},e=Math.floor(e),i=bV(i,0,2*Math.PI);const r=[],o=[],s=[],a=[],l=[],c=1/e,u=new t$,d=new CV,h=new t$,f=new t$,p=new t$;let m=0,v=0;for(let g=0;g<=t.length-1;g++)switch(g){case 0:m=t[g+1].x-t[g].x,v=t[g+1].y-t[g].y,h.x=1*v,h.y=-m,h.z=0*v,p.copy(h),h.normalize(),a.push(h.x,h.y,h.z);break;case t.length-1:a.push(p.x,p.y,p.z);break;default:m=t[g+1].x-t[g].x,v=t[g+1].y-t[g].y,h.x=1*v,h.y=-m,h.z=0*v,f.copy(h),h.x+=p.x,h.y+=p.y,h.z+=p.z,h.normalize(),a.push(h.x,h.y,h.z),p.copy(f)}for(let g=0;g<=e;g++){const r=n+g*c*i,h=Math.sin(r),f=Math.cos(r);for(let n=0;n<=t.length-1;n++){u.x=t[n].x*h,u.y=t[n].y,u.z=t[n].x*f,o.push(u.x,u.y,u.z),d.x=g/e,d.y=n/(t.length-1),s.push(d.x,d.y);const i=a[3*n+0]*h,r=a[3*n+1],c=a[3*n+0]*f;l.push(i,r,c)}}for(let g=0;g<e;g++)for(let e=0;e<t.length-1;e++){const n=e+g*t.length,i=n,o=n+t.length,s=n+t.length+1,a=n+1;r.push(i,o,a),r.push(s,a,o)}this.setIndex(r),this.setAttribute("position",new BG(o,3)),this.setAttribute("uv",new BG(s,2)),this.setAttribute("normal",new BG(l,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new DK(t.points,t.segments,t.phiStart,t.phiLength)}}class PK extends DK{constructor(t=1,e=1,n=4,i=8){const r=new LK;r.absarc(0,-e/2,t,1.5*Math.PI,0),r.absarc(0,e/2,t,0,.5*Math.PI),super(r.getPoints(n),i),this.type="CapsuleGeometry",this.parameters={radius:t,length:e,capSegments:n,radialSegments:i}}static fromJSON(t){return new PK(t.radius,t.length,t.capSegments,t.radialSegments)}}class BK extends jG{constructor(t=1,e=32,n=0,i=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},e=Math.max(3,e);const r=[],o=[],s=[],a=[],l=new t$,c=new CV;o.push(0,0,0),s.push(0,0,1),a.push(.5,.5);for(let u=0,d=3;u<=e;u++,d+=3){const r=n+u/e*i;l.x=t*Math.cos(r),l.y=t*Math.sin(r),o.push(l.x,l.y,l.z),s.push(0,0,1),c.x=(o[d]/t+1)/2,c.y=(o[d+1]/t+1)/2,a.push(c.x,c.y)}for(let u=1;u<=e;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new BG(o,3)),this.setAttribute("normal",new BG(s,3)),this.setAttribute("uv",new BG(a,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new BK(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class FK extends jG{constructor(t=1,e=1,n=1,i=32,r=1,o=!1,s=0,a=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a};const l=this;i=Math.floor(i),r=Math.floor(r);const c=[],u=[],d=[],h=[];let f=0;const p=[],m=n/2;let v=0;function g(n){const r=f,o=new CV,p=new t$;let g=0;const y=!0===n?t:e,b=!0===n?1:-1;for(let t=1;t<=i;t++)u.push(0,m*b,0),d.push(0,b,0),h.push(.5,.5),f++;const w=f;for(let t=0;t<=i;t++){const e=t/i*a+s,n=Math.cos(e),r=Math.sin(e);p.x=y*r,p.y=m*b,p.z=y*n,u.push(p.x,p.y,p.z),d.push(0,b,0),o.x=.5*n+.5,o.y=.5*r*b+.5,h.push(o.x,o.y),f++}for(let t=0;t<i;t++){const e=r+t,i=w+t;!0===n?c.push(i,i+1,e):c.push(i+1,i,e),g+=3}l.addGroup(v,g,!0===n?1:2),v+=g}!function(){const o=new t$,g=new t$;let y=0;const b=(e-t)/n;for(let l=0;l<=r;l++){const c=[],v=l/r,y=v*(e-t)+t;for(let t=0;t<=i;t++){const e=t/i,r=e*a+s,l=Math.sin(r),p=Math.cos(r);g.x=y*l,g.y=-v*n+m,g.z=y*p,u.push(g.x,g.y,g.z),o.set(l,b,p).normalize(),d.push(o.x,o.y,o.z),h.push(e,1-v),c.push(f++)}p.push(c)}for(let n=0;n<i;n++)for(let i=0;i<r;i++){const o=p[i][n],s=p[i+1][n],a=p[i+1][n+1],l=p[i][n+1];(t>0||0!==i)&&(c.push(o,s,l),y+=3),(e>0||i!==r-1)&&(c.push(s,a,l),y+=3)}l.addGroup(v,y,0),v+=y}(),!1===o&&(t>0&&g(!0),e>0&&g(!1)),this.setIndex(c),this.setAttribute("position",new BG(u,3)),this.setAttribute("normal",new BG(d,3)),this.setAttribute("uv",new BG(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new FK(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class UK extends FK{constructor(t=1,e=1,n=32,i=1,r=!1,o=0,s=2*Math.PI){super(0,t,e,n,i,r,o,s),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}static fromJSON(t){return new UK(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class HK extends jG{constructor(t=[],e=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i};const r=[],o=[];function s(t,e,n,i){const r=i+1,o=[];for(let s=0;s<=r;s++){o[s]=[];const i=t.clone().lerp(n,s/r),a=e.clone().lerp(n,s/r),l=r-s;for(let t=0;t<=l;t++)o[s][t]=0===t&&s===r?i:i.clone().lerp(a,t/l)}for(let s=0;s<r;s++)for(let t=0;t<2*(r-s)-1;t++){const e=Math.floor(t/2);t%2==0?(a(o[s][e+1]),a(o[s+1][e]),a(o[s][e])):(a(o[s][e+1]),a(o[s+1][e+1]),a(o[s+1][e]))}}function a(t){r.push(t.x,t.y,t.z)}function l(e,n){const i=3*e;n.x=t[i+0],n.y=t[i+1],n.z=t[i+2]}function c(t,e,n,i){i<0&&1===t.x&&(o[e]=t.x-1),0===n.x&&0===n.z&&(o[e]=i/2/Math.PI+.5)}function u(t){return Math.atan2(t.z,-t.x)}!function(t){const n=new t$,i=new t$,r=new t$;for(let o=0;o<e.length;o+=3)l(e[o+0],n),l(e[o+1],i),l(e[o+2],r),s(n,i,r,t)}(i),function(t){const e=new t$;for(let n=0;n<r.length;n+=3)e.x=r[n+0],e.y=r[n+1],e.z=r[n+2],e.normalize().multiplyScalar(t),r[n+0]=e.x,r[n+1]=e.y,r[n+2]=e.z}(n),function(){const t=new t$;for(let n=0;n<r.length;n+=3){t.x=r[n+0],t.y=r[n+1],t.z=r[n+2];const i=u(t)/2/Math.PI+.5,s=(e=t,Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5);o.push(i,1-s)}var e;(function(){const t=new t$,e=new t$,n=new t$,i=new t$,s=new CV,a=new CV,l=new CV;for(let d=0,h=0;d<r.length;d+=9,h+=6){t.set(r[d+0],r[d+1],r[d+2]),e.set(r[d+3],r[d+4],r[d+5]),n.set(r[d+6],r[d+7],r[d+8]),s.set(o[h+0],o[h+1]),a.set(o[h+2],o[h+3]),l.set(o[h+4],o[h+5]),i.copy(t).add(e).add(n).divideScalar(3);const f=u(i);c(s,h+0,t,f),c(a,h+2,e,f),c(l,h+4,n,f)}})(),function(){for(let t=0;t<o.length;t+=6){const e=o[t+0],n=o[t+2],i=o[t+4],r=Math.max(e,n,i),s=Math.min(e,n,i);r>.9&&s<.1&&(e<.2&&(o[t+0]+=1),n<.2&&(o[t+2]+=1),i<.2&&(o[t+4]+=1))}}()}(),this.setAttribute("position",new BG(r,3)),this.setAttribute("normal",new BG(r.slice(),3)),this.setAttribute("uv",new BG(o,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new HK(t.vertices,t.indices,t.radius,t.details)}}class zK extends HK{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2,i=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new zK(t.radius,t.detail)}}const VK=new t$,$K=new t$,GK=new t$,jK=new gG;class WK extends jG{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},null!==t){const n=4,i=Math.pow(10,n),r=Math.cos(vV*e),o=t.getIndex(),s=t.getAttribute("position"),a=o?o.count:s.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),d={},h=[];for(let t=0;t<a;t+=3){o?(l[0]=o.getX(t),l[1]=o.getX(t+1),l[2]=o.getX(t+2)):(l[0]=t,l[1]=t+1,l[2]=t+2);const{a:e,b:n,c:a}=jK;if(e.fromBufferAttribute(s,l[0]),n.fromBufferAttribute(s,l[1]),a.fromBufferAttribute(s,l[2]),jK.getNormal(GK),u[0]=`${Math.round(e.x*i)},${Math.round(e.y*i)},${Math.round(e.z*i)}`,u[1]=`${Math.round(n.x*i)},${Math.round(n.y*i)},${Math.round(n.z*i)}`,u[2]=`${Math.round(a.x*i)},${Math.round(a.y*i)},${Math.round(a.z*i)}`,u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let t=0;t<3;t++){const e=(t+1)%3,n=u[t],i=u[e],o=jK[c[t]],s=jK[c[e]],a=`${n}_${i}`,f=`${i}_${n}`;f in d&&d[f]?(GK.dot(d[f].normal)<=r&&(h.push(o.x,o.y,o.z),h.push(s.x,s.y,s.z)),d[f]=null):a in d||(d[a]={index0:l[t],index1:l[e],normal:GK.clone()})}}for(const t in d)if(d[t]){const{index0:e,index1:n}=d[t];VK.fromBufferAttribute(s,e),$K.fromBufferAttribute(s,n),h.push(VK.x,VK.y,VK.z),h.push($K.x,$K.y,$K.z)}this.setAttribute("position",new BG(h,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class KK extends LK{constructor(t){super(t),this.uuid=yV(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push(n.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,n=this.holes.length;e<n;e++){const n=this.holes[e];t.holes.push(n.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,n=t.holes.length;e<n;e++){const n=t.holes[e];this.holes.push((new LK).fromJSON(n))}return this}}function qK(t,e,n=2){const i=e&&e.length,r=i?e[0]*n:t.length;let o=YK(t,0,r,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,l,c;if(i&&(o=function(t,e,n,i){const r=[];for(let o=0,s=e.length;o<s;o++){const n=YK(t,e[o]*i,o<s-1?e[o+1]*i:t.length,i,!1);n===n.next&&(n.steiner=!0),r.push(sq(n))}r.sort(nq);for(let o=0;o<r.length;o++)n=iq(r[o],n);return n}(t,e,o,n)),t.length>80*n){a=1/0,l=1/0;let e=-1/0,i=-1/0;for(let o=n;o<r;o+=n){const n=t[o],r=t[o+1];n<a&&(a=n),r<l&&(l=r),n>e&&(e=n),r>i&&(i=r)}c=Math.max(e-a,i-l),c=0!==c?32767/c:0}return ZK(o,s,n,a,l,c,0),s}function YK(t,e,n,i,r){let o;if(r===function(t,e,n,i){let r=0;for(let o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}(t,e,n,i)>0)for(let s=e;s<n;s+=i)o=gq(s/i|0,t[s],t[s+1],o);else for(let s=n-i;s>=e;s-=i)o=gq(s/i|0,t[s],t[s+1],o);return o&&dq(o,o.next)&&(yq(o),o=o.next),o}function XK(t,e){if(!t)return t;e||(e=t);let n,i=t;do{if(n=!1,i.steiner||!dq(i,i.next)&&0!==uq(i.prev,i,i.next))i=i.next;else{if(yq(i),i=e=i.prev,i===i.next)break;n=!0}}while(n||i!==e);return e}function ZK(t,e,n,i,r,o,s){if(!t)return;!s&&o&&function(t,e,n,i){let r=t;do{0===r.z&&(r.z=oq(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){let e,n=1;do{let i,r=t;t=null;let o=null;for(e=0;r;){e++;let s=r,a=0;for(let t=0;t<n&&(a++,s=s.nextZ,s);t++);let l=n;for(;a>0||l>0&&s;)0!==a&&(0===l||!s||r.z<=s.z)?(i=r,r=r.nextZ,a--):(i=s,s=s.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=s}o.nextZ=null,n*=2}while(e>1)}(r)}(t,i,r,o);let a=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(o?QK(t,i,r,o):JK(t))e.push(l.i,t.i,c.i),yq(t),t=c.next,a=c.next;else if((t=c)===a){s?1===s?ZK(t=tq(XK(t),e),e,n,i,r,o,2):2===s&&eq(t,e,n,i,r,o):ZK(XK(t),e,n,i,r,o,1);break}}}function JK(t){const e=t.prev,n=t,i=t.next;if(uq(e,n,i)>=0)return!1;const r=e.x,o=n.x,s=i.x,a=e.y,l=n.y,c=i.y,u=Math.min(r,o,s),d=Math.min(a,l,c),h=Math.max(r,o,s),f=Math.max(a,l,c);let p=i.next;for(;p!==e;){if(p.x>=u&&p.x<=h&&p.y>=d&&p.y<=f&&lq(r,a,o,l,s,c,p.x,p.y)&&uq(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function QK(t,e,n,i){const r=t.prev,o=t,s=t.next;if(uq(r,o,s)>=0)return!1;const a=r.x,l=o.x,c=s.x,u=r.y,d=o.y,h=s.y,f=Math.min(a,l,c),p=Math.min(u,d,h),m=Math.max(a,l,c),v=Math.max(u,d,h),g=oq(f,p,e,n,i),y=oq(m,v,e,n,i);let b=t.prevZ,w=t.nextZ;for(;b&&b.z>=g&&w&&w.z<=y;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=v&&b!==r&&b!==s&&lq(a,u,l,d,c,h,b.x,b.y)&&uq(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,w.x>=f&&w.x<=m&&w.y>=p&&w.y<=v&&w!==r&&w!==s&&lq(a,u,l,d,c,h,w.x,w.y)&&uq(w.prev,w,w.next)>=0)return!1;w=w.nextZ}for(;b&&b.z>=g;){if(b.x>=f&&b.x<=m&&b.y>=p&&b.y<=v&&b!==r&&b!==s&&lq(a,u,l,d,c,h,b.x,b.y)&&uq(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;w&&w.z<=y;){if(w.x>=f&&w.x<=m&&w.y>=p&&w.y<=v&&w!==r&&w!==s&&lq(a,u,l,d,c,h,w.x,w.y)&&uq(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function tq(t,e){let n=t;do{const i=n.prev,r=n.next.next;!dq(i,r)&&hq(i,n,n.next,r)&&mq(i,r)&&mq(r,i)&&(e.push(i.i,n.i,r.i),yq(n),yq(n.next),n=t=r),n=n.next}while(n!==t);return XK(n)}function eq(t,e,n,i,r,o){let s=t;do{let t=s.next.next;for(;t!==s.prev;){if(s.i!==t.i&&cq(s,t)){let a=vq(s,t);return s=XK(s,s.next),a=XK(a,a.next),ZK(s,e,n,i,r,o,0),void ZK(a,e,n,i,r,o,0)}t=t.next}s=s.next}while(s!==t)}function nq(t,e){let n=t.x-e.x;if(0===n&&(n=t.y-e.y,0===n)){n=(t.next.y-t.y)/(t.next.x-t.x)-(e.next.y-e.y)/(e.next.x-e.x)}return n}function iq(t,e){const n=function(t,e){let n=e;const i=t.x,r=t.y;let o,s=-1/0;if(dq(t,n))return n;do{if(dq(t,n.next))return n.next;if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){const t=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(t<=i&&t>s&&(s=t,o=n.x<n.next.x?n:n.next,t===i))return o}n=n.next}while(n!==e);if(!o)return null;const a=o,l=o.x,c=o.y;let u=1/0;n=o;do{if(i>=n.x&&n.x>=l&&i!==n.x&&aq(r<c?i:s,r,l,c,r<c?s:i,r,n.x,n.y)){const e=Math.abs(r-n.y)/(i-n.x);mq(n,t)&&(e<u||e===u&&(n.x>o.x||n.x===o.x&&rq(o,n)))&&(o=n,u=e)}n=n.next}while(n!==a);return o}(t,e);if(!n)return e;const i=vq(n,t);return XK(i,i.next),XK(n,n.next)}function rq(t,e){return uq(t.prev,t,e.prev)<0&&uq(e.next,t,t.next)<0}function oq(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function sq(t){let e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function aq(t,e,n,i,r,o,s,a){return(r-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(i-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(r-s)*(i-a)}function lq(t,e,n,i,r,o,s,a){return!(t===s&&e===a)&&aq(t,e,n,i,r,o,s,a)}function cq(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&hq(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(mq(t,e)&&mq(e,t)&&function(t,e){let n=t,i=!1;const r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(uq(t.prev,t,e.prev)||uq(t,e.prev,e))||dq(t,e)&&uq(t.prev,t,t.next)>0&&uq(e.prev,e,e.next)>0)}function uq(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function dq(t,e){return t.x===e.x&&t.y===e.y}function hq(t,e,n,i){const r=pq(uq(t,e,n)),o=pq(uq(t,e,i)),s=pq(uq(n,i,t)),a=pq(uq(n,i,e));return r!==o&&s!==a||(!(0!==r||!fq(t,n,e))||(!(0!==o||!fq(t,i,e))||(!(0!==s||!fq(n,t,i))||!(0!==a||!fq(n,e,i)))))}function fq(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function pq(t){return t>0?1:t<0?-1:0}function mq(t,e){return uq(t.prev,t,t.next)<0?uq(t,e,t.next)>=0&&uq(t,t.prev,e)>=0:uq(t,e,t.prev)<0||uq(t,t.next,e)<0}function vq(t,e){const n=bq(t.i,t.x,t.y),i=bq(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function gq(t,e,n,i){const r=bq(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function yq(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function bq(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class wq{static triangulate(t,e,n=2){return qK(t,e,n)}}class _q{static area(t){const e=t.length;let n=0;for(let i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n}static isClockWise(t){return _q.area(t)<0}static triangulateShape(t,e){const n=[],i=[],r=[];xq(t),Sq(n,t);let o=t.length;e.forEach(xq);for(let a=0;a<e.length;a++)i.push(o),o+=e[a].length,Sq(n,e[a]);const s=wq.triangulate(n,i);for(let a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}}function xq(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Sq(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class Mq extends jG{constructor(t=new KK([new CV(.5,.5),new CV(-.5,.5),new CV(-.5,-.5),new CV(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const n=this,i=[],r=[];for(let s=0,a=t.length;s<a;s++){o(t[s])}function o(t){const o=[],s=void 0!==e.curveSegments?e.curveSegments:12,a=void 0!==e.steps?e.steps:1,l=void 0!==e.depth?e.depth:1;let c=void 0===e.bevelEnabled||e.bevelEnabled,u=void 0!==e.bevelThickness?e.bevelThickness:.2,d=void 0!==e.bevelSize?e.bevelSize:u-.1,h=void 0!==e.bevelOffset?e.bevelOffset:0,f=void 0!==e.bevelSegments?e.bevelSegments:3;const p=e.extrudePath,m=void 0!==e.UVGenerator?e.UVGenerator:Cq;let v,g,y,b,w,_=!1;p&&(v=p.getSpacedPoints(a),_=!0,c=!1,g=p.computeFrenetFrames(a,!1),y=new t$,b=new t$,w=new t$),c||(f=0,u=0,d=0,h=0);const x=t.extractPoints(s);let S=x.shape;const M=x.holes;if(!_q.isClockWise(S)){S=S.reverse();for(let t=0,e=M.length;t<e;t++){const e=M[t];_q.isClockWise(e)&&(M[t]=e.reverse())}}function C(t){const e=1e-10*1e-10;let n=t[0];for(let i=1;i<=t.length;i++){const r=i%t.length,o=t[r],s=o.x-n.x,a=o.y-n.y,l=s*s+a*a,c=Math.max(Math.abs(o.x),Math.abs(o.y),Math.abs(n.x),Math.abs(n.y));l<=e*c*c?(t.splice(r,1),i--):n=o}}C(S),M.forEach(C);const k=M.length,E=S;for(let e=0;e<k;e++){const t=M[e];S=S.concat(t)}function T(t,e,n){return t.clone().addScaledVector(e,n)}const A=S.length;function N(t,e,n){let i,r,o;const s=t.x-e.x,a=t.y-e.y,l=n.x-t.x,c=n.y-t.y,u=s*s+a*a,d=s*c-a*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(u),h=Math.sqrt(l*l+c*c),f=e.x-a/d,p=e.y+s/d,m=((n.x-c/h-f)*c-(n.y+l/h-p)*l)/(s*c-a*l);i=f+s*m-t.x,r=p+a*m-t.y;const v=i*i+r*r;if(v<=2)return new CV(i,r);o=Math.sqrt(v/2)}else{let t=!1;s>Number.EPSILON?l>Number.EPSILON&&(t=!0):s<-Number.EPSILON?l<-Number.EPSILON&&(t=!0):Math.sign(a)===Math.sign(c)&&(t=!0),t?(i=-a,r=s,o=Math.sqrt(u)):(i=s,r=a,o=Math.sqrt(u/2))}return new CV(i/o,r/o)}const I=[];for(let e=0,n=E.length,i=n-1,r=e+1;e<n;e++,i++,r++)i===n&&(i=0),r===n&&(r=0),I[e]=N(E[e],E[i],E[r]);const R=[];let O,L=I.concat();for(let e=0,n=k;e<n;e++){const t=M[e];O=[];for(let e=0,n=t.length,i=n-1,r=e+1;e<n;e++,i++,r++)i===n&&(i=0),r===n&&(r=0),O[e]=N(t[e],t[i],t[r]);R.push(O),L=L.concat(O)}const D=[],P=[];for(let e=0;e<f;e++){const t=e/f,n=u*Math.cos(t*Math.PI/2),i=d*Math.sin(t*Math.PI/2)+h;for(let e=0,r=E.length;e<r;e++){const r=T(E[e],I[e],i);z(r.x,r.y,-n),0==t&&D.push(r)}for(let e=0,r=k;e<r;e++){const r=M[e];O=R[e];const o=[];for(let e=0,s=r.length;e<s;e++){const s=T(r[e],O[e],i);z(s.x,s.y,-n),0==t&&o.push(s)}0==t&&P.push(o)}}const B=_q.triangulateShape(D,P),F=B.length,U=d+h;for(let e=0;e<A;e++){const t=c?T(S[e],L[e],U):S[e];_?(b.copy(g.normals[0]).multiplyScalar(t.x),y.copy(g.binormals[0]).multiplyScalar(t.y),w.copy(v[0]).add(b).add(y),z(w.x,w.y,w.z)):z(t.x,t.y,0)}for(let e=1;e<=a;e++)for(let t=0;t<A;t++){const n=c?T(S[t],L[t],U):S[t];_?(b.copy(g.normals[e]).multiplyScalar(n.x),y.copy(g.binormals[e]).multiplyScalar(n.y),w.copy(v[e]).add(b).add(y),z(w.x,w.y,w.z)):z(n.x,n.y,l/a*e)}for(let e=f-1;e>=0;e--){const t=e/f,n=u*Math.cos(t*Math.PI/2),i=d*Math.sin(t*Math.PI/2)+h;for(let e=0,r=E.length;e<r;e++){const t=T(E[e],I[e],i);z(t.x,t.y,l+n)}for(let e=0,r=M.length;e<r;e++){const t=M[e];O=R[e];for(let e=0,r=t.length;e<r;e++){const r=T(t[e],O[e],i);_?z(r.x,r.y+v[a-1].y,v[a-1].x+n):z(r.x,r.y,l+n)}}}function H(t,e){let n=t.length;for(;--n>=0;){const i=n;let r=n-1;r<0&&(r=t.length-1);for(let t=0,n=a+2*f;t<n;t++){const n=A*t,o=A*(t+1);$(e+i+n,e+r+n,e+r+o,e+i+o)}}}function z(t,e,n){o.push(t),o.push(e),o.push(n)}function V(t,e,r){G(t),G(e),G(r);const o=i.length/3,s=m.generateTopUV(n,i,o-3,o-2,o-1);j(s[0]),j(s[1]),j(s[2])}function $(t,e,r,o){G(t),G(e),G(o),G(e),G(r),G(o);const s=i.length/3,a=m.generateSideWallUV(n,i,s-6,s-3,s-2,s-1);j(a[0]),j(a[1]),j(a[3]),j(a[1]),j(a[2]),j(a[3])}function G(t){i.push(o[3*t+0]),i.push(o[3*t+1]),i.push(o[3*t+2])}function j(t){r.push(t.x),r.push(t.y)}!function(){const t=i.length/3;if(c){let t=0,e=A*t;for(let n=0;n<F;n++){const t=B[n];V(t[2]+e,t[1]+e,t[0]+e)}t=a+2*f,e=A*t;for(let n=0;n<F;n++){const t=B[n];V(t[0]+e,t[1]+e,t[2]+e)}}else{for(let t=0;t<F;t++){const e=B[t];V(e[2],e[1],e[0])}for(let t=0;t<F;t++){const e=B[t];V(e[0]+A*a,e[1]+A*a,e[2]+A*a)}}n.addGroup(t,i.length/3-t,0)}(),function(){const t=i.length/3;let e=0;H(E,e),e+=E.length;for(let n=0,i=M.length;n<i;n++){const t=M[n];H(t,e),e+=t.length}n.addGroup(t,i.length/3-t,1)}()}this.setAttribute("position",new BG(i,3)),this.setAttribute("uv",new BG(r,2)),this.computeVertexNormals()}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const e=t[i];n.shapes.push(e.uuid)}else n.shapes.push(t.uuid);n.options=Object.assign({},e),void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const n=[];for(let r=0,o=t.shapes.length;r<o;r++){const i=e[t.shapes[r]];n.push(i)}const i=t.options.extrudePath;return void 0!==i&&(t.options.extrudePath=(new RK[i.type]).fromJSON(i)),new Mq(n,t.options)}}const Cq={generateTopUV:function(t,e,n,i,r){const o=e[3*n],s=e[3*n+1],a=e[3*i],l=e[3*i+1],c=e[3*r],u=e[3*r+1];return[new CV(o,s),new CV(a,l),new CV(c,u)]},generateSideWallUV:function(t,e,n,i,r,o){const s=e[3*n],a=e[3*n+1],l=e[3*n+2],c=e[3*i],u=e[3*i+1],d=e[3*i+2],h=e[3*r],f=e[3*r+1],p=e[3*r+2],m=e[3*o],v=e[3*o+1],g=e[3*o+2];return Math.abs(a-u)<Math.abs(s-c)?[new CV(s,1-l),new CV(c,1-d),new CV(h,1-p),new CV(m,1-g)]:[new CV(a,1-l),new CV(u,1-d),new CV(f,1-p),new CV(v,1-g)]}};class kq extends HK{constructor(t=1,e=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new kq(t.radius,t.detail)}}class Eq extends HK{constructor(t=1,e=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Eq(t.radius,t.detail)}}class Tq extends jG{constructor(t=1,e=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};const r=t/2,o=e/2,s=Math.floor(n),a=Math.floor(i),l=s+1,c=a+1,u=t/s,d=e/a,h=[],f=[],p=[],m=[];for(let v=0;v<c;v++){const t=v*d-o;for(let e=0;e<l;e++){const n=e*u-r;f.push(n,-t,0),p.push(0,0,1),m.push(e/s),m.push(1-v/a)}}for(let v=0;v<a;v++)for(let t=0;t<s;t++){const e=t+l*v,n=t+l*(v+1),i=t+1+l*(v+1),r=t+1+l*v;h.push(e,n,r),h.push(n,i,r)}this.setIndex(h),this.setAttribute("position",new BG(f,3)),this.setAttribute("normal",new BG(p,3)),this.setAttribute("uv",new BG(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Tq(t.width,t.height,t.widthSegments,t.heightSegments)}}class Aq extends jG{constructor(t=.5,e=1,n=32,i=1,r=0,o=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},n=Math.max(3,n);const s=[],a=[],l=[],c=[];let u=t;const d=(e-t)/(i=Math.max(1,i)),h=new t$,f=new CV;for(let p=0;p<=i;p++){for(let t=0;t<=n;t++){const i=r+t/n*o;h.x=u*Math.cos(i),h.y=u*Math.sin(i),a.push(h.x,h.y,h.z),l.push(0,0,1),f.x=(h.x/e+1)/2,f.y=(h.y/e+1)/2,c.push(f.x,f.y)}u+=d}for(let p=0;p<i;p++){const t=p*(n+1);for(let e=0;e<n;e++){const i=e+t,r=i,o=i+n+1,a=i+n+2,l=i+1;s.push(r,o,l),s.push(o,a,l)}}this.setIndex(s),this.setAttribute("position",new BG(a,3)),this.setAttribute("normal",new BG(l,3)),this.setAttribute("uv",new BG(c,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Aq(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class Nq extends jG{constructor(t=new KK([new CV(0,.5),new CV(-.5,-.5),new CV(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const n=[],i=[],r=[],o=[];let s=0,a=0;if(!1===Array.isArray(t))l(t);else for(let c=0;c<t.length;c++)l(t[c]),this.addGroup(s,a,c),s+=a,a=0;function l(t){const s=i.length/3,l=t.extractPoints(e);let c=l.shape;const u=l.holes;!1===_q.isClockWise(c)&&(c=c.reverse());for(let e=0,n=u.length;e<n;e++){const t=u[e];!0===_q.isClockWise(t)&&(u[e]=t.reverse())}const d=_q.triangulateShape(c,u);for(let e=0,n=u.length;e<n;e++){const t=u[e];c=c.concat(t)}for(let e=0,n=c.length;e<n;e++){const t=c[e];i.push(t.x,t.y,0),r.push(0,0,1),o.push(t.x,t.y)}for(let e=0,i=d.length;e<i;e++){const t=d[e],i=t[0]+s,r=t[1]+s,o=t[2]+s;n.push(i,r,o),a+=3}}this.setIndex(n),this.setAttribute("position",new BG(i,3)),this.setAttribute("normal",new BG(r,3)),this.setAttribute("uv",new BG(o,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return function(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,i=t.length;n<i;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}static fromJSON(t,e){const n=[];for(let i=0,r=t.shapes.length;i<r;i++){const r=e[t.shapes[i]];n.push(r)}return new Nq(n,t.curveSegments)}}class Iq extends jG{constructor(t=1,e=32,n=16,i=0,r=2*Math.PI,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},e=Math.max(3,Math.floor(e)),n=Math.max(2,Math.floor(n));const a=Math.min(o+s,Math.PI);let l=0;const c=[],u=new t$,d=new t$,h=[],f=[],p=[],m=[];for(let v=0;v<=n;v++){const h=[],g=v/n;let y=0;0===v&&0===o?y=.5/e:v===n&&a===Math.PI&&(y=-.5/e);for(let n=0;n<=e;n++){const a=n/e;u.x=-t*Math.cos(i+a*r)*Math.sin(o+g*s),u.y=t*Math.cos(o+g*s),u.z=t*Math.sin(i+a*r)*Math.sin(o+g*s),f.push(u.x,u.y,u.z),d.copy(u).normalize(),p.push(d.x,d.y,d.z),m.push(a+y,1-g),h.push(l++)}c.push(h)}for(let v=0;v<n;v++)for(let t=0;t<e;t++){const e=c[v][t+1],i=c[v][t],r=c[v+1][t],s=c[v+1][t+1];(0!==v||o>0)&&h.push(e,i,s),(v!==n-1||a<Math.PI)&&h.push(i,r,s)}this.setIndex(h),this.setAttribute("position",new BG(f,3)),this.setAttribute("normal",new BG(p,3)),this.setAttribute("uv",new BG(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Iq(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class Rq extends HK{constructor(t=1,e=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new Rq(t.radius,t.detail)}}class Oq extends jG{constructor(t=1,e=.4,n=12,i=48,r=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},n=Math.floor(n),i=Math.floor(i);const o=[],s=[],a=[],l=[],c=new t$,u=new t$,d=new t$;for(let h=0;h<=n;h++)for(let o=0;o<=i;o++){const f=o/i*r,p=h/n*Math.PI*2;u.x=(t+e*Math.cos(p))*Math.cos(f),u.y=(t+e*Math.cos(p))*Math.sin(f),u.z=e*Math.sin(p),s.push(u.x,u.y,u.z),c.x=t*Math.cos(f),c.y=t*Math.sin(f),d.subVectors(u,c).normalize(),a.push(d.x,d.y,d.z),l.push(o/i),l.push(h/n)}for(let h=1;h<=n;h++)for(let t=1;t<=i;t++){const e=(i+1)*h+t-1,n=(i+1)*(h-1)+t-1,r=(i+1)*(h-1)+t,s=(i+1)*h+t;o.push(e,n,s),o.push(n,r,s)}this.setIndex(o),this.setAttribute("position",new BG(s,3)),this.setAttribute("normal",new BG(a,3)),this.setAttribute("uv",new BG(l,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Oq(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class Lq extends jG{constructor(t=1,e=.4,n=64,i=8,r=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:o},n=Math.floor(n),i=Math.floor(i);const s=[],a=[],l=[],c=[],u=new t$,d=new t$,h=new t$,f=new t$,p=new t$,m=new t$,v=new t$;for(let y=0;y<=n;++y){const s=y/n*r*Math.PI*2;g(s,r,o,t,h),g(s+.01,r,o,t,f),m.subVectors(f,h),v.addVectors(f,h),p.crossVectors(m,v),v.crossVectors(p,m),p.normalize(),v.normalize();for(let t=0;t<=i;++t){const r=t/i*Math.PI*2,o=-e*Math.cos(r),s=e*Math.sin(r);u.x=h.x+(o*v.x+s*p.x),u.y=h.y+(o*v.y+s*p.y),u.z=h.z+(o*v.z+s*p.z),a.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),l.push(d.x,d.y,d.z),c.push(y/n),c.push(t/i)}}for(let y=1;y<=n;y++)for(let t=1;t<=i;t++){const e=(i+1)*(y-1)+(t-1),n=(i+1)*y+(t-1),r=(i+1)*y+t,o=(i+1)*(y-1)+t;s.push(e,n,o),s.push(n,r,o)}function g(t,e,n,i,r){const o=Math.cos(t),s=Math.sin(t),a=n/e*t,l=Math.cos(a);r.x=i*(2+l)*.5*o,r.y=i*(2+l)*s*.5,r.z=i*Math.sin(a)*.5}this.setIndex(s),this.setAttribute("position",new BG(a,3)),this.setAttribute("normal",new BG(l,3)),this.setAttribute("uv",new BG(c,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Lq(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class Dq extends jG{constructor(t=new NK(new t$(-1,-1,0),new t$(-1,1,0),new t$(1,1,0)),e=64,n=1,i=8,r=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r};const o=t.computeFrenetFrames(e,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new t$,a=new t$,l=new CV;let c=new t$;const u=[],d=[],h=[],f=[];function p(r){c=t.getPointAt(r/e,c);const l=o.normals[r],h=o.binormals[r];for(let t=0;t<=i;t++){const e=t/i*Math.PI*2,r=Math.sin(e),o=-Math.cos(e);a.x=o*l.x+r*h.x,a.y=o*l.y+r*h.y,a.z=o*l.z+r*h.z,a.normalize(),d.push(a.x,a.y,a.z),s.x=c.x+n*a.x,s.y=c.y+n*a.y,s.z=c.z+n*a.z,u.push(s.x,s.y,s.z)}}!function(){for(let t=0;t<e;t++)p(t);p(!1===r?e:0),function(){for(let t=0;t<=e;t++)for(let n=0;n<=i;n++)l.x=t/e,l.y=n/i,h.push(l.x,l.y)}(),function(){for(let t=1;t<=e;t++)for(let e=1;e<=i;e++){const n=(i+1)*(t-1)+(e-1),r=(i+1)*t+(e-1),o=(i+1)*t+e,s=(i+1)*(t-1)+e;f.push(n,r,s),f.push(r,o,s)}}()}(),this.setIndex(f),this.setAttribute("position",new BG(u,3)),this.setAttribute("normal",new BG(d,3)),this.setAttribute("uv",new BG(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new Dq((new RK[t.path.type]).fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class Pq extends jG{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},null!==t){const e=[],n=new Set,i=new t$,r=new t$;if(null!==t.index){const o=t.attributes.position,s=t.index;let a=t.groups;0===a.length&&(a=[{start:0,count:s.count,materialIndex:0}]);for(let t=0,l=a.length;t<l;++t){const l=a[t],c=l.start;for(let t=c,a=c+l.count;t<a;t+=3)for(let l=0;l<3;l++){const a=s.getX(t+l),c=s.getX(t+(l+1)%3);i.fromBufferAttribute(o,a),r.fromBufferAttribute(o,c),!0===Bq(i,r,n)&&(e.push(i.x,i.y,i.z),e.push(r.x,r.y,r.z))}}}else{const o=t.attributes.position;for(let t=0,s=o.count/3;t<s;t++)for(let a=0;a<3;a++){const s=3*t+a,l=3*t+(a+1)%3;i.fromBufferAttribute(o,s),r.fromBufferAttribute(o,l),!0===Bq(i,r,n)&&(e.push(i.x,i.y,i.z),e.push(r.x,r.y,r.z))}}this.setAttribute("position",new BG(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function Bq(t,e,n){const i=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return!0!==n.has(i)&&!0!==n.has(r)&&(n.add(i),n.add(r),!0)}var Fq=Object.freeze({__proto__:null,BoxGeometry:oj,CapsuleGeometry:PK,CircleGeometry:BK,ConeGeometry:UK,CylinderGeometry:FK,DodecahedronGeometry:zK,EdgesGeometry:WK,ExtrudeGeometry:Mq,IcosahedronGeometry:kq,LatheGeometry:DK,OctahedronGeometry:Eq,PlaneGeometry:Tq,PolyhedronGeometry:HK,RingGeometry:Aq,ShapeGeometry:Nq,SphereGeometry:Iq,TetrahedronGeometry:Rq,TorusGeometry:Oq,TorusKnotGeometry:Lq,TubeGeometry:Dq,WireframeGeometry:Pq});class Uq extends CG{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new xG(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class Hq extends uj{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class zq extends CG{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new xG(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new CV(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new H$,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Vq extends zq{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new CV(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return bV(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new xG(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new xG(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new xG(1,1,1),this.specularColorMap=null,this.An=0,this.Nn=0,this.In=0,this.Rn=0,this.On=0,this.Ln=0,this.setValues(t)}get anisotropy(){return this.An}set anisotropy(t){this.An>0!=t>0&&this.version++,this.An=t}get clearcoat(){return this.Nn}set clearcoat(t){this.Nn>0!=t>0&&this.version++,this.Nn=t}get iridescence(){return this.Rn}set iridescence(t){this.Rn>0!=t>0&&this.version++,this.Rn=t}get dispersion(){return this.In}set dispersion(t){this.In>0!=t>0&&this.version++,this.In=t}get sheen(){return this.On}set sheen(t){this.On>0!=t>0&&this.version++,this.On=t}get transmission(){return this.Ln}set transmission(t){this.Ln>0!=t>0&&this.version++,this.Ln=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class $q extends CG{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new xG(16777215),this.specular=new xG(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new CV(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new H$,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Gq extends CG{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new xG(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new CV(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class jq extends CG{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new CV(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class Wq extends CG{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new xG(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new CV(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new H$,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Kq extends CG{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class qq extends CG{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class Yq extends CG{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new xG(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new CV(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class Xq extends $W{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Zq(t,e){return t&&t.constructor!==e?"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t):t}function Jq(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Qq(t){const e=t.length,n=new Array(e);for(let i=0;i!==e;++i)n[i]=i;return n.sort((function(e,n){return t[e]-t[n]})),n}function tY(t,e,n){const i=t.length,r=new t.constructor(i);for(let o=0,s=0;s!==i;++o){const i=n[o]*e;for(let n=0;n!==e;++n)r[s++]=t[i+n]}return r}function eY(t,e,n,i){let r=1,o=t[0];for(;void 0!==o&&void 0===o[i];)o=t[r++];if(void 0===o)return;let s=o[i];if(void 0!==s)if(Array.isArray(s))do{s=o[i],void 0!==s&&(e.push(o.time),n.push(...s)),o=t[r++]}while(void 0!==o);else if(void 0!==s.toArray)do{s=o[i],void 0!==s&&(e.push(o.time),s.toArray(n,n.length)),o=t[r++]}while(void 0!==o);else do{s=o[i],void 0!==s&&(e.push(o.time),n.push(s)),o=t[r++]}while(void 0!==o)}class nY{constructor(t,e,n,i){this.parameterPositions=t,this.Dn=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let n=this.Dn,i=e[n],r=e[n-1];t:{e:{let o;n:{i:if(!(t<i)){for(let o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this.Dn=n,this.copySampleValue_(n-1)}if(n===o)break;if(r=i,i=e[++n],t<i)break e}o=e.length;break n}if(t>=r)break t;{const s=e[1];t<s&&(n=2,r=s);for(let o=n-2;;){if(void 0===r)return this.Dn=0,this.copySampleValue_(0);if(n===o)break;if(i=r,r=e[--n-1],t>=r)break e}o=n,n=0}}for(;n<o;){const i=n+o>>>1;t<e[i]?o=i:n=i+1}if(i=e[n],r=e[n-1],void 0===r)return this.Dn=0,this.copySampleValue_(0);if(void 0===i)return n=e.length,this.Dn=n,this.copySampleValue_(n-1)}this.Dn=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i;for(let o=0;o!==i;++o)e[o]=n[r+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class iY extends nY{constructor(t,e,n,i){super(t,e,n,i),this.Pn=-0,this.Bn=-0,this.Fn=-0,this.Un=-0,this.DefaultSettings_={endingStart:Gz,endingEnd:Gz}}intervalChanged_(t,e,n){const i=this.parameterPositions;let r=t-2,o=t+1,s=i[r],a=i[o];if(void 0===s)switch(this.getSettings_().endingStart){case jz:r=t,s=2*e-n;break;case Wz:r=i.length-2,s=e+i[r]-i[r+1];break;default:r=t,s=n}if(void 0===a)switch(this.getSettings_().endingEnd){case jz:o=t,a=2*n-e;break;case Wz:o=1,a=n+i[1]-i[0];break;default:o=t-1,a=e}const l=.5*(n-e),c=this.valueSize;this.Pn=l/(e-s),this.Fn=l/(a-n),this.Bn=r*c,this.Un=o*c}interpolate_(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,l=a-s,c=this.Bn,u=this.Un,d=this.Pn,h=this.Fn,f=(n-e)/(i-e),p=f*f,m=p*f,v=-d*m+2*d*p-d*f,g=(1+d)*m+(-1.5-2*d)*p+(-.5+d)*f+1,y=(-1-h)*m+(1.5+h)*p+.5*f,b=h*m-h*p;for(let w=0;w!==s;++w)r[w]=v*o[c+w]+g*o[l+w]+y*o[a+w]+b*o[u+w];return r}}class rY extends nY{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=t*s,l=a-s,c=(n-e)/(i-e),u=1-c;for(let d=0;d!==s;++d)r[d]=o[l+d]*u+o[a+d]*c;return r}}class oY extends nY{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t){return this.copySampleValue_(t-1)}}class sY{constructor(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Zq(e,this.TimeBufferType),this.values=Zq(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let n;if(e.toJSON!==this.toJSON)n=e.toJSON(t);else{n={name:t.name,times:Zq(t.times,Array),values:Zq(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(n.interpolation=e)}return n.type=t.ValueTypeName,n}InterpolantFactoryMethodDiscrete(t){return new oY(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new rY(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new iY(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case zz:e=this.InterpolantFactoryMethodDiscrete;break;case Vz:e=this.InterpolantFactoryMethodLinear;break;case $z:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zz;case this.InterpolantFactoryMethodLinear:return Vz;case this.InterpolantFactoryMethodSmooth:return $z}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let n=0,i=e.length;n!==i;++n)e[n]*=t}return this}trim(t,e){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<t;)++r;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const t=this.getValueSize();this.times=n.slice(r,o),this.values=this.values.slice(r*t,o*t)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(t=!1);const n=this.times,i=this.values,r=n.length;0===r&&(t=!1);let o=null;for(let s=0;s!==r;s++){const e=n[s];if("number"==typeof e&&isNaN(e)){t=!1;break}if(null!==o&&o>e){t=!1;break}o=e}if(void 0!==i&&Jq(i))for(let s=0,a=i.length;s!==a;++s){const e=i[s];if(isNaN(e)){t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===$z,r=t.length-1;let o=1;for(let s=1;s<r;++s){let r=!1;const a=t[s];if(a!==t[s+1]&&(1!==s||a!==t[0]))if(i)r=!0;else{const t=s*n,i=t-n,o=t+n;for(let s=0;s!==n;++s){const n=e[t+s];if(n!==e[i+s]||n!==e[o+s]){r=!0;break}}}if(r){if(s!==o){t[o]=t[s];const i=s*n,r=o*n;for(let t=0;t!==n;++t)e[r+t]=e[i+t]}++o}}if(r>0){t[o]=t[r];for(let t=r*n,i=o*n,s=0;s!==n;++s)e[i+s]=e[t+s];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*n)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}sY.prototype.ValueTypeName="",sY.prototype.TimeBufferType=Float32Array,sY.prototype.ValueBufferType=Float32Array,sY.prototype.DefaultInterpolation=Vz;class aY extends sY{constructor(t,e,n){super(t,e,n)}}aY.prototype.ValueTypeName="bool",aY.prototype.ValueBufferType=Array,aY.prototype.DefaultInterpolation=zz,aY.prototype.InterpolantFactoryMethodLinear=void 0,aY.prototype.InterpolantFactoryMethodSmooth=void 0;class lY extends sY{constructor(t,e,n,i){super(t,e,n,i)}}lY.prototype.ValueTypeName="color";class cY extends sY{constructor(t,e,n,i){super(t,e,n,i)}}cY.prototype.ValueTypeName="number";class uY extends nY{constructor(t,e,n,i){super(t,e,n,i)}interpolate_(t,e,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-e)/(i-e);let l=t*s;for(let c=l+s;l!==c;l+=4)QV.slerpFlat(r,0,o,l-s,o,l,a);return r}}class dY extends sY{constructor(t,e,n,i){super(t,e,n,i)}InterpolantFactoryMethodLinear(t){return new uY(this.times,this.values,this.getValueSize(),t)}}dY.prototype.ValueTypeName="quaternion",dY.prototype.InterpolantFactoryMethodSmooth=void 0;class hY extends sY{constructor(t,e,n){super(t,e,n)}}hY.prototype.ValueTypeName="string",hY.prototype.ValueBufferType=Array,hY.prototype.DefaultInterpolation=zz,hY.prototype.InterpolantFactoryMethodLinear=void 0,hY.prototype.InterpolantFactoryMethodSmooth=void 0;class fY extends sY{constructor(t,e,n,i){super(t,e,n,i)}}fY.prototype.ValueTypeName="vector";class pY{constructor(t="",e=-1,n=[],i=2500){this.name=t,this.tracks=n,this.duration=e,this.blendMode=i,this.uuid=yV(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],n=t.tracks,i=1/(t.fps||1);for(let o=0,s=n.length;o!==s;++o)e.push(mY(n[o]).scale(i));const r=new this(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r}static toJSON(t){const e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,o=n.length;r!==o;++r)e.push(sY.toJSON(n[r]));return i}static CreateFromMorphTargetSequence(t,e,n,i){const r=e.length,o=[];for(let s=0;s<r;s++){let t=[],a=[];t.push((s+r-1)%r,s,(s+1)%r),a.push(0,1,0);const l=Qq(t);t=tY(t,1,l),a=tY(a,1,l),i||0!==t[0]||(t.push(r),a.push(a[0])),o.push(new cY(".morphTargetInfluences["+e[s].name+"]",t,a).scale(1/n))}return new this(t,-1,o)}static findByName(t,e){let n=t;if(!Array.isArray(t)){const e=t;n=e.geometry&&e.geometry.animations||e.animations}for(let i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null}static CreateClipsFromMorphTargetSequences(t,e,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,a=t.length;s<a;s++){const e=t[s],n=e.name.match(r);if(n&&n.length>1){const t=n[1];let r=i[t];r||(i[t]=r=[]),r.push(e)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],e,n));return o}static parseAnimation(t,e){if(!t)return null;const n=function(t,e,n,i,r){if(0!==n.length){const o=[],s=[];eY(n,o,s,i),0!==o.length&&r.push(new t(e,o,s))}},i=[],r=t.name||"default",o=t.fps||30,s=t.blendMode;let a=t.length||-1;const l=t.hierarchy||[];for(let c=0;c<l.length;c++){const t=l[c].keys;if(t&&0!==t.length)if(t[0].morphTargets){const e={};let n;for(n=0;n<t.length;n++)if(t[n].morphTargets)for(let i=0;i<t[n].morphTargets.length;i++)e[t[n].morphTargets[i]]=-1;for(const r in e){const e=[],o=[];for(let i=0;i!==t[n].morphTargets.length;++i){const i=t[n];e.push(i.time),o.push(i.morphTarget===r?1:0)}i.push(new cY(".morphTargetInfluence["+r+"]",e,o))}a=e.length*o}else{const r=".bones["+e[c].name+"]";n(fY,r+".position",t,"pos",i),n(dY,r+".quaternion",t,"rot",i),n(fY,r+".scale",t,"scl",i)}}if(0===i.length)return null;return new this(r,a,i,s)}resetDuration(){let t=0;for(let e=0,n=this.tracks.length;e!==n;++e){const n=this.tracks[e];t=Math.max(t,n.times[n.times.length-1])}return this.duration=t,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function mY(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return cY;case"vector":case"vector2":case"vector3":case"vector4":return fY;case"color":return lY;case"quaternion":return dY;case"bool":case"boolean":return aY;case"string":return hY}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],n=[];eY(t.keys,e,n,"value"),t.times=e,t.values=n}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const vY={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class gY{constructor(t,e,n){const i=this;let r,o=!1,s=0,a=0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===o&&void 0!==i.onStart&&i.onStart(t,s,a),o=!0},this.itemEnd=function(t){s++,void 0!==i.onProgress&&i.onProgress(t,s,a),s===a&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,n=l.length;e<n;e+=2){const n=l[e],i=l[e+1];if(n.global&&(n.lastIndex=0),n.test(t))return i}return null}}}const yY=new gY;class bY{constructor(t){this.manager=void 0!==t?t:yY,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const n=this;return new Promise((function(i,r){n.load(t,i,e,r)}))}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}bY.DEFAULT_MATERIAL_NAME="__DEFAULT";const wY={};class _Y extends Error{constructor(t,e){super(t),this.response=e}}class xY extends bY{constructor(t){super(t),this.mimeType="",this.responseType=""}load(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=vY.get(t);if(void 0!==r)return this.manager.itemStart(t),setTimeout((()=>{e&&e(r),this.manager.itemEnd(t)}),0),r;if(void 0!==wY[t])return void wY[t].push({onLoad:e,onProgress:n,onError:i});wY[t]=[],wY[t].push({onLoad:e,onProgress:n,onError:i});const o=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,a=this.responseType;fetch(o).then((e=>{if(200===e.status||0===e.status){if(e.status,"undefined"==typeof ReadableStream||void 0===e.body||void 0===e.body.getReader)return e;const n=wY[t],i=e.body.getReader(),r=e.headers.get("X-File-Size")||e.headers.get("Content-Length"),o=r?parseInt(r):0,s=0!==o;let a=0;const l=new ReadableStream({start(t){!function e(){i.read().then((({done:i,value:r})=>{if(i)t.close();else{a+=r.byteLength;const i=new ProgressEvent("progress",{lengthComputable:s,loaded:a,total:o});for(let t=0,e=n.length;t<e;t++){const e=n[t];e.onProgress&&e.onProgress(i)}t.enqueue(r),e()}}),(e=>{t.error(e)}))}()}});return new Response(l)}throw new _Y(`fetch for "${e.url}" responded with ${e.status}: ${e.statusText}`,e)})).then((t=>{switch(a){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"document":return t.text().then((t=>(new DOMParser).parseFromString(t,s)));case"json":return t.json();default:if(""===s)return t.text();{const e=/charset="?([^;"\s]*)"?/i.exec(s),n=e&&e[1]?e[1].toLowerCase():void 0,i=new TextDecoder(n);return t.arrayBuffer().then((t=>i.decode(t)))}}})).then((e=>{vY.add(t,e);const n=wY[t];delete wY[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onLoad&&i.onLoad(e)}})).catch((e=>{const n=wY[t];if(void 0===n)throw this.manager.itemError(t),e;delete wY[t];for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}this.manager.itemError(t)})).finally((()=>{this.manager.itemEnd(t)})),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class SY extends bY{constructor(t){super(t)}load(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=vY.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;const s=IV("img");function a(){c(),vY.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){c(),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}function c(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),"data:"!==t.slice(0,5)&&void 0!==this.crossOrigin&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(t),s.src=t,s}}class MY extends iG{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new xG(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(e.object.target=this.target.uuid),e}}class CY extends MY{constructor(t,e,n){super(t,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(iG.DEFAULT_UP),this.updateMatrix(),this.groundColor=new xG(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const kY=new N$,EY=new t$,TY=new t$;class AY{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new CV(512,512),this.map=null,this.mapPass=null,this.matrix=new N$,this.autoUpdate=!0,this.needsUpdate=!1,this.Hn=new MW,this.zn=new CV(1,1),this.Vn=1,this.$n=[new qV(0,0,1,1)]}getViewportCount(){return this.Vn}getFrustum(){return this.Hn}updateMatrices(t){const e=this.camera,n=this.matrix;EY.setFromMatrixPosition(t.matrixWorld),e.position.copy(EY),TY.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(TY),e.updateMatrixWorld(),kY.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this.Hn.setFromProjectionMatrix(kY),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(kY)}getViewport(t){return this.$n[t]}getFrameExtents(){return this.zn}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 1!==this.intensity&&(t.intensity=this.intensity),0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class NY extends AY{constructor(){super(new mj(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,n=2*gV*t.angle*this.focus,i=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;n===e.fov&&i===e.aspect&&r===e.far||(e.fov=n,e.aspect=i,e.far=r,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class IY extends MY{constructor(t,e,n=0,i=Math.PI/3,r=0,o=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(iG.DEFAULT_UP),this.updateMatrix(),this.target=new iG,this.distance=n,this.angle=i,this.penumbra=r,this.decay=o,this.map=null,this.shadow=new NY}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const RY=new N$,OY=new t$,LY=new t$;class DY extends AY{constructor(){super(new mj(90,1,.5,500)),this.isPointLightShadow=!0,this.zn=new CV(4,2),this.Vn=6,this.$n=[new qV(2,1,1,1),new qV(0,1,1,1),new qV(3,1,1,1),new qV(1,1,1,1),new qV(3,0,1,1),new qV(1,0,1,1)],this.Gn=[new t$(1,0,0),new t$(-1,0,0),new t$(0,0,1),new t$(0,0,-1),new t$(0,1,0),new t$(0,-1,0)],this.jn=[new t$(0,1,0),new t$(0,1,0),new t$(0,1,0),new t$(0,1,0),new t$(0,0,1),new t$(0,0,-1)]}updateMatrices(t,e=0){const n=this.camera,i=this.matrix,r=t.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),OY.setFromMatrixPosition(t.matrixWorld),n.position.copy(OY),LY.copy(n.position),LY.add(this.Gn[e]),n.up.copy(this.jn[e]),n.lookAt(LY),n.updateMatrixWorld(),i.makeTranslation(-OY.x,-OY.y,-OY.z),RY.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this.Hn.setFromProjectionMatrix(RY)}}class PY extends MY{constructor(t,e,n=0,i=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new DY}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class BY extends dj{constructor(t=-1,e=1,n=1,i=-1,r=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=i,this.near=r,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-t,o=n+t,s=i+e,a=i-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,o=r+t*this.view.width,s-=e*this.view.offsetY,a=s-e*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}class FY extends AY{constructor(){super(new BY(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class UY extends MY{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(iG.DEFAULT_UP),this.updateMatrix(),this.target=new iG,this.shadow=new FY}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class HY extends MY{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class zY extends MY{constructor(t,e,n=10,i=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class VY{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new t$)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScaledVector(o[1],.488603*i),e.addScaledVector(o[2],.488603*r),e.addScaledVector(o[3],.488603*n),e.addScaledVector(o[4],n*i*1.092548),e.addScaledVector(o[5],i*r*1.092548),e.addScaledVector(o[6],.315392*(3*r*r-1)),e.addScaledVector(o[7],n*r*1.092548),e.addScaledVector(o[8],.546274*(n*n-i*i)),e}getIrradianceAt(t,e){const n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScaledVector(o[1],1.023328*i),e.addScaledVector(o[2],1.023328*r),e.addScaledVector(o[3],1.023328*n),e.addScaledVector(o[4],.858086*n*i),e.addScaledVector(o[5],.858086*i*r),e.addScaledVector(o[6],.743125*r*r-.247708),e.addScaledVector(o[7],.858086*n*r),e.addScaledVector(o[8],.429043*(n*n-i*i)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}toArray(t=[],e=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}static getBasisAt(t,e){const n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}class $Y extends MY{constructor(t=new VY,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class GY extends bY{constructor(t){super(t),this.textures={}}load(t,e,n,i){const r=this,o=new xY(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(ax){i&&i(ax),r.manager.itemError(t)}}),n,i)}parse(t){const e=this.textures;function n(t){return e[t],e[t]}const i=this.createMaterialFromType(t.type);if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&void 0!==i.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=t.sheen),void 0!==t.sheenColor&&(i.sheenColor=(new xG).setHex(t.sheenColor)),void 0!==t.sheenRoughness&&(i.sheenRoughness=t.sheenRoughness),void 0!==t.emissive&&void 0!==i.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==i.specular&&i.specular.setHex(t.specular),void 0!==t.specularIntensity&&(i.specularIntensity=t.specularIntensity),void 0!==t.specularColor&&void 0!==i.specularColor&&i.specularColor.setHex(t.specularColor),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.dispersion&&(i.dispersion=t.dispersion),void 0!==t.iridescence&&(i.iridescence=t.iridescence),void 0!==t.iridescenceIOR&&(i.iridescenceIOR=t.iridescenceIOR),void 0!==t.iridescenceThicknessRange&&(i.iridescenceThicknessRange=t.iridescenceThicknessRange),void 0!==t.transmission&&(i.transmission=t.transmission),void 0!==t.thickness&&(i.thickness=t.thickness),void 0!==t.attenuationDistance&&(i.attenuationDistance=t.attenuationDistance),void 0!==t.attenuationColor&&void 0!==i.attenuationColor&&i.attenuationColor.setHex(t.attenuationColor),void 0!==t.anisotropy&&(i.anisotropy=t.anisotropy),void 0!==t.anisotropyRotation&&(i.anisotropyRotation=t.anisotropyRotation),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.shadowSide&&(i.shadowSide=t.shadowSide),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.alphaHash&&(i.alphaHash=t.alphaHash),void 0!==t.depthFunc&&(i.depthFunc=t.depthFunc),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.blendSrc&&(i.blendSrc=t.blendSrc),void 0!==t.blendDst&&(i.blendDst=t.blendDst),void 0!==t.blendEquation&&(i.blendEquation=t.blendEquation),void 0!==t.blendSrcAlpha&&(i.blendSrcAlpha=t.blendSrcAlpha),void 0!==t.blendDstAlpha&&(i.blendDstAlpha=t.blendDstAlpha),void 0!==t.blendEquationAlpha&&(i.blendEquationAlpha=t.blendEquationAlpha),void 0!==t.blendColor&&void 0!==i.blendColor&&i.blendColor.setHex(t.blendColor),void 0!==t.blendAlpha&&(i.blendAlpha=t.blendAlpha),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),void 0!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.alphaToCoverage&&(i.alphaToCoverage=t.alphaToCoverage),void 0!==t.premultipliedAlpha&&(i.premultipliedAlpha=t.premultipliedAlpha),void 0!==t.forceSinglePass&&(i.forceSinglePass=t.forceSinglePass),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?i.vertexColors=t.vertexColors>0:i.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const r in t.uniforms){const e=t.uniforms[r];switch(i.uniforms[r]={},e.type){case"t":i.uniforms[r].value=n(e.value);break;case"c":i.uniforms[r].value=(new xG).setHex(e.value);break;case"v2":i.uniforms[r].value=(new CV).fromArray(e.value);break;case"v3":i.uniforms[r].value=(new t$).fromArray(e.value);break;case"v4":i.uniforms[r].value=(new qV).fromArray(e.value);break;case"m3":i.uniforms[r].value=(new kV).fromArray(e.value);break;case"m4":i.uniforms[r].value=(new N$).fromArray(e.value);break;default:i.uniforms[r].value=e.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.glslVersion&&(i.glslVersion=t.glslVersion),void 0!==t.extensions)for(const r in t.extensions)i.extensions[r]=t.extensions[r];if(void 0!==t.lights&&(i.lights=t.lights),void 0!==t.clipping&&(i.clipping=t.clipping),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),i.normalScale=(new CV).fromArray(e)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.specularIntensityMap&&(i.specularIntensityMap=n(t.specularIntensityMap)),void 0!==t.specularColorMap&&(i.specularColorMap=n(t.specularColorMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapRotation&&i.envMapRotation.fromArray(t.envMapRotation),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(i.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new CV).fromArray(t.clearcoatNormalScale)),void 0!==t.iridescenceMap&&(i.iridescenceMap=n(t.iridescenceMap)),void 0!==t.iridescenceThicknessMap&&(i.iridescenceThicknessMap=n(t.iridescenceThicknessMap)),void 0!==t.transmissionMap&&(i.transmissionMap=n(t.transmissionMap)),void 0!==t.thicknessMap&&(i.thicknessMap=n(t.thicknessMap)),void 0!==t.anisotropyMap&&(i.anisotropyMap=n(t.anisotropyMap)),void 0!==t.sheenColorMap&&(i.sheenColorMap=n(t.sheenColorMap)),void 0!==t.sheenRoughnessMap&&(i.sheenRoughnessMap=n(t.sheenRoughnessMap)),i}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return GY.createMaterialFromType(t)}static createMaterialFromType(t){return new{ShadowMaterial:Uq,SpriteMaterial:Aj,RawShaderMaterial:Hq,ShaderMaterial:uj,PointsMaterial:iK,MeshPhysicalMaterial:Vq,MeshStandardMaterial:zq,MeshPhongMaterial:$q,MeshToonMaterial:Gq,MeshNormalMaterial:jq,MeshLambertMaterial:Wq,MeshDepthMaterial:Kq,MeshDistanceMaterial:qq,MeshBasicMaterial:kG,MeshMatcapMaterial:Yq,LineDashedMaterial:Xq,LineBasicMaterial:$W,Material:CG}[t]}}class jY{static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.slice(0,e+1)}static resolveURL(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class WY extends jG{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class KY extends bY{constructor(t){super(t)}load(t,e,n,i){const r=this,o=new xY(r.manager);o.setPath(r.path),o.setRequestHeader(r.requestHeader),o.setWithCredentials(r.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(ax){i&&i(ax),r.manager.itemError(t)}}),n,i)}parse(t){const e={},n={};function i(t,i){if(void 0!==e[i])return e[i];const r=t.interleavedBuffers[i],o=function(t,e){if(void 0!==n[e])return n[e];const i=t.arrayBuffers,r=i[e],o=new Uint32Array(r).buffer;return n[e]=o,o}(t,r.buffer),s=NV(r.type,o),a=new kj(s,r.stride);return a.uuid=r.uuid,e[i]=a,a}const r=t.isInstancedBufferGeometry?new WY:new jG,o=t.data.index;if(void 0!==o){const t=NV(o.type,o.array);r.setIndex(new LG(t,1))}const s=t.data.attributes;for(const u in s){const e=s[u];let n;if(e.isInterleavedBufferAttribute){const r=i(t.data,e.data);n=new Tj(r,e.itemSize,e.offset,e.normalized)}else{const t=NV(e.type,e.array);n=new(e.isInstancedBufferAttribute?cW:LG)(t,e.itemSize,e.normalized)}void 0!==e.name&&(n.name=e.name),void 0!==e.usage&&n.setUsage(e.usage),r.setAttribute(u,n)}const a=t.data.morphAttributes;if(a)for(const u in a){const e=a[u],n=[];for(let r=0,o=e.length;r<o;r++){const o=e[r];let s;if(o.isInterleavedBufferAttribute){const e=i(t.data,o.data);s=new Tj(e,o.itemSize,o.offset,o.normalized)}else{const t=NV(o.type,o.array);s=new LG(t,o.itemSize,o.normalized)}void 0!==o.name&&(s.name=o.name),n.push(s)}r.morphAttributes[u]=n}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(let u=0,d=l.length;u!==d;++u){const t=l[u];r.addGroup(t.start,t.count,t.materialIndex)}const c=t.data.boundingSphere;if(void 0!==c){const t=new t$;void 0!==c.center&&t.fromArray(c.center),r.boundingSphere=new _$(t,c.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}}const qY={UVMapping:MH,CubeReflectionMapping:CH,CubeRefractionMapping:kH,EquirectangularReflectionMapping:EH,EquirectangularRefractionMapping:TH,CubeUVReflectionMapping:AH},YY={RepeatWrapping:NH,ClampToEdgeWrapping:IH,MirroredRepeatWrapping:RH},XY={NearestFilter:OH,NearestMipmapNearestFilter:LH,NearestMipmapLinearFilter:DH,LinearFilter:PH,LinearMipmapNearestFilter:BH,LinearMipmapLinearFilter:FH};let ZY;class JY{static getContext(){return void 0===ZY&&(ZY=new(window.AudioContext||window.webkitAudioContext)),ZY}static setContext(t){ZY=t}}const QY=new N$,tX=new N$,eX=new N$;class nX extends mj{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t,this.index=0}}class iX{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=rX(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=rX();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function rX(){return performance.now()}const oX=new t$,sX=new QV,aX=new t$,lX=new t$;class cX extends iG{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this.Wn=0,this.Kn=0,this.qn=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return;if(!1===this.hasPlaybackControl)return;this.Wn=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this.Wn,this.Kn+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.Kn+=Math.max(this.context.currentTime-this.Wn,0)*this.playbackRate,!0===this.loop&&(this.Kn=this.Kn%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(!1!==this.hasPlaybackControl)return this.Kn=0,null!==this.source&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this.qn=!0,this}disconnect(){if(!1!==this.qn){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this.qn=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this.qn?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this.Kn=0}getLoop(){return!1!==this.hasPlaybackControl&&this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),"buffer"!==t.sourceType||(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice()),this}clone(t){return new this.constructor(this.listener).copy(this,t)}}const uX=new t$,dX=new QV,hX=new t$,fX=new t$;class pX{constructor(t,e,n){let i,r,o;switch(this.binding=t,this.valueSize=n,e){case"quaternion":i=this.Yn,r=this.Xn,o=this.Zn,this.buffer=new Float64Array(6*n),this.Jn=5;break;case"string":case"bool":i=this.Qn,r=this.Qn,o=this.ti,this.buffer=new Array(5*n);break;default:i=this.ei,r=this.ni,o=this.ii,this.buffer=new Float64Array(5*n)}this.ri=i,this.oi=r,this.si=o,this.ai=3,this.li=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const n=this.buffer,i=this.valueSize,r=t*i+i;let o=this.cumulativeWeight;if(0===o){for(let t=0;t!==i;++t)n[r+t]=n[t];o=e}else{o+=e;const t=e/o;this.ri(n,r,0,t,i)}this.cumulativeWeight=o}accumulateAdditive(t){const e=this.buffer,n=this.valueSize,i=n*this.li;0===this.cumulativeWeightAdditive&&this.si(),this.oi(e,i,0,t,n),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const t=e*this.ai;this.ri(n,i,t,1-r,e)}o>0&&this.oi(n,i,this.li*e,1,e);for(let a=e,l=e+e;a!==l;++a)if(n[a]!==n[a+e]){s.setValue(n,i);break}}saveOriginalState(){const t=this.binding,e=this.buffer,n=this.valueSize,i=n*this.ai;t.getValue(e,i);for(let r=n,o=i;r!==o;++r)e[r]=e[i+r%n];this.si(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)}ii(){const t=this.li*this.valueSize,e=t+this.valueSize;for(let n=t;n<e;n++)this.buffer[n]=0}Zn(){this.ii(),this.buffer[this.li*this.valueSize+3]=1}ti(){const t=this.ai*this.valueSize,e=this.li*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]}Qn(t,e,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)t[e+o]=t[n+o]}Yn(t,e,n,i){QV.slerpFlat(t,e,t,e,t,n,i)}Xn(t,e,n,i,r){const o=this.Jn*r;QV.multiplyQuaternionsFlat(t,o,t,e,t,n),QV.slerpFlat(t,e,t,e,t,o,i)}ei(t,e,n,i,r){const o=1-i;for(let s=0;s!==r;++s){const r=e+s;t[r]=t[r]*o+t[n+s]*i}}ni(t,e,n,i,r){for(let o=0;o!==r;++o){const r=e+o;t[r]=t[r]+t[n+o]*i}}}const mX="\\[\\]\\.:\\/",vX=new RegExp("["+mX+"]","g"),gX="[^"+mX+"]",yX="[^"+mX.replace("\\.","")+"]",bX=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",gX)+/(WCOD+)?/.source.replace("WCOD",yX)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",gX)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",gX)+"$"),wX=["material","materials","bones","map"];class _X{constructor(t,e,n){this.path=e,this.parsedPath=n||_X.parseTrackName(e),this.node=_X.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this.ci,this.setValue=this.ui}static create(t,e,n){return t&&t.isAnimationObjectGroup?new _X.Composite(t,e,n):new _X(t,e,n)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(vX,"")}static parseTrackName(t){const e=bX.exec(t);if(null===e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const t=n.nodeName.substring(i+1);-1!==wX.indexOf(t)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=t)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}static findNode(t,e){if(void 0===e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){const n=function(t){for(let i=0;i<t.length;i++){const r=t[i];if(r.name===e||r.uuid===e)return r;const o=n(r.children);if(o)return o}return null},i=n(t.children);if(i)return i}return null}di(){}hi(){}fi(t,e){t[e]=this.targetObject[this.propertyName]}pi(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)t[e++]=n[i]}mi(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}gi(t,e){this.resolvedProperty.toArray(t,e)}yi(t,e){this.targetObject[this.propertyName]=t[e]}bi(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}wi(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_i(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++]}xi(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0}Si(t,e){const n=this.resolvedProperty;for(let i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}Mi(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}Ci(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}ki(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}Ei(t,e){this.resolvedProperty.fromArray(t,e)}Ti(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}Ai(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}ci(t,e){this.bind(),this.getValue(t,e)}ui(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,n=e.objectName,i=e.propertyName;let r=e.propertyIndex;if(t||(t=_X.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this.di,this.setValue=this.hi,!t)return;if(n){let i=e.objectIndex;switch(n){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===i){i=e;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return;if(!t.material.map)return;t=t.material.map;break;default:if(void 0===t[n])return;t=t[n]}if(void 0!==i){if(void 0===t[i])return;t=t[i]}}const o=t[i];if(void 0===o){e.nodeName;return}let s=this.Versioning.None;this.targetObject=t,!0===t.isMaterial?s=this.Versioning.NeedsUpdate:!0===t.isObject3D&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return;if(!t.geometry.morphAttributes)return;void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else void 0!==o.fromArray&&void 0!==o.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]}unbind(){this.node=null,this.getValue=this.ci,this.setValue=this.ui}}_X.Composite=class{constructor(t,e,n){const i=n||_X.parseTrackName(e);this.Ni=t,this.Ii=t.subscribe_(e,i)}getValue(t,e){this.bind();const n=this.Ni.nCachedObjects_,i=this.Ii[n];void 0!==i&&i.getValue(t,e)}setValue(t,e){const n=this.Ii;for(let i=this.Ni.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)}bind(){const t=this.Ii;for(let e=this.Ni.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}unbind(){const t=this.Ii;for(let e=this.Ni.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},_X.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},_X.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},_X.prototype.GetterByBindingType=[_X.prototype.fi,_X.prototype.pi,_X.prototype.mi,_X.prototype.gi],_X.prototype.SetterByBindingTypeAndVersioning=[[_X.prototype.yi,_X.prototype.bi,_X.prototype.wi],[_X.prototype._i,_X.prototype.xi,_X.prototype.Si],[_X.prototype.Mi,_X.prototype.Ci,_X.prototype.ki],[_X.prototype.Ei,_X.prototype.Ti,_X.prototype.Ai]];class xX{constructor(t,e,n=null,i=e.blendMode){this.Ri=t,this.Oi=e,this.Li=n,this.blendMode=i;const r=e.tracks,o=r.length,s=new Array(o),a={endingStart:Gz,endingEnd:Gz};for(let l=0;l!==o;++l){const t=r[l].createInterpolant(null);s[l]=t,t.settings=a}this.Di=a,this.Pi=s,this.Bi=new Array(o),this.Fi=null,this.Ui=null,this.Hi=null,this.zi=null,this.loop=2201,this.Vi=-1,this.Gi=null,this.time=0,this.timeScale=1,this.ji=1,this.weight=1,this.Wi=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this.Ri.Ki(this),this}stop(){return this.Ri.qi(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this.Vi=-1,this.Gi=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this.Gi&&this.Ri.Yi(this)}isScheduled(){return this.Ri.Yi(this)}startAt(t){return this.Gi=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this.Wi=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this.Wi}fadeIn(t){return this.Xi(t,0,1)}fadeOut(t){return this.Xi(t,1,0)}crossFadeFrom(t,e,n=!1){if(t.fadeOut(e),this.fadeIn(e),!0===n){const n=this.Oi.duration,i=t.Oi.duration,r=i/n,o=n/i;t.warp(1,r,e),this.warp(o,1,e)}return this}crossFadeTo(t,e,n=!1){return t.crossFadeFrom(this,e,n)}stopFading(){const t=this.zi;return null!==t&&(this.zi=null,this.Ri.Zi(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this.ji=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this.ji}setDuration(t){return this.timeScale=this.Oi.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this.ji,0,t)}warp(t,e,n){const i=this.Ri,r=i.time,o=this.timeScale;let s=this.Hi;null===s&&(s=i.Ji(),this.Hi=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=t/o,l[1]=e/o,this}stopWarping(){const t=this.Hi;return null!==t&&(this.Hi=null,this.Ri.Zi(t)),this}getMixer(){return this.Ri}getClip(){return this.Oi}getRoot(){return this.Li||this.Ri.Qi}tr(t,e,n,i){if(!this.enabled)return void this.er(t);const r=this.Gi;if(null!==r){const i=(t-r)*n;i<0||0===n?e=0:(this.Gi=null,e=n*i)}e*=this.nr(t);const o=this.ir(e),s=this.er(t);if(s>0){const t=this.Pi,e=this.Bi;if(this.blendMode===qz)for(let n=0,i=t.length;n!==i;++n)t[n].evaluate(o),e[n].accumulateAdditive(s);else for(let n=0,r=t.length;n!==r;++n)t[n].evaluate(o),e[n].accumulate(i,s)}}er(t){let e=0;if(this.enabled){e=this.weight;const n=this.zi;if(null!==n){const i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this.Wi=e,e}nr(t){let e=0;if(!this.paused){e=this.timeScale;const n=this.Hi;if(null!==n){e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}}return this.ji=e,e}ir(t){const e=this.Oi.duration,n=this.loop;let i=this.time+t,r=this.Vi;const o=2202===n;if(0===t)return-1===r||!o||1&~r?i:e-i;if(2200===n){-1===r&&(this.Vi=0,this.rr(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this.Ri.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this.rr(!0,0===this.repetitions,o)):this.rr(0===this.repetitions,!0,o)),i>=e||i<0){const n=Math.floor(i/e);i-=e*n,r+=Math.abs(n);const s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this.Ri.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){const e=t<0;this.rr(e,!e,o)}else this.rr(!1,!1,o);this.Vi=r,this.time=i,this.Ri.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=i;if(o&&!(1&~r))return e-i}return i}rr(t,e,n){const i=this.Di;n?(i.endingStart=jz,i.endingEnd=jz):(i.endingStart=t?this.zeroSlopeAtStart?jz:Gz:Wz,i.endingEnd=e?this.zeroSlopeAtEnd?jz:Gz:Wz)}Xi(t,e,n){const i=this.Ri,r=i.time;let o=this.zi;null===o&&(o=i.Ji(),this.zi=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=e,s[1]=r+t,a[1]=n,this}}const SX=new Float32Array(1);class MX{constructor(t){this.value=t}clone(){return new MX(void 0===this.value.clone?this.value:this.value.clone())}}let CX=0;const kX=new N$;function EX(t,e){return t.distance-e.distance}function TX(t,e,n,i){let r=!0;if(t.layers.test(e.layers)){!1===t.raycast(e,n)&&(r=!1)}if(!0===r&&!0===i){const i=t.children;for(let t=0,r=i.length;t<r;t++)TX(i[t],e,n,!0)}}class AX{constructor(t,e,n,i){AX.prototype.isMatrix2=!0,this.elements=[1,0,0,1],void 0!==t&&this.set(t,e,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let n=0;n<4;n++)this.elements[n]=t[n+e];return this}set(t,e,n,i){const r=this.elements;return r[0]=t,r[2]=e,r[1]=n,r[3]=i,this}}const NX=new CV;const IX=new t$,RX=new t$;const OX=new t$;const LX=new t$,DX=new N$,PX=new N$;function BX(t){const e=[];!0===t.isBone&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...BX(t.children[n]));return e}const FX=new t$,UX=new xG,HX=new xG;const zX=new t$,VX=new t$,$X=new t$;const GX=new t$,jX=new dj;function WX(t,e,n,i,r,o,s){GX.set(r,o,s).unproject(i);const a=e[t];if(void 0!==a){const t=n.getAttribute("position");for(let e=0,n=a.length;e<n;e++)t.setXYZ(a[e],GX.x,GX.y,GX.z)}}const KX=new i$;const qX=new t$;let YX,XX;function ZX(t,e,n,i){const r=function(t){switch(t){case UH:case HH:return{byteLength:1,components:1};case VH:case zH:case WH:return{byteLength:2,components:1};case KH:case qH:return{byteLength:2,components:4};case GH:case $H:case jH:return{byteLength:4,components:1};case XH:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}(i);switch(n){case ZH:case tz:return t*e;case ez:return t*e*2;case rz:case oz:return t*e/r.components*r.byteLength;case sz:case az:return t*e*2/r.components*r.byteLength;case JH:return t*e*3/r.components*r.byteLength;case QH:case lz:return t*e*4/r.components*r.byteLength;case cz:case uz:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case dz:case hz:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case pz:case vz:return Math.max(t,16)*Math.max(e,8)/4;case fz:case mz:return Math.max(t,8)*Math.max(e,8)/2;case gz:case yz:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case bz:case wz:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case _z:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case xz:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Sz:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Mz:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Cz:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case kz:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Ez:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Tz:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Az:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Nz:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case Iz:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case Rz:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case Oz:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Lz:case Dz:case Pz:return Math.ceil(t/4)*Math.ceil(e/4)*16;case Bz:case Fz:return Math.ceil(t/4)*Math.ceil(e/4)*8;case Uz:case Hz:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}
/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */
function JX(){let t=null,e=!1,n=null,i=null;function r(e,o){n(e,o),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function QX(t){const e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const i=e.get(n);i&&(t.deleteBuffer(i.buffer),e.delete(n))},update:function(n,i){if(n.isInterleavedBufferAttribute&&(n=n.data),n.isGLBufferAttribute){const t=e.get(n);return void((!t||t.version<n.version)&&e.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}const r=e.get(n);if(void 0===r)e.set(n,function(e,n){const i=e.array,r=e.usage,o=i.byteLength,s=t.createBuffer();let a;if(t.bindBuffer(n,s),t.bufferData(n,i,r),e.onUploadCallback(),i instanceof Float32Array)a=t.FLOAT;else if(i instanceof Uint16Array)a=e.isFloat16BufferAttribute?t.HALF_FLOAT:t.UNSIGNED_SHORT;else if(i instanceof Int16Array)a=t.SHORT;else if(i instanceof Uint32Array)a=t.UNSIGNED_INT;else if(i instanceof Int32Array)a=t.INT;else if(i instanceof Int8Array)a=t.BYTE;else if(i instanceof Uint8Array)a=t.UNSIGNED_BYTE;else{if(!(i instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+i);a=t.UNSIGNED_BYTE}return{buffer:s,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version,size:o}}(n,i));else if(r.version<n.version){if(r.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(e,n,i){const r=n.array,o=n.updateRanges;if(t.bindBuffer(i,e),0===o.length)t.bufferSubData(i,0,r);else{o.sort(((t,e)=>t.start-e.start));let e=0;for(let t=1;t<o.length;t++){const n=o[e],i=o[t];i.start<=n.start+n.count+1?n.count=Math.max(n.count,i.start+i.count-n.start):(++e,o[e]=i)}o.length=e+1;for(let n=0,s=o.length;n<s;n++){const e=o[n];t.bufferSubData(i,e.start*r.BYTES_PER_ELEMENT,r,e.start,e.count)}n.clearUpdateRanges()}n.onUploadCallback()}(r.buffer,n,i),r.version=n.version}}}}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:WU}})),"undefined"!=typeof window&&(window.__THREE__||(window.__THREE__=WU));const tZ={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},eZ={common:{diffuse:{value:new xG(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new kV},alphaMap:{value:null},alphaMapTransform:{value:new kV},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new kV}},envmap:{envMap:{value:null},envMapRotation:{value:new kV},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new kV}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new kV}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new kV},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new kV},normalScale:{value:new CV(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new kV},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new kV}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new kV}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new kV}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xG(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xG(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new kV},alphaTest:{value:0},uvTransform:{value:new kV}},sprite:{diffuse:{value:new xG(16777215)},opacity:{value:1},center:{value:new CV(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new kV},alphaMap:{value:null},alphaMapTransform:{value:new kV},alphaTest:{value:0}}},nZ={basic:{uniforms:aj([eZ.common,eZ.specularmap,eZ.envmap,eZ.aomap,eZ.lightmap,eZ.fog]),vertexShader:tZ.meshbasic_vert,fragmentShader:tZ.meshbasic_frag},lambert:{uniforms:aj([eZ.common,eZ.specularmap,eZ.envmap,eZ.aomap,eZ.lightmap,eZ.emissivemap,eZ.bumpmap,eZ.normalmap,eZ.displacementmap,eZ.fog,eZ.lights,{emissive:{value:new xG(0)}}]),vertexShader:tZ.meshlambert_vert,fragmentShader:tZ.meshlambert_frag},phong:{uniforms:aj([eZ.common,eZ.specularmap,eZ.envmap,eZ.aomap,eZ.lightmap,eZ.emissivemap,eZ.bumpmap,eZ.normalmap,eZ.displacementmap,eZ.fog,eZ.lights,{emissive:{value:new xG(0)},specular:{value:new xG(1118481)},shininess:{value:30}}]),vertexShader:tZ.meshphong_vert,fragmentShader:tZ.meshphong_frag},standard:{uniforms:aj([eZ.common,eZ.envmap,eZ.aomap,eZ.lightmap,eZ.emissivemap,eZ.bumpmap,eZ.normalmap,eZ.displacementmap,eZ.roughnessmap,eZ.metalnessmap,eZ.fog,eZ.lights,{emissive:{value:new xG(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:tZ.meshphysical_vert,fragmentShader:tZ.meshphysical_frag},toon:{uniforms:aj([eZ.common,eZ.aomap,eZ.lightmap,eZ.emissivemap,eZ.bumpmap,eZ.normalmap,eZ.displacementmap,eZ.gradientmap,eZ.fog,eZ.lights,{emissive:{value:new xG(0)}}]),vertexShader:tZ.meshtoon_vert,fragmentShader:tZ.meshtoon_frag},matcap:{uniforms:aj([eZ.common,eZ.bumpmap,eZ.normalmap,eZ.displacementmap,eZ.fog,{matcap:{value:null}}]),vertexShader:tZ.meshmatcap_vert,fragmentShader:tZ.meshmatcap_frag},points:{uniforms:aj([eZ.points,eZ.fog]),vertexShader:tZ.points_vert,fragmentShader:tZ.points_frag},dashed:{uniforms:aj([eZ.common,eZ.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:tZ.linedashed_vert,fragmentShader:tZ.linedashed_frag},depth:{uniforms:aj([eZ.common,eZ.displacementmap]),vertexShader:tZ.depth_vert,fragmentShader:tZ.depth_frag},normal:{uniforms:aj([eZ.common,eZ.bumpmap,eZ.normalmap,eZ.displacementmap,{opacity:{value:1}}]),vertexShader:tZ.meshnormal_vert,fragmentShader:tZ.meshnormal_frag},sprite:{uniforms:aj([eZ.sprite,eZ.fog]),vertexShader:tZ.sprite_vert,fragmentShader:tZ.sprite_frag},background:{uniforms:{uvTransform:{value:new kV},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:tZ.background_vert,fragmentShader:tZ.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new kV}},vertexShader:tZ.backgroundCube_vert,fragmentShader:tZ.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:tZ.cube_vert,fragmentShader:tZ.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:tZ.equirect_vert,fragmentShader:tZ.equirect_frag},distanceRGBA:{uniforms:aj([eZ.common,eZ.displacementmap,{referencePosition:{value:new t$},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:tZ.distanceRGBA_vert,fragmentShader:tZ.distanceRGBA_frag},shadow:{uniforms:aj([eZ.lights,eZ.fog,{color:{value:new xG(0)},opacity:{value:1}}]),vertexShader:tZ.shadow_vert,fragmentShader:tZ.shadow_frag}};nZ.physical={uniforms:aj([nZ.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new kV},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new kV},clearcoatNormalScale:{value:new CV(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new kV},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new kV},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new kV},sheen:{value:0},sheenColor:{value:new xG(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new kV},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new kV},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new kV},transmissionSamplerSize:{value:new CV},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new kV},attenuationDistance:{value:0},attenuationColor:{value:new xG(0)},specularColor:{value:new xG(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new kV},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new kV},anisotropyVector:{value:new CV},anisotropyMap:{value:null},anisotropyMapTransform:{value:new kV}}]),vertexShader:tZ.meshphysical_vert,fragmentShader:tZ.meshphysical_frag};const iZ={r:0,b:0,g:0},rZ=new H$,oZ=new N$;function sZ(t,e,n,i,r,o,s){const a=new xG(0);let l,c,u=!0===o?0:1,d=null,h=0,f=null;function p(t){let i=!0===t.isScene?t.background:null;if(i&&i.isTexture){i=(t.backgroundBlurriness>0?n:e).get(i)}return i}function m(e,n){e.getRGB(iZ,lj(t)),i.buffers.color.setClear(iZ.r,iZ.g,iZ.b,n,s)}return{getClearColor:function(){return a},setClearColor:function(t,e=1){a.set(t),u=e,m(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(t){u=t,m(a,u)},render:function(e){let n=!1;const r=p(e);null===r?m(a,u):r&&r.isColor&&(m(r,1),n=!0);const o=t.xr.getEnvironmentBlendMode();"additive"===o?i.buffers.color.setClear(0,0,0,1,s):"alpha-blend"===o&&i.buffers.color.setClear(0,0,0,0,s),(t.autoClear||n)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))},addToRenderList:function(e,n){const i=p(n);i&&(i.isCubeTexture||i.mapping===AH)?(void 0===c&&(c=new ij(new oj(1,1,1),new uj({name:"BackgroundCubeMaterial",uniforms:sj(nZ.backgroundCube.uniforms),vertexShader:nZ.backgroundCube.vertexShader,fragmentShader:nZ.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),rZ.copy(n.backgroundRotation),rZ.x*=-1,rZ.y*=-1,rZ.z*=-1,i.isCubeTexture&&!1===i.isRenderTargetTexture&&(rZ.y*=-1,rZ.z*=-1),c.material.uniforms.envMap.value=i,c.material.uniforms.flipEnvMap.value=i.isCubeTexture&&!1===i.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(oZ.makeRotationFromEuler(rZ)),c.material.toneMapped=FV.getTransfer(i.colorSpace)!==Qz,d===i&&h===i.version&&f===t.toneMapping||(c.material.needsUpdate=!0,d=i,h=i.version,f=t.toneMapping),c.layers.enableAll(),e.unshift(c,c.geometry,c.material,0,0,null)):i&&i.isTexture&&(void 0===l&&(l=new ij(new Tq(2,2),new uj({name:"BackgroundMaterial",uniforms:sj(nZ.background.uniforms),vertexShader:nZ.background.vertexShader,fragmentShader:nZ.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=i,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=FV.getTransfer(i.colorSpace)!==Qz,!0===i.matrixAutoUpdate&&i.updateMatrix(),l.material.uniforms.uvTransform.value.copy(i.matrix),d===i&&h===i.version&&f===t.toneMapping||(l.material.needsUpdate=!0,d=i,h=i.version,f=t.toneMapping),l.layers.enableAll(),e.unshift(l,l.geometry,l.material,0,0,null))},dispose:function(){void 0!==c&&(c.geometry.dispose(),c.material.dispose(),c=void 0),void 0!==l&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}}}function aZ(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=c(null);let o=r,s=!1;function a(e){return t.bindVertexArray(e)}function l(e){return t.deleteVertexArray(e)}function c(t){const e=[],i=[],r=[];for(let o=0;o<n;o++)e[o]=0,i[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:i,attributeDivisors:r,object:t,attributes:{},index:null}}function u(){const t=o.newAttributes;for(let e=0,n=t.length;e<n;e++)t[e]=0}function d(t){h(t,0)}function h(e,n){const i=o.newAttributes,r=o.enabledAttributes,s=o.attributeDivisors;i[e]=1,0===r[e]&&(t.enableVertexAttribArray(e),r[e]=1),s[e]!==n&&(t.vertexAttribDivisor(e,n),s[e]=n)}function f(){const e=o.newAttributes,n=o.enabledAttributes;for(let i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function p(e,n,i,r,o,s,a){!0===a?t.vertexAttribIPointer(e,n,i,o,s):t.vertexAttribPointer(e,n,i,r,o,s)}function m(){v(),s=!0,o!==r&&(o=r,a(o.object))}function v(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:function(n,r,l,m,v){let g=!1;const y=function(e,n,r){const o=!0===r.wireframe;let s=i[e.id];void 0===s&&(s={},i[e.id]=s);let a=s[n.id];void 0===a&&(a={},s[n.id]=a);let l=a[o];void 0===l&&(l=c(t.createVertexArray()),a[o]=l);return l}(m,l,r);o!==y&&(o=y,a(o.object)),g=function(t,e,n,i){const r=o.attributes,s=e.attributes;let a=0;const l=n.getAttributes();for(const o in l){if(l[o].location>=0){const e=r[o];let n=s[o];if(void 0===n&&("instanceMatrix"===o&&t.instanceMatrix&&(n=t.instanceMatrix),"instanceColor"===o&&t.instanceColor&&(n=t.instanceColor)),void 0===e)return!0;if(e.attribute!==n)return!0;if(n&&e.data!==n.data)return!0;a++}}return o.attributesNum!==a||o.index!==i}(n,m,l,v),g&&function(t,e,n,i){const r={},s=e.attributes;let a=0;const l=n.getAttributes();for(const o in l){if(l[o].location>=0){let e=s[o];void 0===e&&("instanceMatrix"===o&&t.instanceMatrix&&(e=t.instanceMatrix),"instanceColor"===o&&t.instanceColor&&(e=t.instanceColor));const n={};n.attribute=e,e&&e.data&&(n.data=e.data),r[o]=n,a++}}o.attributes=r,o.attributesNum=a,o.index=i}(n,m,l,v),null!==v&&e.update(v,t.ELEMENT_ARRAY_BUFFER),(g||s)&&(s=!1,function(n,i,r,o){u();const s=o.attributes,a=r.getAttributes(),l=i.defaultAttributeValues;for(const c in a){const i=a[c];if(i.location>=0){let r=s[c];if(void 0===r&&("instanceMatrix"===c&&n.instanceMatrix&&(r=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(r=n.instanceColor)),void 0!==r){const s=r.normalized,a=r.itemSize,l=e.get(r);if(void 0===l)continue;const c=l.buffer,u=l.type,f=l.bytesPerElement,m=u===t.INT||u===t.UNSIGNED_INT||r.gpuType===$H;if(r.isInterleavedBufferAttribute){const e=r.data,l=e.stride,v=r.offset;if(e.isInstancedInterleavedBuffer){for(let t=0;t<i.locationSize;t++)h(i.location+t,e.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o.Ke&&(o.Ke=e.meshPerAttribute*e.count)}else for(let t=0;t<i.locationSize;t++)d(i.location+t);t.bindBuffer(t.ARRAY_BUFFER,c);for(let t=0;t<i.locationSize;t++)p(i.location+t,a/i.locationSize,u,s,l*f,(v+a/i.locationSize*t)*f,m)}else{if(r.isInstancedBufferAttribute){for(let t=0;t<i.locationSize;t++)h(i.location+t,r.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o.Ke&&(o.Ke=r.meshPerAttribute*r.count)}else for(let t=0;t<i.locationSize;t++)d(i.location+t);t.bindBuffer(t.ARRAY_BUFFER,c);for(let t=0;t<i.locationSize;t++)p(i.location+t,a/i.locationSize,u,s,a*f,a/i.locationSize*t*f,m)}}else if(void 0!==l){const e=l[c];if(void 0!==e)switch(e.length){case 2:t.vertexAttrib2fv(i.location,e);break;case 3:t.vertexAttrib3fv(i.location,e);break;case 4:t.vertexAttrib4fv(i.location,e);break;default:t.vertexAttrib1fv(i.location,e)}}}}f()}(n,r,l,m),null!==v&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(v).buffer))},reset:m,resetDefaultState:v,dispose:function(){m();for(const t in i){const e=i[t];for(const t in e){const n=e[t];for(const t in n)l(n[t].object),delete n[t];delete e[t]}delete i[t]}},releaseStatesOfGeometry:function(t){if(void 0===i[t.id])return;const e=i[t.id];for(const n in e){const t=e[n];for(const e in t)l(t[e].object),delete t[e];delete e[n]}delete i[t.id]},releaseStatesOfProgram:function(t){for(const e in i){const n=i[e];if(void 0===n[t.id])continue;const r=n[t.id];for(const t in r)l(r[t].object),delete r[t];delete n[t.id]}},initAttributes:u,enableAttribute:d,disableUnusedAttributes:f}}function lZ(t,e,n){let i;function r(e,r,o){0!==o&&(t.drawArraysInstanced(i,e,r,o),n.update(r,i,o))}this.setMode=function(t){i=t},this.render=function(e,r){t.drawArrays(i,e,r),n.update(r,i,1)},this.renderInstances=r,this.renderMultiDraw=function(t,r,o){if(0===o)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,t,0,r,0,o);let s=0;for(let e=0;e<o;e++)s+=r[e];n.update(s,i,1)},this.renderMultiDrawInstances=function(t,o,s,a){if(0===s)return;const l=e.get("WEBGL_multi_draw");if(null===l)for(let e=0;e<t.length;e++)r(t[e],o[e],a[e]);else{l.multiDrawArraysInstancedWEBGL(i,t,0,o,0,a,0,s);let e=0;for(let t=0;t<s;t++)e+=o[t]*a[t];n.update(e,i,1)}}}function cZ(t,e,n,i){let r;function o(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let s=void 0!==n.precision?n.precision:"highp";const a=o(s);a!==s&&(s=a);const l=!0===n.logarithmicDepthBuffer,c=!0===n.reverseDepthBuffer&&e.has("EXT_clip_control"),u=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===e.has("EXT_texture_filter_anisotropic")){const n=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:o,textureFormatReadable:function(e){return e===QH||i.convert(e)===t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const r=n===WH&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(n!==UH&&i.convert(n)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==jH&&!r)},precision:s,logarithmicDepthBuffer:l,reverseDepthBuffer:c,maxTextures:u,maxVertexTextures:d,maxTextureSize:t.getParameter(t.MAX_TEXTURE_SIZE),maxCubemapSize:t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:t.getParameter(t.MAX_VERTEX_ATTRIBS),maxVertexUniforms:t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:t.getParameter(t.MAX_VARYING_VECTORS),maxFragmentUniforms:t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:d>0,maxSamples:t.getParameter(t.MAX_SAMPLES)}}function uZ(t){const e=this;let n=null,i=0,r=!1,o=!1;const s=new _W,a=new kV,l={value:null,needsUpdate:!1};function c(t,n,i,r){const o=null!==t?t.length:0;let c=null;if(0!==o){if(c=l.value,!0!==r||null===c){const e=i+4*o,r=n.matrixWorldInverse;a.getNormalMatrix(r),(null===c||c.length<e)&&(c=new Float32Array(e));for(let n=0,l=i;n!==o;++n,l+=4)s.copy(t[n]).applyMatrix4(r,a),s.normal.toArray(c,l),c[l+3]=s.constant}l.value=c,l.needsUpdate=!0}return e.numPlanes=o,e.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e){const n=0!==t.length||e||0!==i||r;return r=e,i=t.length,n},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(t,e){n=c(t,e,0)},this.setState=function(s,a,u){const d=s.clippingPlanes,h=s.clipIntersection,f=s.clipShadows,p=t.get(s);if(!r||null===d||0===d.length||o&&!f)o?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=i>0);e.numPlanes=i,e.numIntersection=0}();else{const t=o?0:i,e=4*t;let r=p.clippingState||null;l.value=r,r=c(d,a,e,u);for(let i=0;i!==e;++i)r[i]=n[i];p.clippingState=r,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=t}}}function dZ(t){let e=new WeakMap;function n(t,e){return e===EH?t.mapping=CH:e===TH&&(t.mapping=kH),t}function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const o=r.mapping;if(o===EH||o===TH){if(e.has(r)){return n(e.get(r).texture,r.mapping)}{const o=r.image;if(o&&o.height>0){const s=new bj(o.height);return s.fromEquirectangularTexture(t,r),e.set(r,s),r.addEventListener("dispose",i),n(s.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}const hZ=[.125,.215,.35,.446,.526,.582],fZ=20,pZ=new BY,mZ=new xG;let vZ=null,gZ=0,yZ=0,bZ=!1;const wZ=(1+Math.sqrt(5))/2,_Z=1/wZ,xZ=[new t$(-wZ,_Z,0),new t$(wZ,_Z,0),new t$(-_Z,0,wZ),new t$(_Z,0,wZ),new t$(0,wZ,-_Z),new t$(0,wZ,_Z),new t$(-1,1,-1),new t$(1,1,-1),new t$(-1,1,1),new t$(1,1,1)],SZ=new t$;class MZ{constructor(t){this.sr=t,this.ar=null,this.lr=0,this.cr=0,this.ur=[],this.dr=[],this.hr=[],this.pr=null,this.mr=null,this.vr=null,this.gr(this.pr)}fromScene(t,e=0,n=.1,i=100,r={}){const{size:o=256,position:s=SZ}=r;vZ=this.sr.getRenderTarget(),gZ=this.sr.getActiveCubeFace(),yZ=this.sr.getActiveMipmapLevel(),bZ=this.sr.xr.enabled,this.sr.xr.enabled=!1,this.yr(o);const a=this.br();return a.depthBuffer=!0,this.wr(t,n,i,a,s),e>0&&this._r(a,0,0,e),this.Sr(a),this.Mr(a),a}fromEquirectangular(t,e=null){return this.Cr(t,e)}fromCubemap(t,e=null){return this.Cr(t,e)}compileCubemapShader(){null===this.mr&&(this.mr=TZ(),this.gr(this.mr))}compileEquirectangularShader(){null===this.vr&&(this.vr=EZ(),this.gr(this.vr))}dispose(){this.kr(),null!==this.mr&&this.mr.dispose(),null!==this.vr&&this.vr.dispose()}yr(t){this.lr=Math.floor(Math.log2(t)),this.cr=Math.pow(2,this.lr)}kr(){null!==this.pr&&this.pr.dispose(),null!==this.ar&&this.ar.dispose();for(let t=0;t<this.ur.length;t++)this.ur[t].dispose()}Mr(t){this.sr.setRenderTarget(vZ,gZ,yZ),this.sr.xr.enabled=bZ,t.scissorTest=!1,kZ(t,0,0,t.width,t.height)}Cr(t,e){t.mapping===CH||t.mapping===kH?this.yr(0===t.image.length?16:t.image[0].width||t.image[0].image.width):this.yr(t.image.width/4),vZ=this.sr.getRenderTarget(),gZ=this.sr.getActiveCubeFace(),yZ=this.sr.getActiveMipmapLevel(),bZ=this.sr.xr.enabled,this.sr.xr.enabled=!1;const n=e||this.br();return this.Er(t,n),this.Sr(n),this.Mr(n),n}br(){const t=3*Math.max(this.cr,112),e=4*this.cr,n={magFilter:PH,minFilter:PH,generateMipmaps:!1,type:WH,format:QH,colorSpace:Zz,depthBuffer:!1},i=CZ(t,e,n);if(null===this.ar||this.ar.width!==t||this.ar.height!==e){null!==this.ar&&this.kr(),this.ar=CZ(t,e,n);const{lr:i}=this;({sizeLods:this.dr,lodPlanes:this.ur,sigmas:this.hr}=function(t){const e=[],n=[],i=[];let r=t;const o=t-4+1+hZ.length;for(let s=0;s<o;s++){const o=Math.pow(2,r);n.push(o);let a=1/o;s>t-4?a=hZ[s-t+4-1]:0===s&&(a=0),i.push(a);const l=1/(o-2),c=-l,u=1+l,d=[c,c,u,c,u,u,c,c,u,u,c,u],h=6,f=6,p=3,m=2,v=1,g=new Float32Array(p*f*h),y=new Float32Array(m*f*h),b=new Float32Array(v*f*h);for(let t=0;t<h;t++){const e=t%3*2/3-1,n=t>2?0:-1,i=[e,n,0,e+2/3,n,0,e+2/3,n+1,0,e,n,0,e+2/3,n+1,0,e,n+1,0];g.set(i,p*f*t),y.set(d,m*f*t);const r=[t,t,t,t,t,t];b.set(r,v*f*t)}const w=new jG;w.setAttribute("position",new LG(g,p)),w.setAttribute("uv",new LG(y,m)),w.setAttribute("faceIndex",new LG(b,v)),e.push(w),r>4&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}(i)),this.pr=function(t,e,n){const i=new Float32Array(fZ),r=new t$(0,1,0),o=new uj({name:"SphericalGaussianBlur",defines:{n:fZ,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:AZ(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return o}(i,t,e)}return i}gr(t){const e=new ij(this.ur[0],t);this.sr.compile(e,pZ)}wr(t,e,n,i,r){const o=new mj(90,1,e,n),s=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],l=this.sr,c=l.autoClear,u=l.toneMapping;l.getClearColor(mZ),l.toneMapping=0,l.autoClear=!1;const d=new kG({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),h=new ij(new oj,d);let f=!1;const p=t.background;p?p.isColor&&(d.color.copy(p),t.background=null,f=!0):(d.color.copy(mZ),f=!0);for(let m=0;m<6;m++){const e=m%3;0===e?(o.up.set(0,s[m],0),o.position.set(r.x,r.y,r.z),o.lookAt(r.x+a[m],r.y,r.z)):1===e?(o.up.set(0,0,s[m]),o.position.set(r.x,r.y,r.z),o.lookAt(r.x,r.y+a[m],r.z)):(o.up.set(0,s[m],0),o.position.set(r.x,r.y,r.z),o.lookAt(r.x,r.y,r.z+a[m]));const n=this.cr;kZ(i,e*n,m>2?n:0,n,n),l.setRenderTarget(i),f&&l.render(h,o),l.render(t,o)}h.geometry.dispose(),h.material.dispose(),l.toneMapping=u,l.autoClear=c,t.background=p}Er(t,e){const n=this.sr,i=t.mapping===CH||t.mapping===kH;i?(null===this.mr&&(this.mr=TZ()),this.mr.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this.vr&&(this.vr=EZ());const r=i?this.mr:this.vr,o=new ij(this.ur[0],r);r.uniforms.envMap.value=t;const s=this.cr;kZ(e,0,0,3*s,2*s),n.setRenderTarget(e),n.render(o,pZ)}Sr(t){const e=this.sr,n=e.autoClear;e.autoClear=!1;const i=this.ur.length;for(let r=1;r<i;r++){const e=Math.sqrt(this.hr[r]*this.hr[r]-this.hr[r-1]*this.hr[r-1]),n=xZ[(i-r-1)%xZ.length];this._r(t,r-1,r,e,n)}e.autoClear=n}_r(t,e,n,i,r){const o=this.ar;this.Tr(t,o,e,n,i,"latitudinal",r),this.Tr(o,t,n,n,i,"longitudinal",r)}Tr(t,e,n,i,r,o,s){const a=this.sr,l=this.pr,c=new ij(this.ur[i],l),u=l.uniforms,d=this.dr[n]-1,h=isFinite(r)?Math.PI/(2*d):2*Math.PI/39,f=r/h,p=isFinite(r)?1+Math.floor(3*f):fZ,m=[];let v=0;for(let b=0;b<fZ;++b){const t=b/f,e=Math.exp(-t*t/2);m.push(e),0===b?v+=e:b<p&&(v+=2*e)}for(let b=0;b<m.length;b++)m[b]=m[b]/v;u.envMap.value=t.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===o,s&&(u.poleAxis.value=s);const{lr:g}=this;u.dTheta.value=h,u.mipInt.value=g-n;const y=this.dr[i];kZ(e,3*y*(i>g-4?i-g+4:0),4*(this.cr-y),3*y,2*y),a.setRenderTarget(e),a.render(c,pZ)}}function CZ(t,e,n){const i=new XV(t,e,n);return i.texture.mapping=AH,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function kZ(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function EZ(){return new uj({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:AZ(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function TZ(){return new uj({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:AZ(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function AZ(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function NZ(t){let e=new WeakMap,n=null;function i(t){const n=t.target;n.removeEventListener("dispose",i);const r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){const o=r.mapping,s=o===EH||o===TH,a=o===CH||o===kH;if(s||a){let o=e.get(r);const l=void 0!==o?o.texture.pmremVersion:0;if(r.isRenderTargetTexture&&r.pmremVersion!==l)return null===n&&(n=new MZ(t)),o=s?n.fromEquirectangular(r,o):n.fromCubemap(r,o),o.texture.pmremVersion=r.pmremVersion,e.set(r,o),o.texture;if(void 0!==o)return o.texture;{const l=r.image;return s&&l&&l.height>0||a&&l&&function(t){let e=0;const n=6;for(let i=0;i<n;i++)void 0!==t[i]&&e++;return e===n}(l)?(null===n&&(n=new MZ(t)),o=s?n.fromEquirectangular(r):n.fromCubemap(r),o.texture.pmremVersion=r.pmremVersion,e.set(r,o),r.addEventListener("dispose",i),o.texture):null}}}return r},dispose:function(){e=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function IZ(t){const e={};function n(n){if(void 0!==e[n])return e[n];let i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,i}return{has:function(t){return null!==n(t)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(t){const e=n(t);return null===e&&LV("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function RZ(t,e,n,i){const r={},o=new WeakMap;function s(t){const a=t.target;null!==a.index&&e.remove(a.index);for(const n in a.attributes)e.remove(a.attributes[n]);a.removeEventListener("dispose",s),delete r[a.id];const l=o.get(a);l&&(e.remove(l),o.delete(a)),i.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a.Ke,n.memory.geometries--}function a(t){const n=[],i=t.index,r=t.attributes.position;let s=0;if(null!==i){const t=i.array;s=i.version;for(let e=0,i=t.length;e<i;e+=3){const i=t[e+0],r=t[e+1],o=t[e+2];n.push(i,r,r,o,o,i)}}else{if(void 0===r)return;{const t=r.array;s=r.version;for(let e=0,i=t.length/3-1;e<i;e+=3){const t=e+0,i=e+1,r=e+2;n.push(t,i,i,r,r,t)}}}const a=new(TV(n)?PG:DG)(n,1);a.version=s;const l=o.get(t);l&&e.remove(l),o.set(t,a)}return{get:function(t,e){return!0===r[e.id]||(e.addEventListener("dispose",s),r[e.id]=!0,n.memory.geometries++),e},update:function(n){const i=n.attributes;for(const r in i)e.update(i[r],t.ARRAY_BUFFER)},getWireframeAttribute:function(t){const e=o.get(t);if(e){const n=t.index;null!==n&&e.version<n.version&&a(t)}else a(t);return o.get(t)}}}function OZ(t,e,n){let i,r,o;function s(e,s,a){0!==a&&(t.drawElementsInstanced(i,s,r,e*o,a),n.update(s,i,a))}this.setMode=function(t){i=t},this.setIndex=function(t){r=t.type,o=t.bytesPerElement},this.render=function(e,s){t.drawElements(i,s,r,e*o),n.update(s,i,1)},this.renderInstances=s,this.renderMultiDraw=function(t,o,s){if(0===s)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,o,0,r,t,0,s);let a=0;for(let e=0;e<s;e++)a+=o[e];n.update(a,i,1)},this.renderMultiDrawInstances=function(t,a,l,c){if(0===l)return;const u=e.get("WEBGL_multi_draw");if(null===u)for(let e=0;e<t.length;e++)s(t[e]/o,a[e],c[e]);else{u.multiDrawElementsInstancedWEBGL(i,a,0,r,t,0,c,0,l);let e=0;for(let t=0;t<l;t++)e+=a[t]*c[t];n.update(e,i,1)}}}function LZ(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(n,i,r){switch(e.calls++,i){case t.TRIANGLES:e.triangles+=r*(n/3);break;case t.LINES:e.lines+=r*(n/2);break;case t.LINE_STRIP:e.lines+=r*(n-1);break;case t.LINE_LOOP:e.lines+=r*n;break;case t.POINTS:e.points+=r*n}}}}function DZ(t,e,n){const i=new WeakMap,r=new qV;return{update:function(o,s,a){const l=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,u=void 0!==c?c.length:0;let d=i.get(s);if(void 0===d||d.count!==u){let t=function(){g.dispose(),i.delete(s),s.removeEventListener("dispose",t)};void 0!==d&&d.texture.dispose();const n=void 0!==s.morphAttributes.position,o=void 0!==s.morphAttributes.normal,a=void 0!==s.morphAttributes.color,l=s.morphAttributes.position||[],c=s.morphAttributes.normal||[],h=s.morphAttributes.color||[];let f=0;!0===n&&(f=1),!0===o&&(f=2),!0===a&&(f=3);let p=s.attributes.position.count*f,m=1;p>e.maxTextureSize&&(m=Math.ceil(p/e.maxTextureSize),p=e.maxTextureSize);const v=new Float32Array(p*m*4*u),g=new ZV(v,p,m,u);g.type=jH,g.needsUpdate=!0;const y=4*f;for(let e=0;e<u;e++){const t=l[e],i=c[e],s=h[e],u=p*m*4*e;for(let e=0;e<t.count;e++){const l=e*y;!0===n&&(r.fromBufferAttribute(t,e),v[u+l+0]=r.x,v[u+l+1]=r.y,v[u+l+2]=r.z,v[u+l+3]=0),!0===o&&(r.fromBufferAttribute(i,e),v[u+l+4]=r.x,v[u+l+5]=r.y,v[u+l+6]=r.z,v[u+l+7]=0),!0===a&&(r.fromBufferAttribute(s,e),v[u+l+8]=r.x,v[u+l+9]=r.y,v[u+l+10]=r.z,v[u+l+11]=4===s.itemSize?r.w:1)}}d={count:u,texture:g,size:new CV(p,m)},i.set(s,d),s.addEventListener("dispose",t)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)a.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let e=0;for(let t=0;t<l.length;t++)e+=l[t];const n=s.morphTargetsRelative?1:1-e;a.getUniforms().setValue(t,"morphTargetBaseInfluence",n),a.getUniforms().setValue(t,"morphTargetInfluences",l)}a.getUniforms().setValue(t,"morphTargetsTexture",d.texture,n),a.getUniforms().setValue(t,"morphTargetsTextureSize",d.size)}}}function PZ(t,e,n,i){let r=new WeakMap;function o(t){const e=t.target;e.removeEventListener("dispose",o),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(s){const a=i.render.frame,l=s.geometry,c=e.get(s,l);if(r.get(c)!==a&&(e.update(c),r.set(c,a)),s.isInstancedMesh&&(!1===s.hasEventListener("dispose",o)&&s.addEventListener("dispose",o),r.get(s)!==a&&(n.update(s.instanceMatrix,t.ARRAY_BUFFER),null!==s.instanceColor&&n.update(s.instanceColor,t.ARRAY_BUFFER),r.set(s,a))),s.isSkinnedMesh){const t=s.skeleton;r.get(t)!==a&&(t.update(),r.set(t,a))}return c},dispose:function(){r=new WeakMap}}}const BZ=new KV,FZ=new hK(1,1),UZ=new ZV,HZ=new JV,zZ=new yj,VZ=[],$Z=[],GZ=new Float32Array(16),jZ=new Float32Array(9),WZ=new Float32Array(4);function KZ(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let o=VZ[r];if(void 0===o&&(o=new Float32Array(r),VZ[r]=o),0!==e){i.toArray(o,0);for(let i=1,r=0;i!==e;++i)r+=n,t[i].toArray(o,r)}return o}function qZ(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function YZ(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function XZ(t,e){let n=$Z[e];void 0===n&&(n=new Int32Array(e),$Z[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function ZZ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function JZ(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qZ(n,e))return;t.uniform2fv(this.addr,e),YZ(n,e)}}function QZ(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(qZ(n,e))return;t.uniform3fv(this.addr,e),YZ(n,e)}}function tJ(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qZ(n,e))return;t.uniform4fv(this.addr,e),YZ(n,e)}}function eJ(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(qZ(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),YZ(n,e)}else{if(qZ(n,i))return;WZ.set(i),t.uniformMatrix2fv(this.addr,!1,WZ),YZ(n,i)}}function nJ(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(qZ(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),YZ(n,e)}else{if(qZ(n,i))return;jZ.set(i),t.uniformMatrix3fv(this.addr,!1,jZ),YZ(n,i)}}function iJ(t,e){const n=this.cache,i=e.elements;if(void 0===i){if(qZ(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),YZ(n,e)}else{if(qZ(n,i))return;GZ.set(i),t.uniformMatrix4fv(this.addr,!1,GZ),YZ(n,i)}}function rJ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function oJ(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qZ(n,e))return;t.uniform2iv(this.addr,e),YZ(n,e)}}function sJ(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(qZ(n,e))return;t.uniform3iv(this.addr,e),YZ(n,e)}}function aJ(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qZ(n,e))return;t.uniform4iv(this.addr,e),YZ(n,e)}}function lJ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function cJ(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(qZ(n,e))return;t.uniform2uiv(this.addr,e),YZ(n,e)}}function uJ(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(qZ(n,e))return;t.uniform3uiv(this.addr,e),YZ(n,e)}}function dJ(t,e){const n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(qZ(n,e))return;t.uniform4uiv(this.addr,e),YZ(n,e)}}function hJ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();let o;i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),this.type===t.SAMPLER_2D_SHADOW?(FZ.compareFunction=515,o=FZ):o=BZ,n.setTexture2D(e||o,r)}function fJ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||HZ,r)}function pJ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||zZ,r)}function mJ(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||UZ,r)}function vJ(t,e){t.uniform1fv(this.addr,e)}function gJ(t,e){const n=KZ(e,this.size,2);t.uniform2fv(this.addr,n)}function yJ(t,e){const n=KZ(e,this.size,3);t.uniform3fv(this.addr,n)}function bJ(t,e){const n=KZ(e,this.size,4);t.uniform4fv(this.addr,n)}function wJ(t,e){const n=KZ(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function _J(t,e){const n=KZ(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function xJ(t,e){const n=KZ(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function SJ(t,e){t.uniform1iv(this.addr,e)}function MJ(t,e){t.uniform2iv(this.addr,e)}function CJ(t,e){t.uniform3iv(this.addr,e)}function kJ(t,e){t.uniform4iv(this.addr,e)}function EJ(t,e){t.uniform1uiv(this.addr,e)}function TJ(t,e){t.uniform2uiv(this.addr,e)}function AJ(t,e){t.uniform3uiv(this.addr,e)}function NJ(t,e){t.uniform4uiv(this.addr,e)}function IJ(t,e,n){const i=this.cache,r=e.length,o=XZ(n,r);qZ(i,o)||(t.uniform1iv(this.addr,o),YZ(i,o));for(let s=0;s!==r;++s)n.setTexture2D(e[s]||BZ,o[s])}function RJ(t,e,n){const i=this.cache,r=e.length,o=XZ(n,r);qZ(i,o)||(t.uniform1iv(this.addr,o),YZ(i,o));for(let s=0;s!==r;++s)n.setTexture3D(e[s]||HZ,o[s])}function OJ(t,e,n){const i=this.cache,r=e.length,o=XZ(n,r);qZ(i,o)||(t.uniform1iv(this.addr,o),YZ(i,o));for(let s=0;s!==r;++s)n.setTextureCube(e[s]||zZ,o[s])}function LJ(t,e,n){const i=this.cache,r=e.length,o=XZ(n,r);qZ(i,o)||(t.uniform1iv(this.addr,o),YZ(i,o));for(let s=0;s!==r;++s)n.setTexture2DArray(e[s]||UZ,o[s])}class DJ{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.setValue=function(t){switch(t){case 5126:return ZZ;case 35664:return JZ;case 35665:return QZ;case 35666:return tJ;case 35674:return eJ;case 35675:return nJ;case 35676:return iJ;case 5124:case 35670:return rJ;case 35667:case 35671:return oJ;case 35668:case 35672:return sJ;case 35669:case 35673:return aJ;case 5125:return lJ;case 36294:return cJ;case 36295:return uJ;case 36296:return dJ;case 35678:case 36198:case 36298:case 36306:case 35682:return hJ;case 35679:case 36299:case 36307:return fJ;case 35680:case 36300:case 36308:case 36293:return pJ;case 36289:case 36303:case 36311:case 36292:return mJ}}(e.type)}}class PJ{constructor(t,e,n){this.id=t,this.addr=n,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=function(t){switch(t){case 5126:return vJ;case 35664:return gJ;case 35665:return yJ;case 35666:return bJ;case 35674:return wJ;case 35675:return _J;case 35676:return xJ;case 5124:case 35670:return SJ;case 35667:case 35671:return MJ;case 35668:case 35672:return CJ;case 35669:case 35673:return kJ;case 5125:return EJ;case 36294:return TJ;case 36295:return AJ;case 36296:return NJ;case 35678:case 36198:case 36298:case 36306:case 35682:return IJ;case 35679:case 36299:case 36307:return RJ;case 35680:case 36300:case 36308:case 36293:return OJ;case 36289:case 36303:case 36311:case 36292:return LJ}}(e.type)}}class BJ{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const o=i[r];o.setValue(t,e[o.id],n)}}}const FJ=/(\w+)(\])?(\[|\.)?/g;function UJ(t,e){t.seq.push(e),t.map[e.id]=e}function HJ(t,e,n){const i=t.name,r=i.length;for(FJ.lastIndex=0;;){const o=FJ.exec(i),s=FJ.lastIndex;let a=o[1];const l="]"===o[2],c=o[3];if(l&&(a|=0),void 0===c||"["===c&&s+2===r){UJ(n,void 0===c?new DJ(a,t,e):new PJ(a,t,e));break}{let t=n.map[a];void 0===t&&(t=new BJ(a),UJ(n,t)),n=t}}}class zJ{constructor(t,e){this.seq=[],this.map={};const n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let i=0;i<n;++i){const n=t.getActiveUniform(e,i);HJ(n,t.getUniformLocation(e,n.name),this)}}setValue(t,e,n,i){const r=this.map[e];void 0!==r&&r.setValue(t,n,i)}setOptional(t,e,n){const i=e[n];void 0!==i&&this.setValue(t,n,i)}static upload(t,e,n,i){for(let r=0,o=e.length;r!==o;++r){const o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}}static seqWithValue(t,e){const n=[];for(let i=0,r=t.length;i!==r;++i){const r=t[i];r.id in e&&n.push(r)}return n}}function VJ(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let $J=0;const GJ=new kV;function jJ(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&""===r)return"";const o=/ERROR: 0:(\d+)/.exec(r);if(o){const i=parseInt(o[1]);return n.toUpperCase()+"\n\n"+r+"\n\n"+function(t,e){const n=t.split("\n"),i=[],r=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=r;s<o;s++){const t=s+1;i.push(`${t===e?">":" "} ${t}: ${n[s]}`)}return i.join("\n")}(t.getShaderSource(e),i)}return r}function WJ(t,e){const n=function(t){FV.Re(GJ,FV.workingColorSpace,t);const e=`mat3( ${GJ.elements.map((t=>t.toFixed(4)))} )`;switch(FV.getTransfer(t)){case Jz:return[e,"LinearTransferOETF"];case Qz:return[e,"sRGBTransferOETF"];default:return[e,"LinearTransferOETF"]}}(e);return[`vec4 ${t}( vec4 value ) {`,`\treturn ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join("\n")}function KJ(t,e){let n;switch(e){case 1:default:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Cineon";break;case 4:n="ACESFilmic";break;case 6:n="AgX";break;case 7:n="Neutral";break;case 5:n="Custom"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const qJ=new t$;function YJ(){FV.getLuminanceCoefficients(qJ);return["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${qJ.x.toFixed(4)}, ${qJ.y.toFixed(4)}, ${qJ.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")}function XJ(t){return""!==t}function ZJ(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function JJ(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const QJ=/^[ \t]*#include +<([\w\d./]+)>/gm;function tQ(t){return t.replace(QJ,nQ)}const eQ=new Map;function nQ(t,e){let n=tZ[e];if(void 0===n){const t=eQ.get(e);if(void 0===t)throw new Error("Can not resolve #include <"+e+">");n=tZ[t]}return tQ(n)}const iQ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rQ(t){return t.replace(iQ,oQ)}function oQ(t,e,n,i){let r="";for(let o=parseInt(e);o<parseInt(n);o++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function sQ(t){let e=`precision ${t.precision} float;\n\tprecision ${t.precision} int;\n\tprecision ${t.precision} sampler2D;\n\tprecision ${t.precision} samplerCube;\n\tprecision ${t.precision} sampler3D;\n\tprecision ${t.precision} sampler2DArray;\n\tprecision ${t.precision} sampler2DShadow;\n\tprecision ${t.precision} samplerCubeShadow;\n\tprecision ${t.precision} sampler2DArrayShadow;\n\tprecision ${t.precision} isampler2D;\n\tprecision ${t.precision} isampler3D;\n\tprecision ${t.precision} isamplerCube;\n\tprecision ${t.precision} isampler2DArray;\n\tprecision ${t.precision} usampler2D;\n\tprecision ${t.precision} usampler3D;\n\tprecision ${t.precision} usamplerCube;\n\tprecision ${t.precision} usampler2DArray;\n\t`;return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function aQ(t,e,n,i){const r=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),c=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case CH:case kH:e="ENVMAP_TYPE_CUBE";break;case AH:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),u=function(t){let e="ENVMAP_MODE_REFLECTION";t.envMap&&t.envMapMode===kH&&(e="ENVMAP_MODE_REFRACTION");return e}(n),d=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),h=function(t){const e=t.envMapCubeUVHeight;if(null===e)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:i,maxMip:n}}(n),f=function(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(XJ).join("\n")}(n),p=function(t){const e=[];for(const n in t){const i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(o),m=r.createProgram();let v,g,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(XJ).join("\n"),v.length>0&&(v+="\n"),g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(XJ).join("\n"),g.length>0&&(g+="\n")):(v=[sQ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(XJ).join("\n"),g=[sQ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?tZ.tonemapping_pars_fragment:"",0!==n.toneMapping?KJ("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",tZ.colorspace_pars_fragment,WJ("linearToOutputTexel",n.outputColorSpace),YJ(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(XJ).join("\n")),s=tQ(s),s=ZJ(s,n),s=JJ(s,n),a=tQ(a),a=ZJ(a,n),a=JJ(a,n),s=rQ(s),a=rQ(a),!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",v=[f,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,g=["#define varying in",n.glslVersion===uV?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===uV?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const b=y+v+s,w=y+g+a,_=VJ(r,r.VERTEX_SHADER,b),x=VJ(r,r.FRAGMENT_SHADER,w);function S(e){if(t.debug.checkShaderErrors){const n=r.getProgramInfoLog(m).trim(),i=r.getShaderInfoLog(_).trim(),o=r.getShaderInfoLog(x).trim();let s=!0,a=!0;if(!1===r.getProgramParameter(m,r.LINK_STATUS))if(s=!1,"function"==typeof t.debug.onShaderError)t.debug.onShaderError(r,m,_,x);else{jJ(r,_,"vertex"),jJ(r,x,"fragment")}else""!==n||""!==i&&""!==o||(a=!1);a&&(e.diagnostics={runnable:s,programLog:n,vertexShader:{log:i,prefix:v},fragmentShader:{log:o,prefix:g}})}r.deleteShader(_),r.deleteShader(x),M=new zJ(r,m),C=function(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const i=t.getActiveAttrib(e,r),o=i.name;let s=1;i.type===t.FLOAT_MAT2&&(s=2),i.type===t.FLOAT_MAT3&&(s=3),i.type===t.FLOAT_MAT4&&(s=4),n[o]={type:i.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}(r,m)}let M,C;r.attachShader(m,_),r.attachShader(m,x),void 0!==n.index0AttributeName?r.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),this.getUniforms=function(){return void 0===M&&S(this),M},this.getAttributes=function(){return void 0===C&&S(this),C};let k=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===k&&(k=r.getProgramParameter(m,37297)),k},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=$J++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=_,this.fragmentShader=x,this}let lQ=0;class cQ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,n=t.fragmentShader,i=this.Ar(e),r=this.Ar(n),o=this.Nr(t);return!1===o.has(i)&&(o.add(i),i.usedTimes++),!1===o.has(r)&&(o.add(r),r.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const n of e)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this.Ar(t.vertexShader).id}getFragmentShaderID(t){return this.Ar(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}Nr(t){const e=this.materialCache;let n=e.get(t);return void 0===n&&(n=new Set,e.set(t,n)),n}Ar(t){const e=this.shaderCache;let n=e.get(t);return void 0===n&&(n=new uQ(t),e.set(t,n)),n}}class uQ{constructor(t){this.id=lQ++,this.code=t,this.usedTimes=0}}function dQ(t,e,n,i,r,o,s){const a=new z$,l=new cQ,c=new Set,u=[],d=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(t){return c.add(t),0===t?"uv":`uv${t}`}return{getParameters:function(o,a,u,v,g){const y=v.fog,b=g.geometry,w=o.isMeshStandardMaterial?v.environment:null,_=(o.isMeshStandardMaterial?n:e).get(o.envMap||w),x=_&&_.mapping===AH?_.image.height:null,S=p[o.type];null!==o.precision&&(f=r.getMaxPrecision(o.precision),o.precision);const M=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,C=void 0!==M?M.length:0;let k,E,T,A,N=0;if(void 0!==b.morphAttributes.position&&(N=1),void 0!==b.morphAttributes.normal&&(N=2),void 0!==b.morphAttributes.color&&(N=3),S){const t=nZ[S];k=t.vertexShader,E=t.fragmentShader}else k=o.vertexShader,E=o.fragmentShader,l.update(o),T=l.getVertexShaderID(o),A=l.getFragmentShaderID(o);const I=t.getRenderTarget(),R=t.state.buffers.depth.getReversed(),O=!0===g.isInstancedMesh,L=!0===g.isBatchedMesh,D=!!o.map,P=!!o.matcap,B=!!_,F=!!o.aoMap,U=!!o.lightMap,H=!!o.bumpMap,z=!!o.normalMap,V=!!o.displacementMap,$=!!o.emissiveMap,G=!!o.metalnessMap,j=!!o.roughnessMap,W=o.anisotropy>0,K=o.clearcoat>0,q=o.dispersion>0,Y=o.iridescence>0,X=o.sheen>0,Z=o.transmission>0,J=W&&!!o.anisotropyMap,Q=K&&!!o.clearcoatMap,tt=K&&!!o.clearcoatNormalMap,et=K&&!!o.clearcoatRoughnessMap,nt=Y&&!!o.iridescenceMap,it=Y&&!!o.iridescenceThicknessMap,rt=X&&!!o.sheenColorMap,ot=X&&!!o.sheenRoughnessMap,st=!!o.specularMap,at=!!o.specularColorMap,lt=!!o.specularIntensityMap,ct=Z&&!!o.transmissionMap,ut=Z&&!!o.thicknessMap,dt=!!o.gradientMap,ht=!!o.alphaMap,ft=o.alphaTest>0,pt=!!o.alphaHash,mt=!!o.extensions;let vt=0;o.toneMapped&&(null!==I&&!0!==I.isXRRenderTarget||(vt=t.toneMapping));const gt={shaderID:S,shaderType:o.type,shaderName:o.name,vertexShader:k,fragmentShader:E,defines:o.defines,customVertexShaderID:T,customFragmentShaderID:A,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:f,batching:L,batchingColor:L&&null!==g.Qe,instancing:O,instancingColor:O&&null!==g.instanceColor,instancingMorph:O&&null!==g.morphTexture,supportsVertexTextures:h,outputColorSpace:null===I?t.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:Zz,alphaToCoverage:!!o.alphaToCoverage,map:D,matcap:P,envMap:B,envMapMode:B&&_.mapping,envMapCubeUVHeight:x,aoMap:F,lightMap:U,bumpMap:H,normalMap:z,displacementMap:h&&V,emissiveMap:$,normalMapObjectSpace:z&&1===o.normalMapType,normalMapTangentSpace:z&&0===o.normalMapType,metalnessMap:G,roughnessMap:j,anisotropy:W,anisotropyMap:J,clearcoat:K,clearcoatMap:Q,clearcoatNormalMap:tt,clearcoatRoughnessMap:et,dispersion:q,iridescence:Y,iridescenceMap:nt,iridescenceThicknessMap:it,sheen:X,sheenColorMap:rt,sheenRoughnessMap:ot,specularMap:st,specularColorMap:at,specularIntensityMap:lt,transmission:Z,transmissionMap:ct,thicknessMap:ut,gradientMap:dt,opaque:!1===o.transparent&&1===o.blending&&!1===o.alphaToCoverage,alphaMap:ht,alphaTest:ft,alphaHash:pt,combine:o.combine,mapUv:D&&m(o.map.channel),aoMapUv:F&&m(o.aoMap.channel),lightMapUv:U&&m(o.lightMap.channel),bumpMapUv:H&&m(o.bumpMap.channel),normalMapUv:z&&m(o.normalMap.channel),displacementMapUv:V&&m(o.displacementMap.channel),emissiveMapUv:$&&m(o.emissiveMap.channel),metalnessMapUv:G&&m(o.metalnessMap.channel),roughnessMapUv:j&&m(o.roughnessMap.channel),anisotropyMapUv:J&&m(o.anisotropyMap.channel),clearcoatMapUv:Q&&m(o.clearcoatMap.channel),clearcoatNormalMapUv:tt&&m(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:et&&m(o.clearcoatRoughnessMap.channel),iridescenceMapUv:nt&&m(o.iridescenceMap.channel),iridescenceThicknessMapUv:it&&m(o.iridescenceThicknessMap.channel),sheenColorMapUv:rt&&m(o.sheenColorMap.channel),sheenRoughnessMapUv:ot&&m(o.sheenRoughnessMap.channel),specularMapUv:st&&m(o.specularMap.channel),specularColorMapUv:at&&m(o.specularColorMap.channel),specularIntensityMapUv:lt&&m(o.specularIntensityMap.channel),transmissionMapUv:ct&&m(o.transmissionMap.channel),thicknessMapUv:ut&&m(o.thicknessMap.channel),alphaMapUv:ht&&m(o.alphaMap.channel),vertexTangents:!!b.attributes.tangent&&(z||W),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,pointsUvs:!0===g.isPoints&&!!b.attributes.uv&&(D||ht),fog:!!y,useFog:!0===o.fog,fogExp2:!!y&&y.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:d,reverseDepthBuffer:R,skinning:!0===g.isSkinnedMesh,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:C,morphTextureStride:N,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numSpotLightMaps:a.spotLightMap.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numSpotLightShadowsWithMaps:a.numSpotLightShadowsWithMaps,numLightProbes:a.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:o.dithering,shadowMapEnabled:t.shadowMap.enabled&&u.length>0,shadowMapType:t.shadowMap.type,toneMapping:vt,decodeVideoTexture:D&&!0===o.map.isVideoTexture&&FV.getTransfer(o.map.colorSpace)===Qz,decodeVideoTextureEmissive:$&&!0===o.emissiveMap.isVideoTexture&&FV.getTransfer(o.emissiveMap.colorSpace)===Qz,premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:1===o.side,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionClipCullDistance:mt&&!0===o.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(mt&&!0===o.extensions.multiDraw||L)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:o.customProgramCacheKey()};return gt.vertexUv1s=c.has(1),gt.vertexUv2s=c.has(2),gt.vertexUv3s=c.has(3),c.clear(),gt},getProgramCacheKey:function(e){const n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.customVertexShaderID),n.push(e.customFragmentShaderID)),void 0!==e.defines)for(const t in e.defines)n.push(t),n.push(e.defines[t]);return!1===e.isRawShaderMaterial&&(!function(t,e){t.push(e.precision),t.push(e.outputColorSpace),t.push(e.envMapMode),t.push(e.envMapCubeUVHeight),t.push(e.mapUv),t.push(e.alphaMapUv),t.push(e.lightMapUv),t.push(e.aoMapUv),t.push(e.bumpMapUv),t.push(e.normalMapUv),t.push(e.displacementMapUv),t.push(e.emissiveMapUv),t.push(e.metalnessMapUv),t.push(e.roughnessMapUv),t.push(e.anisotropyMapUv),t.push(e.clearcoatMapUv),t.push(e.clearcoatNormalMapUv),t.push(e.clearcoatRoughnessMapUv),t.push(e.iridescenceMapUv),t.push(e.iridescenceThicknessMapUv),t.push(e.sheenColorMapUv),t.push(e.sheenRoughnessMapUv),t.push(e.specularMapUv),t.push(e.specularColorMapUv),t.push(e.specularIntensityMapUv),t.push(e.transmissionMapUv),t.push(e.thicknessMapUv),t.push(e.combine),t.push(e.fogExp2),t.push(e.sizeAttenuation),t.push(e.morphTargetsCount),t.push(e.morphAttributeCount),t.push(e.numDirLights),t.push(e.numPointLights),t.push(e.numSpotLights),t.push(e.numSpotLightMaps),t.push(e.numHemiLights),t.push(e.numRectAreaLights),t.push(e.numDirLightShadows),t.push(e.numPointLightShadows),t.push(e.numSpotLightShadows),t.push(e.numSpotLightShadowsWithMaps),t.push(e.numLightProbes),t.push(e.shadowMapType),t.push(e.toneMapping),t.push(e.numClippingPlanes),t.push(e.numClipIntersection),t.push(e.depthPacking)}(n,e),function(t,e){a.disableAll(),e.supportsVertexTextures&&a.enable(0);e.instancing&&a.enable(1);e.instancingColor&&a.enable(2);e.instancingMorph&&a.enable(3);e.matcap&&a.enable(4);e.envMap&&a.enable(5);e.normalMapObjectSpace&&a.enable(6);e.normalMapTangentSpace&&a.enable(7);e.clearcoat&&a.enable(8);e.iridescence&&a.enable(9);e.alphaTest&&a.enable(10);e.vertexColors&&a.enable(11);e.vertexAlphas&&a.enable(12);e.vertexUv1s&&a.enable(13);e.vertexUv2s&&a.enable(14);e.vertexUv3s&&a.enable(15);e.vertexTangents&&a.enable(16);e.anisotropy&&a.enable(17);e.alphaHash&&a.enable(18);e.batching&&a.enable(19);e.dispersion&&a.enable(20);e.batchingColor&&a.enable(21);t.push(a.mask),a.disableAll(),e.fog&&a.enable(0);e.useFog&&a.enable(1);e.flatShading&&a.enable(2);e.logarithmicDepthBuffer&&a.enable(3);e.reverseDepthBuffer&&a.enable(4);e.skinning&&a.enable(5);e.morphTargets&&a.enable(6);e.morphNormals&&a.enable(7);e.morphColors&&a.enable(8);e.premultipliedAlpha&&a.enable(9);e.shadowMapEnabled&&a.enable(10);e.doubleSided&&a.enable(11);e.flipSided&&a.enable(12);e.useDepthPacking&&a.enable(13);e.dithering&&a.enable(14);e.transmission&&a.enable(15);e.sheen&&a.enable(16);e.opaque&&a.enable(17);e.pointsUvs&&a.enable(18);e.decodeVideoTexture&&a.enable(19);e.decodeVideoTextureEmissive&&a.enable(20);e.alphaToCoverage&&a.enable(21);t.push(a.mask)}(n,e),n.push(t.outputColorSpace)),n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){const e=p[t.type];let n;if(e){const t=nZ[e];n=cj.clone(t.uniforms)}else n=t.uniforms;return n},acquireProgram:function(e,n){let i;for(let t=0,r=u.length;t<r;t++){const e=u[t];if(e.cacheKey===n){i=e,++i.usedTimes;break}}return void 0===i&&(i=new aQ(t,n,e,o),u.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){const e=u.indexOf(t);u[e]=u[u.length-1],u.pop(),t.destroy()}},releaseShaderCache:function(t){l.remove(t)},programs:u,dispose:function(){l.dispose()}}}function hQ(){let t=new WeakMap;return{has:function(e){return t.has(e)},get:function(e){let n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function fQ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function pQ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function mQ(){const t=[];let e=0;const n=[],i=[],r=[];function o(n,i,r,o,s,a){let l=t[e];return void 0===l?(l={id:n.id,object:n,geometry:i,material:r,groupOrder:o,renderOrder:n.renderOrder,z:s,group:a},t[e]=l):(l.id=n.id,l.object=n,l.geometry=i,l.material=r,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=s,l.group=a),e++,l}return{opaque:n,transmissive:i,transparent:r,init:function(){e=0,n.length=0,i.length=0,r.length=0},push:function(t,e,s,a,l,c){const u=o(t,e,s,a,l,c);s.transmission>0?i.push(u):!0===s.transparent?r.push(u):n.push(u)},unshift:function(t,e,s,a,l,c){const u=o(t,e,s,a,l,c);s.transmission>0?i.unshift(u):!0===s.transparent?r.unshift(u):n.unshift(u)},finish:function(){for(let n=e,i=t.length;n<i;n++){const e=t[n];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.group=null}},sort:function(t,e){n.length>1&&n.sort(t||fQ),i.length>1&&i.sort(e||pQ),r.length>1&&r.sort(e||pQ)}}}function vQ(){let t=new WeakMap;return{get:function(e,n){const i=t.get(e);let r;return void 0===i?(r=new mQ,t.set(e,[r])):n>=i.length?(r=new mQ,i.push(r)):r=i[n],r},dispose:function(){t=new WeakMap}}}function gQ(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new t$,color:new xG};break;case"SpotLight":n={position:new t$,direction:new t$,color:new xG,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new t$,color:new xG,distance:0,decay:0};break;case"HemisphereLight":n={direction:new t$,skyColor:new xG,groundColor:new xG};break;case"RectAreaLight":n={color:new xG,position:new t$,halfWidth:new t$,halfHeight:new t$}}return t[e.id]=n,n}}}let yQ=0;function bQ(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function wQ(t){const e=new gQ,n=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new CV};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new CV,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let a=0;a<9;a++)i.probe.push(new t$);const r=new t$,o=new N$,s=new N$;return{setup:function(r){let o=0,s=0,a=0;for(let t=0;t<9;t++)i.probe[t].set(0,0,0);let l=0,c=0,u=0,d=0,h=0,f=0,p=0,m=0,v=0,g=0,y=0;r.sort(bQ);for(let t=0,w=r.length;t<w;t++){const b=r[t],w=b.color,_=b.intensity,x=b.distance,S=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)o+=w.r*_,s+=w.g*_,a+=w.b*_;else if(b.isLightProbe){for(let t=0;t<9;t++)i.probe[t].addScaledVector(b.sh.coefficients[t],_);y++}else if(b.isDirectionalLight){const t=e.get(b);if(t.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){const t=b.shadow,e=n.get(b);e.shadowIntensity=t.intensity,e.shadowBias=t.bias,e.shadowNormalBias=t.normalBias,e.shadowRadius=t.radius,e.shadowMapSize=t.mapSize,i.directionalShadow[l]=e,i.directionalShadowMap[l]=S,i.directionalShadowMatrix[l]=b.shadow.matrix,f++}i.directional[l]=t,l++}else if(b.isSpotLight){const t=e.get(b);t.position.setFromMatrixPosition(b.matrixWorld),t.color.copy(w).multiplyScalar(_),t.distance=x,t.coneCos=Math.cos(b.angle),t.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),t.decay=b.decay,i.spot[u]=t;const r=b.shadow;if(b.map&&(i.spotLightMap[v]=b.map,v++,r.updateMatrices(b),b.castShadow&&g++),i.spotLightMatrix[u]=r.matrix,b.castShadow){const t=n.get(b);t.shadowIntensity=r.intensity,t.shadowBias=r.bias,t.shadowNormalBias=r.normalBias,t.shadowRadius=r.radius,t.shadowMapSize=r.mapSize,i.spotShadow[u]=t,i.spotShadowMap[u]=S,m++}u++}else if(b.isRectAreaLight){const t=e.get(b);t.color.copy(w).multiplyScalar(_),t.halfWidth.set(.5*b.width,0,0),t.halfHeight.set(0,.5*b.height,0),i.rectArea[d]=t,d++}else if(b.isPointLight){const t=e.get(b);if(t.color.copy(b.color).multiplyScalar(b.intensity),t.distance=b.distance,t.decay=b.decay,b.castShadow){const t=b.shadow,e=n.get(b);e.shadowIntensity=t.intensity,e.shadowBias=t.bias,e.shadowNormalBias=t.normalBias,e.shadowRadius=t.radius,e.shadowMapSize=t.mapSize,e.shadowCameraNear=t.camera.near,e.shadowCameraFar=t.camera.far,i.pointShadow[c]=e,i.pointShadowMap[c]=S,i.pointShadowMatrix[c]=b.shadow.matrix,p++}i.point[c]=t,c++}else if(b.isHemisphereLight){const t=e.get(b);t.skyColor.copy(b.color).multiplyScalar(_),t.groundColor.copy(b.groundColor).multiplyScalar(_),i.hemi[h]=t,h++}}d>0&&(!0===t.has("OES_texture_float_linear")?(i.rectAreaLTC1=eZ.LTC_FLOAT_1,i.rectAreaLTC2=eZ.LTC_FLOAT_2):(i.rectAreaLTC1=eZ.LTC_HALF_1,i.rectAreaLTC2=eZ.LTC_HALF_2)),i.ambient[0]=o,i.ambient[1]=s,i.ambient[2]=a;const b=i.hash;b.directionalLength===l&&b.pointLength===c&&b.spotLength===u&&b.rectAreaLength===d&&b.hemiLength===h&&b.numDirectionalShadows===f&&b.numPointShadows===p&&b.numSpotShadows===m&&b.numSpotMaps===v&&b.numLightProbes===y||(i.directional.length=l,i.spot.length=u,i.rectArea.length=d,i.point.length=c,i.hemi.length=h,i.directionalShadow.length=f,i.directionalShadowMap.length=f,i.pointShadow.length=p,i.pointShadowMap.length=p,i.spotShadow.length=m,i.spotShadowMap.length=m,i.directionalShadowMatrix.length=f,i.pointShadowMatrix.length=p,i.spotLightMatrix.length=m+v-g,i.spotLightMap.length=v,i.numSpotLightShadowsWithMaps=g,i.numLightProbes=y,b.directionalLength=l,b.pointLength=c,b.spotLength=u,b.rectAreaLength=d,b.hemiLength=h,b.numDirectionalShadows=f,b.numPointShadows=p,b.numSpotShadows=m,b.numSpotMaps=v,b.numLightProbes=y,i.version=yQ++)},setupView:function(t,e){let n=0,a=0,l=0,c=0,u=0;const d=e.matrixWorldInverse;for(let h=0,f=t.length;h<f;h++){const e=t[h];if(e.isDirectionalLight){const t=i.directional[n];t.direction.setFromMatrixPosition(e.matrixWorld),r.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(r),t.direction.transformDirection(d),n++}else if(e.isSpotLight){const t=i.spot[l];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(d),t.direction.setFromMatrixPosition(e.matrixWorld),r.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(r),t.direction.transformDirection(d),l++}else if(e.isRectAreaLight){const t=i.rectArea[c];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(d),s.identity(),o.copy(e.matrixWorld),o.premultiply(d),s.extractRotation(o),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(s),t.halfHeight.applyMatrix4(s),c++}else if(e.isPointLight){const t=i.point[a];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(d),a++}else if(e.isHemisphereLight){const t=i.hemi[u];t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(d),u++}}},state:i}}function _Q(t){const e=new wQ(t),n=[],i=[];const r={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:function(t){r.camera=t,n.length=0,i.length=0},state:r,setupLights:function(){e.setup(n)},setupLightsView:function(t){e.setupView(n,t)},pushLight:function(t){n.push(t)},pushShadow:function(t){i.push(t)}}}function xQ(t){let e=new WeakMap;return{get:function(n,i=0){const r=e.get(n);let o;return void 0===r?(o=new _Q(t),e.set(n,[o])):i>=r.length?(o=new _Q(t),r.push(o)):o=r[i],o},dispose:function(){e=new WeakMap}}}function SQ(t,e,n){let i=new MW;const r=new CV,o=new CV,s=new qV,a=new Kq({depthPacking:3201}),l=new qq,c={},u=n.maxTextureSize,d={[KU]:1,[qU]:0,[YU]:2},h=new uj({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new CV},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new jG;p.setAttribute("position",new LG(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new ij(p,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let g=this.type;function y(n,i){const o=e.update(m);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,f.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new XV(r.x,r.y)),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,o,h,m,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,o,f,m,null)}function b(e,n,i,r){let o=null;const s=!0===i.isPointLight?e.customDistanceMaterial:e.customDepthMaterial;if(void 0!==s)o=s;else if(o=!0===i.isPointLight?l:a,t.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const t=o.uuid,e=n.uuid;let i=c[t];void 0===i&&(i={},c[t]=i);let r=i[e];void 0===r&&(r=o.clone(),i[e]=r,n.addEventListener("dispose",_)),o=r}if(o.visible=n.visible,o.wireframe=n.wireframe,o.side=3===r?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:d[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===i.isPointLight&&!0===o.isMeshDistanceMaterial){t.properties.get(o).light=i}return o}function w(n,r,o,s,a){if(!1===n.visible)return;if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===a)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const i=e.update(n),l=n.material;if(Array.isArray(l)){const e=i.groups;for(let c=0,u=e.length;c<u;c++){const u=e[c],d=l[u.materialIndex];if(d&&d.visible){const e=b(n,d,s,a);n.onBeforeShadow(t,n,r,o,i,e,u),t.renderBufferDirect(o,null,i,e,n,u),n.onAfterShadow(t,n,r,o,i,e,u)}}}else if(l.visible){const e=b(n,l,s,a);n.onBeforeShadow(t,n,r,o,i,e,null),t.renderBufferDirect(o,null,i,e,n,null),n.onAfterShadow(t,n,r,o,i,e,null)}}const l=n.children;for(let t=0,e=l.length;t<e;t++)w(l[t],r,o,s,a)}function _(t){t.target.removeEventListener("dispose",_);for(const e in c){const n=c[e],i=t.target.uuid;if(i in n){n[i].dispose(),delete n[i]}}}this.render=function(e,n,a){if(!1===v.enabled)return;if(!1===v.autoUpdate&&!1===v.needsUpdate)return;if(0===e.length)return;const l=t.getRenderTarget(),c=t.getActiveCubeFace(),d=t.getActiveMipmapLevel(),h=t.state;h.setBlending(0),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);const f=3!==g&&3===this.type,p=3===g&&3!==this.type;for(let m=0,v=e.length;m<v;m++){const l=e[m],c=l.shadow;if(void 0===c)continue;if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;r.copy(c.mapSize);const d=c.getFrameExtents();if(r.multiply(d),o.copy(c.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(o.x=Math.floor(u/d.x),r.x=o.x*d.x,c.mapSize.x=o.x),r.y>u&&(o.y=Math.floor(u/d.y),r.y=o.y*d.y,c.mapSize.y=o.y)),null===c.map||!0===f||!0===p){const t=3!==this.type?{minFilter:OH,magFilter:OH}:{};null!==c.map&&c.map.dispose(),c.map=new XV(r.x,r.y,t),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}t.setRenderTarget(c.map),t.clear();const v=c.getViewportCount();for(let t=0;t<v;t++){const e=c.getViewport(t);s.set(o.x*e.x,o.y*e.y,o.x*e.z,o.y*e.w),h.viewport(s),c.updateMatrices(l,t),i=c.getFrustum(),w(n,a,c.camera,l,this.type)}!0!==c.isPointLightShadow&&3===this.type&&y(c,a),c.needsUpdate=!1}g=this.type,v.needsUpdate=!1,t.setRenderTarget(l,c,d)}}const MQ={[pH]:1,[vH]:6,[yH]:7,[gH]:5,[mH]:0,[wH]:2,[_H]:4,[bH]:3};function CQ(t,e){const n=new function(){let e=!1;const n=new qV;let i=null;const r=new qV(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,s,a){!0===a&&(e*=s,i*=s,o*=s),n.set(e,i,o,s),!1===r.equals(n)&&(t.clearColor(e,i,o,s),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},i=new function(){let n=!1,i=!1,r=null,o=null,s=null;return{setReversed:function(t){if(i!==t){const n=e.get("EXT_clip_control");t?n.clipControlEXT(n.LOWER_LEFT_EXT,n.ZERO_TO_ONE_EXT):n.clipControlEXT(n.LOWER_LEFT_EXT,n.NEGATIVE_ONE_TO_ONE_EXT),i=t;const r=s;s=null,this.setClear(r)}},getReversed:function(){return i},setTest:function(e){e?H(t.DEPTH_TEST):z(t.DEPTH_TEST)},setMask:function(e){r===e||n||(t.depthMask(e),r=e)},setFunc:function(e){if(i&&(e=MQ[e]),o!==e){switch(e){case 0:t.depthFunc(t.NEVER);break;case 1:t.depthFunc(t.ALWAYS);break;case 2:t.depthFunc(t.LESS);break;case 3:default:t.depthFunc(t.LEQUAL);break;case 4:t.depthFunc(t.EQUAL);break;case 5:t.depthFunc(t.GEQUAL);break;case 6:t.depthFunc(t.GREATER);break;case 7:t.depthFunc(t.NOTEQUAL)}o=e}},setLocked:function(t){n=t},setClear:function(e){s!==e&&(i&&(e=1-e),t.clearDepth(e),s=e)},reset:function(){n=!1,r=null,o=null,s=null,i=!1}}},r=new function(){let e=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null;return{setTest:function(n){e||(n?H(t.STENCIL_TEST):z(t.STENCIL_TEST))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,s){i===e&&r===n&&o===s||(t.stencilFunc(e,n,s),i=e,r=n,o=s)},setOp:function(e,n,i){s===e&&a===n&&l===i||(t.stencilOp(e,n,i),s=e,a=n,l=i)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,s=null,a=null,l=null,c=null}}},o=new WeakMap,s=new WeakMap;let a={},l={},c=new WeakMap,u=[],d=null,h=!1,f=null,p=null,m=null,v=null,g=null,y=null,b=null,w=new xG(0,0,0),_=0,x=!1,S=null,M=null,C=null,k=null,E=null;const T=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let A=!1,N=0;const I=t.getParameter(t.VERSION);-1!==I.indexOf("WebGL")?(N=parseFloat(/^WebGL (\d)/.exec(I)[1]),A=N>=1):-1!==I.indexOf("OpenGL ES")&&(N=parseFloat(/^OpenGL ES (\d)/.exec(I)[1]),A=N>=2);let R=null,O={};const L=t.getParameter(t.SCISSOR_BOX),D=t.getParameter(t.VIEWPORT),P=(new qV).fromArray(L),B=(new qV).fromArray(D);function F(e,n,i,r){const o=new Uint8Array(4),s=t.createTexture();t.bindTexture(e,s),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let a=0;a<i;a++)e===t.TEXTURE_3D||e===t.TEXTURE_2D_ARRAY?t.texImage3D(n,0,t.RGBA,1,1,r,0,t.RGBA,t.UNSIGNED_BYTE,o):t.texImage2D(n+a,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,o);return s}const U={};function H(e){!0!==a[e]&&(t.enable(e),a[e]=!0)}function z(e){!1!==a[e]&&(t.disable(e),a[e]=!1)}U[t.TEXTURE_2D]=F(t.TEXTURE_2D,t.TEXTURE_2D,1),U[t.TEXTURE_CUBE_MAP]=F(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),U[t.TEXTURE_2D_ARRAY]=F(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),U[t.TEXTURE_3D]=F(t.TEXTURE_3D,t.TEXTURE_3D,1,1),n.setClear(0,0,0,1),i.setClear(1),r.setClear(0),H(t.DEPTH_TEST),i.setFunc(3),j(!1),W(1),H(t.CULL_FACE),G(0);const V={[XU]:t.FUNC_ADD,[ZU]:t.FUNC_SUBTRACT,[JU]:t.FUNC_REVERSE_SUBTRACT};V[103]=t.MIN,V[104]=t.MAX;const $={[QU]:t.ZERO,[tH]:t.ONE,[eH]:t.SRC_COLOR,[iH]:t.SRC_ALPHA,[cH]:t.SRC_ALPHA_SATURATE,[aH]:t.DST_COLOR,[oH]:t.DST_ALPHA,[nH]:t.ONE_MINUS_SRC_COLOR,[rH]:t.ONE_MINUS_SRC_ALPHA,[lH]:t.ONE_MINUS_DST_COLOR,[sH]:t.ONE_MINUS_DST_ALPHA,[uH]:t.CONSTANT_COLOR,[dH]:t.ONE_MINUS_CONSTANT_COLOR,[hH]:t.CONSTANT_ALPHA,[fH]:t.ONE_MINUS_CONSTANT_ALPHA};function G(e,n,i,r,o,s,a,l,c,u){if(0!==e){if(!1===h&&(H(t.BLEND),h=!0),5===e)o=o||n,s=s||i,a=a||r,n===p&&o===g||(t.blendEquationSeparate(V[n],V[o]),p=n,g=o),i===m&&r===v&&s===y&&a===b||(t.blendFuncSeparate($[i],$[r],$[s],$[a]),m=i,v=r,y=s,b=a),!1!==l.equals(w)&&c===_||(t.blendColor(l.r,l.g,l.b,c),w.copy(l),_=c),f=e,x=!1;else if(e!==f||u!==x){if(p===XU&&g===XU||(t.blendEquation(t.FUNC_ADD),p=XU,g=XU),u)switch(e){case 1:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.ONE,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)}else switch(e){case 1:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case 2:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case 3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case 4:t.blendFunc(t.ZERO,t.SRC_COLOR)}m=null,v=null,y=null,b=null,w.set(0,0,0),_=0,f=e,x=u}}else!0===h&&(z(t.BLEND),h=!1)}function j(e){S!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),S=e)}function W(e){0!==e?(H(t.CULL_FACE),e!==M&&(1===e?t.cullFace(t.BACK):2===e?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):z(t.CULL_FACE),M=e}function K(e,n,i){e?(H(t.POLYGON_OFFSET_FILL),k===n&&E===i||(t.polygonOffset(n,i),k=n,E=i)):z(t.POLYGON_OFFSET_FILL)}return{buffers:{color:n,depth:i,stencil:r},enable:H,disable:z,bindFramebuffer:function(e,n){return l[e]!==n&&(t.bindFramebuffer(e,n),l[e]=n,e===t.DRAW_FRAMEBUFFER&&(l[t.FRAMEBUFFER]=n),e===t.FRAMEBUFFER&&(l[t.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(e,n){let i=u,r=!1;if(e){i=c.get(n),void 0===i&&(i=[],c.set(n,i));const o=e.textures;if(i.length!==o.length||i[0]!==t.COLOR_ATTACHMENT0){for(let e=0,n=o.length;e<n;e++)i[e]=t.COLOR_ATTACHMENT0+e;i.length=o.length,r=!0}}else i[0]!==t.BACK&&(i[0]=t.BACK,r=!0);r&&t.drawBuffers(i)},useProgram:function(e){return d!==e&&(t.useProgram(e),d=e,!0)},setBlending:G,setMaterial:function(e,o){2===e.side?z(t.CULL_FACE):H(t.CULL_FACE);let s=1===e.side;o&&(s=!s),j(s),1===e.blending&&!1===e.transparent?G(0):G(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.blendColor,e.blendAlpha,e.premultipliedAlpha),i.setFunc(e.depthFunc),i.setTest(e.depthTest),i.setMask(e.depthWrite),n.setMask(e.colorWrite);const a=e.stencilWrite;r.setTest(a),a&&(r.setMask(e.stencilWriteMask),r.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),r.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),K(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?H(t.SAMPLE_ALPHA_TO_COVERAGE):z(t.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:j,setCullFace:W,setLineWidth:function(e){e!==C&&(A&&t.lineWidth(e),C=e)},setPolygonOffset:K,setScissorTest:function(e){e?H(t.SCISSOR_TEST):z(t.SCISSOR_TEST)},activeTexture:function(e){void 0===e&&(e=t.TEXTURE0+T-1),R!==e&&(t.activeTexture(e),R=e)},bindTexture:function(e,n,i){void 0===i&&(i=null===R?t.TEXTURE0+T-1:R);let r=O[i];void 0===r&&(r={type:void 0,texture:void 0},O[i]=r),r.type===e&&r.texture===n||(R!==i&&(t.activeTexture(i),R=i),t.bindTexture(e,n||U[e]),r.type=e,r.texture=n)},unbindTexture:function(){const e=O[R];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D(...arguments)}catch(e){}},compressedTexImage3D:function(){try{t.compressedTexImage3D(...arguments)}catch(e){}},texImage2D:function(){try{t.texImage2D(...arguments)}catch(e){}},texImage3D:function(){try{t.texImage3D(...arguments)}catch(e){}},updateUBOMapping:function(e,n){let i=s.get(n);void 0===i&&(i=new WeakMap,s.set(n,i));let r=i.get(e);void 0===r&&(r=t.getUniformBlockIndex(n,e.name),i.set(e,r))},uniformBlockBinding:function(e,n){const i=s.get(n).get(e);o.get(n)!==i&&(t.uniformBlockBinding(n,i,e.Ir),o.set(n,i))},texStorage2D:function(){try{t.texStorage2D(...arguments)}catch(e){}},texStorage3D:function(){try{t.texStorage3D(...arguments)}catch(e){}},texSubImage2D:function(){try{t.texSubImage2D(...arguments)}catch(e){}},texSubImage3D:function(){try{t.texSubImage3D(...arguments)}catch(e){}},compressedTexSubImage2D:function(){try{t.compressedTexSubImage2D(...arguments)}catch(e){}},compressedTexSubImage3D:function(){try{t.compressedTexSubImage3D(...arguments)}catch(e){}},scissor:function(e){!1===P.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),P.copy(e))},viewport:function(e){!1===B.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),B.copy(e))},reset:function(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),i.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),a={},R=null,O={},l={},c=new WeakMap,u=[],d=null,h=!1,f=null,p=null,m=null,v=null,g=null,y=null,b=null,w=new xG(0,0,0),_=0,x=!1,S=null,M=null,C=null,k=null,E=null,P.set(0,0,t.canvas.width,t.canvas.height),B.set(0,0,t.canvas.width,t.canvas.height),n.reset(),i.reset(),r.reset()}}}function kQ(t,e,n,i,r,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new CV,u=new WeakMap;let d;const h=new WeakMap;let f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(V){}function p(t,e){return f?new OffscreenCanvas(t,e):IV("canvas")}function m(t,e,n){let i=1;const r=z(t);if((r.width>n||r.height>n)&&(i=n/Math.max(r.width,r.height)),i<1){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&t instanceof VideoFrame){const n=Math.floor(i*r.width),o=Math.floor(i*r.height);void 0===d&&(d=p(n,o));const s=e?p(n,o):d;s.width=n,s.height=o;return s.getContext("2d").drawImage(t,0,0,n,o),s}return t}return t}function v(t){return t.generateMipmaps}function g(e){t.generateMipmap(e)}function y(e){return e.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:e.isWebGL3DRenderTarget?t.TEXTURE_3D:e.isWebGLArrayRenderTarget||e.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function b(n,i,r,o,s=!1){if(null!==n&&void 0!==t[n])return t[n];let a=i;if(i===t.RED&&(r===t.FLOAT&&(a=t.R32F),r===t.HALF_FLOAT&&(a=t.R16F),r===t.UNSIGNED_BYTE&&(a=t.R8)),i===t.RED_INTEGER&&(r===t.UNSIGNED_BYTE&&(a=t.R8UI),r===t.UNSIGNED_SHORT&&(a=t.R16UI),r===t.UNSIGNED_INT&&(a=t.R32UI),r===t.BYTE&&(a=t.R8I),r===t.SHORT&&(a=t.R16I),r===t.INT&&(a=t.R32I)),i===t.RG&&(r===t.FLOAT&&(a=t.RG32F),r===t.HALF_FLOAT&&(a=t.RG16F),r===t.UNSIGNED_BYTE&&(a=t.RG8)),i===t.RG_INTEGER&&(r===t.UNSIGNED_BYTE&&(a=t.RG8UI),r===t.UNSIGNED_SHORT&&(a=t.RG16UI),r===t.UNSIGNED_INT&&(a=t.RG32UI),r===t.BYTE&&(a=t.RG8I),r===t.SHORT&&(a=t.RG16I),r===t.INT&&(a=t.RG32I)),i===t.RGB_INTEGER&&(r===t.UNSIGNED_BYTE&&(a=t.RGB8UI),r===t.UNSIGNED_SHORT&&(a=t.RGB16UI),r===t.UNSIGNED_INT&&(a=t.RGB32UI),r===t.BYTE&&(a=t.RGB8I),r===t.SHORT&&(a=t.RGB16I),r===t.INT&&(a=t.RGB32I)),i===t.RGBA_INTEGER&&(r===t.UNSIGNED_BYTE&&(a=t.RGBA8UI),r===t.UNSIGNED_SHORT&&(a=t.RGBA16UI),r===t.UNSIGNED_INT&&(a=t.RGBA32UI),r===t.BYTE&&(a=t.RGBA8I),r===t.SHORT&&(a=t.RGBA16I),r===t.INT&&(a=t.RGBA32I)),i===t.RGB&&r===t.UNSIGNED_INT_5_9_9_9_REV&&(a=t.RGB9_E5),i===t.RGBA){const e=s?Jz:FV.getTransfer(o);r===t.FLOAT&&(a=t.RGBA32F),r===t.HALF_FLOAT&&(a=t.RGBA16F),r===t.UNSIGNED_BYTE&&(a=e===Qz?t.SRGB8_ALPHA8:t.RGBA8),r===t.UNSIGNED_SHORT_4_4_4_4&&(a=t.RGBA4),r===t.UNSIGNED_SHORT_5_5_5_1&&(a=t.RGB5_A1)}return a!==t.R16F&&a!==t.R32F&&a!==t.RG16F&&a!==t.RG32F&&a!==t.RGBA16F&&a!==t.RGBA32F||e.get("EXT_color_buffer_float"),a}function w(e,n){let i;return e?null===n||n===GH||n===YH?i=t.DEPTH24_STENCIL8:n===jH?i=t.DEPTH32F_STENCIL8:n===VH&&(i=t.DEPTH24_STENCIL8):null===n||n===GH||n===YH?i=t.DEPTH_COMPONENT24:n===jH?i=t.DEPTH_COMPONENT32F:n===VH&&(i=t.DEPTH_COMPONENT16),i}function _(t,e){return!0===v(t)||t.isFramebufferTexture&&t.minFilter!==OH&&t.minFilter!==PH?Math.log2(Math.max(e.width,e.height))+1:void 0!==t.mipmaps&&t.mipmaps.length>0?t.mipmaps.length:t.isCompressedTexture&&Array.isArray(t.image)?e.mipmaps.length:1}function x(t){const e=t.target;e.removeEventListener("dispose",x),function(t){const e=i.get(t);if(void 0===e.Rr)return;const n=t.source,r=h.get(n);if(r){const i=r[e.Or];i.usedTimes--,0===i.usedTimes&&M(t),0===Object.keys(r).length&&h.delete(n)}i.remove(t)}(e),e.isVideoTexture&&u.delete(e)}function S(e){const n=e.target;n.removeEventListener("dispose",S),function(e){const n=i.get(e);e.depthTexture&&(e.depthTexture.dispose(),i.remove(e.depthTexture));if(e.isWebGLCubeRenderTarget)for(let i=0;i<6;i++){if(Array.isArray(n.Lr[i]))for(let e=0;e<n.Lr[i].length;e++)t.deleteFramebuffer(n.Lr[i][e]);else t.deleteFramebuffer(n.Lr[i]);n.Dr&&t.deleteRenderbuffer(n.Dr[i])}else{if(Array.isArray(n.Lr))for(let e=0;e<n.Lr.length;e++)t.deleteFramebuffer(n.Lr[e]);else t.deleteFramebuffer(n.Lr);if(n.Dr&&t.deleteRenderbuffer(n.Dr),n.Pr&&t.deleteFramebuffer(n.Pr),n.Br)for(let e=0;e<n.Br.length;e++)n.Br[e]&&t.deleteRenderbuffer(n.Br[e]);n.Fr&&t.deleteRenderbuffer(n.Fr)}const r=e.textures;for(let o=0,a=r.length;o<a;o++){const e=i.get(r[o]);e.Ur&&(t.deleteTexture(e.Ur),s.memory.textures--),i.remove(r[o])}i.remove(e)}(n)}function M(e){const n=i.get(e);t.deleteTexture(n.Ur);const r=e.source;delete h.get(r)[n.Or],s.memory.textures--}let C=0;function k(e,r){const o=i.get(e);if(e.isVideoTexture&&function(t){const e=s.render.frame;u.get(t)!==e&&(u.set(t,e),t.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&o.Hr!==e.version){const t=e.image;if(null===t);else if(!1!==t.complete)return void R(o,e,r)}n.bindTexture(t.TEXTURE_2D,o.Ur,t.TEXTURE0+r)}const E={[NH]:t.REPEAT,[IH]:t.CLAMP_TO_EDGE,[RH]:t.MIRRORED_REPEAT},T={[OH]:t.NEAREST,[LH]:t.NEAREST_MIPMAP_NEAREST,[DH]:t.NEAREST_MIPMAP_LINEAR,[PH]:t.LINEAR,[BH]:t.LINEAR_MIPMAP_NEAREST,[FH]:t.LINEAR_MIPMAP_LINEAR},A={[eV]:t.NEVER,[lV]:t.ALWAYS,[nV]:t.LESS,[rV]:t.LEQUAL,[iV]:t.EQUAL,[aV]:t.GEQUAL,[oV]:t.GREATER,[sV]:t.NOTEQUAL};function N(n,o){if(o.type===jH&&!1===e.has("OES_texture_float_linear")&&(o.magFilter===PH||o.magFilter===BH||o.magFilter===DH||o.magFilter===FH||o.minFilter===PH||o.minFilter===BH||o.minFilter===DH||o.minFilter),t.texParameteri(n,t.TEXTURE_WRAP_S,E[o.wrapS]),t.texParameteri(n,t.TEXTURE_WRAP_T,E[o.wrapT]),n!==t.TEXTURE_3D&&n!==t.TEXTURE_2D_ARRAY||t.texParameteri(n,t.TEXTURE_WRAP_R,E[o.wrapR]),t.texParameteri(n,t.TEXTURE_MAG_FILTER,T[o.magFilter]),t.texParameteri(n,t.TEXTURE_MIN_FILTER,T[o.minFilter]),o.compareFunction&&(t.texParameteri(n,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(n,t.TEXTURE_COMPARE_FUNC,A[o.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){if(o.magFilter===OH)return;if(o.minFilter!==DH&&o.minFilter!==FH)return;if(o.type===jH&&!1===e.has("OES_texture_float_linear"))return;if(o.anisotropy>1||i.get(o).zr){const s=e.get("EXT_texture_filter_anisotropic");t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,r.getMaxAnisotropy())),i.get(o).zr=o.anisotropy}}}function I(e,n){let i=!1;void 0===e.Rr&&(e.Rr=!0,n.addEventListener("dispose",x));const r=n.source;let o=h.get(r);void 0===o&&(o={},h.set(r,o));const a=function(t){const e=[];return e.push(t.wrapS),e.push(t.wrapT),e.push(t.wrapR||0),e.push(t.magFilter),e.push(t.minFilter),e.push(t.anisotropy),e.push(t.internalFormat),e.push(t.format),e.push(t.type),e.push(t.generateMipmaps),e.push(t.premultiplyAlpha),e.push(t.flipY),e.push(t.unpackAlignment),e.push(t.colorSpace),e.join()}(n);if(a!==e.Or){void 0===o[a]&&(o[a]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,i=!0),o[a].usedTimes++;const r=o[e.Or];void 0!==r&&(o[e.Or].usedTimes--,0===r.usedTimes&&M(n)),e.Or=a,e.Ur=o[a].texture}return i}function R(e,s,a){let l=t.TEXTURE_2D;(s.isDataArrayTexture||s.isCompressedArrayTexture)&&(l=t.TEXTURE_2D_ARRAY),s.isData3DTexture&&(l=t.TEXTURE_3D);const c=I(e,s),u=s.source;n.bindTexture(l,e.Ur,t.TEXTURE0+a);const d=i.get(u);if(u.version!==d.Hr||!0===c){n.activeTexture(t.TEXTURE0+a);const e=FV.getPrimaries(FV.workingColorSpace),i=s.colorSpace===Yz?null:FV.getPrimaries(s.colorSpace),h=s.colorSpace===Yz||e===i?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);let f=m(s.image,!1,r.maxTextureSize);f=H(s,f);const p=o.convert(s.format,s.colorSpace),y=o.convert(s.type);let x,S=b(s.internalFormat,p,y,s.colorSpace,s.isVideoTexture);N(l,s);const M=s.mipmaps,C=!0!==s.isVideoTexture,k=void 0===d.Hr||!0===c,E=u.dataReady,T=_(s,f);if(s.isDepthTexture)S=w(s.format===iz,s.type),k&&(C?n.texStorage2D(t.TEXTURE_2D,1,S,f.width,f.height):n.texImage2D(t.TEXTURE_2D,0,S,f.width,f.height,0,p,y,null));else if(s.isDataTexture)if(M.length>0){C&&k&&n.texStorage2D(t.TEXTURE_2D,T,S,M[0].width,M[0].height);for(let e=0,i=M.length;e<i;e++)x=M[e],C?E&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,x.width,x.height,p,y,x.data):n.texImage2D(t.TEXTURE_2D,e,S,x.width,x.height,0,p,y,x.data);s.generateMipmaps=!1}else C?(k&&n.texStorage2D(t.TEXTURE_2D,T,S,f.width,f.height),E&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,f.width,f.height,p,y,f.data)):n.texImage2D(t.TEXTURE_2D,0,S,f.width,f.height,0,p,y,f.data);else if(s.isCompressedTexture)if(s.isCompressedArrayTexture){C&&k&&n.texStorage3D(t.TEXTURE_2D_ARRAY,T,S,M[0].width,M[0].height,f.depth);for(let e=0,i=M.length;e<i;e++)if(x=M[e],s.format!==QH){if(null!==p)if(C){if(E)if(s.layerUpdates.size>0){const i=ZX(x.width,x.height,s.format,s.type);for(const r of s.layerUpdates){const o=x.data.subarray(r*i/x.data.BYTES_PER_ELEMENT,(r+1)*i/x.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,r,x.width,x.height,1,p,o)}s.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,x.width,x.height,f.depth,p,x.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,e,S,x.width,x.height,f.depth,0,x.data,0,0)}else C?E&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,e,0,0,0,x.width,x.height,f.depth,p,y,x.data):n.texImage3D(t.TEXTURE_2D_ARRAY,e,S,x.width,x.height,f.depth,0,p,y,x.data)}else{C&&k&&n.texStorage2D(t.TEXTURE_2D,T,S,M[0].width,M[0].height);for(let e=0,i=M.length;e<i;e++)x=M[e],s.format!==QH?null!==p&&(C?E&&n.compressedTexSubImage2D(t.TEXTURE_2D,e,0,0,x.width,x.height,p,x.data):n.compressedTexImage2D(t.TEXTURE_2D,e,S,x.width,x.height,0,x.data)):C?E&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,x.width,x.height,p,y,x.data):n.texImage2D(t.TEXTURE_2D,e,S,x.width,x.height,0,p,y,x.data)}else if(s.isDataArrayTexture)if(C){if(k&&n.texStorage3D(t.TEXTURE_2D_ARRAY,T,S,f.width,f.height,f.depth),E)if(s.layerUpdates.size>0){const e=ZX(f.width,f.height,s.format,s.type);for(const i of s.layerUpdates){const r=f.data.subarray(i*e/f.data.BYTES_PER_ELEMENT,(i+1)*e/f.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,i,f.width,f.height,1,p,y,r)}s.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,p,y,f.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,S,f.width,f.height,f.depth,0,p,y,f.data);else if(s.isData3DTexture)C?(k&&n.texStorage3D(t.TEXTURE_3D,T,S,f.width,f.height,f.depth),E&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,f.width,f.height,f.depth,p,y,f.data)):n.texImage3D(t.TEXTURE_3D,0,S,f.width,f.height,f.depth,0,p,y,f.data);else if(s.isFramebufferTexture){if(k)if(C)n.texStorage2D(t.TEXTURE_2D,T,S,f.width,f.height);else{let e=f.width,i=f.height;for(let r=0;r<T;r++)n.texImage2D(t.TEXTURE_2D,r,S,e,i,0,p,y,null),e>>=1,i>>=1}}else if(M.length>0){if(C&&k){const e=z(M[0]);n.texStorage2D(t.TEXTURE_2D,T,S,e.width,e.height)}for(let e=0,i=M.length;e<i;e++)x=M[e],C?E&&n.texSubImage2D(t.TEXTURE_2D,e,0,0,p,y,x):n.texImage2D(t.TEXTURE_2D,e,S,p,y,x);s.generateMipmaps=!1}else if(C){if(k){const e=z(f);n.texStorage2D(t.TEXTURE_2D,T,S,e.width,e.height)}E&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,p,y,f)}else n.texImage2D(t.TEXTURE_2D,0,S,p,y,f);v(s)&&g(l),d.Hr=u.version,s.onUpdate&&s.onUpdate(s)}e.Hr=s.version}function O(e,r,s,l,c,u){const d=o.convert(s.format,s.colorSpace),h=o.convert(s.type),f=b(s.internalFormat,d,h,s.colorSpace),p=i.get(r),m=i.get(s);if(m.Vr=r,!p.$r){const e=Math.max(1,r.width>>u),i=Math.max(1,r.height>>u);c===t.TEXTURE_3D||c===t.TEXTURE_2D_ARRAY?n.texImage3D(c,u,f,e,i,r.depth,0,d,h,null):n.texImage2D(c,u,f,e,i,0,d,h,null)}n.bindFramebuffer(t.FRAMEBUFFER,e),U(r)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,l,c,m.Ur,0,F(r)):(c===t.TEXTURE_2D||c>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,l,c,m.Ur,u),n.bindFramebuffer(t.FRAMEBUFFER,null)}function L(e,n,i){if(t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer){const r=n.depthTexture,o=r&&r.isDepthTexture?r.type:null,s=w(n.stencilBuffer,o),l=n.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,c=F(n);U(n)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,c,s,n.width,n.height):i?t.renderbufferStorageMultisample(t.RENDERBUFFER,c,s,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,s,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,l,t.RENDERBUFFER,e)}else{const e=n.textures;for(let r=0;r<e.length;r++){const s=e[r],l=o.convert(s.format,s.colorSpace),c=o.convert(s.type),u=b(s.internalFormat,l,c,s.colorSpace),d=F(n);i&&!1===U(n)?t.renderbufferStorageMultisample(t.RENDERBUFFER,d,u,n.width,n.height):U(n)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,d,u,n.width,n.height):t.renderbufferStorage(t.RENDERBUFFER,u,n.width,n.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function D(e){const r=i.get(e),o=!0===e.isWebGLCubeRenderTarget;if(r.Gr!==e.depthTexture){const t=e.depthTexture;if(r.jr&&r.jr(),t){const e=()=>{delete r.Gr,delete r.jr,t.removeEventListener("dispose",e)};t.addEventListener("dispose",e),r.jr=e}r.Gr=t}if(e.depthTexture&&!r.Wr){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const o=i.get(r.depthTexture);o.Vr=r,o.Ur&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),k(r.depthTexture,0);const s=o.Ur,l=F(r);if(r.depthTexture.format===nz)U(r)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,s,0,l):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,s,0);else{if(r.depthTexture.format!==iz)throw new Error("Unknown depthTexture format");U(r)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,s,0,l):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,s,0)}}(r.Lr,e)}else if(o){r.Dr=[];for(let i=0;i<6;i++)if(n.bindFramebuffer(t.FRAMEBUFFER,r.Lr[i]),void 0===r.Dr[i])r.Dr[i]=t.createRenderbuffer(),L(r.Dr[i],e,!1);else{const n=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,o=r.Dr[i];t.bindRenderbuffer(t.RENDERBUFFER,o),t.framebufferRenderbuffer(t.FRAMEBUFFER,n,t.RENDERBUFFER,o)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,r.Lr),void 0===r.Dr)r.Dr=t.createRenderbuffer(),L(r.Dr,e,!1);else{const n=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,i=r.Dr;t.bindRenderbuffer(t.RENDERBUFFER,i),t.framebufferRenderbuffer(t.FRAMEBUFFER,n,t.RENDERBUFFER,i)}n.bindFramebuffer(t.FRAMEBUFFER,null)}const P=[],B=[];function F(t){return Math.min(r.maxSamples,t.samples)}function U(t){const n=i.get(t);return t.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==n.Kr}function H(t,e){const n=t.colorSpace;t.format,t.type;return!0===t.isCompressedTexture||!0===t.isVideoTexture||n!==Zz&&n!==Yz&&FV.getTransfer(n),e}function z(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement?(c.width=t.naturalWidth||t.width,c.height=t.naturalHeight||t.height):"undefined"!=typeof VideoFrame&&t instanceof VideoFrame?(c.width=t.displayWidth,c.height=t.displayHeight):(c.width=t.width,c.height=t.height),c}this.allocateTextureUnit=function(){const t=C;return r.maxTextures,C+=1,t},this.resetTextureUnits=function(){C=0},this.setTexture2D=k,this.setTexture2DArray=function(e,r){const o=i.get(e);e.version>0&&o.Hr!==e.version?R(o,e,r):n.bindTexture(t.TEXTURE_2D_ARRAY,o.Ur,t.TEXTURE0+r)},this.setTexture3D=function(e,r){const o=i.get(e);e.version>0&&o.Hr!==e.version?R(o,e,r):n.bindTexture(t.TEXTURE_3D,o.Ur,t.TEXTURE0+r)},this.setTextureCube=function(e,s){const a=i.get(e);e.version>0&&a.Hr!==e.version?function(e,s,a){if(6!==s.image.length)return;const l=I(e,s),c=s.source;n.bindTexture(t.TEXTURE_CUBE_MAP,e.Ur,t.TEXTURE0+a);const u=i.get(c);if(c.version!==u.Hr||!0===l){n.activeTexture(t.TEXTURE0+a);const e=FV.getPrimaries(FV.workingColorSpace),i=s.colorSpace===Yz?null:FV.getPrimaries(s.colorSpace),d=s.colorSpace===Yz||e===i?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,s.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,s.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,d);const h=s.isCompressedTexture||s.image[0].isCompressedTexture,f=s.image[0]&&s.image[0].isDataTexture,p=[];for(let t=0;t<6;t++)p[t]=h||f?f?s.image[t].image:s.image[t]:m(s.image[t],!0,r.maxCubemapSize),p[t]=H(s,p[t]);const y=p[0],w=o.convert(s.format,s.colorSpace),x=o.convert(s.type),S=b(s.internalFormat,w,x,s.colorSpace),M=!0!==s.isVideoTexture,C=void 0===u.Hr||!0===l,k=c.dataReady;let E,T=_(s,y);if(N(t.TEXTURE_CUBE_MAP,s),h){M&&C&&n.texStorage2D(t.TEXTURE_CUBE_MAP,T,S,y.width,y.height);for(let e=0;e<6;e++){E=p[e].mipmaps;for(let i=0;i<E.length;i++){const r=E[i];s.format!==QH?null!==w&&(M?k&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i,0,0,r.width,r.height,w,r.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i,S,r.width,r.height,0,r.data)):M?k&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i,0,0,r.width,r.height,w,x,r.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i,S,r.width,r.height,0,w,x,r.data)}}}else{if(E=s.mipmaps,M&&C){E.length>0&&T++;const e=z(p[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,T,S,e.width,e.height)}for(let e=0;e<6;e++)if(f){M?k&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,p[e].width,p[e].height,w,x,p[e].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,S,p[e].width,p[e].height,0,w,x,p[e].data);for(let i=0;i<E.length;i++){const r=E[i].image[e].image;M?k&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i+1,0,0,r.width,r.height,w,x,r.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i+1,S,r.width,r.height,0,w,x,r.data)}}else{M?k&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,0,0,w,x,p[e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,S,w,x,p[e]);for(let i=0;i<E.length;i++){const r=E[i];M?k&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i+1,0,0,w,x,r.image[e]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+e,i+1,S,w,x,r.image[e])}}}v(s)&&g(t.TEXTURE_CUBE_MAP),u.Hr=c.version,s.onUpdate&&s.onUpdate(s)}e.Hr=s.version}(a,e,s):n.bindTexture(t.TEXTURE_CUBE_MAP,a.Ur,t.TEXTURE0+s)},this.rebindTextures=function(e,n,r){const o=i.get(e);void 0!==n&&O(o.Lr,e,e.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),void 0!==r&&D(e)},this.setupRenderTarget=function(e){const r=e.texture,a=i.get(e),l=i.get(r);e.addEventListener("dispose",S);const c=e.textures,u=!0===e.isWebGLCubeRenderTarget,d=c.length>1;if(d||(void 0===l.Ur&&(l.Ur=t.createTexture()),l.Hr=r.version,s.memory.textures++),u){a.Lr=[];for(let e=0;e<6;e++)if(r.mipmaps&&r.mipmaps.length>0){a.Lr[e]=[];for(let n=0;n<r.mipmaps.length;n++)a.Lr[e][n]=t.createFramebuffer()}else a.Lr[e]=t.createFramebuffer()}else{if(r.mipmaps&&r.mipmaps.length>0){a.Lr=[];for(let e=0;e<r.mipmaps.length;e++)a.Lr[e]=t.createFramebuffer()}else a.Lr=t.createFramebuffer();if(d)for(let e=0,n=c.length;e<n;e++){const n=i.get(c[e]);void 0===n.Ur&&(n.Ur=t.createTexture(),s.memory.textures++)}if(e.samples>0&&!1===U(e)){a.Pr=t.createFramebuffer(),a.Br=[],n.bindFramebuffer(t.FRAMEBUFFER,a.Pr);for(let n=0;n<c.length;n++){const i=c[n];a.Br[n]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,a.Br[n]);const r=o.convert(i.format,i.colorSpace),s=o.convert(i.type),l=b(i.internalFormat,r,s,i.colorSpace,!0===e.isXRRenderTarget),u=F(e);t.renderbufferStorageMultisample(t.RENDERBUFFER,u,l,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+n,t.RENDERBUFFER,a.Br[n])}t.bindRenderbuffer(t.RENDERBUFFER,null),e.depthBuffer&&(a.Fr=t.createRenderbuffer(),L(a.Fr,e,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(u){n.bindTexture(t.TEXTURE_CUBE_MAP,l.Ur),N(t.TEXTURE_CUBE_MAP,r);for(let n=0;n<6;n++)if(r.mipmaps&&r.mipmaps.length>0)for(let i=0;i<r.mipmaps.length;i++)O(a.Lr[n][i],e,r,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n,i);else O(a.Lr[n],e,r,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);v(r)&&g(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(d){for(let r=0,o=c.length;r<o;r++){const o=c[r],s=i.get(o);n.bindTexture(t.TEXTURE_2D,s.Ur),N(t.TEXTURE_2D,o),O(a.Lr,e,o,t.COLOR_ATTACHMENT0+r,t.TEXTURE_2D,0),v(o)&&g(t.TEXTURE_2D)}n.unbindTexture()}else{let i=t.TEXTURE_2D;if((e.isWebGL3DRenderTarget||e.isWebGLArrayRenderTarget)&&(i=e.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(i,l.Ur),N(i,r),r.mipmaps&&r.mipmaps.length>0)for(let n=0;n<r.mipmaps.length;n++)O(a.Lr[n],e,r,t.COLOR_ATTACHMENT0,i,n);else O(a.Lr,e,r,t.COLOR_ATTACHMENT0,i,0);v(r)&&g(i),n.unbindTexture()}e.depthBuffer&&D(e)},this.updateRenderTargetMipmap=function(t){const e=t.textures;for(let r=0,o=e.length;r<o;r++){const o=e[r];if(v(o)){const e=y(t),r=i.get(o).Ur;n.bindTexture(e,r),g(e),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(e){if(e.samples>0)if(!1===U(e)){const r=e.textures,o=e.width,s=e.height;let a=t.COLOR_BUFFER_BIT;const c=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,u=i.get(e),d=r.length>1;if(d)for(let e=0;e<r.length;e++)n.bindFramebuffer(t.FRAMEBUFFER,u.Pr),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,u.Lr),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,u.Pr),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,u.Lr);for(let n=0;n<r.length;n++){if(e.resolveDepthBuffer&&(e.depthBuffer&&(a|=t.DEPTH_BUFFER_BIT),e.stencilBuffer&&e.resolveStencilBuffer&&(a|=t.STENCIL_BUFFER_BIT)),d){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,u.Br[n]);const e=i.get(r[n]).Ur;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0)}t.blitFramebuffer(0,0,o,s,0,0,o,s,a,t.NEAREST),!0===l&&(P.length=0,B.length=0,P.push(t.COLOR_ATTACHMENT0+n),e.depthBuffer&&!1===e.resolveDepthBuffer&&(P.push(c),B.push(c),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,B)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,P))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),d)for(let e=0;e<r.length;e++){n.bindFramebuffer(t.FRAMEBUFFER,u.Pr),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.RENDERBUFFER,u.Br[e]);const o=i.get(r[e]).Ur;n.bindFramebuffer(t.FRAMEBUFFER,u.Lr),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+e,t.TEXTURE_2D,o,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,u.Pr)}else if(e.depthBuffer&&!1===e.resolveDepthBuffer&&l){const n=e.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=D,this.setupFrameBufferTexture=O,this.useMultisampledRTT=U}function EQ(t,e){return{convert:function(n,i=""){let r;const o=FV.getTransfer(i);if(n===UH)return t.UNSIGNED_BYTE;if(n===KH)return t.UNSIGNED_SHORT_4_4_4_4;if(n===qH)return t.UNSIGNED_SHORT_5_5_5_1;if(n===XH)return t.UNSIGNED_INT_5_9_9_9_REV;if(n===HH)return t.BYTE;if(n===zH)return t.SHORT;if(n===VH)return t.UNSIGNED_SHORT;if(n===$H)return t.INT;if(n===GH)return t.UNSIGNED_INT;if(n===jH)return t.FLOAT;if(n===WH)return t.HALF_FLOAT;if(n===ZH)return t.ALPHA;if(n===JH)return t.RGB;if(n===QH)return t.RGBA;if(n===tz)return t.LUMINANCE;if(n===ez)return t.LUMINANCE_ALPHA;if(n===nz)return t.DEPTH_COMPONENT;if(n===iz)return t.DEPTH_STENCIL;if(n===rz)return t.RED;if(n===oz)return t.RED_INTEGER;if(n===sz)return t.RG;if(n===az)return t.RG_INTEGER;if(n===lz)return t.RGBA_INTEGER;if(n===cz||n===uz||n===dz||n===hz)if(o===Qz){if(r=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(n===cz)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===uz)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===dz)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===hz)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=e.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(n===cz)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===uz)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===dz)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===hz)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===fz||n===pz||n===mz||n===vz){if(r=e.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(n===fz)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===pz)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===mz)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===vz)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===gz||n===yz||n===bz){if(r=e.get("WEBGL_compressed_texture_etc"),null===r)return null;if(n===gz||n===yz)return o===Qz?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(n===bz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(n===wz||n===_z||n===xz||n===Sz||n===Mz||n===Cz||n===kz||n===Ez||n===Tz||n===Az||n===Nz||n===Iz||n===Rz||n===Oz){if(r=e.get("WEBGL_compressed_texture_astc"),null===r)return null;if(n===wz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===_z)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===xz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Sz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Mz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===Cz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===kz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Ez)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Tz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Az)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Nz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Iz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Rz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Oz)return o===Qz?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Lz||n===Dz||n===Pz){if(r=e.get("EXT_texture_compression_bptc"),null===r)return null;if(n===Lz)return o===Qz?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Dz)return r.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Pz)return r.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===Bz||n===Fz||n===Uz||n===Hz){if(r=e.get("EXT_texture_compression_rgtc"),null===r)return null;if(n===Lz)return r.COMPRESSED_RED_RGTC1_EXT;if(n===Fz)return r.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===Uz)return r.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Hz)return r.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===YH?t.UNSIGNED_INT_24_8:void 0!==t[n]?t[n]:null}}}class TQ{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,n){if(null===this.texture){const i=new KV;t.properties.get(i).Ur=e.texture,e.depthNear===n.depthNear&&e.depthFar===n.depthFar||(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(t){if(null!==this.texture&&null===this.mesh){const e=t.cameras[0].viewport,n=new uj({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new ij(new Tq(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class AQ extends fV{constructor(t,e){super();const n=this;let i=null,r=1,o=null,s="local-floor",a=1,l=null,c=null,u=null,d=null,h=null,f=null;const p=new TQ,m=e.getContextAttributes();let v=null,g=null;const y=[],b=[],w=new CV;let _=null;const x=new mj;x.viewport=new qV;const S=new mj;S.viewport=new qV;const M=[x,S],C=new nX;let k=null,E=null;function T(t){const e=b.indexOf(t.inputSource);if(-1===e)return;const n=y[e];void 0!==n&&(n.update(t.inputSource,t.frame,l||o),n.dispatchEvent({type:t.type,data:t.inputSource}))}function A(){i.removeEventListener("select",T),i.removeEventListener("selectstart",T),i.removeEventListener("selectend",T),i.removeEventListener("squeeze",T),i.removeEventListener("squeezestart",T),i.removeEventListener("squeezeend",T),i.removeEventListener("end",A),i.removeEventListener("inputsourceschange",N);for(let t=0;t<y.length;t++){const e=b[t];null!==e&&(b[t]=null,y[t].disconnect(e))}k=null,E=null,p.reset(),t.setRenderTarget(v),h=null,d=null,u=null,i=null,g=null,D.stop(),n.isPresenting=!1,t.setPixelRatio(_),t.setSize(w.width,w.height,!1),n.dispatchEvent({type:"sessionend"})}function N(t){for(let e=0;e<t.removed.length;e++){const n=t.removed[e],i=b.indexOf(n);i>=0&&(b[i]=null,y[i].disconnect(n))}for(let e=0;e<t.added.length;e++){const n=t.added[e];let i=b.indexOf(n);if(-1===i){for(let t=0;t<y.length;t++){if(t>=b.length){b.push(n),i=t;break}if(null===b[t]){b[t]=n,i=t;break}}if(-1===i)break}const r=y[i];r&&r.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=y[t];return void 0===e&&(e=new xj,y[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=y[t];return void 0===e&&(e=new xj,y[t]=e),e.getGripSpace()},this.getHand=function(t){let e=y[t];return void 0===e&&(e=new xj,y[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,n.isPresenting},this.setReferenceSpaceType=function(t){s=t,n.isPresenting},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(t){l=t},this.getBaseLayer=function(){return null!==d?d:h},this.getBinding=function(){return u},this.getFrame=function(){return f},this.getSession=function(){return i},this.setSession=async function(c){if(i=c,null!==i){v=t.getRenderTarget(),i.addEventListener("select",T),i.addEventListener("selectstart",T),i.addEventListener("selectend",T),i.addEventListener("squeeze",T),i.addEventListener("squeezestart",T),i.addEventListener("squeezeend",T),i.addEventListener("end",A),i.addEventListener("inputsourceschange",N),!0!==m.xrCompatible&&await e.makeXRCompatible(),_=t.getPixelRatio(),t.getSize(w);if("undefined"!=typeof XRWebGLBinding&&"createProjectionLayer"in XRWebGLBinding.prototype){let n=null,o=null,s=null;m.depth&&(s=m.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,n=m.stencil?iz:nz,o=m.stencil?YH:GH);const a={colorFormat:e.RGBA8,depthFormat:s,scaleFactor:r};u=new XRWebGLBinding(i,e),d=u.createProjectionLayer(a),i.updateRenderState({layers:[d]}),t.setPixelRatio(1),t.setSize(d.textureWidth,d.textureHeight,!1),g=new XV(d.textureWidth,d.textureHeight,{format:QH,type:UH,depthTexture:new hK(d.textureWidth,d.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:t.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===d.ignoreDepthValues,resolveStencilBuffer:!1===d.ignoreDepthValues})}else{const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:r};h=new XRWebGLLayer(i,e,n),i.updateRenderState({baseLayer:h}),t.setPixelRatio(1),t.setSize(h.framebufferWidth,h.framebufferHeight,!1),g=new XV(h.framebufferWidth,h.framebufferHeight,{format:QH,type:UH,colorSpace:t.outputColorSpace,stencilBuffer:m.stencil,resolveDepthBuffer:!1===h.ignoreDepthValues,resolveStencilBuffer:!1===h.ignoreDepthValues})}g.isXRRenderTarget=!0,this.setFoveation(a),l=null,o=await i.requestReferenceSpace(s),D.setContext(i),D.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==i)return i.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};const I=new t$,R=new t$;function O(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.updateCamera=function(t){if(null===i)return;let e=t.near,n=t.far;null!==p.texture&&(p.depthNear>0&&(e=p.depthNear),p.depthFar>0&&(n=p.depthFar)),C.near=S.near=x.near=e,C.far=S.far=x.far=n,k===C.near&&E===C.far||(i.updateRenderState({depthNear:C.near,depthFar:C.far}),k=C.near,E=C.far),x.layers.mask=2|t.layers.mask,S.layers.mask=4|t.layers.mask,C.layers.mask=x.layers.mask|S.layers.mask;const r=t.parent,o=C.cameras;O(C,r);for(let i=0;i<o.length;i++)O(o[i],r);2===o.length?function(t,e,n){I.setFromMatrixPosition(e.matrixWorld),R.setFromMatrixPosition(n.matrixWorld);const i=I.distanceTo(R),r=e.projectionMatrix.elements,o=n.projectionMatrix.elements,s=r[14]/(r[10]-1),a=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],d=(o[8]+1)/o[0],h=s*u,f=s*d,p=i/(-u+d),m=p*-u;if(e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert(),-1===r[10])t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse);else{const e=s+p,n=a+p,r=h-m,o=f+(i-m),u=l*a/n*e,d=c*a/n*e;t.projectionMatrix.makePerspective(r,o,u,d,e,n),t.projectionMatrixInverse.copy(t.projectionMatrix).invert()}}(C,x,S):C.projectionMatrix.copy(x.projectionMatrix),function(t,e,n){null===n?t.matrix.copy(e.matrixWorld):(t.matrix.copy(n.matrixWorld),t.matrix.invert(),t.matrix.multiply(e.matrixWorld));t.matrix.decompose(t.position,t.quaternion,t.scale),t.updateMatrixWorld(!0),t.projectionMatrix.copy(e.projectionMatrix),t.projectionMatrixInverse.copy(e.projectionMatrixInverse),t.isPerspectiveCamera&&(t.fov=2*gV*Math.atan(1/t.projectionMatrix.elements[5]),t.zoom=1)}(t,C,r)},this.getCamera=function(){return C},this.getFoveation=function(){if(null!==d||null!==h)return a},this.setFoveation=function(t){a=t,null!==d&&(d.fixedFoveation=t),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=t)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(C)};let L=null;const D=new JX;D.setAnimationLoop((function(e,r){if(c=r.getViewerPose(l||o),f=r,null!==c){const e=c.views;null!==h&&(t.setRenderTargetFramebuffer(g,h.framebuffer),t.setRenderTarget(g));let n=!1;e.length!==C.cameras.length&&(C.cameras.length=0,n=!0);for(let i=0;i<e.length;i++){const r=e[i];let o=null;if(null!==h)o=h.getViewport(r);else{const e=u.getViewSubImage(d,r);o=e.viewport,0===i&&(t.setRenderTargetTextures(g,e.colorTexture,e.depthStencilTexture),t.setRenderTarget(g))}let s=M[i];void 0===s&&(s=new mj,s.layers.enable(i),s.viewport=new qV,M[i]=s),s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.quaternion,s.scale),s.projectionMatrix.fromArray(r.projectionMatrix),s.projectionMatrixInverse.copy(s.projectionMatrix).invert(),s.viewport.set(o.x,o.y,o.width,o.height),0===i&&(C.matrix.copy(s.matrix),C.matrix.decompose(C.position,C.quaternion,C.scale)),!0===n&&C.cameras.push(s)}const r=i.enabledFeatures;if(r&&r.includes("depth-sensing")&&"gpu-optimized"==i.depthUsage&&u){const n=u.getDepthInformation(e[0]);n&&n.isValid&&n.texture&&p.init(t,n,i.renderState)}}for(let t=0;t<y.length;t++){const e=b[t],n=y[t];null!==e&&void 0!==n&&n.update(e,r,l||o)}L&&L(e,r),r.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:r}),f=null})),this.setAnimationLoop=function(t){L=t},this.dispose=function(){}}}const NQ=new H$,IQ=new N$;function RQ(t,e){function n(t,e){!0===t.matrixAutoUpdate&&t.updateMatrix(),e.value.copy(t.matrix)}function i(t,i){t.opacity.value=i.opacity,i.color&&t.diffuse.value.copy(i.color),i.emissive&&t.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(t.map.value=i.map,n(i.map,t.mapTransform)),i.alphaMap&&(t.alphaMap.value=i.alphaMap,n(i.alphaMap,t.alphaMapTransform)),i.bumpMap&&(t.bumpMap.value=i.bumpMap,n(i.bumpMap,t.bumpMapTransform),t.bumpScale.value=i.bumpScale,1===i.side&&(t.bumpScale.value*=-1)),i.normalMap&&(t.normalMap.value=i.normalMap,n(i.normalMap,t.normalMapTransform),t.normalScale.value.copy(i.normalScale),1===i.side&&t.normalScale.value.negate()),i.displacementMap&&(t.displacementMap.value=i.displacementMap,n(i.displacementMap,t.displacementMapTransform),t.displacementScale.value=i.displacementScale,t.displacementBias.value=i.displacementBias),i.emissiveMap&&(t.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,t.emissiveMapTransform)),i.specularMap&&(t.specularMap.value=i.specularMap,n(i.specularMap,t.specularMapTransform)),i.alphaTest>0&&(t.alphaTest.value=i.alphaTest);const r=e.get(i),o=r.envMap,s=r.envMapRotation;o&&(t.envMap.value=o,NQ.copy(s),NQ.x*=-1,NQ.y*=-1,NQ.z*=-1,o.isCubeTexture&&!1===o.isRenderTargetTexture&&(NQ.y*=-1,NQ.z*=-1),t.envMapRotation.value.setFromMatrix4(IQ.makeRotationFromEuler(NQ)),t.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,t.reflectivity.value=i.reflectivity,t.ior.value=i.ior,t.refractionRatio.value=i.refractionRatio),i.lightMap&&(t.lightMap.value=i.lightMap,t.lightMapIntensity.value=i.lightMapIntensity,n(i.lightMap,t.lightMapTransform)),i.aoMap&&(t.aoMap.value=i.aoMap,t.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,t.aoMapTransform))}return{refreshFogUniforms:function(e,n){n.color.getRGB(e.fogColor.value,lj(t)),n.isFog?(e.fogNear.value=n.near,e.fogFar.value=n.far):n.isFogExp2&&(e.fogDensity.value=n.density)},refreshMaterialUniforms:function(t,r,o,s,a){r.isMeshBasicMaterial||r.isMeshLambertMaterial?i(t,r):r.isMeshToonMaterial?(i(t,r),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(t,r)):r.isMeshPhongMaterial?(i(t,r),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4)}(t,r)):r.isMeshStandardMaterial?(i(t,r),function(t,e){t.metalness.value=e.metalness,e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap,n(e.metalnessMap,t.metalnessMapTransform));t.roughness.value=e.roughness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap,n(e.roughnessMap,t.roughnessMapTransform));e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}(t,r),r.isMeshPhysicalMaterial&&function(t,e,i){t.ior.value=e.ior,e.sheen>0&&(t.sheenColor.value.copy(e.sheenColor).multiplyScalar(e.sheen),t.sheenRoughness.value=e.sheenRoughness,e.sheenColorMap&&(t.sheenColorMap.value=e.sheenColorMap,n(e.sheenColorMap,t.sheenColorMapTransform)),e.sheenRoughnessMap&&(t.sheenRoughnessMap.value=e.sheenRoughnessMap,n(e.sheenRoughnessMap,t.sheenRoughnessMapTransform)));e.clearcoat>0&&(t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap,n(e.clearcoatMap,t.clearcoatMapTransform)),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap,n(e.clearcoatRoughnessMap,t.clearcoatRoughnessMapTransform)),e.clearcoatNormalMap&&(t.clearcoatNormalMap.value=e.clearcoatNormalMap,n(e.clearcoatNormalMap,t.clearcoatNormalMapTransform),t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),1===e.side&&t.clearcoatNormalScale.value.negate()));e.dispersion>0&&(t.dispersion.value=e.dispersion);e.iridescence>0&&(t.iridescence.value=e.iridescence,t.iridescenceIOR.value=e.iridescenceIOR,t.iridescenceThicknessMinimum.value=e.iridescenceThicknessRange[0],t.iridescenceThicknessMaximum.value=e.iridescenceThicknessRange[1],e.iridescenceMap&&(t.iridescenceMap.value=e.iridescenceMap,n(e.iridescenceMap,t.iridescenceMapTransform)),e.iridescenceThicknessMap&&(t.iridescenceThicknessMap.value=e.iridescenceThicknessMap,n(e.iridescenceThicknessMap,t.iridescenceThicknessMapTransform)));e.transmission>0&&(t.transmission.value=e.transmission,t.transmissionSamplerMap.value=i.texture,t.transmissionSamplerSize.value.set(i.width,i.height),e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap,n(e.transmissionMap,t.transmissionMapTransform)),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap,n(e.thicknessMap,t.thicknessMapTransform)),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor));e.anisotropy>0&&(t.anisotropyVector.value.set(e.anisotropy*Math.cos(e.anisotropyRotation),e.anisotropy*Math.sin(e.anisotropyRotation)),e.anisotropyMap&&(t.anisotropyMap.value=e.anisotropyMap,n(e.anisotropyMap,t.anisotropyMapTransform)));t.specularIntensity.value=e.specularIntensity,t.specularColor.value.copy(e.specularColor),e.specularColorMap&&(t.specularColorMap.value=e.specularColorMap,n(e.specularColorMap,t.specularColorMapTransform));e.specularIntensityMap&&(t.specularIntensityMap.value=e.specularIntensityMap,n(e.specularIntensityMap,t.specularIntensityMapTransform))}(t,r,a)):r.isMeshMatcapMaterial?(i(t,r),function(t,e){e.matcap&&(t.matcap.value=e.matcap)}(t,r)):r.isMeshDepthMaterial?i(t,r):r.isMeshDistanceMaterial?(i(t,r),function(t,n){const i=e.get(n).light;t.referencePosition.value.setFromMatrixPosition(i.matrixWorld),t.nearDistance.value=i.shadow.camera.near,t.farDistance.value=i.shadow.camera.far}(t,r)):r.isMeshNormalMaterial?i(t,r):r.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform))}(t,r),r.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,r)):r.isPointsMaterial?function(t,e,i,r){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*i,t.scale.value=.5*r,e.map&&(t.map.value=e.map,n(e.map,t.uvTransform));e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform));e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,r,o,s):r.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map,n(e.map,t.mapTransform));e.alphaMap&&(t.alphaMap.value=e.alphaMap,n(e.alphaMap,t.alphaMapTransform));e.alphaTest>0&&(t.alphaTest.value=e.alphaTest)}(t,r):r.isShadowMaterial?(t.color.value.copy(r.color),t.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function OQ(t,e,n,i){let r={},o={},s=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(t,e,n,i){const r=t.value,o=e+"_"+n;if(void 0===i[o])return i[o]="number"==typeof r||"boolean"==typeof r?r:r.clone(),!0;{const t=i[o];if("number"==typeof r||"boolean"==typeof r){if(t!==r)return i[o]=r,!0}else if(!1===t.equals(r))return t.copy(r),!0}return!1}function c(t){const e={boundary:0,storage:0};return"number"==typeof t||"boolean"==typeof t?(e.boundary=4,e.storage=4):t.isVector2?(e.boundary=8,e.storage=8):t.isVector3||t.isColor?(e.boundary=16,e.storage=12):t.isVector4?(e.boundary=16,e.storage=16):t.isMatrix3?(e.boundary=48,e.storage=48):t.isMatrix4?(e.boundary=64,e.storage=64):t.isTexture,e}function u(e){const n=e.target;n.removeEventListener("dispose",u);const i=s.indexOf(n.Ir);s.splice(i,1),t.deleteBuffer(r[n.id]),delete r[n.id],delete o[n.id]}return{bind:function(t,e){const n=e.program;i.uniformBlockBinding(t,n)},update:function(n,d){let h=r[n.id];void 0===h&&(!function(t){const e=t.uniforms;let n=0;const i=16;for(let o=0,s=e.length;o<s;o++){const t=Array.isArray(e[o])?e[o]:[e[o]];for(let e=0,r=t.length;e<r;e++){const r=t[e],o=Array.isArray(r.value)?r.value:[r.value];for(let t=0,e=o.length;t<e;t++){const e=c(o[t]),s=n%i,a=s%e.boundary,l=s+a;n+=a,0!==l&&i-l<e.storage&&(n+=i-l),r.qr=new Float32Array(e.storage/Float32Array.BYTES_PER_ELEMENT),r.Yr=n,n+=e.storage}}}const r=n%i;r>0&&(n+=i-r);t.Xr=n,t.Zr={}}(n),h=function(e){const n=function(){for(let t=0;t<a;t++)if(-1===s.indexOf(t))return s.push(t),t;return 0}();e.Ir=n;const i=t.createBuffer(),r=e.Xr,o=e.usage;return t.bindBuffer(t.UNIFORM_BUFFER,i),t.bufferData(t.UNIFORM_BUFFER,r,o),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,n,i),i}(n),r[n.id]=h,n.addEventListener("dispose",u));const f=d.program;i.updateUBOMapping(n,f);const p=e.render.frame;o[n.id]!==p&&(!function(e){const n=r[e.id],i=e.uniforms,o=e.Zr;t.bindBuffer(t.UNIFORM_BUFFER,n);for(let r=0,s=i.length;r<s;r++){const e=Array.isArray(i[r])?i[r]:[i[r]];for(let n=0,i=e.length;n<i;n++){const i=e[n];if(!0===l(i,r,n,o)){const e=i.Yr,n=Array.isArray(i.value)?i.value:[i.value];let r=0;for(let o=0;o<n.length;o++){const s=n[o],a=c(s);"number"==typeof s||"boolean"==typeof s?(i.qr[0]=s,t.bufferSubData(t.UNIFORM_BUFFER,e+r,i.qr)):s.isMatrix3?(i.qr[0]=s.elements[0],i.qr[1]=s.elements[1],i.qr[2]=s.elements[2],i.qr[3]=0,i.qr[4]=s.elements[3],i.qr[5]=s.elements[4],i.qr[6]=s.elements[5],i.qr[7]=0,i.qr[8]=s.elements[6],i.qr[9]=s.elements[7],i.qr[10]=s.elements[8],i.qr[11]=0):(s.toArray(i.qr,r),r+=a.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,e,i.qr)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}(n),o[n.id]=p)},dispose:function(){for(const e in r)t.deleteBuffer(r[e]);s=[],r={},o={}}}}class LQ{constructor(t={}){const{canvas:e=RV(),context:n=null,depth:i=!0,stencil:r=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:a=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1,reverseDepthBuffer:d=!1}=t;let h;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=o;const f=new Uint32Array(4),p=new Int32Array(4);let m=null,v=null;const g=[],y=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=0,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const b=this;let w=!1;this.Jr=Xz;let _=0,x=0,S=null,M=-1,C=null;const k=new qV,E=new qV;let T=null;const A=new xG(0);let N=0,I=e.width,R=e.height,O=1,L=null,D=null;const P=new qV(0,0,I,R),B=new qV(0,0,I,R);let F=!1;const U=new MW;let H=!1,z=!1;const V=new N$,$=new N$,G=new t$,j=new qV,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let K=!1;function q(){return null===S?O:1}let Y,X,Z,J,Q,tt,et,nt,it,rt,ot,st,at,lt,ct,ut,dt,ht,ft,pt,mt,vt,gt,yt,bt=n;function wt(t,n){return e.getContext(t,n)}try{const t={alpha:!0,depth:i,stencil:r,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${WU}`),e.addEventListener("webglcontextlost",St,!1),e.addEventListener("webglcontextrestored",Mt,!1),e.addEventListener("webglcontextcreationerror",Ct,!1),null===bt){const e="webgl2";if(bt=wt(e,t),null===bt)throw wt(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch($t){throw $t}function _t(){Y=new IZ(bt),Y.init(),vt=new EQ(bt,Y),X=new cZ(bt,Y,t,vt),Z=new CQ(bt,Y),X.reverseDepthBuffer&&d&&Z.buffers.depth.setReversed(!0),J=new LZ(bt),Q=new hQ,tt=new kQ(bt,Y,Z,Q,X,vt,J),et=new dZ(b),nt=new NZ(b),it=new QX(bt),gt=new aZ(bt,it),rt=new RZ(bt,it,J,gt),ot=new PZ(bt,rt,it,J),ft=new DZ(bt,X,tt),ut=new uZ(Q),st=new dQ(b,et,nt,Y,X,gt,ut),at=new RQ(b,Q),lt=new vQ,ct=new xQ(Y),ht=new sZ(b,et,nt,Z,ot,h,a),dt=new SQ(b,ot,X),yt=new OQ(bt,J,X,Z),pt=new lZ(bt,Y,J),mt=new OZ(bt,Y,J),J.programs=st.programs,b.capabilities=X,b.extensions=Y,b.properties=Q,b.renderLists=lt,b.shadowMap=dt,b.state=Z,b.info=J}_t();const xt=new AQ(b,bt);function St(t){t.preventDefault(),w=!0}function Mt(){w=!1;const t=J.autoReset,e=dt.enabled,n=dt.autoUpdate,i=dt.needsUpdate,r=dt.type;_t(),J.autoReset=t,dt.enabled=e,dt.autoUpdate=n,dt.needsUpdate=i,dt.type=r}function Ct(t){}function kt(t){const e=t.target;e.removeEventListener("dispose",kt),function(t){(function(t){const e=Q.get(t).programs;void 0!==e&&(e.forEach((function(t){st.releaseProgram(t)})),t.isShaderMaterial&&st.releaseShaderCache(t))})(t),Q.remove(t)}(e)}function Et(t,e,n){!0===t.transparent&&2===t.side&&!1===t.forceSinglePass?(t.side=1,t.needsUpdate=!0,Bt(t,e,n),t.side=0,t.needsUpdate=!0,Bt(t,e,n),t.side=2):Bt(t,e,n)}this.xr=xt,this.getContext=function(){return bt},this.getContextAttributes=function(){return bt.getContextAttributes()},this.forceContextLoss=function(){const t=Y.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=Y.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return O},this.setPixelRatio=function(t){void 0!==t&&(O=t,this.setSize(I,R,!1))},this.getSize=function(t){return t.set(I,R)},this.setSize=function(t,n,i=!0){xt.isPresenting||(I=t,R=n,e.width=Math.floor(t*O),e.height=Math.floor(n*O),!0===i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(I*O,R*O).floor()},this.setDrawingBufferSize=function(t,n,i){I=t,R=n,O=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(k)},this.getViewport=function(t){return t.copy(P)},this.setViewport=function(t,e,n,i){t.isVector4?P.set(t.x,t.y,t.z,t.w):P.set(t,e,n,i),Z.viewport(k.copy(P).multiplyScalar(O).round())},this.getScissor=function(t){return t.copy(B)},this.setScissor=function(t,e,n,i){t.isVector4?B.set(t.x,t.y,t.z,t.w):B.set(t,e,n,i),Z.scissor(E.copy(B).multiplyScalar(O).round())},this.getScissorTest=function(){return F},this.setScissorTest=function(t){Z.setScissorTest(F=t)},this.setOpaqueSort=function(t){L=t},this.setTransparentSort=function(t){D=t},this.getClearColor=function(t){return t.copy(ht.getClearColor())},this.setClearColor=function(){ht.setClearColor(...arguments)},this.getClearAlpha=function(){return ht.getClearAlpha()},this.setClearAlpha=function(){ht.setClearAlpha(...arguments)},this.clear=function(t=!0,e=!0,n=!0){let i=0;if(t){let t=!1;if(null!==S){const e=S.texture.format;t=e===lz||e===az||e===oz}if(t){const t=S.texture.type,e=t===UH||t===GH||t===VH||t===YH||t===KH||t===qH,n=ht.getClearColor(),i=ht.getClearAlpha(),r=n.r,o=n.g,s=n.b;e?(f[0]=r,f[1]=o,f[2]=s,f[3]=i,bt.clearBufferuiv(bt.COLOR,0,f)):(p[0]=r,p[1]=o,p[2]=s,p[3]=i,bt.clearBufferiv(bt.COLOR,0,p))}else i|=bt.COLOR_BUFFER_BIT}e&&(i|=bt.DEPTH_BUFFER_BIT),n&&(i|=bt.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),bt.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",St,!1),e.removeEventListener("webglcontextrestored",Mt,!1),e.removeEventListener("webglcontextcreationerror",Ct,!1),ht.dispose(),lt.dispose(),ct.dispose(),Q.dispose(),et.dispose(),nt.dispose(),ot.dispose(),gt.dispose(),yt.dispose(),st.dispose(),xt.dispose(),xt.removeEventListener("sessionstart",At),xt.removeEventListener("sessionend",Nt),It.stop()},this.renderBufferDirect=function(t,e,n,i,r,o){null===e&&(e=W);const s=r.isMesh&&r.matrixWorld.determinant()<0,a=function(t,e,n,i,r){!0!==e.isScene&&(e=W);tt.resetTextureUnits();const o=e.fog,s=i.isMeshStandardMaterial?e.environment:null,a=null===S?b.outputColorSpace:!0===S.isXRRenderTarget?S.texture.colorSpace:Zz,l=(i.isMeshStandardMaterial?nt:et).get(i.envMap||s),c=!0===i.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!i.normalMap||i.anisotropy>0),d=!!n.morphAttributes.position,h=!!n.morphAttributes.normal,f=!!n.morphAttributes.color;let p=0;i.toneMapped&&(null!==S&&!0!==S.isXRRenderTarget||(p=b.toneMapping));const m=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==m?m.length:0,y=Q.get(i),w=v.state.lights;if(!0===H&&(!0===z||t!==C)){const e=t===C&&i.id===M;ut.setState(i,t,e)}let _=!1;i.version===y.Hr?y.needsLights&&y.lightsStateVersion!==w.state.version||y.outputColorSpace!==a||r.isBatchedMesh&&!1===y.batching?_=!0:r.isBatchedMesh||!0!==y.batching?r.isBatchedMesh&&!0===y.batchingColor&&null===r.colorTexture||r.isBatchedMesh&&!1===y.batchingColor&&null!==r.colorTexture||r.isInstancedMesh&&!1===y.instancing?_=!0:r.isInstancedMesh||!0!==y.instancing?r.isSkinnedMesh&&!1===y.skinning?_=!0:r.isSkinnedMesh||!0!==y.skinning?r.isInstancedMesh&&!0===y.instancingColor&&null===r.instanceColor||r.isInstancedMesh&&!1===y.instancingColor&&null!==r.instanceColor||r.isInstancedMesh&&!0===y.instancingMorph&&null===r.morphTexture||r.isInstancedMesh&&!1===y.instancingMorph&&null!==r.morphTexture||y.envMap!==l||!0===i.fog&&y.fog!==o?_=!0:void 0===y.numClippingPlanes||y.numClippingPlanes===ut.numPlanes&&y.numIntersection===ut.numIntersection?(y.vertexAlphas!==c||y.vertexTangents!==u||y.morphTargets!==d||y.morphNormals!==h||y.morphColors!==f||y.toneMapping!==p||y.morphTargetsCount!==g)&&(_=!0):_=!0:_=!0:_=!0:_=!0:(_=!0,y.Hr=i.version);let x=y.currentProgram;!0===_&&(x=Bt(i,e,r));let k=!1,E=!1,T=!1;const A=x.getUniforms(),N=y.uniforms;Z.useProgram(x.program)&&(k=!0,E=!0,T=!0);i.id!==M&&(M=i.id,E=!0);if(k||C!==t){Z.buffers.depth.getReversed()?(V.copy(t.projectionMatrix),function(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}(V),function(t){const e=t.elements;-1===e[11]?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=1-e[14])}(V),A.setValue(bt,"projectionMatrix",V)):A.setValue(bt,"projectionMatrix",t.projectionMatrix),A.setValue(bt,"viewMatrix",t.matrixWorldInverse);const e=A.map.cameraPosition;void 0!==e&&e.setValue(bt,G.setFromMatrixPosition(t.matrixWorld)),X.logarithmicDepthBuffer&&A.setValue(bt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&A.setValue(bt,"isOrthographic",!0===t.isOrthographicCamera),C!==t&&(C=t,E=!0,T=!0)}if(r.isSkinnedMesh){A.setOptional(bt,r,"bindMatrix"),A.setOptional(bt,r,"bindMatrixInverse");const t=r.skeleton;t&&(null===t.boneTexture&&t.computeBoneTexture(),A.setValue(bt,"boneTexture",t.boneTexture,tt))}r.isBatchedMesh&&(A.setOptional(bt,r,"batchingTexture"),A.setValue(bt,"batchingTexture",r.Je,tt),A.setOptional(bt,r,"batchingIdTexture"),A.setValue(bt,"batchingIdTexture",r.Sn,tt),A.setOptional(bt,r,"batchingColorTexture"),null!==r.Qe&&A.setValue(bt,"batchingColorTexture",r.Qe,tt));const I=n.morphAttributes;void 0===I.position&&void 0===I.normal&&void 0===I.color||ft.update(r,n,x);(E||y.receiveShadow!==r.receiveShadow)&&(y.receiveShadow=r.receiveShadow,A.setValue(bt,"receiveShadow",r.receiveShadow));i.isMeshGouraudMaterial&&null!==i.envMap&&(N.envMap.value=l,N.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);i.isMeshStandardMaterial&&null===i.envMap&&null!==e.environment&&(N.envMapIntensity.value=e.environmentIntensity);E&&(A.setValue(bt,"toneMappingExposure",b.toneMappingExposure),y.needsLights&&(D=T,(L=N).ambientLightColor.needsUpdate=D,L.lightProbe.needsUpdate=D,L.directionalLights.needsUpdate=D,L.directionalLightShadows.needsUpdate=D,L.pointLights.needsUpdate=D,L.pointLightShadows.needsUpdate=D,L.spotLights.needsUpdate=D,L.spotLightShadows.needsUpdate=D,L.rectAreaLights.needsUpdate=D,L.hemisphereLights.needsUpdate=D),o&&!0===i.fog&&at.refreshFogUniforms(N,o),at.refreshMaterialUniforms(N,i,O,R,v.state.transmissionRenderTarget[t.id]),zJ.upload(bt,Ft(y),N,tt));var L,D;i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(zJ.upload(bt,Ft(y),N,tt),i.uniformsNeedUpdate=!1);i.isSpriteMaterial&&A.setValue(bt,"center",r.center);if(A.setValue(bt,"modelViewMatrix",r.modelViewMatrix),A.setValue(bt,"normalMatrix",r.normalMatrix),A.setValue(bt,"modelMatrix",r.matrixWorld),i.isShaderMaterial||i.isRawShaderMaterial){const t=i.uniformsGroups;for(let e=0,n=t.length;e<n;e++){const n=t[e];yt.update(n,x),yt.bind(n,x)}}return x}(t,e,n,i,r);Z.setMaterial(i,s);let l=n.index,c=1;if(!0===i.wireframe){if(l=rt.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,d=n.attributes.position;let h=u.start*c,f=(u.start+u.count)*c;null!==o&&(h=Math.max(h,o.start*c),f=Math.min(f,(o.start+o.count)*c)),null!==l?(h=Math.max(h,0),f=Math.min(f,l.count)):null!=d&&(h=Math.max(h,0),f=Math.min(f,d.count));const p=f-h;if(p<0||p===1/0)return;let m;gt.setup(r,i,a,n,l);let g=pt;if(null!==l&&(m=it.get(l),g=mt,g.setIndex(m)),r.isMesh)!0===i.wireframe?(Z.setLineWidth(i.wireframeLinewidth*q()),g.setMode(bt.LINES)):g.setMode(bt.TRIANGLES);else if(r.isLine){let t=i.linewidth;void 0===t&&(t=1),Z.setLineWidth(t*q()),r.isLineSegments?g.setMode(bt.LINES):r.isLineLoop?g.setMode(bt.LINE_LOOP):g.setMode(bt.LINE_STRIP)}else r.isPoints?g.setMode(bt.POINTS):r.isSprite&&g.setMode(bt.TRIANGLES);if(r.isBatchedMesh)if(null!==r.xn)LV("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),g.renderMultiDrawInstances(r.wn,r.bn,r._n,r.xn);else if(Y.get("WEBGL_multi_draw"))g.renderMultiDraw(r.wn,r.bn,r._n);else{const t=r.wn,e=r.bn,n=r._n,o=l?it.get(l).bytesPerElement:1,s=Q.get(i).currentProgram.getUniforms();for(let i=0;i<n;i++)s.setValue(bt,"_gl_DrawID",i),g.render(t[i]/o,e[i])}else if(r.isInstancedMesh)g.renderInstances(h,p,r.count);else if(n.isInstancedBufferGeometry){const t=void 0!==n.Ke?n.Ke:1/0,e=Math.min(n.instanceCount,t);g.renderInstances(h,p,e)}else g.render(h,p)},this.compile=function(t,e,n=null){null===n&&(n=t),v=ct.get(n),v.init(e),y.push(v),n.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(v.pushLight(t),t.castShadow&&v.pushShadow(t))})),t!==n&&t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(v.pushLight(t),t.castShadow&&v.pushShadow(t))})),v.setupLights();const i=new Set;return t.traverse((function(t){if(!(t.isMesh||t.isPoints||t.isLine||t.isSprite))return;const e=t.material;if(e)if(Array.isArray(e))for(let r=0;r<e.length;r++){const o=e[r];Et(o,n,t),i.add(o)}else Et(e,n,t),i.add(e)})),v=y.pop(),i},this.compileAsync=function(t,e,n=null){const i=this.compile(t,e,n);return new Promise((e=>{function n(){i.forEach((function(t){Q.get(t).currentProgram.isReady()&&i.delete(t)})),0!==i.size?setTimeout(n,10):e(t)}null!==Y.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};let Tt=null;function At(){It.stop()}function Nt(){It.start()}const It=new JX;function Rt(t,e,n,i){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)v.pushLight(t),t.castShadow&&v.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||U.intersectsSprite(t)){i&&j.setFromMatrixPosition(t.matrixWorld).applyMatrix4($);const e=ot.update(t),r=t.material;r.visible&&m.push(t,e,r,n,j.z,null)}}else if((t.isMesh||t.isLine||t.isPoints)&&(!t.frustumCulled||U.intersectsObject(t))){const e=ot.update(t),r=t.material;if(i&&(void 0!==t.boundingSphere?(null===t.boundingSphere&&t.computeBoundingSphere(),j.copy(t.boundingSphere.center)):(null===e.boundingSphere&&e.computeBoundingSphere(),j.copy(e.boundingSphere.center)),j.applyMatrix4(t.matrixWorld).applyMatrix4($)),Array.isArray(r)){const i=e.groups;for(let o=0,s=i.length;o<s;o++){const s=i[o],a=r[s.materialIndex];a&&a.visible&&m.push(t,e,a,n,j.z,s)}}else r.visible&&m.push(t,e,r,n,j.z,null)}const r=t.children;for(let o=0,s=r.length;o<s;o++)Rt(r[o],e,n,i)}function Ot(t,e,n,i){const r=t.opaque,o=t.transmissive,s=t.transparent;v.setupLightsView(n),!0===H&&ut.setGlobalState(b.clippingPlanes,n),i&&Z.viewport(k.copy(i)),r.length>0&&Dt(r,e,n),o.length>0&&Dt(o,e,n),s.length>0&&Dt(s,e,n),Z.buffers.depth.setTest(!0),Z.buffers.depth.setMask(!0),Z.buffers.color.setMask(!0),Z.setPolygonOffset(!1)}function Lt(t,e,n,i){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===v.state.transmissionRenderTarget[i.id]&&(v.state.transmissionRenderTarget[i.id]=new XV(1,1,{generateMipmaps:!0,type:Y.has("EXT_color_buffer_half_float")||Y.has("EXT_color_buffer_float")?WH:UH,minFilter:FH,samples:4,stencilBuffer:r,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:FV.workingColorSpace}));const o=v.state.transmissionRenderTarget[i.id],s=i.viewport||k;o.setSize(s.z*b.transmissionResolutionScale,s.w*b.transmissionResolutionScale);const a=b.getRenderTarget();b.setRenderTarget(o),b.getClearColor(A),N=b.getClearAlpha(),N<1&&b.setClearColor(16777215,.5),b.clear(),K&&ht.render(n);const l=b.toneMapping;b.toneMapping=0;const c=i.viewport;if(void 0!==i.viewport&&(i.viewport=void 0),v.setupLightsView(i),!0===H&&ut.setGlobalState(b.clippingPlanes,i),Dt(t,n,i),tt.updateMultisampleRenderTarget(o),tt.updateRenderTargetMipmap(o),!1===Y.has("WEBGL_multisampled_render_to_texture")){let t=!1;for(let r=0,o=e.length;r<o;r++){const o=e[r],s=o.object,a=o.geometry,l=o.material,c=o.group;if(2===l.side&&s.layers.test(i.layers)){const e=l.side;l.side=1,l.needsUpdate=!0,Pt(s,n,i,a,l,c),l.side=e,l.needsUpdate=!0,t=!0}}!0===t&&(tt.updateMultisampleRenderTarget(o),tt.updateRenderTargetMipmap(o))}b.setRenderTarget(a),b.setClearColor(A,N),void 0!==c&&(i.viewport=c),b.toneMapping=l}function Dt(t,e,n){const i=!0===e.isScene?e.overrideMaterial:null;for(let r=0,o=t.length;r<o;r++){const o=t[r],s=o.object,a=o.geometry,l=o.group;let c=o.material;!0===c.allowOverride&&null!==i&&(c=i),s.layers.test(n.layers)&&Pt(s,e,n,a,c,l)}}function Pt(t,e,n,i,r,o){t.onBeforeRender(b,e,n,i,r,o),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),r.onBeforeRender(b,e,n,i,t,o),!0===r.transparent&&2===r.side&&!1===r.forceSinglePass?(r.side=1,r.needsUpdate=!0,b.renderBufferDirect(n,e,i,r,t,o),r.side=0,r.needsUpdate=!0,b.renderBufferDirect(n,e,i,r,t,o),r.side=2):b.renderBufferDirect(n,e,i,r,t,o),t.onAfterRender(b,e,n,i,r,o)}function Bt(t,e,n){!0!==e.isScene&&(e=W);const i=Q.get(t),r=v.state.lights,o=v.state.shadowsArray,s=r.state.version,a=st.getParameters(t,r.state,o,e,n),l=st.getProgramCacheKey(a);let c=i.programs;i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=(t.isMeshStandardMaterial?nt:et).get(t.envMap||i.environment),i.envMapRotation=null!==i.environment&&null===t.envMap?e.environmentRotation:t.envMapRotation,void 0===c&&(t.addEventListener("dispose",kt),c=new Map,i.programs=c);let u=c.get(l);if(void 0!==u){if(i.currentProgram===u&&i.lightsStateVersion===s)return Ut(t,a),u}else a.uniforms=st.getUniforms(t),t.onBeforeCompile(a,b),u=st.acquireProgram(a,l),c.set(l,u),i.uniforms=a.uniforms;const d=i.uniforms;return(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(d.clippingPlanes=ut.uniform),Ut(t,a),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=s,i.needsLights&&(d.ambientLightColor.value=r.state.ambient,d.lightProbe.value=r.state.probe,d.directionalLights.value=r.state.directional,d.directionalLightShadows.value=r.state.directionalShadow,d.spotLights.value=r.state.spot,d.spotLightShadows.value=r.state.spotShadow,d.rectAreaLights.value=r.state.rectArea,d.ltc_1.value=r.state.rectAreaLTC1,d.ltc_2.value=r.state.rectAreaLTC2,d.pointLights.value=r.state.point,d.pointLightShadows.value=r.state.pointShadow,d.hemisphereLights.value=r.state.hemi,d.directionalShadowMap.value=r.state.directionalShadowMap,d.directionalShadowMatrix.value=r.state.directionalShadowMatrix,d.spotShadowMap.value=r.state.spotShadowMap,d.spotLightMatrix.value=r.state.spotLightMatrix,d.spotLightMap.value=r.state.spotLightMap,d.pointShadowMap.value=r.state.pointShadowMap,d.pointShadowMatrix.value=r.state.pointShadowMatrix),i.currentProgram=u,i.uniformsList=null,u}function Ft(t){if(null===t.uniformsList){const e=t.currentProgram.getUniforms();t.uniformsList=zJ.seqWithValue(e.seq,t.uniforms)}return t.uniformsList}function Ut(t,e){const n=Q.get(t);n.outputColorSpace=e.outputColorSpace,n.batching=e.batching,n.batchingColor=e.batchingColor,n.instancing=e.instancing,n.instancingColor=e.instancingColor,n.instancingMorph=e.instancingMorph,n.skinning=e.skinning,n.morphTargets=e.morphTargets,n.morphNormals=e.morphNormals,n.morphColors=e.morphColors,n.morphTargetsCount=e.morphTargetsCount,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas,n.vertexTangents=e.vertexTangents,n.toneMapping=e.toneMapping}It.setAnimationLoop((function(t){Tt&&Tt(t)})),"undefined"!=typeof self&&It.setContext(self),this.setAnimationLoop=function(t){Tt=t,xt.setAnimationLoop(t),null===t?It.stop():It.start()},xt.addEventListener("sessionstart",At),xt.addEventListener("sessionend",Nt),this.render=function(t,e){if(void 0!==e&&!0!==e.isCamera)return;if(!0===w)return;if(!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),null===e.parent&&!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),!0===xt.enabled&&!0===xt.isPresenting&&(!0===xt.cameraAutoUpdate&&xt.updateCamera(e),e=xt.getCamera()),!0===t.isScene&&t.onBeforeRender(b,t,e,S),v=ct.get(t,y.length),v.init(e),y.push(v),$.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),U.setFromProjectionMatrix($),z=this.localClippingEnabled,H=ut.init(this.clippingPlanes,z),m=lt.get(t,g.length),m.init(),g.push(m),!0===xt.enabled&&!0===xt.isPresenting){const t=b.xr.getDepthSensingMesh();null!==t&&Rt(t,e,-1/0,b.sortObjects)}Rt(t,e,0,b.sortObjects),m.finish(),!0===b.sortObjects&&m.sort(L,D),K=!1===xt.enabled||!1===xt.isPresenting||!1===xt.hasDepthSensing(),K&&ht.addToRenderList(m,t),this.info.render.frame++,!0===H&&ut.beginShadows();const n=v.state.shadowsArray;dt.render(n,t,e),!0===H&&ut.endShadows(),!0===this.info.autoReset&&this.info.reset();const i=m.opaque,r=m.transmissive;if(v.setupLights(),e.isArrayCamera){const n=e.cameras;if(r.length>0)for(let e=0,o=n.length;e<o;e++){Lt(i,r,t,n[e])}K&&ht.render(t);for(let e=0,i=n.length;e<i;e++){const i=n[e];Ot(m,t,i,i.viewport)}}else r.length>0&&Lt(i,r,t,e),K&&ht.render(t),Ot(m,t,e);null!==S&&0===x&&(tt.updateMultisampleRenderTarget(S),tt.updateRenderTargetMipmap(S)),!0===t.isScene&&t.onAfterRender(b,t,e),gt.resetDefaultState(),M=-1,C=null,y.pop(),y.length>0?(v=y[y.length-1],!0===H&&ut.setGlobalState(b.clippingPlanes,v.state.camera)):v=null,g.pop(),m=g.length>0?g[g.length-1]:null},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(t,e,n){const i=Q.get(t);i.Wr=!1===t.resolveDepthBuffer,!1===i.Wr&&(i.Kr=!1),Q.get(t.texture).Ur=e,Q.get(t.depthTexture).Ur=i.Wr?void 0:n,i.$r=!0},this.setRenderTargetFramebuffer=function(t,e){const n=Q.get(t);n.Lr=e,n.Qr=void 0===e};const Ht=bt.createFramebuffer();this.setRenderTarget=function(t,e=0,n=0){S=t,_=e,x=n;let i=!0,r=null,o=!1,s=!1;if(t){const a=Q.get(t);if(void 0!==a.Qr)Z.bindFramebuffer(bt.FRAMEBUFFER,null),i=!1;else if(void 0===a.Lr)tt.setupRenderTarget(t);else if(a.$r)tt.rebindTextures(t,Q.get(t.texture).Ur,Q.get(t.depthTexture).Ur);else if(t.depthBuffer){const e=t.depthTexture;if(a.Gr!==e){if(null!==e&&Q.has(e)&&(t.width!==e.image.width||t.height!==e.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");tt.setupDepthRenderbuffer(t)}}const l=t.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(s=!0);const c=Q.get(t).Lr;t.isWebGLCubeRenderTarget?(r=Array.isArray(c[e])?c[e][n]:c[e],o=!0):r=t.samples>0&&!1===tt.useMultisampledRTT(t)?Q.get(t).Pr:Array.isArray(c)?c[n]:c,k.copy(t.viewport),E.copy(t.scissor),T=t.scissorTest}else k.copy(P).multiplyScalar(O).floor(),E.copy(B).multiplyScalar(O).floor(),T=F;0!==n&&(r=Ht);if(Z.bindFramebuffer(bt.FRAMEBUFFER,r)&&i&&Z.drawBuffers(t,r),Z.viewport(k),Z.scissor(E),Z.setScissorTest(T),o){const i=Q.get(t.texture);bt.framebufferTexture2D(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0,bt.TEXTURE_CUBE_MAP_POSITIVE_X+e,i.Ur,n)}else if(s){const i=Q.get(t.texture),r=e;bt.framebufferTextureLayer(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0,i.Ur,n,r)}else if(null!==t&&0!==n){const e=Q.get(t.texture);bt.framebufferTexture2D(bt.FRAMEBUFFER,bt.COLOR_ATTACHMENT0,bt.TEXTURE_2D,e.Ur,n)}M=-1},this.readRenderTargetPixels=function(t,e,n,i,r,o,s){if(!t||!t.isWebGLRenderTarget)return;let a=Q.get(t).Lr;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){Z.bindFramebuffer(bt.FRAMEBUFFER,a);try{const s=t.texture,a=s.format,l=s.type;if(!X.textureFormatReadable(a))return;if(!X.textureTypeReadable(l))return;e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&bt.readPixels(e,n,i,r,vt.convert(a),vt.convert(l),o)}finally{const t=null!==S?Q.get(S).Lr:null;Z.bindFramebuffer(bt.FRAMEBUFFER,t)}}},this.readRenderTargetPixelsAsync=async function(t,e,n,i,r,o,s){if(!t||!t.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=Q.get(t).Lr;if(t.isWebGLCubeRenderTarget&&void 0!==s&&(a=a[s]),a){if(e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r){Z.bindFramebuffer(bt.FRAMEBUFFER,a);const s=t.texture,l=s.format,c=s.type;if(!X.textureFormatReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!X.textureTypeReadable(c))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const u=bt.createBuffer();bt.bindBuffer(bt.PIXEL_PACK_BUFFER,u),bt.bufferData(bt.PIXEL_PACK_BUFFER,o.byteLength,bt.STREAM_READ),bt.readPixels(e,n,i,r,vt.convert(l),vt.convert(c),0);const d=null!==S?Q.get(S).Lr:null;Z.bindFramebuffer(bt.FRAMEBUFFER,d);const h=bt.fenceSync(bt.SYNC_GPU_COMMANDS_COMPLETE,0);return bt.flush(),await function(t,e,n){return new Promise((function(i,r){setTimeout((function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:i()}}),n)}))}(bt,h,4),bt.bindBuffer(bt.PIXEL_PACK_BUFFER,u),bt.getBufferSubData(bt.PIXEL_PACK_BUFFER,0,o),bt.deleteBuffer(u),bt.deleteSync(h),o}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(t,e=null,n=0){const i=Math.pow(2,-n),r=Math.floor(t.image.width*i),o=Math.floor(t.image.height*i),s=null!==e?e.x:0,a=null!==e?e.y:0;tt.setTexture2D(t,0),bt.copyTexSubImage2D(bt.TEXTURE_2D,n,0,0,s,a,r,o),Z.unbindTexture()};const zt=bt.createFramebuffer(),Vt=bt.createFramebuffer();this.copyTextureToTexture=function(t,e,n=null,i=null,r=0,o=null){let s,a,l,c,u,d,h,f,p;null===o&&(0!==r?(LV("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),o=r,r=0):o=0);const m=t.isCompressedTexture?t.mipmaps[o]:t.image;if(null!==n)s=n.max.x-n.min.x,a=n.max.y-n.min.y,l=n.isBox3?n.max.z-n.min.z:1,c=n.min.x,u=n.min.y,d=n.isBox3?n.min.z:0;else{const e=Math.pow(2,-r);s=Math.floor(m.width*e),a=Math.floor(m.height*e),l=t.isDataArrayTexture?m.depth:t.isData3DTexture?Math.floor(m.depth*e):1,c=0,u=0,d=0}null!==i?(h=i.x,f=i.y,p=i.z):(h=0,f=0,p=0);const v=vt.convert(e.format),g=vt.convert(e.type);let y;e.isData3DTexture?(tt.setTexture3D(e,0),y=bt.TEXTURE_3D):e.isDataArrayTexture||e.isCompressedArrayTexture?(tt.setTexture2DArray(e,0),y=bt.TEXTURE_2D_ARRAY):(tt.setTexture2D(e,0),y=bt.TEXTURE_2D),bt.pixelStorei(bt.UNPACK_FLIP_Y_WEBGL,e.flipY),bt.pixelStorei(bt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),bt.pixelStorei(bt.UNPACK_ALIGNMENT,e.unpackAlignment);const b=bt.getParameter(bt.UNPACK_ROW_LENGTH),w=bt.getParameter(bt.UNPACK_IMAGE_HEIGHT),_=bt.getParameter(bt.UNPACK_SKIP_PIXELS),x=bt.getParameter(bt.UNPACK_SKIP_ROWS),S=bt.getParameter(bt.UNPACK_SKIP_IMAGES);bt.pixelStorei(bt.UNPACK_ROW_LENGTH,m.width),bt.pixelStorei(bt.UNPACK_IMAGE_HEIGHT,m.height),bt.pixelStorei(bt.UNPACK_SKIP_PIXELS,c),bt.pixelStorei(bt.UNPACK_SKIP_ROWS,u),bt.pixelStorei(bt.UNPACK_SKIP_IMAGES,d);const M=t.isDataArrayTexture||t.isData3DTexture,C=e.isDataArrayTexture||e.isData3DTexture;if(t.isDepthTexture){const n=Q.get(t),i=Q.get(e),m=Q.get(n.Vr),v=Q.get(i.Vr);Z.bindFramebuffer(bt.READ_FRAMEBUFFER,m.Lr),Z.bindFramebuffer(bt.DRAW_FRAMEBUFFER,v.Lr);for(let g=0;g<l;g++)M&&(bt.framebufferTextureLayer(bt.READ_FRAMEBUFFER,bt.COLOR_ATTACHMENT0,Q.get(t).Ur,r,d+g),bt.framebufferTextureLayer(bt.DRAW_FRAMEBUFFER,bt.COLOR_ATTACHMENT0,Q.get(e).Ur,o,p+g)),bt.blitFramebuffer(c,u,s,a,h,f,s,a,bt.DEPTH_BUFFER_BIT,bt.NEAREST);Z.bindFramebuffer(bt.READ_FRAMEBUFFER,null),Z.bindFramebuffer(bt.DRAW_FRAMEBUFFER,null)}else if(0!==r||t.isRenderTargetTexture||Q.has(t)){const n=Q.get(t),i=Q.get(e);Z.bindFramebuffer(bt.READ_FRAMEBUFFER,zt),Z.bindFramebuffer(bt.DRAW_FRAMEBUFFER,Vt);for(let t=0;t<l;t++)M?bt.framebufferTextureLayer(bt.READ_FRAMEBUFFER,bt.COLOR_ATTACHMENT0,n.Ur,r,d+t):bt.framebufferTexture2D(bt.READ_FRAMEBUFFER,bt.COLOR_ATTACHMENT0,bt.TEXTURE_2D,n.Ur,r),C?bt.framebufferTextureLayer(bt.DRAW_FRAMEBUFFER,bt.COLOR_ATTACHMENT0,i.Ur,o,p+t):bt.framebufferTexture2D(bt.DRAW_FRAMEBUFFER,bt.COLOR_ATTACHMENT0,bt.TEXTURE_2D,i.Ur,o),0!==r?bt.blitFramebuffer(c,u,s,a,h,f,s,a,bt.COLOR_BUFFER_BIT,bt.NEAREST):C?bt.copyTexSubImage3D(y,o,h,f,p+t,c,u,s,a):bt.copyTexSubImage2D(y,o,h,f,c,u,s,a);Z.bindFramebuffer(bt.READ_FRAMEBUFFER,null),Z.bindFramebuffer(bt.DRAW_FRAMEBUFFER,null)}else C?t.isDataTexture||t.isData3DTexture?bt.texSubImage3D(y,o,h,f,p,s,a,l,v,g,m.data):e.isCompressedArrayTexture?bt.compressedTexSubImage3D(y,o,h,f,p,s,a,l,v,m.data):bt.texSubImage3D(y,o,h,f,p,s,a,l,v,g,m):t.isDataTexture?bt.texSubImage2D(bt.TEXTURE_2D,o,h,f,s,a,v,g,m.data):t.isCompressedTexture?bt.compressedTexSubImage2D(bt.TEXTURE_2D,o,h,f,m.width,m.height,v,m.data):bt.texSubImage2D(bt.TEXTURE_2D,o,h,f,s,a,v,g,m);bt.pixelStorei(bt.UNPACK_ROW_LENGTH,b),bt.pixelStorei(bt.UNPACK_IMAGE_HEIGHT,w),bt.pixelStorei(bt.UNPACK_SKIP_PIXELS,_),bt.pixelStorei(bt.UNPACK_SKIP_ROWS,x),bt.pixelStorei(bt.UNPACK_SKIP_IMAGES,S),0===o&&e.generateMipmaps&&bt.generateMipmap(y),Z.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n=null,i=null,r=0){return LV('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(t,e,n,i,r)},this.initRenderTarget=function(t){void 0===Q.get(t).Lr&&tt.setupRenderTarget(t)},this.initTexture=function(t){t.isCubeTexture?tt.setTextureCube(t,0):t.isData3DTexture?tt.setTexture3D(t,0):t.isDataArrayTexture||t.isCompressedArrayTexture?tt.setTexture2DArray(t,0):tt.setTexture2D(t,0),Z.unbindTexture()},this.resetState=function(){_=0,x=0,S=null,Z.reset(),gt.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return dV}get outputColorSpace(){return this.Jr}set outputColorSpace(t){this.Jr=t;const e=this.getContext();e.drawingBufferColorSpace=FV.Oe(t),e.unpackColorSpace=FV.Le()}}const DQ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:4,AddEquation:XU,AddOperation:2,AdditiveAnimationBlendMode:qz,AdditiveBlending:2,AgXToneMapping:6,AlphaFormat:ZH,AlwaysCompare:519,AlwaysDepth:1,AlwaysStencilFunc:519,AmbientLight:HY,AnimationAction:xX,AnimationClip:pY,AnimationLoader:class extends bY{constructor(t){super(t)}load(t,e,n,i){const r=this,o=new xY(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(n){try{e(r.parse(JSON.parse(n)))}catch(ax){i&&i(ax),r.manager.itemError(t)}}),n,i)}parse(t){const e=[];for(let n=0;n<t.length;n++){const i=pY.parse(t[n]);e.push(i)}return e}},AnimationMixer:class extends fV{constructor(t){super(),this.Qi=t,this.eo(),this.io=0,this.time=0,this.timeScale=1}ro(t,e){const n=t.Li||this.Qi,i=t.Oi.tracks,r=i.length,o=t.Bi,s=t.Pi,a=n.uuid,l=this.oo;let c=l[a];void 0===c&&(c={},l[a]=c);for(let u=0;u!==r;++u){const t=i[u],r=t.name;let l=c[r];if(void 0!==l)++l.referenceCount,o[u]=l;else{if(l=o[u],void 0!==l){null===l.Fi&&(++l.referenceCount,this.so(l,a,r));continue}const i=e&&e.Bi[u].binding.parsedPath;l=new pX(_X.create(n,r,i),t.ValueTypeName,t.getValueSize()),++l.referenceCount,this.so(l,a,r),o[u]=l}s[u].resultBuffer=l.buffer}}Ki(t){if(!this.Yi(t)){if(null===t.Fi){const e=(t.Li||this.Qi).uuid,n=t.Oi.uuid,i=this.ao[n];this.ro(t,i&&i.knownActions[0]),this.lo(t,n,e)}const e=t.Bi;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==n.useCount++&&(this.co(n),n.saveOriginalState())}this.uo(t)}}qi(t){if(this.Yi(t)){const e=t.Bi;for(let t=0,n=e.length;t!==n;++t){const n=e[t];0==--n.useCount&&(n.restoreOriginalState(),this.do(n))}this.ho(t)}}eo(){this.fo=[],this.po=0,this.ao={},this.Ii=[],this.mo=0,this.oo={},this.vo=[],this.yo=0;const t=this;this.stats={actions:{get total(){return t.fo.length},get inUse(){return t.po}},bindings:{get total(){return t.Ii.length},get inUse(){return t.mo}},controlInterpolants:{get total(){return t.vo.length},get inUse(){return t.yo}}}}Yi(t){const e=t.Fi;return null!==e&&e<this.po}lo(t,e,n){const i=this.fo,r=this.ao;let o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t.Ui=0,r[e]=o;else{const e=o.knownActions;t.Ui=e.length,e.push(t)}t.Fi=i.length,i.push(t),o.actionByRoot[n]=t}bo(t){const e=this.fo,n=e[e.length-1],i=t.Fi;n.Fi=i,e[i]=n,e.pop(),t.Fi=null;const r=t.Oi.uuid,o=this.ao,s=o[r],a=s.knownActions,l=a[a.length-1],c=t.Ui;l.Ui=c,a[c]=l,a.pop(),t.Ui=null;delete s.actionByRoot[(t.Li||this.Qi).uuid],0===a.length&&delete o[r],this.wo(t)}wo(t){const e=t.Bi;for(let n=0,i=e.length;n!==i;++n){const t=e[n];0==--t.referenceCount&&this._o(t)}}uo(t){const e=this.fo,n=t.Fi,i=this.po++,r=e[i];t.Fi=i,e[i]=t,r.Fi=n,e[n]=r}ho(t){const e=this.fo,n=t.Fi,i=--this.po,r=e[i];t.Fi=i,e[i]=t,r.Fi=n,e[n]=r}so(t,e,n){const i=this.oo,r=this.Ii;let o=i[e];void 0===o&&(o={},i[e]=o),o[n]=t,t.Fi=r.length,r.push(t)}_o(t){const e=this.Ii,n=t.binding,i=n.rootNode.uuid,r=n.path,o=this.oo,s=o[i],a=e[e.length-1],l=t.Fi;a.Fi=l,e[l]=a,e.pop(),delete s[r],0===Object.keys(s).length&&delete o[i]}co(t){const e=this.Ii,n=t.Fi,i=this.mo++,r=e[i];t.Fi=i,e[i]=t,r.Fi=n,e[n]=r}do(t){const e=this.Ii,n=t.Fi,i=--this.mo,r=e[i];t.Fi=i,e[i]=t,r.Fi=n,e[n]=r}Ji(){const t=this.vo,e=this.yo++;let n=t[e];return void 0===n&&(n=new rY(new Float32Array(2),new Float32Array(2),1,SX),n.xo=e,t[e]=n),n}Zi(t){const e=this.vo,n=t.xo,i=--this.yo,r=e[i];t.xo=i,e[i]=t,r.xo=n,e[n]=r}clipAction(t,e,n){const i=e||this.Qi,r=i.uuid;let o="string"==typeof t?pY.findByName(i,t):t;const s=null!==o?o.uuid:t,a=this.ao[s];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:Kz),void 0!==a){const t=a.actionByRoot[r];if(void 0!==t&&t.blendMode===n)return t;l=a.knownActions[0],null===o&&(o=l.Oi)}if(null===o)return null;const c=new xX(this,o,e,n);return this.ro(c,l),this.lo(c,s,r),c}existingAction(t,e){const n=e||this.Qi,i=n.uuid,r="string"==typeof t?pY.findByName(n,t):t,o=r?r.uuid:t,s=this.ao[o];return void 0!==s&&s.actionByRoot[i]||null}stopAllAction(){const t=this.fo;for(let e=this.po-1;e>=0;--e)t[e].stop();return this}update(t){t*=this.timeScale;const e=this.fo,n=this.po,i=this.time+=t,r=Math.sign(t),o=this.io^=1;for(let l=0;l!==n;++l){e[l].tr(i,t,r,o)}const s=this.Ii,a=this.mo;for(let l=0;l!==a;++l)s[l].apply(o);return this}setTime(t){this.time=0;for(let e=0;e<this.fo.length;e++)this.fo[e].time=0;return this.update(t)}getRoot(){return this.Qi}uncacheClip(t){const e=this.fo,n=t.uuid,i=this.ao,r=i[n];if(void 0!==r){const t=r.knownActions;for(let n=0,i=t.length;n!==i;++n){const i=t[n];this.qi(i);const r=i.Fi,o=e[e.length-1];i.Fi=null,i.Ui=null,o.Fi=r,e[r]=o,e.pop(),this.wo(i)}delete i[n]}}uncacheRoot(t){const e=t.uuid,n=this.ao;for(const r in n){const t=n[r].actionByRoot[e];void 0!==t&&(this.qi(t),this.bo(t))}const i=this.oo[e];if(void 0!==i)for(const r in i){const t=i[r];t.restoreOriginalState(),this._o(t)}}uncacheAction(t,e){const n=this.existingAction(t,e);null!==n&&(this.qi(n),this.bo(n))}},AnimationObjectGroup:class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=yV(),this.So=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this.Mo=t;for(let n=0,i=arguments.length;n!==i;++n)t[arguments[n].uuid]=n;this.Co=[],this.ko=[],this.Ii=[],this.Eo={};const e=this;this.stats={objects:{get total(){return e.So.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e.Ii.length}}}add(){const t=this.So,e=this.Mo,n=this.Co,i=this.ko,r=this.Ii,o=r.length;let s,a=t.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],d=u.uuid;let h=e[d];if(void 0===h){h=a++,e[d]=h,t.push(u);for(let t=0,e=o;t!==e;++t)r[t].push(new _X(u,n[t],i[t]))}else if(h<l){s=t[h];const a=--l,c=t[a];e[c.uuid]=h,t[h]=c,e[d]=a,t[a]=u;for(let t=0,e=o;t!==e;++t){const e=r[t],o=e[a];let s=e[h];e[h]=o,void 0===s&&(s=new _X(u,n[t],i[t])),e[a]=s}}else t[h]}this.nCachedObjects_=l}remove(){const t=this.So,e=this.Mo,n=this.Ii,i=n.length;let r=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const s=arguments[o],a=s.uuid,l=e[a];if(void 0!==l&&l>=r){const o=r++,c=t[o];e[c.uuid]=l,t[l]=c,e[a]=o,t[o]=s;for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[o],r=e[l];e[l]=i,e[o]=r}}}this.nCachedObjects_=r}uncache(){const t=this.So,e=this.Mo,n=this.Ii,i=n.length;let r=this.nCachedObjects_,o=t.length;for(let s=0,a=arguments.length;s!==a;++s){const a=arguments[s].uuid,l=e[a];if(void 0!==l)if(delete e[a],l<r){const s=--r,a=t[s],c=--o,u=t[c];e[a.uuid]=l,t[l]=a,e[u.uuid]=s,t[s]=u,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t],i=e[s],r=e[c];e[l]=i,e[s]=r,e.pop()}}else{const r=--o,s=t[r];r>0&&(e[s.uuid]=l),t[l]=s,t.pop();for(let t=0,e=i;t!==e;++t){const e=n[t];e[l]=e[r],e.pop()}}}this.nCachedObjects_=r}subscribe_(t,e){const n=this.Eo;let i=n[t];const r=this.Ii;if(void 0!==i)return r[i];const o=this.Co,s=this.ko,a=this.So,l=a.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[t]=i,o.push(t),s.push(e),r.push(u);for(let d=c,h=a.length;d!==h;++d){const n=a[d];u[d]=new _X(n,t,e)}return u}unsubscribe_(t){const e=this.Eo,n=e[t];if(void 0!==n){const i=this.Co,r=this.ko,o=this.Ii,s=o.length-1,a=o[s];e[t[s]]=n,o[n]=a,o.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}},AnimationUtils:class{static convertArray(t,e){return Zq(t,e)}static isTypedArray(t){return Jq(t)}static getKeyframeOrder(t){return Qq(t)}static sortedArray(t,e,n){return tY(t,e,n)}static flattenJSON(t,e,n,i){eY(t,e,n,i)}static subclip(t,e,n,i,r=30){return function(t,e,n,i,r=30){const o=t.clone();o.name=e;const s=[];for(let l=0;l<o.tracks.length;++l){const t=o.tracks[l],e=t.getValueSize(),a=[],c=[];for(let o=0;o<t.times.length;++o){const s=t.times[o]*r;if(!(s<n||s>=i)){a.push(t.times[o]);for(let n=0;n<e;++n)c.push(t.values[o*e+n])}}0!==a.length&&(t.times=Zq(a,t.times.constructor),t.values=Zq(c,t.values.constructor),s.push(t))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o}(t,e,n,i,r)}static makeClipAdditive(t,e=0,n=t,i=30){return function(t,e=0,n=t,i=30){i<=0&&(i=30);const r=n.tracks.length,o=e/i;for(let s=0;s<r;++s){const e=n.tracks[s],i=e.ValueTypeName;if("bool"===i||"string"===i)continue;const r=t.tracks.find((function(t){return t.name===e.name&&t.ValueTypeName===i}));if(void 0===r)continue;let a=0;const l=e.getValueSize();e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);let c=0;const u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const d=e.times.length-1;let h;if(o<=e.times[0]){const t=a,n=l-a;h=e.values.slice(t,n)}else if(o>=e.times[d]){const t=d*l+a,n=t+l-a;h=e.values.slice(t,n)}else{const t=e.createInterpolant(),n=a,i=l-a;t.evaluate(o),h=t.resultBuffer.slice(n,i)}"quaternion"===i&&(new QV).fromArray(h).normalize().conjugate().toArray(h);const f=r.times.length;for(let t=0;t<f;++t){const e=t*u+c;if("quaternion"===i)QV.multiplyQuaternionsFlat(r.values,e,h,0,r.values,e);else{const t=u-2*c;for(let n=0;n<t;++n)r.values[e+n]-=h[n]}}}return t.blendMode=qz,t}(t,e,n,i)}},ArcCurve:mK,ArrayCamera:nX,ArrowHelper:class extends iG{constructor(t=new t$(0,0,1),e=new t$(0,0,0),n=1,i=16776960,r=.2*n,o=.2*r){super(),this.type="ArrowHelper",void 0===YX&&(YX=new jG,YX.setAttribute("position",new BG([0,0,0,0,1,0],3)),XX=new FK(0,.5,1,5,1),XX.translate(0,-.5,0)),this.position.copy(e),this.line=new ZW(YX,new $W({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ij(XX,new kG({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,r,o)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{qX.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(qX,e)}}setLength(t,e=.2*t,n=.2*e){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},AttachedBindMode:xH,Audio:cX,AudioAnalyser:class{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let n=0;n<e.length;n++)t+=e[n];return t/e.length}},AudioContext:JY,AudioListener:class extends iG{constructor(){super(),this.type="AudioListener",this.context=JY.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this.To=new iX}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,n=this.up;if(this.timeDelta=this.To.getDelta(),this.matrixWorld.decompose(oX,sX,aX),lX.set(0,0,-1).applyQuaternion(sX),e.positionX){const t=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(oX.x,t),e.positionY.linearRampToValueAtTime(oX.y,t),e.positionZ.linearRampToValueAtTime(oX.z,t),e.forwardX.linearRampToValueAtTime(lX.x,t),e.forwardY.linearRampToValueAtTime(lX.y,t),e.forwardZ.linearRampToValueAtTime(lX.z,t),e.upX.linearRampToValueAtTime(n.x,t),e.upY.linearRampToValueAtTime(n.y,t),e.upZ.linearRampToValueAtTime(n.z,t)}else e.setPosition(oX.x,oX.y,oX.z),e.setOrientation(lX.x,lX.y,lX.z,n.x,n.y,n.z)}},AudioLoader:class extends bY{constructor(t){super(t)}load(t,e,n,i){const r=this,o=new xY(this.manager);function s(e){i&&i(e),r.manager.itemError(t)}o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(t){try{const n=t.slice(0);JY.getContext().decodeAudioData(n,(function(t){e(t)})).catch(s)}catch(ax){s(ax)}}),n,i)}},AxesHelper:class extends eK{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new jG;n.setAttribute("position",new BG(e,3)),n.setAttribute("color",new BG([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new $W({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(t,e,n){const i=new xG,r=this.geometry.attributes.color.array;return i.set(t),i.toArray(r,0),i.toArray(r,3),i.set(e),i.toArray(r,6),i.toArray(r,9),i.set(n),i.toArray(r,12),i.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BackSide:1,BasicDepthPacking:3200,BasicShadowMap:0,BatchedMesh:VW,Bone:rW,BooleanKeyframeTrack:aY,Box2:class{constructor(t=new CV(1/0,1/0),e=new CV(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const n=NX.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,NX).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},Box3:i$,Box3Helper:class extends eK{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new jG;i.setIndex(new LG(n,1)),i.setAttribute("position",new BG([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(i,new $W({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}},BoxGeometry:oj,BoxHelper:class extends eK{constructor(t,e=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new jG;r.setIndex(new LG(n,1)),r.setAttribute("position",new LG(i,3)),super(r,new $W({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(void 0!==this.object&&KX.setFromObject(this.object),KX.isEmpty())return;const t=KX.min,e=KX.max,n=this.geometry.attributes.position,i=n.array;i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=t.x,i[4]=e.y,i[5]=e.z,i[6]=t.x,i[7]=t.y,i[8]=e.z,i[9]=e.x,i[10]=t.y,i[11]=e.z,i[12]=e.x,i[13]=e.y,i[14]=t.z,i[15]=t.x,i[16]=e.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=e.x,i[22]=t.y,i[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BufferAttribute:LG,BufferGeometry:jG,BufferGeometryLoader:KY,ByteType:HH,Cache:vY,Camera:dj,CameraHelper:class extends eK{constructor(t){const e=new jG,n=new $W({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={};function s(t,e){a(t),a(e)}function a(t){i.push(0,0,0),r.push(0,0,0),void 0===o[t]&&(o[t]=[]),o[t].push(i.length/3-1)}s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4"),e.setAttribute("position",new BG(i,3)),e.setAttribute("color",new BG(r,3)),super(e,n),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const l=new xG(16755200),c=new xG(16711680),u=new xG(43775),d=new xG(16777215),h=new xG(3355443);this.setColors(l,c,u,d,h)}setColors(t,e,n,i,r){const o=this.geometry.getAttribute("color");o.setXYZ(0,t.r,t.g,t.b),o.setXYZ(1,t.r,t.g,t.b),o.setXYZ(2,t.r,t.g,t.b),o.setXYZ(3,t.r,t.g,t.b),o.setXYZ(4,t.r,t.g,t.b),o.setXYZ(5,t.r,t.g,t.b),o.setXYZ(6,t.r,t.g,t.b),o.setXYZ(7,t.r,t.g,t.b),o.setXYZ(8,t.r,t.g,t.b),o.setXYZ(9,t.r,t.g,t.b),o.setXYZ(10,t.r,t.g,t.b),o.setXYZ(11,t.r,t.g,t.b),o.setXYZ(12,t.r,t.g,t.b),o.setXYZ(13,t.r,t.g,t.b),o.setXYZ(14,t.r,t.g,t.b),o.setXYZ(15,t.r,t.g,t.b),o.setXYZ(16,t.r,t.g,t.b),o.setXYZ(17,t.r,t.g,t.b),o.setXYZ(18,t.r,t.g,t.b),o.setXYZ(19,t.r,t.g,t.b),o.setXYZ(20,t.r,t.g,t.b),o.setXYZ(21,t.r,t.g,t.b),o.setXYZ(22,t.r,t.g,t.b),o.setXYZ(23,t.r,t.g,t.b),o.setXYZ(24,e.r,e.g,e.b),o.setXYZ(25,e.r,e.g,e.b),o.setXYZ(26,e.r,e.g,e.b),o.setXYZ(27,e.r,e.g,e.b),o.setXYZ(28,e.r,e.g,e.b),o.setXYZ(29,e.r,e.g,e.b),o.setXYZ(30,e.r,e.g,e.b),o.setXYZ(31,e.r,e.g,e.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,r.r,r.g,r.b),o.setXYZ(41,r.r,r.g,r.b),o.setXYZ(42,r.r,r.g,r.b),o.setXYZ(43,r.r,r.g,r.b),o.setXYZ(44,r.r,r.g,r.b),o.setXYZ(45,r.r,r.g,r.b),o.setXYZ(46,r.r,r.g,r.b),o.setXYZ(47,r.r,r.g,r.b),o.setXYZ(48,r.r,r.g,r.b),o.setXYZ(49,r.r,r.g,r.b),o.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap;jX.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const n=this.camera.coordinateSystem===dV?-1:0;WX("c",e,t,jX,0,0,n),WX("t",e,t,jX,0,0,1),WX("n1",e,t,jX,-1,-1,n),WX("n2",e,t,jX,1,-1,n),WX("n3",e,t,jX,-1,1,n),WX("n4",e,t,jX,1,1,n),WX("f1",e,t,jX,-1,-1,1),WX("f2",e,t,jX,1,-1,1),WX("f3",e,t,jX,-1,1,1),WX("f4",e,t,jX,1,1,1),WX("u1",e,t,jX,.7,1.1,n),WX("u2",e,t,jX,-.7,1.1,n),WX("u3",e,t,jX,0,2,n),WX("cf1",e,t,jX,-1,0,1),WX("cf2",e,t,jX,1,0,1),WX("cf3",e,t,jX,0,-1,1),WX("cf4",e,t,jX,0,1,1),WX("cn1",e,t,jX,-1,0,n),WX("cn2",e,t,jX,1,0,n),WX("cn3",e,t,jX,0,-1,n),WX("cn4",e,t,jX,0,1,n),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},CanvasTexture:class extends KV{constructor(t,e,n,i,r,o,s,a,l){super(t,e,n,i,r,o,s,a,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},CapsuleGeometry:PK,CatmullRomCurve3:_K,CineonToneMapping:3,CircleGeometry:BK,ClampToEdgeWrapping:IH,Clock:iX,Color:xG,ColorKeyframeTrack:lY,ColorManagement:FV,CompressedArrayTexture:class extends dK{constructor(t,e,n,i,r,o){super(t,e,n,r,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=IH,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}},CompressedCubeTexture:class extends dK{constructor(t,e,n){super(void 0,t[0].width,t[0].height,e,n,CH),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}},CompressedTexture:dK,CompressedTextureLoader:class extends bY{constructor(t){super(t)}load(t,e,n,i){const r=this,o=[],s=new dK,a=new xY(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials);let l=0;function c(c){a.load(t[c],(function(t){const n=r.parse(t,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(s.minFilter=PH),s.image=o,s.format=n.format,s.needsUpdate=!0,e&&e(s))}),n,i)}if(Array.isArray(t))for(let u=0,d=t.length;u<d;++u)c(u);else a.load(t,(function(t){const n=r.parse(t,!0);if(n.isCubemap){const t=n.mipmaps.length/n.mipmapCount;for(let e=0;e<t;e++){o[e]={mipmaps:[]};for(let t=0;t<n.mipmapCount;t++)o[e].mipmaps.push(n.mipmaps[e*n.mipmapCount+t]),o[e].format=n.format,o[e].width=n.width,o[e].height=n.height}s.image=o}else s.image.width=n.width,s.image.height=n.height,s.mipmaps=n.mipmaps;1===n.mipmapCount&&(s.minFilter=PH),s.format=n.format,s.needsUpdate=!0,e&&e(s)}),n,i);return s}},ConeGeometry:UK,ConstantAlphaFactor:213,ConstantColorFactor:211,Controls:class extends fV{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){void 0!==t&&(null!==this.domElement&&this.disconnect(),this.domElement=t)}disconnect(){}dispose(){}update(){}},CubeCamera:gj,CubeReflectionMapping:CH,CubeRefractionMapping:kH,CubeTexture:yj,CubeTextureLoader:class extends bY{constructor(t){super(t)}load(t,e,n,i){const r=new yj;r.colorSpace=Xz;const o=new SY(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(n){o.load(t[n],(function(t){r.images[n]=t,s++,6===s&&(r.needsUpdate=!0,e&&e(r))}),void 0,i)}for(let l=0;l<t.length;++l)a(l);return r}},CubeUVReflectionMapping:AH,CubicBezierCurve:CK,CubicBezierCurve3:kK,CubicInterpolant:iY,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,CullFaceNone:0,Curve:fK,CurvePath:OK,CustomBlending:5,CustomToneMapping:5,CylinderGeometry:FK,Cylindrical:class{constructor(t=1,e=0,n=0){this.radius=t,this.theta=e,this.y=n}set(t,e,n){return this.radius=t,this.theta=e,this.y=n,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}clone(){return(new this.constructor).copy(this)}},Data3DTexture:JV,DataArrayTexture:ZV,DataTexture:oW,DataTextureLoader:class extends bY{constructor(t){super(t)}load(t,e,n,i){const r=this,o=new oW,s=new xY(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(r.withCredentials),s.load(t,(function(t){let n;try{n=r.parse(t)}catch(s){if(void 0===i)return;i(s)}void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:IH,o.wrapT=void 0!==n.wrapT?n.wrapT:IH,o.magFilter=void 0!==n.magFilter?n.magFilter:PH,o.minFilter=void 0!==n.minFilter?n.minFilter:PH,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(o.colorSpace=n.colorSpace),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=FH),1===n.mipmapCount&&(o.minFilter=PH),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,e&&e(o,n)}),n,i),o}},DataUtils:class{static toHalfFloat(t){return AG(t)}static fromHalfFloat(t){return NG(t)}},DecrementStencilOp:7683,DecrementWrapStencilOp:34056,DefaultLoadingManager:yY,DepthFormat:nz,DepthStencilFormat:iz,DepthTexture:hK,DetachedBindMode:SH,DirectionalLight:UY,DirectionalLightHelper:class extends iG{constructor(t,e,n){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===e&&(e=1);let i=new jG;i.setAttribute("position",new BG([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const r=new $W({fog:!1,toneMapped:!1});this.lightPlane=new ZW(i,r),this.add(this.lightPlane),i=new jG,i.setAttribute("position",new BG([0,0,0,0,0,1],3)),this.targetLine=new ZW(i,r),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),zX.setFromMatrixPosition(this.light.matrixWorld),VX.setFromMatrixPosition(this.light.target.matrixWorld),$X.subVectors(VX,zX),this.lightPlane.lookAt(VX),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(VX),this.targetLine.scale.z=$X.length()}},DiscreteInterpolant:oY,DodecahedronGeometry:zK,DoubleSide:2,DstAlphaFactor:206,DstColorFactor:208,DynamicCopyUsage:35050,DynamicDrawUsage:35048,DynamicReadUsage:35049,EdgesGeometry:WK,EllipseCurve:pK,EqualCompare:514,EqualDepth:4,EqualStencilFunc:514,EquirectangularReflectionMapping:EH,EquirectangularRefractionMapping:TH,Euler:H$,EventDispatcher:fV,ExtrudeGeometry:Mq,FileLoader:xY,Float16BufferAttribute:class extends LG{constructor(t,e,n){super(new Uint16Array(t),e,n),this.isFloat16BufferAttribute=!0}getX(t){let e=NG(this.array[t*this.itemSize]);return this.normalized&&(e=xV(e,this.array)),e}setX(t,e){return this.normalized&&(e=SV(e,this.array)),this.array[t*this.itemSize]=AG(e),this}getY(t){let e=NG(this.array[t*this.itemSize+1]);return this.normalized&&(e=xV(e,this.array)),e}setY(t,e){return this.normalized&&(e=SV(e,this.array)),this.array[t*this.itemSize+1]=AG(e),this}getZ(t){let e=NG(this.array[t*this.itemSize+2]);return this.normalized&&(e=xV(e,this.array)),e}setZ(t,e){return this.normalized&&(e=SV(e,this.array)),this.array[t*this.itemSize+2]=AG(e),this}getW(t){let e=NG(this.array[t*this.itemSize+3]);return this.normalized&&(e=xV(e,this.array)),e}setW(t,e){return this.normalized&&(e=SV(e,this.array)),this.array[t*this.itemSize+3]=AG(e),this}setXY(t,e,n){return t*=this.itemSize,this.normalized&&(e=SV(e,this.array),n=SV(n,this.array)),this.array[t+0]=AG(e),this.array[t+1]=AG(n),this}setXYZ(t,e,n,i){return t*=this.itemSize,this.normalized&&(e=SV(e,this.array),n=SV(n,this.array),i=SV(i,this.array)),this.array[t+0]=AG(e),this.array[t+1]=AG(n),this.array[t+2]=AG(i),this}setXYZW(t,e,n,i,r){return t*=this.itemSize,this.normalized&&(e=SV(e,this.array),n=SV(n,this.array),i=SV(i,this.array),r=SV(r,this.array)),this.array[t+0]=AG(e),this.array[t+1]=AG(n),this.array[t+2]=AG(i),this.array[t+3]=AG(r),this}},Float32BufferAttribute:BG,FloatType:jH,Fog:Mj,FogExp2:Sj,FramebufferTexture:class extends KV{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=OH,this.minFilter=OH,this.generateMipmaps=!1,this.needsUpdate=!0}},FrontSide:0,Frustum:MW,GLBufferAttribute:class{constructor(t,e,n,i,r){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}set needsUpdate(t){!0===t&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}},GLSL1:"100",GLSL3:uV,GreaterCompare:516,GreaterDepth:6,GreaterEqualCompare:518,GreaterEqualDepth:5,GreaterEqualStencilFunc:518,GreaterStencilFunc:516,GridHelper:class extends eK{constructor(t=10,e=10,n=4473924,i=8947848){n=new xG(n),i=new xG(i);const r=e/2,o=t/e,s=t/2,a=[],l=[];for(let u=0,d=0,h=-s;u<=e;u++,h+=o){a.push(-s,0,h,s,0,h),a.push(h,0,-s,h,0,s);const t=u===r?n:i;t.toArray(l,d),d+=3,t.toArray(l,d),d+=3,t.toArray(l,d),d+=3,t.toArray(l,d),d+=3}const c=new jG;c.setAttribute("position",new BG(a,3)),c.setAttribute("color",new BG(l,3));super(c,new $W({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},Group:wj,HalfFloatType:WH,HemisphereLight:CY,HemisphereLightHelper:class extends iG{constructor(t,e,n){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new Eq(e);i.rotateY(.5*Math.PI),this.material=new kG({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),o=new Float32Array(3*r.count);i.setAttribute("color",new LG(o,3)),this.add(new ij(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");UX.copy(this.light.color),HX.copy(this.light.groundColor);for(let t=0,n=e.count;t<n;t++){const i=t<n/2?UX:HX;e.setXYZ(t,i.r,i.g,i.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(FX.setFromMatrixPosition(this.light.matrixWorld).negate())}},IcosahedronGeometry:kq,ImageBitmapLoader:class extends bY{constructor(t){super(t),this.isImageBitmapLoader=!0,this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,o=vY.get(t);if(void 0!==o)return r.manager.itemStart(t),o.then?void o.then((n=>{e&&e(n),r.manager.itemEnd(t)})).catch((t=>{i&&i(t)})):(setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o);const s={};s.credentials="anonymous"===this.crossOrigin?"same-origin":"include",s.headers=this.requestHeader;const a=fetch(t,s).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,Object.assign(r.options,{colorSpaceConversion:"none"}))})).then((function(n){return vY.add(t,n),e&&e(n),r.manager.itemEnd(t),n})).catch((function(e){i&&i(e),vY.remove(t),r.manager.itemError(t),r.manager.itemEnd(t)}));vY.add(t,a),r.manager.itemStart(t)}},ImageLoader:SY,ImageUtils:VV,IncrementStencilOp:7682,IncrementWrapStencilOp:34055,InstancedBufferAttribute:cW,InstancedBufferGeometry:WY,InstancedInterleavedBuffer:class extends kj{constructor(t,e,n=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}},InstancedMesh:gW,Int16BufferAttribute:class extends LG{constructor(t,e,n){super(new Int16Array(t),e,n)}},Int32BufferAttribute:class extends LG{constructor(t,e,n){super(new Int32Array(t),e,n)}},Int8BufferAttribute:class extends LG{constructor(t,e,n){super(new Int8Array(t),e,n)}},IntType:$H,InterleavedBuffer:kj,InterleavedBufferAttribute:Tj,Interpolant:nY,InterpolateDiscrete:zz,InterpolateLinear:Vz,InterpolateSmooth:$z,InvertStencilOp:5386,KeepStencilOp:tV,KeyframeTrack:sY,LOD:Kj,LatheGeometry:DK,Layers:z$,LessCompare:513,LessDepth:2,LessEqualCompare:515,LessEqualDepth:3,LessEqualStencilFunc:515,LessStencilFunc:513,Light:MY,LightProbe:$Y,Line:ZW,Line3:class{constructor(t=new t$,e=new t$){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){IX.subVectors(t,this.start),RX.subVectors(this.end,this.start);const n=RX.dot(RX);let i=RX.dot(IX)/n;return e&&(i=bV(i,0,1)),i}closestPointToPoint(t,e,n){const i=this.closestPointToPointParameter(t,e);return this.delta(n).multiplyScalar(i).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},LineBasicMaterial:$W,LineCurve:EK,LineCurve3:TK,LineDashedMaterial:Xq,LineLoop:nK,LineSegments:eK,LinearFilter:PH,LinearInterpolant:rY,LinearMipMapLinearFilter:1008,LinearMipMapNearestFilter:1007,LinearMipmapLinearFilter:FH,LinearMipmapNearestFilter:BH,LinearSRGBColorSpace:Zz,LinearToneMapping:1,LinearTransfer:Jz,Loader:bY,LoaderUtils:jY,LoadingManager:gY,LoopOnce:2200,LoopPingPong:2202,LoopRepeat:2201,LuminanceAlphaFormat:ez,LuminanceFormat:tz,MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Material:CG,MaterialLoader:GY,MathUtils:MV,Matrix2:AX,Matrix3:kV,Matrix4:N$,MaxEquation:104,Mesh:ij,MeshBasicMaterial:kG,MeshDepthMaterial:Kq,MeshDistanceMaterial:qq,MeshLambertMaterial:Wq,MeshMatcapMaterial:Yq,MeshNormalMaterial:jq,MeshPhongMaterial:$q,MeshPhysicalMaterial:Vq,MeshStandardMaterial:zq,MeshToonMaterial:Gq,MinEquation:103,MirroredRepeatWrapping:RH,MixOperation:1,MultiplyBlending:4,MultiplyOperation:0,NearestFilter:OH,NearestMipMapLinearFilter:1005,NearestMipMapNearestFilter:1004,NearestMipmapLinearFilter:DH,NearestMipmapNearestFilter:LH,NeutralToneMapping:7,NeverCompare:512,NeverDepth:0,NeverStencilFunc:512,NoBlending:0,NoColorSpace:Yz,NoToneMapping:0,NormalAnimationBlendMode:Kz,NormalBlending:1,NotEqualCompare:517,NotEqualDepth:7,NotEqualStencilFunc:517,NumberKeyframeTrack:cY,Object3D:iG,ObjectLoader:class extends bY{constructor(t){super(t)}load(t,e,n,i){const r=this,o=""===this.path?jY.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;const s=new xY(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(t,(function(n){let o=null;try{o=JSON.parse(n)}catch(a){return void(void 0!==i&&i(a))}const s=o.metadata;void 0!==s&&void 0!==s.type&&"geometry"!==s.type.toLowerCase()?r.parse(o,e):void 0!==i&&i(new Error("THREE.ObjectLoader: Can't load "+t))}),n,i)}async loadAsync(t,e){const n=""===this.path?jY.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||n;const i=new xY(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials);const r=await i.loadAsync(t,e),o=JSON.parse(r),s=o.metadata;if(void 0===s||void 0===s.type||"geometry"===s.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+t);return await this.parseAsync(o)}parse(t,e){const n=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,i),o=this.parseImages(t.images,(function(){void 0!==e&&e(l)})),s=this.parseTextures(t.textures,o),a=this.parseMaterials(t.materials,s),l=this.parseObject(t.object,r,a,s,n),c=this.parseSkeletons(t.skeletons,l);if(this.bindSkeletons(l,c),this.bindLightTargets(l),void 0!==e){let t=!1;for(const e in o)if(o[e].data instanceof HTMLImageElement){t=!0;break}!1===t&&e(l)}return l}async parseAsync(t){const e=this.parseAnimations(t.animations),n=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,n),r=await this.parseImagesAsync(t.images),o=this.parseTextures(t.textures,r),s=this.parseMaterials(t.materials,o),a=this.parseObject(t.object,i,s,o,e),l=this.parseSkeletons(t.skeletons,a);return this.bindSkeletons(a,l),this.bindLightTargets(a),a}parseShapes(t){const e={};if(void 0!==t)for(let n=0,i=t.length;n<i;n++){const i=(new KK).fromJSON(t[n]);e[i.uuid]=i}return e}parseSkeletons(t,e){const n={},i={};if(e.traverse((function(t){t.isBone&&(i[t.uuid]=t)})),void 0!==t)for(let r=0,o=t.length;r<o;r++){const e=(new lW).fromJSON(t[r],i);n[e.uuid]=e}return n}parseGeometries(t,e){const n={};if(void 0!==t){const i=new KY;for(let r=0,o=t.length;r<o;r++){let o;const s=t[r];switch(s.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(s);break;default:s.type in Fq&&(o=Fq[s.type].fromJSON(s,e))}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.userData&&(o.userData=s.userData),n[s.uuid]=o}}return n}parseMaterials(t,e){const n={},i={};if(void 0!==t){const r=new GY;r.setTextures(e);for(let e=0,o=t.length;e<o;e++){const o=t[e];void 0===n[o.uuid]&&(n[o.uuid]=r.parse(o)),i[o.uuid]=n[o.uuid]}}return i}parseAnimations(t){const e={};if(void 0!==t)for(let n=0;n<t.length;n++){const i=t[n],r=pY.parse(i);e[r.uuid]=r}return e}parseImages(t,e){const n=this,i={};let r;function o(t){if("string"==typeof t){const e=t;return function(t){return n.manager.itemStart(t),r.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t),n.manager.itemEnd(t)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:n.resourcePath+e)}return t.data?{data:NV(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){const n=new gY(e);r=new SY(n),r.setCrossOrigin(this.crossOrigin);for(let e=0,r=t.length;e<r;e++){const n=t[e],r=n.url;if(Array.isArray(r)){const t=[];for(let e=0,n=r.length;e<n;e++){const n=o(r[e]);null!==n&&(n instanceof HTMLImageElement?t.push(n):t.push(new oW(n.data,n.width,n.height)))}i[n.uuid]=new GV(t)}else{const t=o(n.url);i[n.uuid]=new GV(t)}}}return i}async parseImagesAsync(t){const e=this,n={};let i;async function r(t){if("string"==typeof t){const n=t,r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:e.resourcePath+n;return await i.loadAsync(r)}return t.data?{data:NV(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){i=new SY(this.manager),i.setCrossOrigin(this.crossOrigin);for(let e=0,i=t.length;e<i;e++){const i=t[e],o=i.url;if(Array.isArray(o)){const t=[];for(let e=0,n=o.length;e<n;e++){const n=o[e],i=await r(n);null!==i&&(i instanceof HTMLImageElement?t.push(i):t.push(new oW(i.data,i.width,i.height)))}n[i.uuid]=new GV(t)}else{const t=await r(i.url);n[i.uuid]=new GV(t)}}}return n}parseTextures(t,e){function n(t,e){return"number"==typeof t?t:e[t]}const i={};if(void 0!==t)for(let r=0,o=t.length;r<o;r++){const o=t[r];o.image,e[o.image];const s=e[o.image],a=s.data;let l;Array.isArray(a)?(l=new yj,6===a.length&&(l.needsUpdate=!0)):(l=a&&a.data?new oW:new KV,a&&(l.needsUpdate=!0)),l.source=s,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,qY)),void 0!==o.channel&&(l.channel=o.channel),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],YY),l.wrapT=n(o.wrap[1],YY)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.colorSpace&&(l.colorSpace=o.colorSpace),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,XY)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,XY)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.compareFunction&&(l.compareFunction=o.compareFunction),void 0!==o.userData&&(l.userData=o.userData),i[o.uuid]=l}return i}parseObject(t,e,n,i,r){let o,s,a;function l(t){return e[t],e[t]}function c(t){if(void 0!==t){if(Array.isArray(t)){const e=[];for(let i=0,r=t.length;i<r;i++){const r=t[i];n[r],e.push(n[r])}return e}return n[t],n[t]}}function u(t){return i[t],i[t]}switch(t.type){case"Scene":o=new Cj,void 0!==t.background&&(Number.isInteger(t.background)?o.background=new xG(t.background):o.background=u(t.background)),void 0!==t.environment&&(o.environment=u(t.environment)),void 0!==t.fog&&("Fog"===t.fog.type?o.fog=new Mj(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(o.fog=new Sj(t.fog.color,t.fog.density)),""!==t.fog.name&&(o.fog.name=t.fog.name)),void 0!==t.backgroundBlurriness&&(o.backgroundBlurriness=t.backgroundBlurriness),void 0!==t.backgroundIntensity&&(o.backgroundIntensity=t.backgroundIntensity),void 0!==t.backgroundRotation&&o.backgroundRotation.fromArray(t.backgroundRotation),void 0!==t.environmentIntensity&&(o.environmentIntensity=t.environmentIntensity),void 0!==t.environmentRotation&&o.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":o=new mj(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(o.focus=t.focus),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.filmGauge&&(o.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(o.filmOffset=t.filmOffset),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"OrthographicCamera":o=new BY(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(o.zoom=t.zoom),void 0!==t.view&&(o.view=Object.assign({},t.view));break;case"AmbientLight":o=new HY(t.color,t.intensity);break;case"DirectionalLight":o=new UY(t.color,t.intensity),o.target=t.target||"";break;case"PointLight":o=new PY(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":o=new zY(t.color,t.intensity,t.width,t.height);break;case"SpotLight":o=new IY(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),o.target=t.target||"";break;case"HemisphereLight":o=new CY(t.color,t.groundColor,t.intensity);break;case"LightProbe":o=(new $Y).fromJSON(t);break;case"SkinnedMesh":s=l(t.geometry),a=c(t.material),o=new iW(s,a),void 0!==t.bindMode&&(o.bindMode=t.bindMode),void 0!==t.bindMatrix&&o.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(o.skeleton=t.skeleton);break;case"Mesh":s=l(t.geometry),a=c(t.material),o=new ij(s,a);break;case"InstancedMesh":s=l(t.geometry),a=c(t.material);const e=t.count,n=t.instanceMatrix,i=t.instanceColor;o=new gW(s,a,e),o.instanceMatrix=new cW(new Float32Array(n.array),16),void 0!==i&&(o.instanceColor=new cW(new Float32Array(i.array),i.itemSize));break;case"BatchedMesh":s=l(t.geometry),a=c(t.material),o=new VW(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,a),o.geometry=s,o.perObjectFrustumCulled=t.perObjectFrustumCulled,o.sortObjects=t.sortObjects,o.$e=t.drawRanges,o.Ge=t.reservedRanges,o.je=t.visibility,o.T=t.active,o.We=t.bounds.map((t=>{const e=new i$;e.min.fromArray(t.boxMin),e.max.fromArray(t.boxMax);const n=new _$;return n.radius=t.sphereRadius,n.center.fromArray(t.sphereCenter),{boxInitialized:t.boxInitialized,box:e,sphereInitialized:t.sphereInitialized,sphere:n}})),o.Ke=t.maxInstanceCount,o.qe=t.maxVertexCount,o.Ye=t.maxIndexCount,o.Xe=t.geometryInitialized,o.Ze=t.geometryCount,o.Je=u(t.matricesTexture.uuid),void 0!==t.colorsTexture&&(o.Qe=u(t.colorsTexture.uuid));break;case"LOD":o=new Kj;break;case"Line":o=new ZW(l(t.geometry),c(t.material));break;case"LineLoop":o=new nK(l(t.geometry),c(t.material));break;case"LineSegments":o=new eK(l(t.geometry),c(t.material));break;case"PointCloud":case"Points":o=new lK(l(t.geometry),c(t.material));break;case"Sprite":o=new $j(c(t.material));break;case"Group":o=new wj;break;case"Bone":o=new rW;break;default:o=new iG}if(o.uuid=t.uuid,void 0!==t.name&&(o.name=t.name),void 0!==t.matrix?(o.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(o.matrixAutoUpdate=t.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==t.position&&o.position.fromArray(t.position),void 0!==t.rotation&&o.rotation.fromArray(t.rotation),void 0!==t.quaternion&&o.quaternion.fromArray(t.quaternion),void 0!==t.scale&&o.scale.fromArray(t.scale)),void 0!==t.up&&o.up.fromArray(t.up),void 0!==t.castShadow&&(o.castShadow=t.castShadow),void 0!==t.receiveShadow&&(o.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.intensity&&(o.shadow.intensity=t.shadow.intensity),void 0!==t.shadow.bias&&(o.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(o.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(o.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&o.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(o.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(o.visible=t.visible),void 0!==t.frustumCulled&&(o.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(o.renderOrder=t.renderOrder),void 0!==t.userData&&(o.userData=t.userData),void 0!==t.layers&&(o.layers.mask=t.layers),void 0!==t.children){const s=t.children;for(let t=0;t<s.length;t++)o.add(this.parseObject(s[t],e,n,i,r))}if(void 0!==t.animations){const e=t.animations;for(let t=0;t<e.length;t++){const n=e[t];o.animations.push(r[n])}}if("LOD"===t.type){void 0!==t.autoUpdate&&(o.autoUpdate=t.autoUpdate);const e=t.levels;for(let t=0;t<e.length;t++){const n=e[t],i=o.getObjectByProperty("uuid",n.object);void 0!==i&&o.addLevel(i,n.distance,n.hysteresis)}}return o}bindSkeletons(t,e){0!==Object.keys(e).length&&t.traverse((function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){const n=e[t.skeleton];void 0===n||t.bind(n,t.bindMatrix)}}))}bindLightTargets(t){t.traverse((function(e){if(e.isDirectionalLight||e.isSpotLight){const n=e.target,i=t.getObjectByProperty("uuid",n);e.target=void 0!==i?i:new iG}}))}},ObjectSpaceNormalMap:1,OctahedronGeometry:Eq,OneFactor:201,OneMinusConstantAlphaFactor:214,OneMinusConstantColorFactor:212,OneMinusDstAlphaFactor:207,OneMinusDstColorFactor:209,OneMinusSrcAlphaFactor:rH,OneMinusSrcColorFactor:203,OrthographicCamera:BY,PCFShadowMap:1,PCFSoftShadowMap:2,PMREMGenerator:MZ,Path:LK,PerspectiveCamera:mj,Plane:_W,PlaneGeometry:Tq,PlaneHelper:class extends ZW{constructor(t,e=1,n=16776960){const i=n,r=new jG;r.setAttribute("position",new BG([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),r.computeBoundingSphere(),super(r,new $W({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const o=new jG;o.setAttribute("position",new BG([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),o.computeBoundingSphere(),this.add(new ij(o,new kG({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},PointLight:PY,PointLightHelper:class extends ij{constructor(t,e,n){super(new Iq(e,4,2),new kG({wireframe:!0,fog:!1,toneMapped:!1})),this.light=t,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Points:lK,PointsMaterial:iK,PolarGridHelper:class extends eK{constructor(t=10,e=16,n=8,i=64,r=4473924,o=8947848){r=new xG(r),o=new xG(o);const s=[],a=[];if(e>1)for(let c=0;c<e;c++){const n=c/e*(2*Math.PI),i=Math.sin(n)*t,l=Math.cos(n)*t;s.push(0,0,0),s.push(i,0,l);const u=1&c?r:o;a.push(u.r,u.g,u.b),a.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const e=1&c?r:o,l=t-t/n*c;for(let t=0;t<i;t++){let n=t/i*(2*Math.PI),r=Math.sin(n)*l,o=Math.cos(n)*l;s.push(r,0,o),a.push(e.r,e.g,e.b),n=(t+1)/i*(2*Math.PI),r=Math.sin(n)*l,o=Math.cos(n)*l,s.push(r,0,o),a.push(e.r,e.g,e.b)}}const l=new jG;l.setAttribute("position",new BG(s,3)),l.setAttribute("color",new BG(a,3));super(l,new $W({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},PolyhedronGeometry:HK,PositionalAudio:class extends cX{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(uX,dX,hX),fX.set(0,0,1).applyQuaternion(dX);const e=this.panner;if(e.positionX){const t=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(uX.x,t),e.positionY.linearRampToValueAtTime(uX.y,t),e.positionZ.linearRampToValueAtTime(uX.z,t),e.orientationX.linearRampToValueAtTime(fX.x,t),e.orientationY.linearRampToValueAtTime(fX.y,t),e.orientationZ.linearRampToValueAtTime(fX.z,t)}else e.setPosition(uX.x,uX.y,uX.z),e.setOrientation(fX.x,fX.y,fX.z)}},PropertyBinding:_X,PropertyMixer:pX,QuadraticBezierCurve:AK,QuadraticBezierCurve3:NK,Quaternion:QV,QuaternionKeyframeTrack:dY,QuaternionLinearInterpolant:uY,RED_GREEN_RGTC2_Format:Uz,RED_RGTC1_Format:Bz,REVISION:WU,RGBADepthPacking:3201,RGBAFormat:QH,RGBAIntegerFormat:lz,RGBA_ASTC_10x10_Format:Iz,RGBA_ASTC_10x5_Format:Tz,RGBA_ASTC_10x6_Format:Az,RGBA_ASTC_10x8_Format:Nz,RGBA_ASTC_12x10_Format:Rz,RGBA_ASTC_12x12_Format:Oz,RGBA_ASTC_4x4_Format:wz,RGBA_ASTC_5x4_Format:_z,RGBA_ASTC_5x5_Format:xz,RGBA_ASTC_6x5_Format:Sz,RGBA_ASTC_6x6_Format:Mz,RGBA_ASTC_8x5_Format:Cz,RGBA_ASTC_8x6_Format:kz,RGBA_ASTC_8x8_Format:Ez,RGBA_BPTC_Format:Lz,RGBA_ETC2_EAC_Format:bz,RGBA_PVRTC_2BPPV1_Format:vz,RGBA_PVRTC_4BPPV1_Format:mz,RGBA_S3TC_DXT1_Format:uz,RGBA_S3TC_DXT3_Format:dz,RGBA_S3TC_DXT5_Format:hz,RGBDepthPacking:3202,RGBFormat:JH,RGBIntegerFormat:1032,RGB_BPTC_SIGNED_Format:Dz,RGB_BPTC_UNSIGNED_Format:Pz,RGB_ETC1_Format:gz,RGB_ETC2_Format:yz,RGB_PVRTC_2BPPV1_Format:pz,RGB_PVRTC_4BPPV1_Format:fz,RGB_S3TC_DXT1_Format:cz,RGDepthPacking:3203,RGFormat:sz,RGIntegerFormat:az,RawShaderMaterial:Hq,Ray:A$,Raycaster:class{constructor(t,e,n=0,i=1/0){this.ray=new A$(t,e),this.near=n,this.far=i,this.camera=null,this.layers=new z$,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera&&(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e)}setFromXRController(t){return kX.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(kX),this}intersectObject(t,e=!0,n=[]){return TX(t,this,n,e),n.sort(EX),n}intersectObjects(t,e=!0,n=[]){for(let i=0,r=t.length;i<r;i++)TX(t[i],this,n,e);return n.sort(EX),n}},RectAreaLight:zY,RedFormat:rz,RedIntegerFormat:oz,ReinhardToneMapping:2,RenderTarget:YV,RenderTarget3D:class extends YV{constructor(t=1,e=1,n=1,i={}){super(t,e,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new JV(null,t,e,n),this.texture.isRenderTargetTexture=!0}},RenderTargetArray:class extends YV{constructor(t=1,e=1,n=1,i={}){super(t,e,i),this.isRenderTargetArray=!0,this.depth=n,this.texture=new ZV(null,t,e,n),this.texture.isRenderTargetTexture=!0}},RepeatWrapping:NH,ReplaceStencilOp:7681,ReverseSubtractEquation:102,RingGeometry:Aq,SIGNED_RED_GREEN_RGTC2_Format:Hz,SIGNED_RED_RGTC1_Format:Fz,SRGBColorSpace:Xz,SRGBTransfer:Qz,Scene:Cj,ShaderChunk:tZ,ShaderLib:nZ,ShaderMaterial:uj,ShadowMaterial:Uq,Shape:KK,ShapeGeometry:Nq,ShapePath:class{constructor(){this.type="ShapePath",this.color=new xG,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new LK,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this}bezierCurveTo(t,e,n,i,r,o){return this.currentPath.bezierCurveTo(t,e,n,i,r,o),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(t,e){const n=e.length;let i=!1;for(let r=n-1,o=0;o<n;r=o++){let n=e[r],s=e[o],a=s.x-n.x,l=s.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=e[o],a=-a,s=e[r],l=-l),t.y<n.y||t.y>s.y)continue;if(t.y===n.y){if(t.x===n.x)return!0}else{const e=l*(t.x-n.x)-a*(t.y-n.y);if(0===e)return!0;if(e<0)continue;i=!i}}else{if(t.y!==n.y)continue;if(s.x<=t.x&&t.x<=n.x||n.x<=t.x&&t.x<=s.x)return!0}}return i}const n=_q.isClockWise,i=this.subPaths;if(0===i.length)return[];let r,o,s;const a=[];if(1===i.length)return o=i[0],s=new KK,s.curves=o.curves,a.push(s),a;let l=!n(i[0].getPoints());l=t?!l:l;const c=[],u=[];let d,h,f=[],p=0;u[p]=void 0,f[p]=[];for(let m=0,v=i.length;m<v;m++)o=i[m],d=o.getPoints(),r=n(d),r=t?!r:r,r?(!l&&u[p]&&p++,u[p]={s:new KK,p:d},u[p].s.curves=o.curves,l&&p++,f[p]=[]):f[p].push({h:o,p:d[0]});if(!u[0])return function(t){const e=[];for(let n=0,i=t.length;n<i;n++){const i=t[n],r=new KK;r.curves=i.curves,e.push(r)}return e}(i);if(u.length>1){let t=!1,n=0;for(let e=0,i=u.length;e<i;e++)c[e]=[];for(let i=0,r=u.length;i<r;i++){const r=f[i];for(let o=0;o<r.length;o++){const s=r[o];let a=!0;for(let r=0;r<u.length;r++)e(s.p,u[r].p)&&(i!==r&&n++,a?(a=!1,c[r].push(s)):t=!0);a&&c[i].push(s)}}n>0&&!1===t&&(f=c)}for(let m=0,v=u.length;m<v;m++){s=u[m].s,a.push(s),h=f[m];for(let t=0,e=h.length;t<e;t++)s.holes.push(h[t].h)}return a}},ShapeUtils:_q,ShortType:zH,Skeleton:lW,SkeletonHelper:class extends eK{constructor(t){const e=BX(t),n=new jG,i=[],r=[],o=new xG(0,0,1),s=new xG(0,1,0);for(let a=0;a<e.length;a++){const t=e[a];t.parent&&t.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(s.r,s.g,s.b))}n.setAttribute("position",new BG(i,3)),n.setAttribute("color",new BG(r,3));super(n,new $W({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,n=this.geometry,i=n.getAttribute("position");PX.copy(this.root.matrixWorld).invert();for(let r=0,o=0;r<e.length;r++){const t=e[r];t.parent&&t.parent.isBone&&(DX.multiplyMatrices(PX,t.matrixWorld),LX.setFromMatrixPosition(DX),i.setXYZ(o,LX.x,LX.y,LX.z),DX.multiplyMatrices(PX,t.parent.matrixWorld),LX.setFromMatrixPosition(DX),i.setXYZ(o+1,LX.x,LX.y,LX.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}},SkinnedMesh:iW,Source:GV,Sphere:_$,SphereGeometry:Iq,Spherical:class{constructor(t=1,e=0,n=0){this.radius=t,this.phi=e,this.theta=n}set(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=bV(this.phi,t,Math.PI-t),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(bV(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},SphericalHarmonics3:VY,SplineCurve:IK,SpotLight:IY,SpotLightHelper:class extends iG{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const n=new jG,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){const t=o/a*Math.PI*2,e=s/a*Math.PI*2;i.push(Math.cos(t),Math.sin(t),1,Math.cos(e),Math.sin(e),1)}n.setAttribute("position",new BG(i,3));const r=new $W({fog:!1,toneMapped:!1});this.cone=new eK(n,r),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),OX.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(OX),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Sprite:$j,SpriteMaterial:Aj,SrcAlphaFactor:iH,SrcAlphaSaturateFactor:210,SrcColorFactor:202,StaticCopyUsage:35046,StaticDrawUsage:cV,StaticReadUsage:35045,StereoCamera:class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new mj,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new mj,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this.Ao={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this.Ao;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,eX.copy(t.projectionMatrix);const n=e.eyeSep/2,i=n*e.near/e.focus,r=e.near*Math.tan(vV*e.fov*.5)/e.zoom;let o,s;tX.elements[12]=-n,QY.elements[12]=n,o=-r*e.aspect+i,s=r*e.aspect+i,eX.elements[0]=2*e.near/(s-o),eX.elements[8]=(s+o)/(s-o),this.cameraL.projectionMatrix.copy(eX),o=-r*e.aspect-i,s=r*e.aspect-i,eX.elements[0]=2*e.near/(s-o),eX.elements[8]=(s+o)/(s-o),this.cameraR.projectionMatrix.copy(eX)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(tX),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(QY)}},StreamCopyUsage:35042,StreamDrawUsage:35040,StreamReadUsage:35041,StringKeyframeTrack:hY,SubtractEquation:101,SubtractiveBlending:3,TOUCH:{ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},TangentSpaceNormalMap:0,TetrahedronGeometry:Rq,Texture:KV,TextureLoader:class extends bY{constructor(t){super(t)}load(t,e,n,i){const r=new KV,o=new SY(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(t){r.image=t,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}},TextureUtils:class{static contain(t,e){return function(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}(t,e)}static cover(t,e){return function(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}(t,e)}static fill(t){return function(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}(t)}static getByteLength(t,e,n,i){return ZX(t,e,n,i)}},TimestampQuery:{COMPUTE:"compute",RENDER:"render"},TorusGeometry:Oq,TorusKnotGeometry:Lq,Triangle:gG,TriangleFanDrawMode:2,TriangleStripDrawMode:1,TrianglesDrawMode:0,TubeGeometry:Dq,UVMapping:MH,Uint16BufferAttribute:DG,Uint32BufferAttribute:PG,Uint8BufferAttribute:class extends LG{constructor(t,e,n){super(new Uint8Array(t),e,n)}},Uint8ClampedBufferAttribute:class extends LG{constructor(t,e,n){super(new Uint8ClampedArray(t),e,n)}},Uniform:MX,UniformsGroup:class extends fV{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:CX++}),this.name="",this.usage=cV,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return-1!==e&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let n=0,i=e.length;n<i;n++){const t=Array.isArray(e[n])?e[n]:[e[n]];for(let e=0;e<t.length;e++)this.uniforms.push(t[e].clone())}return this}clone(){return(new this.constructor).copy(this)}},UniformsLib:eZ,UniformsUtils:cj,UnsignedByteType:UH,UnsignedInt248Type:YH,UnsignedInt5999Type:XH,UnsignedIntType:GH,UnsignedShort4444Type:KH,UnsignedShort5551Type:qH,UnsignedShortType:VH,VSMShadowMap:3,Vector2:CV,Vector3:t$,Vector4:qV,VectorKeyframeTrack:fY,VideoFrameTexture:class extends uK{constructor(t,e,n,i,r,o,s,a){super({},t,e,n,i,r,o,s,a),this.isVideoFrameTexture=!0}update(){}clone(){return(new this.constructor).copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}},VideoTexture:uK,WebGL3DRenderTarget:class extends XV{constructor(t=1,e=1,n=1,i={}){super(t,e,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new JV(null,t,e,n),this.texture.isRenderTargetTexture=!0}},WebGLArrayRenderTarget:class extends XV{constructor(t=1,e=1,n=1,i={}){super(t,e,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new ZV(null,t,e,n),this.texture.isRenderTargetTexture=!0}},WebGLCoordinateSystem:dV,WebGLCubeRenderTarget:bj,WebGLRenderTarget:XV,WebGLRenderer:LQ,WebGLUtils:EQ,WebGPUCoordinateSystem:hV,WebXRController:xj,WireframeGeometry:Pq,WrapAroundEnding:Wz,ZeroCurvatureEnding:Gz,ZeroFactor:200,ZeroSlopeEnding:jz,ZeroStencilOp:0,createCanvasElement:RV},Symbol.toStringTag,{value:"Module"})),PQ={$t:"BackgroundAnimation",setup(t){const e=Me(null);let n,i,r,o,s,a,l=0,c=0,u=0,d=0;const h=t=>{l=.001*(t.clientX-window.innerWidth/2),c=.001*(t.clientY-window.innerHeight/2)},f=()=>{r&&n&&(r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight))},p=()=>{n&&i&&r&&(requestAnimationFrame(p),u+=.05*(l-u),d+=.05*(c-d),r.position.x=2*u,r.position.y=2*d,s&&(s.rotation.z+=.001),a&&(a.rotation.z-=5e-4),n.render(i,r))};return Zn((()=>{(()=>{if(!e.value)return;n=new LQ({canvas:e.value,antialias:!0,alpha:!0}),n.setSize(window.innerWidth,window.innerHeight),n.setPixelRatio(Math.min(window.devicePixelRatio,2)),i=new Cj,r=new mj(75,window.innerWidth/window.innerHeight,.1,1e3),r.position.z=30;const t=new jG,l=new Float32Array(4500),c=new Float32Array(4500);for(let e=0;e<4500;e+=3)l[e]=100*(Math.random()-.5),l[e+1]=100*(Math.random()-.5),l[e+2]=100*(Math.random()-.5),c[e]=.1+.2*Math.random(),c[e+1]=.3+.3*Math.random(),c[e+2]=.7+.3*Math.random();t.setAttribute("position",new LG(l,3)),t.setAttribute("color",new LG(c,3));const u=new iK({size:.1,sizeAttenuation:!0,vertexColors:!0,transparent:!0,opacity:.8});o=new lK(t,u),i.add(o);const d=new Oq(15,.5,16,100),h=new kG({color:5221630,transparent:!0,opacity:.2,wireframe:!0});s=new ij(d,h),s.rotation.x=Math.PI/2,i.add(s);const f=new Oq(25,.3,16,100),p=new kG({color:62206,transparent:!0,opacity:.1,wireframe:!0});a=new ij(f,p),a.rotation.x=Math.PI/3,i.add(a)})(),window.addEventListener("mousemove",h),window.addEventListener("resize",f),p()})),ei((()=>{window.removeEventListener("mousemove",h),window.removeEventListener("resize",f),n&&n.dispose(),i&&i.traverse((t=>{t.geometry&&t.geometry.dispose(),t.material&&(Array.isArray(t.material)?t.material.forEach((t=>t.dispose())):t.material.dispose())}))})),(t,n)=>(Rr(),Pr("canvas",{ref_key:"canvas",ref:e,id:"bg-canvas"},null,512))}},BQ={class:"card-title"},FQ={class:"card-content"},UQ={$t:"ServiceCard",props:{title:String,content:String,path:String},setup(t){const e=t,n=jU(),i=Me(0),r=Me(0),o=Me(0),s=Me(0),a=t=>{const e=t.currentTarget,n=e.getBoundingClientRect(),i=t.clientX-n.left,r=t.clientY-n.top;e.style.setProperty("--mouse-x",`${i}px`),e.style.setProperty("--mouse-y",`${r}px`);const a=n.width/2,l=n.height/2;o.value=(l-r)/l*20,s.value=(i-a)/a*20},l=t=>{o.value=0,s.value=0;const e=t.currentTarget;e.style.setProperty("--mouse-x","50%"),e.style.setProperty("--mouse-y","50%")},c=()=>{e.path&&n.push(e.path)};return Zn((()=>{const t=()=>{i.value+=.15*(o.value-i.value),r.value+=.15*(s.value-r.value),requestAnimationFrame(t)};t()})),(e,n)=>(Rr(),Pr("div",{class:"card",onMousemove:a,onMouseleave:l,style:F({transform:`perspective(1000px) rotateX(${i.value}deg) rotateY(${r.value}deg)`})},[Vr("div",BQ,X(t.title),1),Vr("div",FQ,X(t.content),1),Vr("div",{class:"card-footer"},[Vr("button",{class:"btn",onClick:c},"了解更多")])],36))}},HQ=(t,e)=>{const n=t.zt||t;for(const[i,r]of e)n[i]=r;return n},zQ=["href"],VQ=HQ({$t:"NavButton",props:{text:String,to:String},setup:t=>(e,n)=>(Rr(),Pr("a",{href:t.to,class:"nav-button"},X(t.text),9,zQ))},[["__scopeId","data-v-c1441e46"]]),$Q={class:"home"},GQ={class:"card-container"},jQ={class:"footer"},WQ={class:"btn-container"},KQ={class:"agent-page"},qQ={class:"features"},YQ=["onMousemove"],XQ={class:"feature-icon"},ZQ={class:"feature-title"},JQ={class:"feature-content"},QQ={class:"use-cases"},t0={class:"case-grid"},e0={class:"case-icon"},n0={class:"footer"},i0={class:"btn-container"},r0=[{path:"/",name:"Home",component:{$t:"Home",setup(t){jU();const e=Me([{title:"行业AI智能体",content:"基于大语言模型和行业知识库开发的智能助手，为各行业提供专业、精准的AI解决方案，助力企业提升运营效率和决策能力。",path:"/agent"},{title:"3D 可视化解决方案",content:"通过 Three.js 技术打造沉浸式 3D 产品展示，提升用户体验和互动性，为您的产品呈现全新视角。",path:"/3dcase"},{title:"数据可视化平台",content:"将复杂数据通过直观图表和动态模型展示，帮助企业快速洞察市场趋势，做出精准决策。",path:"/dashboard"},{title:"前端性能优化",content:"专业的前端性能分析与优化服务，提升网站加载速度和用户体验，为您的业务带来更高转化率。",path:"/optimized"}]);return(t,n)=>(Rr(),Pr("div",$Q,[n[1]||(n[1]=Vr("header",{class:"header"},[Vr("h1",null,"前沿科技解决方案"),Vr("h2",null,"科技创新，探索无止境"),Vr("p",null,"打造沉浸式数字体验，助力企业数字化转型")],-1)),Vr("div",GQ,[(Rr(!0),Pr(kr,null,fi(e.value,((t,e)=>(Rr(),Br(UQ,{key:e,title:t.title,path:t.path,content:t.content},null,8,["title","path","content"])))),128))]),Vr("footer",jQ,[Vr("div",WQ,[$r(VQ,{text:"关于我们",to:"./about.html"}),$r(VQ,{text:"隐私政策",to:"./policy.html"})]),n[0]||(n[0]=Vr("p",null,"© 2025 多拼科技 | 引领数字化未来",-1))]),$r(PQ)]))}}},{path:"/agent",name:"Agent",component:{$t:"Agent",setup(t){const e=jU(),n=Me([{icon:"🤖",title:"智能对话",content:"基于大语言模型的自然语言交互，让AI助手能够理解并回应您的各种需求。"},{icon:"📊",title:"数据分析",content:"深度分析行业数据，提供数据驱动的决策建议，助力企业精准决策。"},{icon:"⚡",title:"流程优化",content:"智能识别业务流程中的优化空间，提供自动化解决方案，提升运营效率。"},{icon:"🎯",title:"个性化定制",content:"根据企业特点和行业需求，定制专属的AI解决方案，确保最佳效果。"}]),i=Me([{icon:"🏢",title:"企业咨询",description:"为企业提供战略规划、市场分析和运营优化建议"},{icon:"🏥",title:"医疗健康",description:"辅助医生诊断、提供治疗方案建议和健康管理方案"},{icon:"🏦",title:"金融服务",description:"风险评估、投资建议和财务规划服务"},{icon:"🎓",title:"教育培训",description:"个性化学习计划、智能辅导和知识问答"}]),r=()=>{e.push("/demo")};return(t,e)=>(Rr(),Pr("div",KQ,[$r(PQ),e[4]||(e[4]=Vr("header",{class:"header"},[Vr("h1",null,"AI智能体解决方案"),Vr("p",null," 基于大语言模型和行业知识库开发的智能助手，为各行业提供专业、精准的AI解决方案 ")],-1)),Vr("section",qQ,[(Rr(!0),Pr(kr,null,fi(n.value,((t,e)=>(Rr(),Pr("div",{key:e,class:"feature-card",onMousemove:t=>(t=>{const e=t.currentTarget,n=e.getBoundingClientRect(),i=t.clientX-n.left,r=t.clientY-n.top;e.style.setProperty("--mouse-x",`${i}px`),e.style.setProperty("--mouse-y",`${r}px`)})(t),ref_for:!0,ref:"card"+e},[Vr("div",XQ,X(t.icon),1),Vr("h3",ZQ,X(t.title),1),Vr("p",JQ,X(t.content),1)],40,YQ)))),128))]),Vr("section",{class:"demo-section"},[e[0]||(e[0]=Vr("h2",{class:"demo-title"},"智能助手演示",-1)),e[1]||(e[1]=Vr("p",{class:"demo-content"}," 体验我们的AI智能助手，它能理解您的业务需求，提供专业的解决方案。 无论是数据分析、决策支持还是流程优化，都能为您带来显著的价值提升。 ",-1)),Vr("button",{class:"cta-button",onClick:r},"立即体验")]),Vr("section",QQ,[e[2]||(e[2]=Vr("h2",{class:"section-title"},"应用场景",-1)),Vr("div",t0,[(Rr(!0),Pr(kr,null,fi(i.value,((t,e)=>(Rr(),Pr("div",{key:e,class:"case-card"},[Vr("div",e0,X(t.icon),1),Vr("h3",null,X(t.title),1),Vr("p",null,X(t.description),1)])))),128))])]),Vr("footer",n0,[Vr("div",i0,[$r(VQ,{text:"返回首页",to:"/"}),$r(VQ,{text:"联系我们",to:"/contact"})]),e[3]||(e[3]=Vr("p",null,"© 2025 多拼科技 | 引领AI智能未来",-1))])]))}}},{path:"/3dcase",name:"3DCase",component:()=>dF((()=>import("./3DCase-DNXr9s5P.js")),[],import.meta.url)},{path:"/dashboard",name:"Dashboard",component:()=>dF((()=>import("./Dashboard-CQGOROmd.js")),[],import.meta.url)},{path:"/optimized",name:"Optimized",component:()=>dF((()=>import("./Optimized-Cr4bEKIO.js")),[],import.meta.url)}],o0=function(t){const e=bU(t.routes,t),n=t.parseQuery||EU,i=t.stringifyQuery||TU,r=t.history,o=DU(),s=DU(),a=DU(),l=Ce($F);let c=$F;hF&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=mF.bind(null,(t=>""+t)),d=mF.bind(null,LF),h=mF.bind(null,DF);function f(t,o){if(o=pF({},o||l.value),"string"==typeof t){const i=BF(n,t,o.path),s=e.resolve({path:i.path},o),a=r.createHref(i.fullPath);return pF(i,s,{params:h(s.params),hash:DF(i.hash),redirectedFrom:void 0,href:a})}let s;if(null!=t.path)s=pF({},t,{path:BF(n,t.path,o.path).path});else{const e=pF({},t.params);for(const t in e)null==e[t]&&delete e[t];s=pF({},t,{params:d(e)}),o.params=d(o.params)}const a=e.resolve(s,o),c=t.hash||"";a.params=u(h(a.params));const f=function(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}(i,pF({},t,{hash:(p=c,RF(p).replace(TF,"{").replace(NF,"}").replace(kF,"^")),path:a.path}));var p;const m=r.createHref(f);return pF({fullPath:f,hash:c,query:i===TU?AU(t.query):t.query||{}},a,{redirectedFrom:void 0,href:m})}function p(t){return"string"==typeof t?BF(n,t,l.value.path):pF({},t)}function m(t,e){if(c!==t)return lU(8,{from:e,to:t})}function v(t){return y(t)}function g(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let i="function"==typeof n?n(t):n;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=p(i):{path:i},i.params={}),pF({query:t.query,hash:t.hash,params:null!=i.path?{}:t.params},i)}}function y(t,e){const n=c=f(t),r=l.value,o=t.state,s=t.force,a=!0===t.replace,u=g(n);if(u)return y(pF(p(u),{state:"object"==typeof u?pF({},o,u.state):o,force:s,replace:a}),e||n);const d=n;let h;return d.redirectedFrom=e,!s&&function(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&UF(e.matched[i],n.matched[r])&&HF(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}(i,r,n)&&(h=lU(16,{to:d,from:r}),I(r,r,!0,!1)),(h?Promise.resolve(h):_(d,r)).catch((t=>cU(t)?cU(t,2)?t:N(t):A(t,d,r))).then((t=>{if(t){if(cU(t,2))return y(pF({replace:a},p(t.to),{state:"object"==typeof t.to?pF({},o,t.to.state):o,force:s}),e||d)}else t=S(d,r,!0,a,o);return x(d,r,t),t}))}function b(t,e){const n=m(t,e);return n?Promise.reject(n):Promise.resolve()}function w(t){const e=L.values().next().value;return e&&"function"==typeof e.runWithContext?e.runWithContext(t):t()}function _(t,e){let n;const[i,r,a]=function(t,e){const n=[],i=[],r=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find((t=>UF(t,o)))?i.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find((t=>UF(t,a)))||r.push(a))}return[n,i,r]}(t,e);n=BU(i.reverse(),"beforeRouteLeave",t,e);for(const o of i)o.leaveGuards.forEach((i=>{n.push(PU(i,t,e))}));const l=b.bind(null,t,e);return n.push(l),P(n).then((()=>{n=[];for(const i of o.list())n.push(PU(i,t,e));return n.push(l),P(n)})).then((()=>{n=BU(r,"beforeRouteUpdate",t,e);for(const i of r)i.updateGuards.forEach((i=>{n.push(PU(i,t,e))}));return n.push(l),P(n)})).then((()=>{n=[];for(const i of a)if(i.beforeEnter)if(gF(i.beforeEnter))for(const r of i.beforeEnter)n.push(PU(r,t,e));else n.push(PU(i.beforeEnter,t,e));return n.push(l),P(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=BU(a,"beforeRouteEnter",t,e,w),n.push(l),P(n)))).then((()=>{n=[];for(const i of s.list())n.push(PU(i,t,e));return n.push(l),P(n)})).catch((t=>cU(t,8)?t:Promise.reject(t)))}function x(t,e,n){a.list().forEach((i=>w((()=>i(t,e,n)))))}function S(t,e,n,i,o){const s=m(t,e);if(s)return s;const a=e===$F,c=hF?history.state:{};n&&(i||a?r.replace(t.fullPath,pF({scroll:a&&c&&c.scroll},o)):r.push(t.fullPath,o)),l.value=t,I(t,e,n,a),N()}let M;function C(){M||(M=r.listen(((t,e,n)=>{if(!D.listening)return;const i=f(t),o=g(i);if(o)return void y(pF(o,{replace:!0,force:!0}),i).catch(vF);c=i;const s=l.value;var a,u;hF&&(a=QF(s.fullPath,n.delta),u=ZF(),tU.set(a,u)),_(i,s).catch((t=>cU(t,12)?t:cU(t,2)?(y(pF(p(t.to),{force:!0}),i).then((t=>{cU(t,20)&&!n.delta&&n.type===GF.pop&&r.go(-1,!1)})).catch(vF),Promise.reject()):(n.delta&&r.go(-n.delta,!1),A(t,i,s)))).then((t=>{(t=t||S(i,s,!1))&&(n.delta&&!cU(t,8)?r.go(-n.delta,!1):n.type===GF.pop&&cU(t,20)&&r.go(-1,!1)),x(i,s,t)})).catch(vF)})))}let k,E=DU(),T=DU();function A(t,e,n){N(t);const i=T.list();return i.length&&i.forEach((i=>i(t,e,n))),Promise.reject(t)}function N(t){return k||(k=!t,C(),E.list().forEach((([e,n])=>t?n(t):e())),E.reset()),t}function I(e,n,i,r){const{scrollBehavior:o}=t;if(!hF||!o)return Promise.resolve();const s=!i&&function(t){const e=tU.get(t);return tU.delete(t),e}(QF(e.fullPath,0))||(r||!i)&&history.state&&history.state.scroll||null;return Qe().then((()=>o(e,n,s))).then((t=>t&&JF(t))).catch((t=>A(t,e,n)))}const R=t=>r.go(t);let O;const L=new Set,D={currentRoute:l,listening:!0,addRoute:function(t,n){let i,r;return rU(t)?(i=e.getRecordMatcher(t),r=n):r=t,e.addRoute(r,i)},removeRoute:function(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)},clearRoutes:e.clearRoutes,hasRoute:function(t){return!!e.getRecordMatcher(t)},getRoutes:function(){return e.getRoutes().map((t=>t.record))},resolve:f,options:t,push:v,replace:function(t){return v(pF(p(t),{replace:!0}))},go:R,back:()=>R(-1),forward:()=>R(1),beforeEach:o.add,beforeResolve:s.add,afterEach:a.add,onError:T.add,isReady:function(){return k&&l.value!==$F?Promise.resolve():new Promise(((t,e)=>{E.add([t,e])}))},install(t){t.component("RouterLink",UU),t.component("RouterView",GU),t.config.globalProperties.$router=this,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>Te(l)}),hF&&!O&&l.value===$F&&(O=!0,v(r.location).catch((t=>{})));const e={};for(const i in $F)Object.defineProperty(e,i,{get:()=>l.value[i],enumerable:!0});t.provide(RU,this),t.provide(OU,he(e)),t.provide(LU,l);const n=t.unmount;L.add(t),t.unmount=function(){L.delete(t),L.size<1&&(c=$F,M&&M(),M=null,l.value=$F,O=!1,k=!1),n()}}};function P(t){return t.reduce(((t,e)=>t.then((()=>w(e)))),Promise.resolve())}return D}({history:function(t){const e=iU(t=qF(t)),n=function(t,e,n,i){let r=[],o=[],s=null;const a=({state:o})=>{const a=eU(t,location),l=n.value,c=e.value;let u=0;if(o){if(n.value=a,e.value=o,s&&s===l)return void(s=null);u=c?o.position-c.position:0}else i(a);r.forEach((t=>{t(n.value,l,{delta:u,type:GF.pop,direction:u?u>0?WF.forward:WF.back:WF.unknown})}))};function l(){const{history:t}=window;t.state&&t.replaceState(pF({},t.state,{scroll:ZF()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:function(){s=n.value},listen:function(t){r.push(t);const e=()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)};return o.push(e),e},destroy:function(){for(const t of o)t();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}}}(t,e.state,e.location,e.replace),i=pF({location:"",base:t,go:function(t,e=!0){e||n.pauseListeners(),history.go(t)},createHref:XF.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}(),routes:r0});o0.beforeEach(((t,e,n)=>{n()}));const s0=Vs(cF);s0.use(o0),s0.use(function(){const t=nt(!0),e=t.run((()=>Me({})));let n=[],i=[];const r=we({install(t){Gs(r),r.oe=t,t.provide(js,r),t.config.globalProperties.$pinia=r,i.forEach((t=>n.push(t))),i=[]},use(t){return this.oe?n.push(t):i.push(t),this},ee:n,oe:null,se:t,ne:new Map,state:e});return r}()),s0.use(sF),s0.config.globalProperties.$THREE=DQ,s0.mount("#app");export{HQ as _,Pr as c,Rr as o};
