import{W as a,S as n,P as t,B as e,a as o,b as s,A as r,c as w,d as i,M as c,e as h,C as M}from"./three-EUkLpcCM.js";import{r as d,y as l,_ as m,F as p,G as u}from"./vendor-BzUOOJY8.js";const f={t:"BackgroundAnimation",setup(f){const y=d(null);let v,A,z,b,g,F,_,x=0,j=0,k=0,B=0,C=[],q=[];const G=a=>{x=.001*(a.clientX-window.innerWidth/2),j=.001*(a.clientY-window.innerHeight/2)},P=()=>{z&&v&&(z.aspect=window.innerWidth/window.innerHeight,z.updateProjectionMatrix(),v.setSize(window.innerWidth,window.innerHeight))},S=()=>{if(v&&A&&z){if(requestAnimationFrame(S),k+=.05*(x-k),B+=.05*(j-B),z.position.x=2*k,z.position.y=2*B,g&&(g.rotation.z+=.001),F&&(F.rotation.z-=5e-4),_){const a=_.geometry.attributes.position.array;for(let n=0;n<a.length;n+=3){const t=C[n/3];a[n]+=t.x,a[n+1]+=t.y,a[n+2]+=t.z,(Math.abs(a[n])>50||Math.abs(a[n+1])>50||Math.abs(a[n+2])>50)&&(a[n]=100*(Math.random()-.5),a[n+1]=100*(Math.random()-.5),a[n+2]=100*(Math.random()-.5),C[n/3]={x:.2*(Math.random()-.5),y:.2*(Math.random()-.5),z:.2*(Math.random()-.5)})}_.geometry.attributes.position.needsUpdate=!0}v.render(A,z)}};return l((()=>{(()=>{if(!y.value)return;v=new a({canvas:y.value,antialias:!0,alpha:!0}),v.setSize(window.innerWidth,window.innerHeight),v.setPixelRatio(Math.min(window.devicePixelRatio,2)),A=new n,z=new t(75,window.innerWidth/window.innerHeight,.1,1e3),z.position.z=30;const d=new e,l=new Float32Array(60);C=[],q=[];for(let a=0;a<20;a++)l[3*a]=100*(Math.random()-.5),l[3*a+1]=100*(Math.random()-.5),l[3*a+2]=100*(Math.random()-.5),C.push({x:.2*(Math.random()-.5),y:.2*(Math.random()-.5),z:.2*(Math.random()-.5)}),q.push(2*Math.random()+1);d.setAttribute("position",new o(l,3));const m=new s({size:1.5,color:16777215,transparent:!0,opacity:.8,blending:r,sizeAttenuation:!0});m.map=(()=>{const a=document.createElement("canvas");a.width=64,a.height=64;const n=a.getContext("2d"),t=n.createRadialGradient(32,32,0,32,32,32);return t.addColorStop(0,"rgba(255, 255, 255, 1)"),t.addColorStop(.2,"rgba(255, 255, 255, 0.8)"),t.addColorStop(.4,"rgba(255, 255, 255, 0.4)"),t.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=t,n.fillRect(0,0,64,64),new M(a)})(),m.depthWrite=!1,_=new w(d,m),A.add(_);const p=new e,u=new Float32Array(4500),f=new Float32Array(4500);for(let a=0;a<4500;a+=3)u[a]=100*(Math.random()-.5),u[a+1]=100*(Math.random()-.5),u[a+2]=100*(Math.random()-.5),f[a]=.1+.2*Math.random(),f[a+1]=.3+.3*Math.random(),f[a+2]=.7+.3*Math.random();p.setAttribute("position",new o(u,3)),p.setAttribute("color",new o(f,3));const x=new s({size:.1,sizeAttenuation:!0,vertexColors:!0,transparent:!0,opacity:.8});b=new w(p,x),A.add(b);const j=new i(15,.5,16,100),k=new c({color:5221630,transparent:!0,opacity:.2,wireframe:!0});g=new h(j,k),g.rotation.x=Math.PI/2,A.add(g);const B=new i(25,.3,16,100),G=new c({color:62206,transparent:!0,opacity:.1,wireframe:!0});F=new h(B,G),F.rotation.x=Math.PI/3,A.add(F)})(),window.addEventListener("mousemove",G),window.addEventListener("resize",P),S()})),m((()=>{window.removeEventListener("mousemove",G),window.removeEventListener("resize",P),v&&v.dispose(),A&&A.traverse((a=>{a.geometry&&a.geometry.dispose(),a.material&&(Array.isArray(a.material)?a.material.forEach((a=>a.dispose())):a.material.dispose())}))})),(a,n)=>(u(),p("canvas",{ref_key:"canvas",ref:y,id:"bg-canvas"},null,512))}};export{f as _};
