import{r as t,a as n,b as i,c as r,d as e,e as a,f as o,o as u}from"./index-BxzVkDIE.js";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s=function(t,n){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};function l(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}s(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var f=function(){return function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}}(),h=new(function(){return function(){this.browser=new f,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window}}());"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(h.wxa=!0,h.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?h.worker=!0:!h.hasGlobalWindow||"Deno"in window?(h.node=!0,h.svgSupported=!0):function(t,n){var i=n.browser,r=t.match(/Firefox\/([\d.]+)/),e=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(t);r&&(i.firefox=!0,i.version=r[1]);e&&(i.ie=!0,i.version=e[1]);a&&(i.edge=!0,i.version=a[1],i.newEdge=+a[1].split(".")[0]>18);o&&(i.weChat=!0);n.svgSupported="undefined"!=typeof SVGRect,n.touchEventsSupported="ontouchstart"in window&&!i.ie&&!i.edge,n.pointerEventsSupported="onpointerdown"in window&&(i.edge||i.ie&&+i.version>=11),n.domSupported="undefined"!=typeof document;var u=document.documentElement.style;n.transform3dSupported=(i.ie&&"transition"in u||i.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in u)&&!("OTransition"in u),n.transformSupported=n.transform3dSupported||i.ie&&+i.version>=9}(navigator.userAgent,h);var c="sans-serif",v="12px "+c;var d=function(t){var n={};if("undefined"==typeof JSON)return n;for(var i=0;i<t.length;i++){var r=String.fromCharCode(i+32),e=(t.charCodeAt(i)-20)/100;n[r]=e}return n}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),p={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(){var t,n;return function(i,r){if(!t){var e=p.createCanvas();t=e&&e.getContext("2d")}if(t)return n!==r&&(n=t.font=r||v),t.measureText(i);i=i||"";var a=/((?:\d+)?\.?\d*)px/.exec(r=r||v),o=a&&+a[1]||12,u=0;if(r.indexOf("mono")>=0)u=o*i.length;else for(var s=0;s<i.length;s++){var l=d[i[s]];u+=null==l?o:l*o}return{width:u}}}(),loadImage:function(t,n,i){var r=new Image;return r.onload=n,r.onerror=i,r.src=t,r}},m=W(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(t,n){return t["[object "+n+"]"]=!0,t}),{}),y=W(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(t,n){return t["[object "+n+"Array]"]=!0,t}),{}),g=Object.prototype.toString,b=Array.prototype,w=b.forEach,x=b.filter,M=b.slice,S=b.map,k=function(){}.constructor,A=k?k.prototype:null,N="__proto__",C=2311;function T(){return C++}function I(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n]}function z(t){if(null==t||"object"!=typeof t)return t;var n=t,i=g.call(t);if("[object Array]"===i){if(!ht(t)){n=[];for(var r=0,e=t.length;r<e;r++)n[r]=z(t[r])}}else if(y[i]){if(!ht(t)){var a=t.constructor;if(a.from)n=a.from(t);else{n=new a(t.length);for(r=0,e=t.length;r<e;r++)n[r]=t[r]}}}else if(!m[i]&&!ht(t)&&!Q(t))for(var o in n={},t)t.hasOwnProperty(o)&&o!==N&&(n[o]=z(t[o]));return n}function L(t,n,i){if(!K(n)||!K(t))return i?z(n):t;for(var r in n)if(n.hasOwnProperty(r)&&r!==N){var e=t[r],a=n[r];!K(a)||!K(e)||X(a)||X(e)||Q(a)||Q(e)||J(a)||J(e)||ht(a)||ht(e)?!i&&r in t||(t[r]=z(n[r])):L(e,a,i)}return t}function O(t,n){for(var i=t[0],r=1,e=t.length;r<e;r++)i=L(i,t[r],n);return i}function D(t,n){if(Object.assign)Object.assign(t,n);else for(var i in n)n.hasOwnProperty(i)&&i!==N&&(t[i]=n[i]);return t}function R(t,n,i){for(var r=H(n),e=0,a=r.length;e<a;e++){var o=r[e];(i?null!=n[o]:null==t[o])&&(t[o]=n[o])}return t}function F(t,n){if(t){if(t.indexOf)return t.indexOf(n);for(var i=0,r=t.length;i<r;i++)if(t[i]===n)return i}return-1}function B(t,n,i){if(t="prototype"in t?t.prototype:t,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(n),e=0;e<r.length;e++){var a=r[e];"constructor"!==a&&(i?null!=n[a]:null==t[a])&&(t[a]=n[a])}else R(t,n,i)}function _(t){return!!t&&("string"!=typeof t&&"number"==typeof t.length)}function E(t,n,i){if(t&&n)if(t.forEach&&t.forEach===w)t.forEach(n,i);else if(t.length===+t.length)for(var r=0,e=t.length;r<e;r++)n.call(i,t[r],r,t);else for(var a in t)t.hasOwnProperty(a)&&n.call(i,t[a],a,t)}function P(t,n,i){if(!t)return[];if(!n)return at(t);if(t.map&&t.map===S)return t.map(n,i);for(var r=[],e=0,a=t.length;e<a;e++)r.push(n.call(i,t[e],e,t));return r}function W(t,n,i,r){if(t&&n){for(var e=0,a=t.length;e<a;e++)i=n.call(r,i,t[e],e,t);return i}}function V(t,n,i){if(!t)return[];if(!n)return at(t);if(t.filter&&t.filter===x)return t.filter(n,i);for(var r=[],e=0,a=t.length;e<a;e++)n.call(i,t[e],e,t)&&r.push(t[e]);return r}function H(t){if(!t)return[];if(Object.keys)return Object.keys(t);var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(i);return n}var Y=A&&U(A.bind)?A.call.bind(A.bind):function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return function(){return t.apply(n,i.concat(M.call(arguments)))}};function G(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return function(){return t.apply(this,n.concat(M.call(arguments)))}}function X(t){return Array.isArray?Array.isArray(t):"[object Array]"===g.call(t)}function U(t){return"function"==typeof t}function j(t){return"string"==typeof t}function Z(t){return"[object String]"===g.call(t)}function q(t){return"number"==typeof t}function K(t){var n=typeof t;return"function"===n||!!t&&"object"===n}function J(t){return!!m[g.call(t)]}function $(t){return!!y[g.call(t)]}function Q(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function tt(t){return null!=t.colorStops}function nt(t){return t!=t}function it(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0,r=t.length;i<r;i++)if(null!=t[i])return t[i]}function rt(t,n){return null!=t?t:n}function et(t,n,i){return null!=t?t:null!=n?n:i}function at(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return M.apply(t,n)}function ot(t){if("number"==typeof t)return[t,t,t,t];var n=t.length;return 2===n?[t[0],t[1],t[0],t[1]]:3===n?[t[0],t[1],t[2],t[1]]:t}function ut(t,n){if(!t)throw new Error(n)}function st(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var lt="__ec_primitive__";function ft(t){t[lt]=!0}function ht(t){return t[lt]}var ct=function(){function t(){this.data={}}return t.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},t.prototype.has=function(t){return this.data.hasOwnProperty(t)},t.prototype.get=function(t){return this.data[t]},t.prototype.set=function(t,n){return this.data[t]=n,this},t.prototype.keys=function(){return H(this.data)},t.prototype.forEach=function(t){var n=this.data;for(var i in n)n.hasOwnProperty(i)&&t(n[i],i)},t}(),vt="function"==typeof Map;var dt=function(){function t(n){var i=X(n);this.data=vt?new Map:new ct;var r=this;function e(t,n){i?r.set(t,n):r.set(n,t)}n instanceof t?n.each(e):n&&E(n,e)}return t.prototype.hasKey=function(t){return this.data.has(t)},t.prototype.get=function(t){return this.data.get(t)},t.prototype.set=function(t,n){return this.data.set(t,n),n},t.prototype.each=function(t,n){this.data.forEach((function(i,r){t.call(n,i,r)}))},t.prototype.keys=function(){var t=this.data.keys();return vt?Array.from(t):t},t.prototype.removeKey=function(t){this.data.delete(t)},t}();function pt(t){return new dt(t)}function mt(t,n){for(var i=new t.constructor(t.length+n.length),r=0;r<t.length;r++)i[r]=t[r];var e=t.length;for(r=0;r<n.length;r++)i[r+e]=n[r];return i}function yt(t,n){var i;if(Object.create)i=Object.create(t);else{var r=function(){};r.prototype=t,i=new r}return n&&D(i,n),i}function gt(t){var n=t.style;n.webkitUserSelect="none",n.userSelect="none",n.webkitTapHighlightColor="rgba(0,0,0,0)",n["-webkit-touch-callout"]="none"}function bt(t,n){return t.hasOwnProperty(n)}function wt(){}var xt=180/Math.PI,Mt=function(t,n){return(Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])})(t,n)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function St(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}Mt(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}function kt(t,n){return null==t&&(t=0),null==n&&(n=0),[t,n]}function At(t,n){return t[0]=n[0],t[1]=n[1],t}function Nt(t){return[t[0],t[1]]}function Ct(t,n,i){return t[0]=n[0]+i[0],t[1]=n[1]+i[1],t}function Tt(t,n,i,r){return t[0]=n[0]+i[0]*r,t[1]=n[1]+i[1]*r,t}function It(t,n,i){return t[0]=n[0]-i[0],t[1]=n[1]-i[1],t}function zt(t){return Math.sqrt(function(t){return t[0]*t[0]+t[1]*t[1]}(t))}function Lt(t,n,i){return t[0]=n[0]*i,t[1]=n[1]*i,t}function Ot(t,n){var i=zt(n);return 0===i?(t[0]=0,t[1]=0):(t[0]=n[0]/i,t[1]=n[1]/i),t}function Dt(t,n){return Math.sqrt((t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1]))}var Rt=Dt;var Ft=function(t,n){return(t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1])};function Bt(t,n,i,r){return t[0]=n[0]+r*(i[0]-n[0]),t[1]=n[1]+r*(i[1]-n[1]),t}function _t(t,n,i){var r=n[0],e=n[1];return t[0]=i[0]*r+i[2]*e+i[4],t[1]=i[1]*r+i[3]*e+i[5],t}function Et(t,n,i){return t[0]=Math.min(n[0],i[0]),t[1]=Math.min(n[1],i[1]),t}function Pt(t,n,i){return t[0]=Math.max(n[0],i[0]),t[1]=Math.max(n[1],i[1]),t}var Wt=function(){return function(t,n){this.target=t,this.topTarget=n&&n.topTarget}}(),Vt=function(){function t(t){this.handler=t,t.on("mousedown",this.o,this),t.on("mousemove",this.u,this),t.on("mouseup",this.l,this)}return t.prototype.o=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.S;n&&(this.N=n,n.dragging=!0,this.T=t.offsetX,this.I=t.offsetY,this.handler.dispatchToElement(new Wt(n,t),"dragstart",t.event))},t.prototype.u=function(t){var n=this.N;if(n){var i=t.offsetX,r=t.offsetY,e=i-this.T,a=r-this.I;this.T=i,this.I=r,n.drift(e,a,t),this.handler.dispatchToElement(new Wt(n,t),"drag",t.event);var o=this.handler.findHover(i,r,n).target,u=this.O;this.O=o,n!==o&&(u&&o!==u&&this.handler.dispatchToElement(new Wt(u,t),"dragleave",t.event),o&&o!==u&&this.handler.dispatchToElement(new Wt(o,t),"dragenter",t.event))}},t.prototype.l=function(t){var n=this.N;n&&(n.dragging=!1),this.handler.dispatchToElement(new Wt(n,t),"dragend",t.event),this.O&&this.handler.dispatchToElement(new Wt(this.O,t),"drop",t.event),this.N=null,this.O=null},t}(),Ht=function(){function t(t){t&&(this.D=t)}return t.prototype.on=function(t,n,i,r){this.F||(this.F={});var e=this.F;if("function"==typeof n&&(r=i,i=n,n=null),!i||!t)return this;var a=this.D;null!=n&&a&&a.normalizeQuery&&(n=a.normalizeQuery(n)),e[t]||(e[t]=[]);for(var o=0;o<e[t].length;o++)if(e[t][o].h===i)return this;var u={h:i,query:n,ctx:r||this,callAtLast:i.zrEventfulCallAtLast},s=e[t].length-1,l=e[t][s];return l&&l.callAtLast?e[t].splice(s,0,u):e[t].push(u),this},t.prototype.isSilent=function(t){var n=this.F;return!n||!n[t]||!n[t].length},t.prototype.off=function(t,n){var i=this.F;if(!i)return this;if(!t)return this.F={},this;if(n){if(i[t]){for(var r=[],e=0,a=i[t].length;e<a;e++)i[t][e].h!==n&&r.push(i[t][e]);i[t]=r}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},t.prototype.trigger=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this.F)return this;var r=this.F[t],e=this.D;if(r)for(var a=n.length,o=r.length,u=0;u<o;u++){var s=r[u];if(!e||!e.filter||null==s.query||e.filter(t,s.query))switch(a){case 0:s.h.call(s.ctx);break;case 1:s.h.call(s.ctx,n[0]);break;case 2:s.h.call(s.ctx,n[0],n[1]);break;default:s.h.apply(s.ctx,n)}}return e&&e.afterTrigger&&e.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!this.F)return this;var r=this.F[t],e=this.D;if(r)for(var a=n.length,o=n[a-1],u=r.length,s=0;s<u;s++){var l=r[s];if(!e||!e.filter||null==l.query||e.filter(t,l.query))switch(a){case 0:l.h.call(o);break;case 1:l.h.call(o,n[0]);break;case 2:l.h.call(o,n[0],n[1]);break;default:l.h.apply(o,n.slice(1,a-1))}}return e&&e.afterTrigger&&e.afterTrigger(t),this},t}(),Yt=Math.log(2);function Gt(t,n,i,r,e,a){var o=r+"-"+e,u=t.length;if(a.hasOwnProperty(o))return a[o];if(1===n){var s=Math.round(Math.log((1<<u)-1&~e)/Yt);return t[i][s]}for(var l=r|1<<i,f=i+1;r&1<<f;)f++;for(var h=0,c=0,v=0;c<u;c++){var d=1<<c;d&e||(h+=(v%2?-1:1)*t[i][c]*Gt(t,n-1,f,l,e|d,a),v++)}return a[o]=h,h}function Xt(t,n){var i=[[t[0],t[1],1,0,0,0,-n[0]*t[0],-n[0]*t[1]],[0,0,0,t[0],t[1],1,-n[1]*t[0],-n[1]*t[1]],[t[2],t[3],1,0,0,0,-n[2]*t[2],-n[2]*t[3]],[0,0,0,t[2],t[3],1,-n[3]*t[2],-n[3]*t[3]],[t[4],t[5],1,0,0,0,-n[4]*t[4],-n[4]*t[5]],[0,0,0,t[4],t[5],1,-n[5]*t[4],-n[5]*t[5]],[t[6],t[7],1,0,0,0,-n[6]*t[6],-n[6]*t[7]],[0,0,0,t[6],t[7],1,-n[7]*t[6],-n[7]*t[7]]],r={},e=Gt(i,8,0,0,0,r);if(0!==e){for(var a=[],o=0;o<8;o++)for(var u=0;u<8;u++)null==a[u]&&(a[u]=0),a[u]+=((o+u)%2?-1:1)*Gt(i,7,0===o?1:0,1<<o,1<<u,r)/e*n[o];return function(t,n,i){var r=n*a[6]+i*a[7]+1;t[0]=(n*a[0]+i*a[1]+a[2])/r,t[1]=(n*a[3]+i*a[4]+a[5])/r}}}var Ut="___zrEVENTSAVED",jt=[];function Zt(t,n,i,r,e){if(n.getBoundingClientRect&&h.domSupported&&!qt(n)){var a=n[Ut]||(n[Ut]={}),o=function(t,n){var i=n.markers;if(i)return i;i=n.markers=[];for(var r=["left","right"],e=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),u=a%2,s=(a>>1)%2;o.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[u]+":0",e[s]+":0",r[1-u]+":auto",e[1-s]+":auto",""].join("!important;"),t.appendChild(o),i.push(o)}return i}(n,a),u=function(t,n,i){for(var r=i?"invTrans":"trans",e=n[r],a=n.srcCoords,o=[],u=[],s=!0,l=0;l<4;l++){var f=t[l].getBoundingClientRect(),h=2*l,c=f.left,v=f.top;o.push(c,v),s=s&&a&&c===a[h]&&v===a[h+1],u.push(t[l].offsetLeft,t[l].offsetTop)}return s&&e?e:(n.srcCoords=o,n[r]=i?Xt(u,o):Xt(o,u))}(o,a,e);if(u)return u(t,i,r),!0}return!1}function qt(t){return"CANVAS"===t.nodeName.toUpperCase()}var Kt=/([&<>"'])/g,Jt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function $t(t){return null==t?"":(t+"").replace(Kt,(function(t,n){return Jt[n]}))}var Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,tn=[],nn=h.browser.firefox&&+h.browser.version.split(".")[0]<39;function rn(t,n,i,r){return i=i||{},r?en(t,n,i):nn&&null!=n.layerX&&n.layerX!==n.offsetX?(i.zrX=n.layerX,i.zrY=n.layerY):null!=n.offsetX?(i.zrX=n.offsetX,i.zrY=n.offsetY):en(t,n,i),i}function en(t,n,i){if(h.domSupported&&t.getBoundingClientRect){var r=n.clientX,e=n.clientY;if(qt(t)){var a=t.getBoundingClientRect();return i.zrX=r-a.left,void(i.zrY=e-a.top)}if(Zt(tn,t,r,e))return i.zrX=tn[0],void(i.zrY=tn[1])}i.zrX=i.zrY=0}function an(t){return t||window.event}function on(t,n,i){if(null!=(n=an(n)).zrX)return n;var r=n.type;if(r&&r.indexOf("touch")>=0){var e="touchend"!==r?n.targetTouches[0]:n.changedTouches[0];e&&rn(t,e,n,i)}else{rn(t,n,n,i);var a=function(t){var n=t.wheelDelta;if(n)return n;var i=t.deltaX,r=t.deltaY;if(null==i||null==r)return n;return 3*(0!==r?Math.abs(r):Math.abs(i))*(r>0?-1:r<0?1:i>0?-1:1)}(n);n.zrDelta=a?a/120:-(n.detail||0)/3}var o=n.button;return null==n.which&&void 0!==o&&Qt.test(n.type)&&(n.which=1&o?1:2&o?3:4&o?2:0),n}function un(t,n,i,r){t.addEventListener(n,i,r)}var sn=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function ln(t){return 2===t.which||3===t.which}var fn=function(){function t(){this.B=[]}return t.prototype.recognize=function(t,n,i){return this._(t,n,i),this.P(t)},t.prototype.clear=function(){return this.B.length=0,this},t.prototype._=function(t,n,i){var r=t.touches;if(r){for(var e={points:[],touches:[],target:n,event:t},a=0,o=r.length;a<o;a++){var u=r[a],s=rn(i,u,{});e.points.push([s.zrX,s.zrY]),e.touches.push(u)}this.B.push(e)}},t.prototype.P=function(t){for(var n in cn)if(cn.hasOwnProperty(n)){var i=cn[n](this.B,t);if(i)return i}},t}();function hn(t){var n=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(n*n+i*i)}var cn={pinch:function(t,n){var i=t.length;if(i){var r,e=(t[i-1]||{}).points,a=(t[i-2]||{}).points||e;if(a&&a.length>1&&e&&e.length>1){var o=hn(e)/hn(a);!isFinite(o)&&(o=1),n.pinchScale=o;var u=[((r=e)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return n.pinchX=u[0],n.pinchY=u[1],{type:"pinch",target:t[0].target,event:n}}}}};function vn(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function dn(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function pn(t,n,i){var r=n[0]*i[0]+n[2]*i[1],e=n[1]*i[0]+n[3]*i[1],a=n[0]*i[2]+n[2]*i[3],o=n[1]*i[2]+n[3]*i[3],u=n[0]*i[4]+n[2]*i[5]+n[4],s=n[1]*i[4]+n[3]*i[5]+n[5];return t[0]=r,t[1]=e,t[2]=a,t[3]=o,t[4]=u,t[5]=s,t}function mn(t,n,i){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4]+i[0],t[5]=n[5]+i[1],t}function yn(t,n,i,r){void 0===r&&(r=[0,0]);var e=n[0],a=n[2],o=n[4],u=n[1],s=n[3],l=n[5],f=Math.sin(i),h=Math.cos(i);return t[0]=e*h+u*f,t[1]=-e*f+u*h,t[2]=a*h+s*f,t[3]=-a*f+h*s,t[4]=h*(o-r[0])+f*(l-r[1])+r[0],t[5]=h*(l-r[1])-f*(o-r[0])+r[1],t}function gn(t,n,i){var r=i[0],e=i[1];return t[0]=n[0]*r,t[1]=n[1]*e,t[2]=n[2]*r,t[3]=n[3]*e,t[4]=n[4]*r,t[5]=n[5]*e,t}function bn(t,n){var i=n[0],r=n[2],e=n[4],a=n[1],o=n[3],u=n[5],s=i*o-a*r;return s?(s=1/s,t[0]=o*s,t[1]=-a*s,t[2]=-r*s,t[3]=i*s,t[4]=(r*u-o*e)*s,t[5]=(a*e-i*u)*s,t):null}var wn=function(){function t(t,n){this.x=t||0,this.y=n||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,n){return this.x=t,this.y=n,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var n=this.x-t.x,i=this.y-t.y;return Math.sqrt(n*n+i*i)},t.prototype.distanceSquare=function(t){var n=this.x-t.x,i=this.y-t.y;return n*n+i*i},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var n=this.x,i=this.y;return this.x=t[0]*n+t[2]*i+t[4],this.y=t[1]*n+t[3]*i+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,n,i){t.x=n,t.y=i},t.copy=function(t,n){t.x=n.x,t.y=n.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,n){return t.x*n.x+t.y*n.y},t.add=function(t,n,i){t.x=n.x+i.x,t.y=n.y+i.y},t.sub=function(t,n,i){t.x=n.x-i.x,t.y=n.y-i.y},t.scale=function(t,n,i){t.x=n.x*i,t.y=n.y*i},t.scaleAndAdd=function(t,n,i,r){t.x=n.x+i.x*r,t.y=n.y+i.y*r},t.lerp=function(t,n,i,r){var e=1-r;t.x=e*n.x+r*i.x,t.y=e*n.y+r*i.y},t}(),xn=Math.min,Mn=Math.max,Sn=new wn,kn=new wn,An=new wn,Nn=new wn,Cn=new wn,Tn=new wn,In=function(){function t(t,n,i,r){i<0&&(t+=i,i=-i),r<0&&(n+=r,r=-r),this.x=t,this.y=n,this.width=i,this.height=r}return t.prototype.union=function(t){var n=xn(t.x,this.x),i=xn(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Mn(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=Mn(t.y+t.height,this.y+this.height)-i:this.height=t.height,this.x=n,this.y=i},t.prototype.applyTransform=function(n){t.applyTransform(this,this,n)},t.prototype.calculateTransform=function(t){var n=this,i=t.width/n.width,r=t.height/n.height,e=[1,0,0,1,0,0];return mn(e,e,[-n.x,-n.y]),gn(e,e,[i,r]),mn(e,e,[t.x,t.y]),e},t.prototype.intersect=function(n,i){if(!n)return!1;n instanceof t||(n=t.create(n));var r=this,e=r.x,a=r.x+r.width,o=r.y,u=r.y+r.height,s=n.x,l=n.x+n.width,f=n.y,h=n.y+n.height,c=!(a<s||l<e||u<f||h<o);if(i){var v=1/0,d=0,p=Math.abs(a-s),m=Math.abs(l-e),y=Math.abs(u-f),g=Math.abs(h-o),b=Math.min(p,m),w=Math.min(y,g);a<s||l<e?b>d&&(d=b,p<m?wn.set(Tn,-p,0):wn.set(Tn,m,0)):b<v&&(v=b,p<m?wn.set(Cn,p,0):wn.set(Cn,-m,0)),u<f||h<o?w>d&&(d=w,y<g?wn.set(Tn,0,-y):wn.set(Tn,0,g)):b<v&&(v=b,y<g?wn.set(Cn,0,y):wn.set(Cn,0,-g))}return i&&wn.copy(i,c?Cn:Tn),c},t.prototype.contain=function(t,n){var i=this;return t>=i.x&&t<=i.x+i.width&&n>=i.y&&n<=i.y+i.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(n){t.copy(this,n)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(n){return new t(n.x,n.y,n.width,n.height)},t.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},t.applyTransform=function(n,i,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var e=r[0],a=r[3],o=r[4],u=r[5];return n.x=i.x*e+o,n.y=i.y*a+u,n.width=i.width*e,n.height=i.height*a,n.width<0&&(n.x+=n.width,n.width=-n.width),void(n.height<0&&(n.y+=n.height,n.height=-n.height))}Sn.x=An.x=i.x,Sn.y=Nn.y=i.y,kn.x=Nn.x=i.x+i.width,kn.y=An.y=i.y+i.height,Sn.transform(r),Nn.transform(r),kn.transform(r),An.transform(r),n.x=xn(Sn.x,kn.x,An.x,Nn.x),n.y=xn(Sn.y,kn.y,An.y,Nn.y);var s=Mn(Sn.x,kn.x,An.x,Nn.x),l=Mn(Sn.y,kn.y,An.y,Nn.y);n.width=s-n.x,n.height=l-n.y}else n!==i&&t.copy(n,i)},t}(),zn="silent";function Ln(){sn(this.event)}var On=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.handler=null,n}return St(n,t),n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Ht),Dn=function(){return function(t,n){this.x=t,this.y=n}}(),Rn=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Fn=new In(0,0,0,0),Bn=function(t){function n(n,i,r,e,a){var o=t.call(this)||this;return o.W=new Dn(0,0),o.storage=n,o.painter=i,o.painterRoot=e,o.V=a,r=r||new On,o.proxy=null,o.setHandlerProxy(r),o.H=new Vt(o),o}return St(n,t),n.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(E(Rn,(function(n){t.on&&t.on(n,this[n],this)}),this),t.handler=this),this.proxy=t},n.prototype.mousemove=function(t){var n=t.zrX,i=t.zrY,r=Pn(this,n,i),e=this.W,a=e.target;a&&!a.Y&&(a=(e=this.findHover(e.x,e.y)).target);var o=this.W=r?new Dn(n,i):this.findHover(n,i),u=o.target,s=this.proxy;s.setCursor&&s.setCursor(u?u.cursor:"default"),a&&u!==a&&this.dispatchToElement(e,"mouseout",t),this.dispatchToElement(o,"mousemove",t),u&&u!==a&&this.dispatchToElement(o,"mouseover",t)},n.prototype.mouseout=function(t){var n=t.zrEventControl;"only_globalout"!==n&&this.dispatchToElement(this.W,"mouseout",t),"no_globalout"!==n&&this.trigger("globalout",{type:"globalout",event:t})},n.prototype.resize=function(){this.W=new Dn(0,0)},n.prototype.dispatch=function(t,n){var i=this[t];i&&i.call(this,n)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(t){var n=this.proxy;n.setCursor&&n.setCursor(t)},n.prototype.dispatchToElement=function(t,n,i){var r=(t=t||{}).target;if(!r||!r.silent){for(var e="on"+n,a=function(t,n,i){return{type:t,event:i,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:Ln}}(n,t,i);r&&(r[e]&&(a.cancelBubble=!!r[e].call(r,a)),r.trigger(n,a),r=r.S?r.S:r.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(n,a),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"==typeof t[e]&&t[e].call(t,a),t.trigger&&t.trigger(n,a)})))}},n.prototype.findHover=function(t,n,i){var r=this.storage.getDisplayList(),e=new Dn(t,n);if(En(r,e,t,n,i),this.V&&!e.target){for(var a=[],o=this.V,u=o/2,s=new In(t-u,n-u,o,o),l=r.length-1;l>=0;l--){var f=r[l];f===i||f.ignore||f.ignoreCoarsePointer||f.parent&&f.parent.ignoreCoarsePointer||(Fn.copy(f.getBoundingRect()),f.transform&&Fn.applyTransform(f.transform),Fn.intersect(s)&&a.push(f))}if(a.length)for(var h=Math.PI/12,c=2*Math.PI,v=0;v<u;v+=4)for(var d=0;d<c;d+=h){if(En(a,e,t+v*Math.cos(d),n+v*Math.sin(d),i),e.target)return e}}return e},n.prototype.processGesture=function(t,n){this.G||(this.G=new fn);var i=this.G;"start"===n&&i.clear();var r=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===n&&i.clear(),r){var e=r.type;t.gestureEvent=e;var a=new Dn;a.target=r.target,this.dispatchToElement(a,e,r.event)}},n}(Ht);function _n(t,n,i){if(t[t.rectHover?"rectContain":"contain"](n,i)){for(var r=t,e=void 0,a=!1;r;){if(r.ignoreClip&&(a=!0),!a){var o=r.getClipPath();if(o&&!o.contain(n,i))return!1}r.silent&&(e=!0);var u=r.S;r=u||r.parent}return!e||zn}return!1}function En(t,n,i,r,e){for(var a=t.length-1;a>=0;a--){var o=t[a],u=void 0;if(o!==e&&!o.ignore&&(u=_n(o,i,r))&&(!n.topTarget&&(n.topTarget=o),u!==zn)){n.target=o;break}}}function Pn(t,n,i){var r=t.painter;return n<0||n>r.getWidth()||i<0||i>r.getHeight()}E(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){Bn.prototype[t]=function(n){var i,r,e=n.zrX,a=n.zrY,o=Pn(this,e,a);if("mouseup"===t&&o||(r=(i=this.findHover(e,a)).target),"mousedown"===t)this.X=r,this.U=[n.zrX,n.zrY],this.j=r;else if("mouseup"===t)this.j=r;else if("click"===t){if(this.X!==this.j||!this.U||Rt(this.U,[n.zrX,n.zrY])>4)return;this.U=null}this.dispatchToElement(i,t,n)}}));function Wn(t,n,i,r){var e=n+1;if(e===i)return 1;if(r(t[e++],t[n])<0){for(;e<i&&r(t[e],t[e-1])<0;)e++;!function(t,n,i){i--;for(;n<i;){var r=t[n];t[n++]=t[i],t[i--]=r}}(t,n,e)}else for(;e<i&&r(t[e],t[e-1])>=0;)e++;return e-n}function Vn(t,n,i,r,e){for(r===n&&r++;r<i;r++){for(var a,o=t[r],u=n,s=r;u<s;)e(o,t[a=u+s>>>1])<0?s=a:u=a+1;var l=r-u;switch(l){case 3:t[u+3]=t[u+2];case 2:t[u+2]=t[u+1];case 1:t[u+1]=t[u];break;default:for(;l>0;)t[u+l]=t[u+l-1],l--}t[u]=o}}function Hn(t,n,i,r,e,a){var o=0,u=0,s=1;if(a(t,n[i+e])>0){for(u=r-e;s<u&&a(t,n[i+e+s])>0;)o=s,(s=1+(s<<1))<=0&&(s=u);s>u&&(s=u),o+=e,s+=e}else{for(u=e+1;s<u&&a(t,n[i+e-s])<=0;)o=s,(s=1+(s<<1))<=0&&(s=u);s>u&&(s=u);var l=o;o=e-s,s=e-l}for(o++;o<s;){var f=o+(s-o>>>1);a(t,n[i+f])>0?o=f+1:s=f}return s}function Yn(t,n,i,r,e,a){var o=0,u=0,s=1;if(a(t,n[i+e])<0){for(u=e+1;s<u&&a(t,n[i+e-s])<0;)o=s,(s=1+(s<<1))<=0&&(s=u);s>u&&(s=u);var l=o;o=e-s,s=e-l}else{for(u=r-e;s<u&&a(t,n[i+e+s])>=0;)o=s,(s=1+(s<<1))<=0&&(s=u);s>u&&(s=u),o+=e,s+=e}for(o++;o<s;){var f=o+(s-o>>>1);a(t,n[i+f])<0?s=f:o=f+1}return s}function Gn(t,n){var i,r,e=7,a=0,o=[];function u(u){var s=i[u],l=r[u],f=i[u+1],h=r[u+1];r[u]=l+h,u===a-3&&(i[u+1]=i[u+2],r[u+1]=r[u+2]),a--;var c=Yn(t[f],t,s,l,0,n);s+=c,0!==(l-=c)&&0!==(h=Hn(t[s+l-1],t,f,h,h-1,n))&&(l<=h?function(i,r,a,u){var s=0;for(s=0;s<r;s++)o[s]=t[i+s];var l=0,f=a,h=i;if(t[h++]=t[f++],0==--u){for(s=0;s<r;s++)t[h+s]=o[l+s];return}if(1===r){for(s=0;s<u;s++)t[h+s]=t[f+s];return void(t[h+u]=o[l])}var c,v,d,p=e;for(;;){c=0,v=0,d=!1;do{if(n(t[f],o[l])<0){if(t[h++]=t[f++],v++,c=0,0==--u){d=!0;break}}else if(t[h++]=o[l++],c++,v=0,1==--r){d=!0;break}}while((c|v)<p);if(d)break;do{if(0!==(c=Yn(t[f],o,l,r,0,n))){for(s=0;s<c;s++)t[h+s]=o[l+s];if(h+=c,l+=c,(r-=c)<=1){d=!0;break}}if(t[h++]=t[f++],0==--u){d=!0;break}if(0!==(v=Hn(o[l],t,f,u,0,n))){for(s=0;s<v;s++)t[h+s]=t[f+s];if(h+=v,f+=v,0===(u-=v)){d=!0;break}}if(t[h++]=o[l++],1==--r){d=!0;break}p--}while(c>=7||v>=7);if(d)break;p<0&&(p=0),p+=2}if((e=p)<1&&(e=1),1===r){for(s=0;s<u;s++)t[h+s]=t[f+s];t[h+u]=o[l]}else{if(0===r)throw new Error;for(s=0;s<r;s++)t[h+s]=o[l+s]}}(s,l,f,h):function(i,r,a,u){var s=0;for(s=0;s<u;s++)o[s]=t[a+s];var l=i+r-1,f=u-1,h=a+u-1,c=0,v=0;if(t[h--]=t[l--],0==--r){for(c=h-(u-1),s=0;s<u;s++)t[c+s]=o[s];return}if(1===u){for(v=(h-=r)+1,c=(l-=r)+1,s=r-1;s>=0;s--)t[v+s]=t[c+s];return void(t[h]=o[f])}var d=e;for(;;){var p=0,m=0,y=!1;do{if(n(o[f],t[l])<0){if(t[h--]=t[l--],p++,m=0,0==--r){y=!0;break}}else if(t[h--]=o[f--],m++,p=0,1==--u){y=!0;break}}while((p|m)<d);if(y)break;do{if(0!==(p=r-Yn(o[f],t,i,r,r-1,n))){for(r-=p,v=(h-=p)+1,c=(l-=p)+1,s=p-1;s>=0;s--)t[v+s]=t[c+s];if(0===r){y=!0;break}}if(t[h--]=o[f--],1==--u){y=!0;break}if(0!==(m=u-Hn(t[l],o,0,u,u-1,n))){for(u-=m,v=(h-=m)+1,c=(f-=m)+1,s=0;s<m;s++)t[v+s]=o[c+s];if(u<=1){y=!0;break}}if(t[h--]=t[l--],0==--r){y=!0;break}d--}while(p>=7||m>=7);if(y)break;d<0&&(d=0),d+=2}(e=d)<1&&(e=1);if(1===u){for(v=(h-=r)+1,c=(l-=r)+1,s=r-1;s>=0;s--)t[v+s]=t[c+s];t[h]=o[f]}else{if(0===u)throw new Error;for(c=h-(u-1),s=0;s<u;s++)t[c+s]=o[s]}}(s,l,f,h))}return i=[],r=[],{mergeRuns:function(){for(;a>1;){var t=a-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;u(t)}},forceMergeRuns:function(){for(;a>1;){var t=a-2;t>0&&r[t-1]<r[t+1]&&t--,u(t)}},pushRun:function(t,n){i[a]=t,r[a]=n,a+=1}}}function Xn(t,n,i,r){i||(i=0),r||(r=t.length);var e=r-i;if(!(e<2)){var a=0;if(e<32)Vn(t,i,r,i+(a=Wn(t,i,r,n)),n);else{var o=Gn(t,n),u=function(t){for(var n=0;t>=32;)n|=1&t,t>>=1;return t+n}(e);do{if((a=Wn(t,i,r,n))<u){var s=e;s>u&&(s=u),Vn(t,i,i+s,i+a,n),a=s}o.pushRun(i,a),o.mergeRuns(),e-=a,i+=a}while(0!==e);o.forceMergeRuns()}}}var Un=!1;function jn(){Un||(Un=!0)}function Zn(t,n){return t.zlevel===n.zlevel?t.z===n.z?t.z2-n.z2:t.z-n.z:t.zlevel-n.zlevel}var qn,Kn=function(){function t(){this.q=[],this.K=[],this.J=0,this.displayableSortFunc=Zn}return t.prototype.traverse=function(t,n){for(var i=0;i<this.q.length;i++)this.q[i].traverse(t,n)},t.prototype.getDisplayList=function(t,n){n=n||!1;var i=this.K;return!t&&i.length||this.updateDisplayList(n),i},t.prototype.updateDisplayList=function(t){this.J=0;for(var n=this.q,i=this.K,r=0,e=n.length;r<e;r++)this.$(n[r],null,t);i.length=this.J,Xn(i,Zn)},t.prototype.$=function(t,n,i){if(!t.ignore||i){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)n=null;else if(r){n=n?n.slice():[];for(var e=r,a=t;e;)e.parent=a,e.updateTransform(),n.push(e),a=e,e=e.getClipPath()}if(t.childrenRef){for(var o=t.childrenRef(),u=0;u<o.length;u++){var s=o[u];t.tt&&(s.tt|=1),this.$(s,n,i)}t.tt=0}else{var l=t;n&&n.length?l.nt=n:l.nt&&l.nt.length>0&&(l.nt=[]),isNaN(l.z)&&(jn(),l.z=0),isNaN(l.z2)&&(jn(),l.z2=0),isNaN(l.zlevel)&&(jn(),l.zlevel=0),this.K[this.J++]=l}var f=t.getDecalElement&&t.getDecalElement();f&&this.$(f,n,i);var h=t.getTextGuideLine();h&&this.$(h,n,i);var c=t.getTextContent();c&&this.$(c,n,i)}},t.prototype.addRoot=function(t){t.Y&&t.Y.storage===this||this.q.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var n=0,i=t.length;n<i;n++)this.delRoot(t[n]);else{var r=F(this.q,t);r>=0&&this.q.splice(r,1)}},t.prototype.delAllRoots=function(){this.q=[],this.K=[],this.J=0},t.prototype.getRoots=function(){return this.q},t.prototype.dispose=function(){this.K=null,this.q=null},t}();qn=h.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var Jn={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var n,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,n=.1):n=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/.4))},elasticOut:function(t){var n,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,n=.1):n=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var n,i=.1,r=.4;return 0===t?0:1===t?1:(!i||i<1?(i=1,n=.1):n=r*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/r)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/r)*.5+1)},backIn:function(t){var n=1.70158;return t*t*((n+1)*t-n)},backOut:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},backInOut:function(t){var n=2.5949095;return(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)},bounceIn:function(t){return 1-Jn.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Jn.bounceIn(2*t):.5*Jn.bounceOut(2*t-1)+.5}},$n=Math.pow,Qn=Math.sqrt,ti=1e-4,ni=Qn(3),ii=1/3,ri=kt(),ei=kt(),ai=kt();function oi(t){return t>-1e-8&&t<1e-8}function ui(t){return t>1e-8||t<-1e-8}function si(t,n,i,r,e){var a=1-e;return a*a*(a*t+3*e*n)+e*e*(e*r+3*a*i)}function li(t,n,i,r,e){var a=1-e;return 3*(((n-t)*a+2*(i-n)*e)*a+(r-i)*e*e)}function fi(t,n,i,r,e,a){var o=r+3*(n-i)-t,u=3*(i-2*n+t),s=3*(n-t),l=t-e,f=u*u-3*o*s,h=u*s-9*o*l,c=s*s-3*u*l,v=0;if(oi(f)&&oi(h)){if(oi(u))a[0]=0;else(k=-s/u)>=0&&k<=1&&(a[v++]=k)}else{var d=h*h-4*f*c;if(oi(d)){var p=h/f,m=-p/2;(k=-u/o+p)>=0&&k<=1&&(a[v++]=k),m>=0&&m<=1&&(a[v++]=m)}else if(d>0){var y=Qn(d),g=f*u+1.5*o*(-h+y),b=f*u+1.5*o*(-h-y);(k=(-u-((g=g<0?-$n(-g,ii):$n(g,ii))+(b=b<0?-$n(-b,ii):$n(b,ii))))/(3*o))>=0&&k<=1&&(a[v++]=k)}else{var w=(2*f*u-3*o*h)/(2*Qn(f*f*f)),x=Math.acos(w)/3,M=Qn(f),S=Math.cos(x),k=(-u-2*M*S)/(3*o),A=(m=(-u+M*(S+ni*Math.sin(x)))/(3*o),(-u+M*(S-ni*Math.sin(x)))/(3*o));k>=0&&k<=1&&(a[v++]=k),m>=0&&m<=1&&(a[v++]=m),A>=0&&A<=1&&(a[v++]=A)}}return v}function hi(t,n,i,r,e){var a=6*i-12*n+6*t,o=9*n+3*r-3*t-9*i,u=3*n-3*t,s=0;if(oi(o)){if(ui(a))(f=-u/a)>=0&&f<=1&&(e[s++]=f)}else{var l=a*a-4*o*u;if(oi(l))e[0]=-a/(2*o);else if(l>0){var f,h=Qn(l),c=(-a-h)/(2*o);(f=(-a+h)/(2*o))>=0&&f<=1&&(e[s++]=f),c>=0&&c<=1&&(e[s++]=c)}}return s}function ci(t,n,i,r,e,a){var o=(n-t)*e+t,u=(i-n)*e+n,s=(r-i)*e+i,l=(u-o)*e+o,f=(s-u)*e+u,h=(f-l)*e+l;a[0]=t,a[1]=o,a[2]=l,a[3]=h,a[4]=h,a[5]=f,a[6]=s,a[7]=r}function vi(t,n,i,r,e,a,o,u,s,l,f){var h,c,v,d,p,m=.005,y=1/0;ri[0]=s,ri[1]=l;for(var g=0;g<1;g+=.05)ei[0]=si(t,i,e,o,g),ei[1]=si(n,r,a,u,g),(d=Ft(ri,ei))<y&&(h=g,y=d);y=1/0;for(var b=0;b<32&&!(m<ti);b++)c=h-m,v=h+m,ei[0]=si(t,i,e,o,c),ei[1]=si(n,r,a,u,c),d=Ft(ei,ri),c>=0&&d<y?(h=c,y=d):(ai[0]=si(t,i,e,o,v),ai[1]=si(n,r,a,u,v),p=Ft(ai,ri),v<=1&&p<y?(h=v,y=p):m*=.5);return f&&(f[0]=si(t,i,e,o,h),f[1]=si(n,r,a,u,h)),Qn(y)}function di(t,n,i,r,e,a,o,u,s){for(var l=t,f=n,h=0,c=1/s,v=1;v<=s;v++){var d=v*c,p=si(t,i,e,o,d),m=si(n,r,a,u,d),y=p-l,g=m-f;h+=Math.sqrt(y*y+g*g),l=p,f=m}return h}function pi(t,n,i,r){var e=1-r;return e*(e*t+2*r*n)+r*r*i}function mi(t,n,i,r){return 2*((1-r)*(n-t)+r*(i-n))}function yi(t,n,i){var r=t+i-2*n;return 0===r?.5:(t-n)/r}function gi(t,n,i,r,e){var a=(n-t)*r+t,o=(i-n)*r+n,u=(o-a)*r+a;e[0]=t,e[1]=a,e[2]=u,e[3]=u,e[4]=o,e[5]=i}function bi(t,n,i,r,e,a,o,u,s){var l,f=.005,h=1/0;ri[0]=o,ri[1]=u;for(var c=0;c<1;c+=.05){ei[0]=pi(t,i,e,c),ei[1]=pi(n,r,a,c),(m=Ft(ri,ei))<h&&(l=c,h=m)}h=1/0;for(var v=0;v<32&&!(f<ti);v++){var d=l-f,p=l+f;ei[0]=pi(t,i,e,d),ei[1]=pi(n,r,a,d);var m=Ft(ei,ri);if(d>=0&&m<h)l=d,h=m;else{ai[0]=pi(t,i,e,p),ai[1]=pi(n,r,a,p);var y=Ft(ai,ri);p<=1&&y<h?(l=p,h=y):f*=.5}}return s&&(s[0]=pi(t,i,e,l),s[1]=pi(n,r,a,l)),Qn(h)}function wi(t,n,i,r,e,a,o){for(var u=t,s=n,l=0,f=1/o,h=1;h<=o;h++){var c=h*f,v=pi(t,i,e,c),d=pi(n,r,a,c),p=v-u,m=d-s;l+=Math.sqrt(p*p+m*m),u=v,s=d}return l}var xi=/cubic-bezier\(([0-9,\.e ]+)\)/;function Mi(t){var n=t&&xi.exec(t);if(n){var i=n[1].split(","),r=+st(i[0]),e=+st(i[1]),a=+st(i[2]),o=+st(i[3]);if(isNaN(r+e+a+o))return;var u=[];return function(t){return t<=0?0:t>=1?1:fi(0,r,a,1,t,u)&&si(0,e,o,1,u[0])}}}var Si=function(){function t(t){this.it=!1,this.rt=0,this.et=0,this.ot=!1,this.ut=t.life||1e3,this.st=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||wt,this.ondestroy=t.ondestroy||wt,this.onrestart=t.onrestart||wt,t.easing&&this.setEasing(t.easing)}return t.prototype.step=function(t,n){if(this.it||(this.rt=t+this.st,this.it=!0),!this.ot){var i=this.ut,r=t-this.rt-this.et,e=r/i;e<0&&(e=0),e=Math.min(e,1);var a=this.easingFunc,o=a?a(e):e;if(this.onframe(o),1===e){if(!this.loop)return!0;var u=r%i;this.rt=t-u,this.et=0,this.onrestart()}return!1}this.et+=n},t.prototype.pause=function(){this.ot=!0},t.prototype.resume=function(){this.ot=!1},t.prototype.setEasing=function(t){this.easing=t,this.easingFunc=U(t)?t:Jn[t]||Mi(t)},t}(),ki=function(){return function(t){this.value=t}}(),Ai=function(){function t(){this.ft=0}return t.prototype.insert=function(t){var n=new ki(t);return this.insertEntry(n),n},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this.ft++},t.prototype.remove=function(t){var n=t.prev,i=t.next;n?n.next=i:this.head=i,i?i.prev=n:this.tail=n,t.next=t.prev=null,this.ft--},t.prototype.len=function(){return this.ft},t.prototype.clear=function(){this.head=this.tail=null,this.ft=0},t}(),Ni=function(){function t(t){this.ht=new Ai,this.ct=10,this.vt={},this.ct=t}return t.prototype.put=function(t,n){var i=this.ht,r=this.vt,e=null;if(null==r[t]){var a=i.len(),o=this.dt;if(a>=this.ct&&a>0){var u=i.head;i.remove(u),delete r[u.key],e=u.value,this.dt=u}o?o.value=n:o=new ki(n),o.key=t,i.insertEntry(o),r[t]=o}return e},t.prototype.get=function(t){var n=this.vt[t],i=this.ht;if(null!=n)return n!==i.tail&&(i.remove(n),i.insertEntry(n)),n.value},t.prototype.clear=function(){this.ht.clear(),this.vt={}},t.prototype.len=function(){return this.ht.len()},t}(),Ci={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ti(t){return(t=Math.round(t))<0?0:t>255?255:t}function Ii(t){return t<0?0:t>1?1:t}function zi(t){var n=t;return n.length&&"%"===n.charAt(n.length-1)?Ti(parseFloat(n)/100*255):Ti(parseInt(n,10))}function Li(t){var n=t;return n.length&&"%"===n.charAt(n.length-1)?Ii(parseFloat(n)/100):Ii(parseFloat(n))}function Oi(t,n,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(n-t)*i*6:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t}function Di(t,n,i){return t+(n-t)*i}function Ri(t,n,i,r,e){return t[0]=n,t[1]=i,t[2]=r,t[3]=e,t}function Fi(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}var Bi=new Ni(20),_i=null;function Ei(t,n){_i&&Fi(_i,n),_i=Bi.put(t,_i||n.slice())}function Pi(t,n){if(t){n=n||[];var i=Bi.get(t);if(i)return Fi(n,i);var r=(t+="").replace(/ /g,"").toLowerCase();if(r in Ci)return Fi(n,Ci[r]),Ei(t,n),n;var e,a=r.length;if("#"===r.charAt(0))return 4===a||5===a?(e=parseInt(r.slice(1,4),16))>=0&&e<=4095?(Ri(n,(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,5===a?parseInt(r.slice(4),16)/15:1),Ei(t,n),n):void Ri(n,0,0,0,1):7===a||9===a?(e=parseInt(r.slice(1,7),16))>=0&&e<=16777215?(Ri(n,(16711680&e)>>16,(65280&e)>>8,255&e,9===a?parseInt(r.slice(7),16)/255:1),Ei(t,n),n):void Ri(n,0,0,0,1):void 0;var o=r.indexOf("("),u=r.indexOf(")");if(-1!==o&&u+1===a){var s=r.substr(0,o),l=r.substr(o+1,u-(o+1)).split(","),f=1;switch(s){case"rgba":if(4!==l.length)return 3===l.length?Ri(n,+l[0],+l[1],+l[2],1):Ri(n,0,0,0,1);f=Li(l.pop());case"rgb":return l.length>=3?(Ri(n,zi(l[0]),zi(l[1]),zi(l[2]),3===l.length?f:Li(l[3])),Ei(t,n),n):void Ri(n,0,0,0,1);case"hsla":return 4!==l.length?void Ri(n,0,0,0,1):(l[3]=Li(l[3]),Wi(l,n),Ei(t,n),n);case"hsl":return 3!==l.length?void Ri(n,0,0,0,1):(Wi(l,n),Ei(t,n),n);default:return}}Ri(n,0,0,0,1)}}function Wi(t,n){var i=(parseFloat(t[0])%360+360)%360/360,r=Li(t[1]),e=Li(t[2]),a=e<=.5?e*(r+1):e+r-e*r,o=2*e-a;return Ri(n=n||[],Ti(255*Oi(o,a,i+1/3)),Ti(255*Oi(o,a,i)),Ti(255*Oi(o,a,i-1/3)),1),4===t.length&&(n[3]=t[3]),n}function Vi(t,n){var i=Pi(t);if(i){for(var r=0;r<3;r++)i[r]=n<0?i[r]*(1-n)|0:(255-i[r])*n+i[r]|0,i[r]>255?i[r]=255:i[r]<0&&(i[r]=0);return Xi(i,4===i.length?"rgba":"rgb")}}function Hi(t,n,i){if(n&&n.length&&t>=0&&t<=1){i=i||[];var r=t*(n.length-1),e=Math.floor(r),a=Math.ceil(r),o=n[e],u=n[a],s=r-e;return i[0]=Ti(Di(o[0],u[0],s)),i[1]=Ti(Di(o[1],u[1],s)),i[2]=Ti(Di(o[2],u[2],s)),i[3]=Ii(Di(o[3],u[3],s)),i}}function Yi(t,n,i,r){var e=Pi(t);if(t)return e=function(t){if(t){var n,i,r=t[0]/255,e=t[1]/255,a=t[2]/255,o=Math.min(r,e,a),u=Math.max(r,e,a),s=u-o,l=(u+o)/2;if(0===s)n=0,i=0;else{i=l<.5?s/(u+o):s/(2-u-o);var f=((u-r)/6+s/2)/s,h=((u-e)/6+s/2)/s,c=((u-a)/6+s/2)/s;r===u?n=c-h:e===u?n=1/3+f-c:a===u&&(n=2/3+h-f),n<0&&(n+=1),n>1&&(n-=1)}var v=[360*n,i,l];return null!=t[3]&&v.push(t[3]),v}}(e),null!=n&&(e[0]=function(t){return(t=Math.round(t))<0?0:t>360?360:t}(n)),null!=i&&(e[1]=Li(i)),null!=r&&(e[2]=Li(r)),Xi(Wi(e),"rgba")}function Gi(t,n){var i=Pi(t);if(i&&null!=n)return i[3]=Ii(n),Xi(i,"rgba")}function Xi(t,n){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==n&&"hsva"!==n&&"hsla"!==n||(i+=","+t[3]),n+"("+i+")"}}function Ui(t,n){var i=Pi(t);return i?(.299*i[0]+.587*i[1]+.114*i[2])*i[3]/255+(1-i[3])*n:0}var ji=new Ni(100);function Zi(t){if(j(t)){var n=ji.get(t);return n||(n=Vi(t,-.1),ji.put(t,n)),n}if(tt(t)){var i=D({},t);return i.colorStops=P(t.colorStops,(function(t){return{offset:t.offset,color:Vi(t.color,-.1)}})),i}return t}var qi=Math.round;function Ki(t){var n;if(t&&"transparent"!==t){if("string"==typeof t&&t.indexOf("rgba")>-1){var i=Pi(t);i&&(t="rgb("+i[0]+","+i[1]+","+i[2]+")",n=i[3])}}else t="none";return{color:t,opacity:null==n?1:n}}function Ji(t){return t<1e-4&&t>-1e-4}function $i(t){return qi(1e3*t)/1e3}function Qi(t){return qi(1e4*t)/1e4}var tr={left:"start",right:"end",center:"middle",middle:"middle"};function nr(t){return t&&!!t.image}function ir(t){return nr(t)||function(t){return t&&!!t.svgElement}(t)}function rr(t){return"linear"===t.type}function er(t){return"radial"===t.type}function ar(t){return t&&("linear"===t.type||"radial"===t.type)}function or(t){return"url(#"+t+")"}function ur(t){var n=t.getGlobalScale(),i=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(i)/Math.log(10)),1)}function sr(t){var n=t.x||0,i=t.y||0,r=(t.rotation||0)*xt,e=rt(t.scaleX,1),a=rt(t.scaleY,1),o=t.skewX||0,u=t.skewY||0,s=[];return(n||i)&&s.push("translate("+n+"px,"+i+"px)"),r&&s.push("rotate("+r+")"),1===e&&1===a||s.push("scale("+e+","+a+")"),(o||u)&&s.push("skew("+qi(o*xt)+"deg, "+qi(u*xt)+"deg)"),s.join(" ")}var lr=h.hasGlobalWindow&&U(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:"undefined"!=typeof Buffer?function(t){return Buffer.from(t).toString("base64")}:function(t){return null},fr=Array.prototype.slice;function hr(t,n,i){return(n-t)*i+t}function cr(t,n,i,r){for(var e=n.length,a=0;a<e;a++)t[a]=hr(n[a],i[a],r);return t}function vr(t,n,i,r){for(var e=n.length,a=0;a<e;a++)t[a]=n[a]+i[a]*r;return t}function dr(t,n,i,r){for(var e=n.length,a=e&&n[0].length,o=0;o<e;o++){t[o]||(t[o]=[]);for(var u=0;u<a;u++)t[o][u]=n[o][u]+i[o][u]*r}return t}function pr(t,n){for(var i=t.length,r=n.length,e=i>r?n:t,a=Math.min(i,r),o=e[a-1]||{color:[0,0,0,0],offset:0},u=a;u<Math.max(i,r);u++)e.push({offset:o.offset,color:o.color.slice()})}function mr(t,n,i){var r=t,e=n;if(r.push&&e.push){var a=r.length,o=e.length;if(a!==o)if(a>o)r.length=o;else for(var u=a;u<o;u++)r.push(1===i?e[u]:fr.call(e[u]));var s=r[0]&&r[0].length;for(u=0;u<r.length;u++)if(1===i)isNaN(r[u])&&(r[u]=e[u]);else for(var l=0;l<s;l++)isNaN(r[u][l])&&(r[u][l]=e[u][l])}}function yr(t){if(_(t)){var n=t.length;if(_(t[0])){for(var i=[],r=0;r<n;r++)i.push(fr.call(t[r]));return i}return fr.call(t)}return t}function gr(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=null==t[3]?1:t[3],"rgba("+t.join(",")+")"}function br(t){return 4===t||5===t}function wr(t){return 1===t||2===t}var xr=[0,0,0,0],Mr=function(){function t(t){this.keyframes=[],this.discrete=!1,this.yt=!1,this.bt=!1,this.wt=0,this.xt=0,this.propName=t}return t.prototype.isFinished=function(){return this.Mt},t.prototype.setFinished=function(){this.Mt=!0,this.St&&this.St.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this.St},t.prototype.addKeyframe=function(t,n,i){this.bt=!0;var r=this.keyframes,e=r.length,a=!1,o=6,u=n;if(_(n)){var s=function(t){return _(t&&t[0])?2:1}(n);o=s,(1===s&&!q(n[0])||2===s&&!q(n[0][0]))&&(a=!0)}else if(q(n)&&!nt(n))o=0;else if(j(n))if(isNaN(+n)){var l=Pi(n);l&&(u=l,o=3)}else o=0;else if(tt(n)){var f=D({},u);f.colorStops=P(n.colorStops,(function(t){return{offset:t.offset,color:Pi(t.color)}})),rr(n)?o=4:er(n)&&(o=5),u=f}0===e?this.valType=o:o===this.valType&&6!==o||(a=!0),this.discrete=this.discrete||a;var h={time:t,value:u,rawValue:n,percent:0};return i&&(h.easing=i,h.easingFunc=U(i)?i:Jn[i]||Mi(i)),r.push(h),h},t.prototype.prepare=function(t,n){var i=this.keyframes;this.bt&&i.sort((function(t,n){return t.time-n.time}));for(var r=this.valType,e=i.length,a=i[e-1],o=this.discrete,u=wr(r),s=br(r),l=0;l<e;l++){var f=i[l],h=f.value,c=a.value;f.percent=f.time/t,o||(u&&l!==e-1?mr(h,c,r):s&&pr(h.colorStops,c.colorStops))}if(!o&&5!==r&&n&&this.needsAnimate()&&n.needsAnimate()&&r===n.valType&&!n.Mt){this.St=n;var v=i[0].value;for(l=0;l<e;l++)0===r?i[l].additiveValue=i[l].value-v:3===r?i[l].additiveValue=vr([],i[l].value,v,-1):wr(r)&&(i[l].additiveValue=1===r?vr([],i[l].value,v,-1):dr([],i[l].value,v,-1))}},t.prototype.step=function(t,n){if(!this.Mt){this.St&&this.St.Mt&&(this.St=null);var i,r,e,a=null!=this.St,o=a?"additiveValue":"value",u=this.valType,s=this.keyframes,l=s.length,f=this.propName,h=3===u,c=this.wt,v=Math.min;if(1===l)r=e=s[0];else{if(n<0)i=0;else if(n<this.xt){for(i=v(c+1,l-1);i>=0&&!(s[i].percent<=n);i--);i=v(i,l-2)}else{for(i=c;i<l&&!(s[i].percent>n);i++);i=v(i-1,l-2)}e=s[i+1],r=s[i]}if(r&&e){this.wt=i,this.xt=n;var d=e.percent-r.percent,p=0===d?1:v((n-r.percent)/d,1);e.easingFunc&&(p=e.easingFunc(p));var m=a?this.kt:h?xr:t[f];if(!wr(u)&&!h||m||(m=this.kt=[]),this.discrete)t[f]=p<1?r.rawValue:e.rawValue;else if(wr(u))1===u?cr(m,r[o],e[o],p):function(t,n,i,r){for(var e=n.length,a=e&&n[0].length,o=0;o<e;o++){t[o]||(t[o]=[]);for(var u=0;u<a;u++)t[o][u]=hr(n[o][u],i[o][u],r)}}(m,r[o],e[o],p);else if(br(u)){var y=r[o],g=e[o],b=4===u;t[f]={type:b?"linear":"radial",x:hr(y.x,g.x,p),y:hr(y.y,g.y,p),colorStops:P(y.colorStops,(function(t,n){var i=g.colorStops[n];return{offset:hr(t.offset,i.offset,p),color:gr(cr([],t.color,i.color,p))}})),global:g.global},b?(t[f].x2=hr(y.x2,g.x2,p),t[f].y2=hr(y.y2,g.y2,p)):t[f].r=hr(y.r,g.r,p)}else if(h)cr(m,r[o],e[o],p),a||(t[f]=gr(m));else{var w=hr(r[o],e[o],p);a?this.kt=w:t[f]=w}a&&this.At(t)}}},t.prototype.At=function(t){var n=this.valType,i=this.propName,r=this.kt;0===n?t[i]=t[i]+r:3===n?(Pi(t[i],xr),vr(xr,xr,r,1),t[i]=gr(xr)):1===n?vr(t[i],t[i],r,1):2===n&&dr(t[i],t[i],r,1)},t}(),Sr=function(){function t(t,n,i,r){this.Nt={},this.Ct=[],this.Tt=0,this.It=0,this.zt=null,this.Lt=t,this.Ot=n,n&&r?I("Can' use additive animation on looped animation."):(this.Dt=r,this.Rt=i)}return t.prototype.getMaxTime=function(){return this.Tt},t.prototype.getDelay=function(){return this.st},t.prototype.getLoop=function(){return this.Ot},t.prototype.getTarget=function(){return this.Lt},t.prototype.changeTarget=function(t){this.Lt=t},t.prototype.when=function(t,n,i){return this.whenWithKeys(t,n,H(n),i)},t.prototype.whenWithKeys=function(t,n,i,r){for(var e=this.Nt,a=0;a<i.length;a++){var o=i[a],u=e[o];if(!u){u=e[o]=new Mr(o);var s=void 0,l=this.Ft(o);if(l){var f=l.keyframes,h=f[f.length-1];s=h&&h.value,3===l.valType&&s&&(s=gr(s))}else s=this.Lt[o];if(null==s)continue;t>0&&u.addKeyframe(0,yr(s),r),this.Ct.push(o)}u.addKeyframe(t,yr(n[o]),r)}return this.Tt=Math.max(this.Tt,t),this},t.prototype.pause=function(){this.zt.pause(),this.ot=!0},t.prototype.resume=function(){this.zt.resume(),this.ot=!1},t.prototype.isPaused=function(){return!!this.ot},t.prototype.duration=function(t){return this.Tt=t,this.Bt=!0,this},t.prototype._t=function(){this.Et(),this.zt=null;var t=this.Pt;if(t)for(var n=t.length,i=0;i<n;i++)t[i].call(this)},t.prototype.Wt=function(){this.Et();var t=this.animation,n=this.Vt;if(t&&t.removeClip(this.zt),this.zt=null,n)for(var i=0;i<n.length;i++)n[i].call(this)},t.prototype.Et=function(){for(var t=this.Nt,n=this.Ct,i=0;i<n.length;i++)t[n[i]].setFinished()},t.prototype.Ft=function(t){var n,i=this.Dt;if(i)for(var r=0;r<i.length;r++){var e=i[r].getTrack(t);e&&(n=e)}return n},t.prototype.start=function(t){if(!(this.It>0)){this.It=1;for(var n=this,i=[],r=this.Tt||0,e=0;e<this.Ct.length;e++){var a=this.Ct[e],o=this.Nt[a],u=this.Ft(a),s=o.keyframes,l=s.length;if(o.prepare(r,u),o.needsAnimate())if(!this.Rt&&o.discrete){var f=s[l-1];f&&(n.Lt[o.propName]=f.rawValue),o.setFinished()}else i.push(o)}if(i.length||this.Bt){var h=new Si({life:r,loop:this.Ot,delay:this.st||0,onframe:function(t){n.It=2;var r=n.Dt;if(r){for(var e=!1,a=0;a<r.length;a++)if(r[a].zt){e=!0;break}e||(n.Dt=null)}for(a=0;a<i.length;a++)i[a].step(n.Lt,t);var o=n.Ht;if(o)for(a=0;a<o.length;a++)o[a](n.Lt,t)},ondestroy:function(){n._t()}});this.zt=h,this.animation&&this.animation.addClip(h),t&&h.setEasing(t)}else this._t();return this}},t.prototype.stop=function(t){if(this.zt){var n=this.zt;t&&n.onframe(1),this.Wt()}},t.prototype.delay=function(t){return this.st=t,this},t.prototype.during=function(t){return t&&(this.Ht||(this.Ht=[]),this.Ht.push(t)),this},t.prototype.done=function(t){return t&&(this.Pt||(this.Pt=[]),this.Pt.push(t)),this},t.prototype.aborted=function(t){return t&&(this.Vt||(this.Vt=[]),this.Vt.push(t)),this},t.prototype.getClip=function(){return this.zt},t.prototype.getTrack=function(t){return this.Nt[t]},t.prototype.getTracks=function(){var t=this;return P(this.Ct,(function(n){return t.Nt[n]}))},t.prototype.stopTracks=function(t,n){if(!t.length||!this.zt)return!0;for(var i=this.Nt,r=this.Ct,e=0;e<t.length;e++){var a=i[t[e]];a&&!a.isFinished()&&(n?a.step(this.Lt,1):1===this.It&&a.step(this.Lt,0),a.setFinished())}var o=!0;for(e=0;e<r.length;e++)if(!i[r[e]].isFinished()){o=!1;break}return o&&this.Wt(),o},t.prototype.saveTo=function(t,n,i){if(t){n=n||this.Ct;for(var r=0;r<n.length;r++){var e=n[r],a=this.Nt[e];if(a&&!a.isFinished()){var o=a.keyframes,u=o[i?0:o.length-1];u&&(t[e]=yr(u.rawValue))}}}},t.prototype.Yt=function(t,n){n=n||H(t);for(var i=0;i<n.length;i++){var r=n[i],e=this.Nt[r];if(e){var a=e.keyframes;if(a.length>1){var o=a.pop();e.addKeyframe(o.time,t[r]),e.prepare(this.Tt,e.getAdditiveTrack())}}}},t}();function kr(){return(new Date).getTime()}var Ar,Nr,Cr=function(t){function n(n){var i=t.call(this)||this;return i.Gt=!1,i.Xt=0,i.et=0,i.Ut=0,i.ot=!1,n=n||{},i.stage=n.stage||{},i}return St(n,t),n.prototype.addClip=function(t){t.animation&&this.removeClip(t),this.jt?(this.Zt.next=t,t.prev=this.Zt,t.next=null,this.Zt=t):this.jt=this.Zt=t,t.animation=this},n.prototype.addAnimator=function(t){t.animation=this;var n=t.getClip();n&&this.addClip(n)},n.prototype.removeClip=function(t){if(t.animation){var n=t.prev,i=t.next;n?n.next=i:this.jt=i,i?i.prev=n:this.Zt=n,t.next=t.prev=t.animation=null}},n.prototype.removeAnimator=function(t){var n=t.getClip();n&&this.removeClip(n),t.animation=null},n.prototype.update=function(t){for(var n=kr()-this.et,i=n-this.Xt,r=this.jt;r;){var e=r.next;r.step(n,i)?(r.ondestroy(),this.removeClip(r),r=e):r=e}this.Xt=n,t||(this.trigger("frame",i),this.stage.update&&this.stage.update())},n.prototype.qt=function(){var t=this;this.Gt=!0,qn((function n(){t.Gt&&(qn(n),!t.ot&&t.update())}))},n.prototype.start=function(){this.Gt||(this.Xt=kr(),this.et=0,this.qt())},n.prototype.stop=function(){this.Gt=!1},n.prototype.pause=function(){this.ot||(this.Ut=kr(),this.ot=!0)},n.prototype.resume=function(){this.ot&&(this.et+=kr()-this.Ut,this.ot=!1)},n.prototype.clear=function(){for(var t=this.jt;t;){var n=t.next;t.prev=t.next=t.animation=null,t=n}this.jt=this.Zt=null},n.prototype.isFinished=function(){return null==this.jt},n.prototype.animate=function(t,n){n=n||{},this.start();var i=new Sr(t,n.loop);return this.addAnimator(i),i},n}(Ht),Tr=h.domSupported,Ir=(Nr={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Ar=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:P(Ar,(function(t){var n=t.replace("mouse","pointer");return Nr.hasOwnProperty(n)?n:t}))}),zr=["mousemove","mouseup"],Lr=["pointermove","pointerup"],Or=!1;function Dr(t){var n=t.pointerType;return"pen"===n||"touch"===n}function Rr(t){t&&(t.zrByTouch=!0)}function Fr(t,n){for(var i=n,r=!1;i&&9!==i.nodeType&&!(r=i.domBelongToZr||i!==n&&i===t.painterRoot);)i=i.parentNode;return r}var Br=function(){return function(t,n){this.stopPropagation=wt,this.stopImmediatePropagation=wt,this.preventDefault=wt,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}}(),_r={mousedown:function(t){t=on(this.dom,t),this.Kt=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=on(this.dom,t);var n=this.Kt;!n||t.zrX===n[0]&&t.zrY===n[1]||this.Jt(!0),this.trigger("mousemove",t)},mouseup:function(t){t=on(this.dom,t),this.Jt(!1),this.trigger("mouseup",t)},mouseout:function(t){Fr(this,(t=on(this.dom,t)).toElement||t.relatedTarget)||(this.$t&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){Or=!0,t=on(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){Or||(t=on(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){Rr(t=on(this.dom,t)),this.Qt=new Date,this.handler.processGesture(t,"start"),_r.mousemove.call(this,t),_r.mousedown.call(this,t)},touchmove:function(t){Rr(t=on(this.dom,t)),this.handler.processGesture(t,"change"),_r.mousemove.call(this,t)},touchend:function(t){Rr(t=on(this.dom,t)),this.handler.processGesture(t,"end"),_r.mouseup.call(this,t),+new Date-+this.Qt<300&&_r.click.call(this,t)},pointerdown:function(t){_r.mousedown.call(this,t)},pointermove:function(t){Dr(t)||_r.mousemove.call(this,t)},pointerup:function(t){_r.mouseup.call(this,t)},pointerout:function(t){Dr(t)||_r.mouseout.call(this,t)}};E(["click","dblclick","contextmenu"],(function(t){_r[t]=function(n){n=on(this.dom,n),this.trigger(t,n)}}));var Er={pointermove:function(t){Dr(t)||Er.mousemove.call(this,t)},pointerup:function(t){Er.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var n=this.$t;this.Jt(!1),this.trigger("mouseup",t),n&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Pr(t,n){var i=n.domHandlers;h.pointerEventsSupported?E(Ir.pointer,(function(r){Vr(n,r,(function(n){i[r].call(t,n)}))})):(h.touchEventsSupported&&E(Ir.touch,(function(r){Vr(n,r,(function(e){i[r].call(t,e),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}(n)}))})),E(Ir.mouse,(function(r){Vr(n,r,(function(e){e=an(e),n.touching||i[r].call(t,e)}))})))}function Wr(t,n){function i(i){Vr(n,i,(function(r){r=an(r),Fr(t,r.target)||(r=function(t,n){return on(t.dom,new Br(t,n),!0)}(t,r),n.domHandlers[i].call(t,r))}),{capture:!0})}h.pointerEventsSupported?E(Lr,i):h.touchEventsSupported||E(zr,i)}function Vr(t,n,i,r){t.mounted[n]=i,t.listenerOpts[n]=r,un(t.domTarget,n,i,r)}function Hr(t){var n,i,r,e,a=t.mounted;for(var o in a)a.hasOwnProperty(o)&&(n=t.domTarget,i=o,r=a[o],e=t.listenerOpts[o],n.removeEventListener(i,r,e));t.mounted={}}var Yr=function(){return function(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}}(),Gr=function(t){function n(n,i){var r=t.call(this)||this;return r.$t=!1,r.dom=n,r.painterRoot=i,r.tn=new Yr(n,_r),Tr&&(r.nn=new Yr(document,Er)),Pr(r,r.tn),r}return St(n,t),n.prototype.dispose=function(){Hr(this.tn),Tr&&Hr(this.nn)},n.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},n.prototype.Jt=function(t){if(this.Kt=null,Tr&&+this.$t^+t){this.$t=t;var n=this.nn;t?Wr(this,n):Hr(n)}},n}(Ht),Xr=1;h.hasGlobalWindow&&(Xr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var Ur=Xr,jr="#333",Zr="#ccc",qr=vn;function Kr(t){return t>5e-5||t<-5e-5}var Jr=[],$r=[],Qr=[1,0,0,1,0,0],te=Math.abs,ne=function(){function t(){}var n;return t.prototype.getLocalTransform=function(n){return t.getLocalTransform(this,n)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return Kr(this.rotation)||Kr(this.x)||Kr(this.y)||Kr(this.scaleX-1)||Kr(this.scaleY-1)||Kr(this.skewX)||Kr(this.skewY)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),i=this.transform;n||t?(i=i||[1,0,0,1,0,0],n?this.getLocalTransform(i):qr(i),t&&(n?pn(i,t,i):dn(i,t)),this.transform=i,this.rn(i)):i&&(qr(i),this.invTransform=null)},t.prototype.rn=function(t){var n=this.globalScaleRatio;if(null!=n&&1!==n){this.getGlobalScale(Jr);var i=Jr[0]<0?-1:1,r=Jr[1]<0?-1:1,e=((Jr[0]-i)*n+i)/Jr[0]||0,a=((Jr[1]-r)*n+r)/Jr[1]||0;t[0]*=e,t[1]*=e,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||[1,0,0,1,0,0],bn(this.invTransform,t)},t.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),e=Math.PI/2+r-Math.atan2(t[3],t[2]);i=Math.sqrt(i)*Math.cos(e),n=Math.sqrt(n),this.skewX=e,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=i,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||[1,0,0,1,0,0],pn($r,t.invTransform,n),n=$r);var i=this.originX,r=this.originY;(i||r)&&(Qr[4]=i,Qr[5]=r,pn($r,n,Qr),$r[4]-=i,$r[5]-=r,n=$r),this.setLocalTransform(n)}},t.prototype.getGlobalScale=function(t){var n=this.transform;return t=t||[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,n){var i=[t,n],r=this.invTransform;return r&&_t(i,i,r),i},t.prototype.transformCoordToGlobal=function(t,n){var i=[t,n],r=this.transform;return r&&_t(i,i,r),i},t.prototype.getLineScale=function(){var t=this.transform;return t&&te(t[0]-1)>1e-10&&te(t[3]-1)>1e-10?Math.sqrt(te(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){re(this,t)},t.getLocalTransform=function(t,n){n=n||[];var i=t.originX||0,r=t.originY||0,e=t.scaleX,a=t.scaleY,o=t.anchorX,u=t.anchorY,s=t.rotation||0,l=t.x,f=t.y,h=t.skewX?Math.tan(t.skewX):0,c=t.skewY?Math.tan(-t.skewY):0;if(i||r||o||u){var v=i+o,d=r+u;n[4]=-v*e-h*d*a,n[5]=-d*a-c*v*e}else n[4]=n[5]=0;return n[0]=e,n[3]=a,n[1]=c*e,n[2]=h*a,s&&yn(n,n,s),n[4]+=i+l,n[5]+=r+f,n},t.initDefaultProps=((n=t.prototype).scaleX=n.scaleY=n.globalScaleRatio=1,void(n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0)),t}(),ie=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function re(t,n){for(var i=0;i<ie.length;i++){var r=ie[i];t[r]=n[r]}}var ee={};function ae(t,n){var i=ee[n=n||v];i||(i=ee[n]=new Ni(500));var r=i.get(t);return null==r&&(r=p.measureText(t,n).width,i.put(t,r)),r}function oe(t,n,i,r){var e=ae(t,n),a=fe(n),o=se(0,e,i),u=le(0,a,r);return new In(o,u,e,a)}function ue(t,n,i,r){var e=((t||"")+"").split("\n");if(1===e.length)return oe(e[0],n,i,r);for(var a=new In(0,0,0,0),o=0;o<e.length;o++){var u=oe(e[o],n,i,r);0===o?a.copy(u):a.union(u)}return a}function se(t,n,i){return"right"===i?t-=n:"center"===i&&(t-=n/2),t}function le(t,n,i){return"middle"===i?t-=n/2:"bottom"===i&&(t-=n),t}function fe(t){return ae("国",t)}function he(t,n){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*n:parseFloat(t):t}function ce(t,n,i){var r=n.position||"inside",e=null!=n.distance?n.distance:5,a=i.height,o=i.width,u=a/2,s=i.x,l=i.y,f="left",h="top";if(r instanceof Array)s+=he(r[0],i.width),l+=he(r[1],i.height),f=null,h=null;else switch(r){case"left":s-=e,l+=u,f="right",h="middle";break;case"right":s+=e+o,l+=u,h="middle";break;case"top":s+=o/2,l-=e,f="center",h="bottom";break;case"bottom":s+=o/2,l+=a+e,f="center";break;case"inside":s+=o/2,l+=u,f="center",h="middle";break;case"insideLeft":s+=e,l+=u,h="middle";break;case"insideRight":s+=o-e,l+=u,f="right",h="middle";break;case"insideTop":s+=o/2,l+=e,f="center";break;case"insideBottom":s+=o/2,l+=a-e,f="center",h="bottom";break;case"insideTopLeft":s+=e,l+=e;break;case"insideTopRight":s+=o-e,l+=e,f="right";break;case"insideBottomLeft":s+=e,l+=a-e,h="bottom";break;case"insideBottomRight":s+=o-e,l+=a-e,f="right",h="bottom"}return(t=t||{}).x=s,t.y=l,t.align=f,t.verticalAlign=h,t}var ve="__zr_normal__",de=ie.concat(["ignore"]),pe=W(ie,(function(t,n){return t[n]=!0,t}),{ignore:!1}),me={},ye=new In(0,0,0,0),ge=function(){function t(t){this.id=T(),this.animators=[],this.currentStates=[],this.states={},this.en(t)}return t.prototype.en=function(t){this.attr(t)},t.prototype.drift=function(t,n,i){switch(this.draggable){case"horizontal":n=0;break;case"vertical":t=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=n,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.tt&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var n=this.an;if(n&&(!n.ignore||t)){this.textConfig||(this.textConfig={});var i=this.textConfig,r=i.local,e=n.innerTransformable,a=void 0,o=void 0,u=!1;e.parent=r?this:null;var s=!1;if(e.copyTransform(n),null!=i.position){var l=ye;i.layoutRect?l.copy(i.layoutRect):l.copy(this.getBoundingRect()),r||l.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(me,i,l):ce(me,i,l),e.x=me.x,e.y=me.y,a=me.align,o=me.verticalAlign;var f=i.origin;if(f&&null!=i.rotation){var h=void 0,c=void 0;"center"===f?(h=.5*l.width,c=.5*l.height):(h=he(f[0],l.width),c=he(f[1],l.height)),s=!0,e.originX=-e.x+h+(r?0:l.x),e.originY=-e.y+c+(r?0:l.y)}}null!=i.rotation&&(e.rotation=i.rotation);var v=i.offset;v&&(e.x+=v[0],e.y+=v[1],s||(e.originX=-v[0],e.originY=-v[1]));var d=null==i.inside?"string"==typeof i.position&&i.position.indexOf("inside")>=0:i.inside,p=this.un||(this.un={}),m=void 0,y=void 0,g=void 0;d&&this.canBeInsideText()?(m=i.insideFill,y=i.insideStroke,null!=m&&"auto"!==m||(m=this.getInsideTextFill()),null!=y&&"auto"!==y||(y=this.getInsideTextStroke(m),g=!0)):(m=i.outsideFill,y=i.outsideStroke,null!=m&&"auto"!==m||(m=this.getOutsideFill()),null!=y&&"auto"!==y||(y=this.getOutsideStroke(m),g=!0)),(m=m||"#000")===p.fill&&y===p.stroke&&g===p.autoStroke&&a===p.align&&o===p.verticalAlign||(u=!0,p.fill=m,p.stroke=y,p.autoStroke=g,p.align=a,p.verticalAlign=o,n.setDefaultTextStyle(p)),n.tt|=1,u&&n.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.Y&&this.Y.isDarkMode()?Zr:jr},t.prototype.getOutsideStroke=function(t){var n=this.Y&&this.Y.getBackgroundColor(),i="string"==typeof n&&Pi(n);i||(i=[255,255,255,1]);for(var r=i[3],e=this.Y.isDarkMode(),a=0;a<3;a++)i[a]=i[a]*r+(e?0:255)*(1-r);return i[3]=1,Xi(i,"rgba")},t.prototype.traverse=function(t,n){},t.prototype.attrKV=function(t,n){"textConfig"===t?this.setTextConfig(n):"textContent"===t?this.setTextContent(n):"clipPath"===t?this.setClipPath(n):"extra"===t?(this.extra=this.extra||{},D(this.extra,n)):this[t]=n},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,n){if("string"==typeof t)this.attrKV(t,n);else if(K(t))for(var i=H(t),r=0;r<i.length;r++){var e=i[r];this.attrKV(e,t[e])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this.sn(t);for(var n=this.ln,i=0;i<this.animators.length;i++){var r=this.animators[i],e=r.fn;if(!(r.getLoop()||e&&e!==ve)){var a=r.targetName,o=a?n[a]:n;r.saveTo(o)}}},t.prototype.sn=function(t){var n=this.ln;n||(n=this.ln={}),t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this.hn(t,n,de)},t.prototype.hn=function(t,n,i){for(var r=0;r<i.length;r++){var e=i[r];null==t[e]||e in n||(n[e]=this[e])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},t.prototype.clearStates=function(t){this.useState(ve,!1,t)},t.prototype.useState=function(t,n,i,r){var e=t===ve;if(this.hasState()||!e){var a=this.currentStates,o=this.stateTransition;if(!(F(a,t)>=0)||!n&&1!==a.length){var u;if(this.stateProxy&&!e&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),u||e){e||this.saveCurrentToNormalState(u);var s=!!(u&&u.hoverLayer||r);s&&this.cn(!0),this.vn(t,u,this.ln,n,!i&&!this.dn&&o&&o.duration>0,o);var l=this.an,f=this.pn;return l&&l.useState(t,n,i,s),f&&f.useState(t,n,i,s),e?(this.currentStates=[],this.ln={}):n?this.currentStates.push(t):this.currentStates=[t],this.mn(),this.markRedraw(),!s&&this.dn&&(this.cn(!1),this.tt&=-2),u}I("State "+t+" not exists.")}}},t.prototype.useStates=function(t,n,i){if(t.length){var r=[],e=this.currentStates,a=t.length,o=a===e.length;if(o)for(var u=0;u<a;u++)if(t[u]!==e[u]){o=!1;break}if(o)return;for(u=0;u<a;u++){var s=t[u],l=void 0;this.stateProxy&&(l=this.stateProxy(s,t)),l||(l=this.states[s]),l&&r.push(l)}var f=r[a-1],h=!!(f&&f.hoverLayer||i);h&&this.cn(!0);var c=this.yn(r),v=this.stateTransition;this.saveCurrentToNormalState(c),this.vn(t.join(","),c,this.ln,!1,!n&&!this.dn&&v&&v.duration>0,v);var d=this.an,p=this.pn;d&&d.useStates(t,n,h),p&&p.useStates(t,n,h),this.mn(),this.currentStates=t.slice(),this.markRedraw(),!h&&this.dn&&(this.cn(!1),this.tt&=-2)}else this.clearStates()},t.prototype.isSilent=function(){for(var t=this.silent,n=this.parent;!t&&n;){if(n.silent){t=!0;break}n=n.parent}return t},t.prototype.mn=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},t.prototype.removeState=function(t){var n=F(this.currentStates,t);if(n>=0){var i=this.currentStates.slice();i.splice(n,1),this.useStates(i)}},t.prototype.replaceState=function(t,n,i){var r=this.currentStates.slice(),e=F(r,t),a=F(r,n)>=0;e>=0?a?r.splice(e,1):r[e]=n:i&&!a&&r.push(n),this.useStates(r)},t.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},t.prototype.yn=function(t){for(var n,i={},r=0;r<t.length;r++){var e=t[r];D(i,e),e.textConfig&&D(n=n||{},e.textConfig)}return n&&(i.textConfig=n),i},t.prototype.vn=function(t,n,i,r,e,a){var o=!(n&&r);n&&n.textConfig?(this.textConfig=D({},r?this.textConfig:i.textConfig),D(this.textConfig,n.textConfig)):o&&i.textConfig&&(this.textConfig=i.textConfig);for(var u={},s=!1,l=0;l<de.length;l++){var f=de[l],h=e&&pe[f];n&&null!=n[f]?h?(s=!0,u[f]=n[f]):this[f]=n[f]:o&&null!=i[f]&&(h?(s=!0,u[f]=i[f]):this[f]=i[f])}if(!e)for(l=0;l<this.animators.length;l++){var c=this.animators[l],v=c.targetName;c.getLoop()||c.Yt(v?(n||i)[v]:n||i)}s&&this.gn(t,u,a)},t.prototype.bn=function(t){if((!t.Y||t.S)&&t!==this){var n=this.Y;n&&t.addSelfToZr(n),t.Y=n,t.S=this}},t.prototype.wn=function(t){t.Y&&t.removeSelfFromZr(t.Y),t.Y=null,t.S=null},t.prototype.getClipPath=function(){return this.xn},t.prototype.setClipPath=function(t){this.xn&&this.xn!==t&&this.removeClipPath(),this.bn(t),this.xn=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this.xn;t&&(this.wn(t),this.xn=null,this.markRedraw())},t.prototype.getTextContent=function(){return this.an},t.prototype.setTextContent=function(t){var n=this.an;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new ne,this.bn(t),this.an=t,this.markRedraw())},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),D(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this.an;t&&(t.innerTransformable=null,this.wn(t),this.an=null,this.un=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this.pn},t.prototype.setTextGuideLine=function(t){this.pn&&this.pn!==t&&this.removeTextGuideLine(),this.bn(t),this.pn=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this.pn;t&&(this.wn(t),this.pn=null,this.markRedraw())},t.prototype.markRedraw=function(){this.tt|=1;var t=this.Y;t&&(this.dn?t.refreshHover():t.refresh()),this.S&&this.S.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype.cn=function(t){this.dn=t;var n=this.an,i=this.pn;n&&(n.dn=t),i&&(i.dn=t)},t.prototype.addSelfToZr=function(t){if(this.Y!==t){this.Y=t;var n=this.animators;if(n)for(var i=0;i<n.length;i++)t.animation.addAnimator(n[i]);this.xn&&this.xn.addSelfToZr(t),this.an&&this.an.addSelfToZr(t),this.pn&&this.pn.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.Y){this.Y=null;var n=this.animators;if(n)for(var i=0;i<n.length;i++)t.animation.removeAnimator(n[i]);this.xn&&this.xn.removeSelfFromZr(t),this.an&&this.an.removeSelfFromZr(t),this.pn&&this.pn.removeSelfFromZr(t)}},t.prototype.animate=function(t,n,i){var r=t?this[t]:this,e=new Sr(r,n,i);return t&&(e.targetName=t),this.addAnimator(e,t),e},t.prototype.addAnimator=function(t,n){var i=this.Y,r=this;t.during((function(){r.updateDuringAnimation(n)})).done((function(){var n=r.animators,i=F(n,t);i>=0&&n.splice(i,1)})),this.animators.push(t),i&&i.animation.addAnimator(t),i&&i.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,n){for(var i=this.animators,r=i.length,e=[],a=0;a<r;a++){var o=i[a];t&&t!==o.scope?e.push(o):o.stop(n)}return this.animators=e,this},t.prototype.animateTo=function(t,n,i){be(this,t,n,i)},t.prototype.animateFrom=function(t,n,i){be(this,t,n,i,!0)},t.prototype.gn=function(t,n,i,r){for(var e=be(this,n,i,r),a=0;a<e.length;a++)e[a].fn=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var n=t.prototype;function i(t,i,r,e){function a(t,n){Object.defineProperty(n,0,{get:function(){return t[r]},set:function(n){t[r]=n}}),Object.defineProperty(n,1,{get:function(){return t[e]},set:function(n){t[e]=n}})}Object.defineProperty(n,t,{get:function(){this[i]||a(this,this[i]=[]);return this[i]},set:function(t){this[r]=t[0],this[e]=t[1],this[i]=t,a(this,t)}})}n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.dn=!1,n.tt=1,Object.defineProperty&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),t}();function be(t,n,i,r,e){var a=[];Me(t,"",t,n,i=i||{},r,a,e);var o=a.length,u=!1,s=i.done,l=i.aborted,f=function(){u=!0,--o<=0&&(u?s&&s():l&&l())},h=function(){--o<=0&&(u?s&&s():l&&l())};o||s&&s(),a.length>0&&i.during&&a[0].during((function(t,n){i.during(n)}));for(var c=0;c<a.length;c++){var v=a[c];f&&v.done(f),h&&v.aborted(h),i.force&&v.duration(i.duration),v.start(i.easing)}return a}function we(t,n,i){for(var r=0;r<i;r++)t[r]=n[r]}function xe(t,n,i){if(_(n[i]))if(_(t[i])||(t[i]=[]),$(n[i])){var r=n[i].length;t[i].length!==r&&(t[i]=new n[i].constructor(r),we(t[i],n[i],r))}else{var e=n[i],a=t[i],o=e.length;if(_(e[0]))for(var u=e[0].length,s=0;s<o;s++)a[s]?we(a[s],e[s],u):a[s]=Array.prototype.slice.call(e[s]);else we(a,e,o);a.length=e.length}else t[i]=n[i]}function Me(t,n,i,r,e,a,o,u){for(var s=H(r),l=e.duration,f=e.delay,h=e.additive,c=e.setToFinal,v=!K(a),d=t.animators,p=[],m=0;m<s.length;m++){var y=s[m],g=r[y];if(null!=g&&null!=i[y]&&(v||a[y]))if(!K(g)||_(g)||tt(g))p.push(y);else{if(n){u||(i[y]=g,t.updateDuringAnimation(n));continue}Me(t,y,i[y],g,e,a&&a[y],o,u)}else u||(i[y]=g,t.updateDuringAnimation(n),p.push(y))}var b=p.length;if(!h&&b)for(var w=0;w<d.length;w++){if((M=d[w]).targetName===n)if(M.stopTracks(p)){var x=F(d,M);d.splice(x,1)}}if(e.force||(p=V(p,(function(t){return n=r[t],e=i[t],!(n===e||_(n)&&_(e)&&function(t,n){var i=t.length;if(i!==n.length)return!1;for(var r=0;r<i;r++)if(t[r]!==n[r])return!1;return!0}(n,e));var n,e})),b=p.length),b>0||e.force&&!o.length){var M,S=void 0,k=void 0,A=void 0;if(u){k={},c&&(S={});for(w=0;w<b;w++){k[y=p[w]]=i[y],c?S[y]=r[y]:i[y]=r[y]}}else if(c){A={};for(w=0;w<b;w++){A[y=p[w]]=yr(i[y]),xe(i,r,y)}}(M=new Sr(i,!1,!1,h?V(d,(function(t){return t.targetName===n})):null)).targetName=n,e.scope&&(M.scope=e.scope),c&&S&&M.whenWithKeys(0,S,p),A&&M.whenWithKeys(0,A,p),M.whenWithKeys(null==l?500:l,u?k:r,p).delay(f||0),t.addAnimator(M,n),o.push(M)}}B(ge,Ht),B(ge,ne);var Se=function(t){function n(n){var i=t.call(this)||this;return i.isGroup=!0,i.Mn=[],i.attr(n),i}return St(n,t),n.prototype.childrenRef=function(){return this.Mn},n.prototype.children=function(){return this.Mn.slice()},n.prototype.childAt=function(t){return this.Mn[t]},n.prototype.childOfName=function(t){for(var n=this.Mn,i=0;i<n.length;i++)if(n[i].name===t)return n[i]},n.prototype.childCount=function(){return this.Mn.length},n.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this.Mn.push(t),this.Sn(t)),this},n.prototype.addBefore=function(t,n){if(t&&t!==this&&t.parent!==this&&n&&n.parent===this){var i=this.Mn,r=i.indexOf(n);r>=0&&(i.splice(r,0,t),this.Sn(t))}return this},n.prototype.replace=function(t,n){var i=F(this.Mn,t);return i>=0&&this.replaceAt(n,i),this},n.prototype.replaceAt=function(t,n){var i=this.Mn,r=i[n];if(t&&t!==this&&t.parent!==this&&t!==r){i[n]=t,r.parent=null;var e=this.Y;e&&r.removeSelfFromZr(e),this.Sn(t)}return this},n.prototype.Sn=function(t){t.parent&&t.parent.remove(t),t.parent=this;var n=this.Y;n&&n!==t.Y&&t.addSelfToZr(n),n&&n.refresh()},n.prototype.remove=function(t){var n=this.Y,i=this.Mn,r=F(i,t);return r<0||(i.splice(r,1),t.parent=null,n&&t.removeSelfFromZr(n),n&&n.refresh()),this},n.prototype.removeAll=function(){for(var t=this.Mn,n=this.Y,i=0;i<t.length;i++){var r=t[i];n&&r.removeSelfFromZr(n),r.parent=null}return t.length=0,this},n.prototype.eachChild=function(t,n){for(var i=this.Mn,r=0;r<i.length;r++){var e=i[r];t.call(n,e,r)}return this},n.prototype.traverse=function(t,n){for(var i=0;i<this.Mn.length;i++){var r=this.Mn[i],e=t.call(n,r);r.isGroup&&!e&&r.traverse(t,n)}return this},n.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var i=0;i<this.Mn.length;i++){this.Mn[i].addSelfToZr(n)}},n.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var i=0;i<this.Mn.length;i++){this.Mn[i].removeSelfFromZr(n)}},n.prototype.getBoundingRect=function(t){for(var n=new In(0,0,0,0),i=t||this.Mn,r=[],e=null,a=0;a<i.length;a++){var o=i[a];if(!o.ignore&&!o.invisible){var u=o.getBoundingRect(),s=o.getLocalTransform(r);s?(In.applyTransform(n,u,s),(e=e||n.clone()).union(n)):(e=e||u.clone()).union(u)}}return e||n},n}(ge);Se.prototype.type="group";
/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/
var ke={},Ae={};var Ne,Ce=function(){function t(t,n,i){var r=this;this.kn=10,this.An=0,this.Nn=!0,this.Cn=!0,this.Tn=!1,i=i||{},this.dom=n,this.id=t;var e=new Kn,a=i.renderer||"canvas";ke[a]||(a=H(ke)[0]),i.useDirtyRect=null!=i.useDirtyRect&&i.useDirtyRect;var o=new ke[a](n,e,i,t),u=i.ssr||o.ssrOnly;this.storage=e,this.painter=o;var s,l=h.node||h.worker||u?null:new Gr(o.getViewportRoot(),o.root),f=i.useCoarsePointer;(null==f||"auto"===f?h.touchEventsSupported:!!f)&&(s=rt(i.pointerSize,44)),this.handler=new Bn(e,o,l,o.root,s),this.animation=new Cr({stage:{update:u?null:function(){return r.In(!0)}}}),u||this.animation.start()}return t.prototype.add=function(t){!this.zn&&t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){!this.zn&&t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,n){this.zn||(this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh())},t.prototype.setBackgroundColor=function(t){this.zn||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this.Ln=t,this.Tn=function(t){if(!t)return!1;if("string"==typeof t)return Ui(t,1)<.4;if(t.colorStops){for(var n=t.colorStops,i=0,r=n.length,e=0;e<r;e++)i+=Ui(n[e].color,1);return(i/=r)<.4}return!1}(t))},t.prototype.getBackgroundColor=function(){return this.Ln},t.prototype.setDarkMode=function(t){this.Tn=t},t.prototype.isDarkMode=function(){return this.Tn},t.prototype.refreshImmediately=function(t){this.zn||(t||this.animation.update(!0),this.Nn=!1,this.painter.refresh(),this.Nn=!1)},t.prototype.refresh=function(){this.zn||(this.Nn=!0,this.animation.start())},t.prototype.flush=function(){this.zn||this.In(!1)},t.prototype.In=function(t){var n,i=kr();this.Nn&&(n=!0,this.refreshImmediately(t)),this.Cn&&(n=!0,this.refreshHoverImmediately());var r=kr();n?(this.An=0,this.trigger("rendered",{elapsedTime:r-i})):this.kn>0&&(this.An++,this.An>this.kn&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this.kn=t},t.prototype.wakeUp=function(){this.zn||(this.animation.start(),this.An=0)},t.prototype.refreshHover=function(){this.Cn=!0},t.prototype.refreshHoverImmediately=function(){this.zn||(this.Cn=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},t.prototype.resize=function(t){this.zn||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},t.prototype.clearAnimation=function(){this.zn||this.animation.clear()},t.prototype.getWidth=function(){if(!this.zn)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this.zn)return this.painter.getHeight()},t.prototype.setCursorStyle=function(t){this.zn||this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,n){if(!this.zn)return this.handler.findHover(t,n)},t.prototype.on=function(t,n,i){return this.zn||this.handler.on(t,n,i),this},t.prototype.off=function(t,n){this.zn||this.handler.off(t,n)},t.prototype.trigger=function(t,n){this.zn||this.handler.trigger(t,n)},t.prototype.clear=function(){if(!this.zn){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof Se&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){var t;this.zn||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this.zn=!0,t=this.id,delete Ae[t])},t}();function Te(t,n){var i=new Ce(T(),t,n);return Ae[i.id]=i,i}function Ie(t,n,i,r){var e=n[0],a=n[1],o=i[0],u=i[1],s=a-e,l=u-o;if(0===s)return 0===l?o:(o+u)/2;if(r)if(s>0){if(t<=e)return o;if(t>=a)return u}else{if(t>=e)return o;if(t<=a)return u}else{if(t===e)return o;if(t===a)return u}return(t-e)/s*l+o}function ze(t,n){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return j(t)?(i=t,i.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(t)/100*n:parseFloat(t):null==t?NaN:+t;var i}function Le(t,n,i){return null==n&&(n=10),n=Math.min(Math.max(0,n),20),t=(+t).toFixed(n),i?t:+t}function Oe(t){return t.sort((function(t,n){return t-n})),t}function De(t){if(t=+t,isNaN(t))return 0;if(t>1e-14)for(var n=1,i=0;i<15;i++,n*=10)if(Math.round(t*n)/n===t)return i;return function(t){var n=t.toString().toLowerCase(),i=n.indexOf("e"),r=i>0?+n.slice(i+1):0,e=i>0?i:n.length,a=n.indexOf("."),o=a<0?0:e-1-a;return Math.max(0,o-r)}(t)}function Re(t,n){var i=Math.log,r=Math.LN10,e=Math.floor(i(t[1]-t[0])/r),a=Math.round(i(Math.abs(n[1]-n[0]))/r),o=Math.min(Math.max(-e+a,0),20);return isFinite(o)?o:20}function Fe(t,n){var i=Math.max(De(t),De(n)),r=t+n;return i>20?r:Le(r,i)}var Be=9007199254740991;function _e(t){var n=2*Math.PI;return(t%n+n)%n}function Ee(t){return t>-1e-4&&t<1e-4}var Pe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function We(t){if(t instanceof Date)return t;if(j(t)){var n=Pe.exec(t);if(!n)return new Date(NaN);if(n[8]){var i=+n[4]||0;return"Z"!==n[8].toUpperCase()&&(i-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,i,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}return null==t?new Date(NaN):new Date(Math.round(t))}function Ve(t){if(0===t)return 0;var n=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,n)>=10&&n++,n}function He(t,n){var i=Ve(t),r=Math.pow(10,i),e=t/r;return t=(e<1.5?1:e<2.5?2:e<4?3:e<7?5:10)*r,i>=-20?+t.toFixed(i<0?-i:0):t}function Ye(t,n){var i=(t.length-1)*n+1,r=Math.floor(i),e=+t[r-1],a=i-r;return a?e+a*(t[r]-e):e}function Ge(t){t.sort((function(t,n){return u(t,n,0)?-1:1}));for(var n=-1/0,i=1,r=0;r<t.length;){for(var e=t[r].interval,a=t[r].close,o=0;o<2;o++)e[o]<=n&&(e[o]=n,a[o]=o?1:1-i),n=e[o],i=a[o];e[0]===e[1]&&a[0]*a[1]!=1?t.splice(r,1):r++}return t;function u(t,n,i){return t.interval[i]<n.interval[i]||t.interval[i]===n.interval[i]&&(t.close[i]-n.close[i]==(i?-1:1)||!i&&u(t,n,1))}}function Xe(t){var n=parseFloat(t);return n==t&&(0!==n||!j(t)||t.indexOf("x")<=0)?n:NaN}function Ue(t){return!isNaN(Xe(t))}function je(){return Math.round(9*Math.random())}function Ze(t,n){return 0===n?t:Ze(n,t%n)}function qe(t,n){return null==t?n:null==n?t:t*n/Ze(t,n)}function Ke(t){throw new Error(t)}function Je(t,n,i){return(n-t)*i+t}var $e="series\0",Qe="\0_ec_\0";function ta(t){return t instanceof Array?t:null==t?[]:[t]}function na(t,n,i){if(t){t[n]=t[n]||{},t.emphasis=t.emphasis||{},t.emphasis[n]=t.emphasis[n]||{};for(var r=0,e=i.length;r<e;r++){var a=i[r];!t.emphasis[n].hasOwnProperty(a)&&t[n].hasOwnProperty(a)&&(t.emphasis[n][a]=t[n][a])}}}var ia=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function ra(t){return!K(t)||X(t)||t instanceof Date?t:t.value}function ea(t){return K(t)&&!(t instanceof Array)}function aa(t,n,i){var r="normalMerge"===i,e="replaceMerge"===i,a="replaceAll"===i;t=t||[],n=(n||[]).slice();var o=pt();E(n,(function(t,i){K(t)||(n[i]=null)}));var u,s,l=function(t,n,i){var r=[];if("replaceAll"===i)return r;for(var e=0;e<t.length;e++){var a=t[e];a&&null!=a.id&&n.set(a.id,e),r.push({existing:"replaceMerge"===i||fa(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return r}(t,o,i);return(r||e)&&function(t,n,i,r){E(r,(function(e,a){if(e&&null!=e.id){var o=ua(e.id),u=i.get(o);if(null!=u){var s=t[u];ut(!s.newOption,'Duplicated option on id "'+o+'".'),s.newOption=e,s.existing=n[u],r[a]=null}}}))}(l,t,o,n),r&&function(t,n){E(n,(function(i,r){if(i&&null!=i.name)for(var e=0;e<t.length;e++){var a=t[e].existing;if(!t[e].newOption&&a&&(null==a.id||null==i.id)&&!fa(i)&&!fa(a)&&oa("name",a,i))return t[e].newOption=i,void(n[r]=null)}}))}(l,n),r||e?function(t,n,i){E(n,(function(n){if(n){for(var r,e=0;(r=t[e])&&(r.newOption||fa(r.existing)||r.existing&&null!=n.id&&!oa("id",n,r.existing));)e++;r?(r.newOption=n,r.brandNew=i):t.push({newOption:n,brandNew:i,existing:null,keyInfo:null}),e++}}))}(l,n,e):a&&function(t,n){E(n,(function(n){t.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})}))}(l,n),u=l,s=pt(),E(u,(function(t){var n=t.existing;n&&s.set(n.id,t)})),E(u,(function(t){var n=t.newOption;ut(!n||null==n.id||!s.get(n.id)||s.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&s.set(n.id,t),!t.keyInfo&&(t.keyInfo={})})),E(u,(function(t,n){var i=t.existing,r=t.newOption,e=t.keyInfo;if(K(r)){if(e.name=null!=r.name?ua(r.name):i?i.name:$e+n,i)e.id=ua(i.id);else if(null!=r.id)e.id=ua(r.id);else{var a=0;do{e.id="\0"+e.name+"\0"+a++}while(s.get(e.id))}s.set(e.id,t)}})),l}function oa(t,n,i){var r=sa(n[t],null),e=sa(i[t],null);return null!=r&&null!=e&&r===e}function ua(t){return sa(t,"")}function sa(t,n){return null==t?n:j(t)?t:q(t)||Z(t)?t+"":n}function la(t){var n=t.name;return!(!n||!n.indexOf($e))}function fa(t){return t&&null!=t.id&&0===ua(t.id).indexOf(Qe)}function ha(t,n){return null!=n.dataIndexInside?n.dataIndexInside:null!=n.dataIndex?X(n.dataIndex)?P(n.dataIndex,(function(n){return t.indexOfRawIndex(n)})):t.indexOfRawIndex(n.dataIndex):null!=n.name?X(n.name)?P(n.name,(function(n){return t.indexOfName(n)})):t.indexOfName(n.name):void 0}function ca(){var t="__ec_inner_"+va++;return function(n){return n[t]||(n[t]={})}}var va=je();function da(t,n,i){var r=pa(n,i),e=r.mainTypeSpecified,a=r.queryOptionMap,o=r.others,u=i?i.defaultMainType:null;return!e&&u&&a.set(u,{}),a.each((function(n,r){var e=ga(t,r,n,{useDefault:u===r,enableAll:!i||null==i.enableAll||i.enableAll,enableNone:!i||null==i.enableNone||i.enableNone});o[r+"Models"]=e.models,o[r+"Model"]=e.models[0]})),o}function pa(t,n){var i;if(j(t)){var r={};r[t+"Index"]=0,i=r}else i=t;var e=pt(),a={},o=!1;return E(i,(function(t,i){if("dataIndex"!==i&&"dataIndexInside"!==i){var r=i.match(/^(\w+)(Index|Id|Name)$/)||[],u=r[1],s=(r[2]||"").toLowerCase();if(u&&s&&!(n&&n.includeMainTypes&&F(n.includeMainTypes,u)<0))o=o||!!u,(e.get(u)||e.set(u,{}))[s]=t}else a[i]=t})),{mainTypeSpecified:o,queryOptionMap:e,others:a}}var ma={useDefault:!0,enableAll:!1,enableNone:!1},ya={useDefault:!1,enableAll:!0,enableNone:!0};function ga(t,n,i,r){r=r||ma;var e=i.index,a=i.id,o=i.name,u={models:null,specified:null!=e||null!=a||null!=o};if(!u.specified){var s=void 0;return u.models=r.useDefault&&(s=t.getComponent(n))?[s]:[],u}return"none"===e||!1===e?(ut(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),u.models=[],u):("all"===e&&(ut(r.enableAll,'`"all"` is not a valid value on index option.'),e=a=o=null),u.models=t.queryComponents({mainType:n,index:e,id:a,name:o}),u)}function ba(t,n,i){t.setAttribute?t.setAttribute(n,i):t[n]=i}function wa(t,n){var i=pt(),r=[];return E(t,(function(t){var e=n(t);(i.get(e)||(r.push(e),i.set(e,[]))).push(t)})),{keys:r,buckets:i}}function xa(t,n,i,r,e){var a=null==n||"auto"===n;if(null==r)return r;if(q(r))return Le(d=Je(i||0,r,e),a?Math.max(De(i||0),De(r)):n);if(j(r))return e<1?i:r;for(var o=[],u=i,s=r,l=Math.max(u?u.length:0,s.length),f=0;f<l;++f){var h=t.getDimensionInfo(f);if(h&&"ordinal"===h.type)o[f]=(e<1&&u?u:s)[f];else{var c=u&&u[f]?u[f]:0,v=s[f],d=Je(c,v,e);o[f]=Le(d,a?Math.max(De(c),De(v)):n)}}return o}var Ma="___EC__COMPONENT__CONTAINER___",Sa="___EC__EXTENDED_CLASS___";function ka(t){var n={main:"",sub:""};if(t){var i=t.split(".");n.main=i[0]||"",n.sub=i[1]||""}return n}function Aa(t,n){t.$constructor=t,t.extend=function(t){var n,i,r=this;return U(i=r)&&/^class\s/.test(Function.prototype.toString.call(i))?n=function(t){function n(){return t.apply(this,arguments)||this}return l(n,t),n}(r):(n=function(){(t.$constructor||r).apply(this,arguments)},function(t,n){var i=t.prototype;function r(){}for(var e in r.prototype=n.prototype,t.prototype=new r,i)i.hasOwnProperty(e)&&(t.prototype[e]=i[e]);t.prototype.constructor=t,t.superClass=n}(n,this)),D(n.prototype,t),n[Sa]=!0,n.extend=this.extend,n.superCall=Ta,n.superApply=Ia,n.superClass=r,n}}function Na(t,n){t.extend=n.extend}var Ca=Math.round(10*Math.random());function Ta(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return this.superClass.prototype[n].apply(t,i)}function Ia(t,n,i){return this.superClass.prototype[n].apply(t,i)}function za(t){var n={};t.registerClass=function(t){var i,r=t.type||t.prototype.type;if(r){ut(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i=r),'componentType "'+i+'" illegal'),t.prototype.type=r;var e=ka(r);if(e.sub){if(e.sub!==Ma){var a=function(t){var i=n[t.main];i&&i[Ma]||((i=n[t.main]={})[Ma]=!0);return i}(e);a[e.sub]=t}}else n[e.main]=t}return t},t.getClass=function(t,i,r){var e=n[t];if(e&&e[Ma]&&(e=i?e[i]:null),r&&!e)throw new Error(i?"Component "+t+"."+(i||"")+" is used but not imported.":t+".type should be specified.");return e},t.getClassesByMainType=function(t){var i=ka(t),r=[],e=n[i.main];return e&&e[Ma]?E(e,(function(t,n){n!==Ma&&r.push(t)})):r.push(e),r},t.hasClass=function(t){var i=ka(t);return!!n[i.main]},t.getAllClassMainTypes=function(){var t=[];return E(n,(function(n,i){t.push(i)})),t},t.hasSubTypes=function(t){var i=ka(t),r=n[i.main];return r&&r[Ma]}}function La(t,n){for(var i=0;i<t.length;i++)t[i][1]||(t[i][1]=t[i][0]);return n=n||!1,function(i,r,e){for(var a={},o=0;o<t.length;o++){var u=t[o][1];if(!(r&&F(r,u)>=0||e&&F(e,u)<0)){var s=i.getShallow(u,n);null!=s&&(a[t[o][0]]=s)}}return a}}var Oa=La([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Da=function(){function t(){}return t.prototype.getAreaStyle=function(t,n){return Oa(this,t,n)},t}(),Ra=new Ni(50);function Fa(t){if("string"==typeof t){var n=Ra.get(t);return n&&n.image}return t}function Ba(t,n,i,r,e){if(t){if("string"==typeof t){if(n&&n.On===t||!i)return n;var a=Ra.get(t),o={hostEl:i,cb:r,cbPayload:e};return a?!Ea(n=a.image)&&a.pending.push(o):((n=p.loadImage(t,_a,_a)).On=t,Ra.put(t,n.Dn={image:n,pending:[o]})),n}return t}return n}function _a(){var t=this.Dn;this.onload=this.onerror=this.Dn=null;for(var n=0;n<t.pending.length;n++){var i=t.pending[n],r=i.cb;r&&r(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function Ea(t){return t&&t.width&&t.height}var Pa=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Wa(t,n,i,r,e,a){if(!i)return t.text="",void(t.isTruncated=!1);var o=(n+"").split("\n");a=Va(i,r,e,a);for(var u=!1,s={},l=0,f=o.length;l<f;l++)Ha(s,o[l],a),o[l]=s.textLine,u=u||s.isTruncated;t.text=o.join("\n"),t.isTruncated=u}function Va(t,n,i,r){var e=D({},r=r||{});e.font=n,i=rt(i,"..."),e.maxIterations=rt(r.maxIterations,2);var a=e.minChar=rt(r.minChar,0);e.cnCharWidth=ae("国",n);var o=e.ascCharWidth=ae("a",n);e.placeholder=rt(r.placeholder,"");for(var u=t=Math.max(0,t-1),s=0;s<a&&u>=o;s++)u-=o;var l=ae(i,n);return l>u&&(i="",l=0),u=t-l,e.ellipsis=i,e.ellipsisWidth=l,e.contentWidth=u,e.containerWidth=t,e}function Ha(t,n,i){var r=i.containerWidth,e=i.font,a=i.contentWidth;if(!r)return t.textLine="",void(t.isTruncated=!1);var o=ae(n,e);if(o<=r)return t.textLine=n,void(t.isTruncated=!1);for(var u=0;;u++){if(o<=a||u>=i.maxIterations){n+=i.ellipsis;break}var s=0===u?Ya(n,a,i.ascCharWidth,i.cnCharWidth):o>0?Math.floor(n.length*a/o):0;o=ae(n=n.substr(0,s),e)}""===n&&(n=i.placeholder),t.textLine=n,t.isTruncated=!0}function Ya(t,n,i,r){for(var e=0,a=0,o=t.length;a<o&&e<n;a++){var u=t.charCodeAt(a);e+=0<=u&&u<=127?i:r}return a}var Ga=function(){return function(){}}(),Xa=function(){return function(t){this.tokens=[],t&&(this.tokens=t)}}(),Ua=function(){return function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}}();function ja(t,n,i,r,e){var a,o,u=""===n,s=e&&i.rich[e]||{},l=t.lines,f=s.font||i.font,h=!1;if(r){var c=s.padding,v=c?c[1]+c[3]:0;if(null!=s.width&&"auto"!==s.width){var d=he(s.width,r.width)+v;l.length>0&&d+r.accumWidth>r.width&&(a=n.split("\n"),h=!0),r.accumWidth=d}else{var p=Ka(n,f,r.width,r.breakAll,r.accumWidth);r.accumWidth=p.accumWidth+v,o=p.linesWidths,a=p.lines}}else a=n.split("\n");for(var m=0;m<a.length;m++){var y=a[m],g=new Ga;if(g.styleName=e,g.text=y,g.isLineHolder=!y&&!u,"number"==typeof s.width?g.width=s.width:g.width=o?o[m]:ae(y,f),m||h)l.push(new Xa([g]));else{var b=(l[l.length-1]||(l[0]=new Xa)).tokens,w=b.length;1===w&&b[0].isLineHolder?b[0]=g:(y||!w||u)&&b.push(g)}}}var Za=W(",&?/;] ".split(""),(function(t,n){return t[n]=!0,t}),{});function qa(t){return!function(t){var n=t.charCodeAt(0);return n>=32&&n<=591||n>=880&&n<=4351||n>=4608&&n<=5119||n>=7680&&n<=8303}(t)||!!Za[t]}function Ka(t,n,i,r,e){for(var a=[],o=[],u="",s="",l=0,f=0,h=0;h<t.length;h++){var c=t.charAt(h);if("\n"!==c){var v=ae(c,n),d=!r&&!qa(c);(a.length?f+v>i:e+f+v>i)?f?(u||s)&&(d?(u||(u=s,s="",f=l=0),a.push(u),o.push(f-l),s+=c,u="",f=l+=v):(s&&(u+=s,s="",l=0),a.push(u),o.push(f),u=c,f=v)):d?(a.push(s),o.push(l),s=c,l=v):(a.push(c),o.push(v)):(f+=v,d?(s+=c,l+=v):(s&&(u+=s,s="",l=0),u+=c))}else s&&(u+=s,f+=l),a.push(u),o.push(f),u="",s="",l=0,f=0}return a.length||u||(u=t,s="",l=0),s&&(u+=s),u&&(a.push(u),o.push(f)),1===a.length&&(f+=e),{accumWidth:f,lines:a,linesWidths:o}}var Ja="__zr_style_"+Math.round(10*Math.random()),$a={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Qa={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};$a[Ja]=!0;var to=["z","z2","invisible"],no=["invisible"],io=function(t){function n(n){return t.call(this,n)||this}var i;return St(n,t),n.prototype.en=function(n){for(var i=H(n),r=0;r<i.length;r++){var e=i[r];"style"===e?this.useStyle(n[e]):t.prototype.attrKV.call(this,e,n[e])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(t,n,i,r){var e=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function(t,n,i){ro.copy(t.getBoundingRect()),t.transform&&ro.applyTransform(t.transform);return eo.width=n,eo.height=i,!ro.intersect(eo)}(this,t,n)||e&&!e[0]&&!e[3])return!1;if(i&&this.nt)for(var a=0;a<this.nt.length;++a)if(this.nt[a].isZeroArea())return!1;if(r&&this.parent)for(var o=this.parent;o;){if(o.ignore)return!1;o=o.parent}return!0},n.prototype.contain=function(t,n){return this.rectContain(t,n)},n.prototype.traverse=function(t,n){t.call(n,this)},n.prototype.rectContain=function(t,n){var i=this.transformCoordToLocal(t,n);return this.getBoundingRect().contain(i[0],i[1])},n.prototype.getPaintRect=function(){var t=this.Rn;if(!this.Rn||this.tt){var n=this.transform,i=this.getBoundingRect(),r=this.style,e=r.shadowBlur||0,a=r.shadowOffsetX||0,o=r.shadowOffsetY||0;t=this.Rn||(this.Rn=new In(0,0,0,0)),n?In.applyTransform(t,i,n):t.copy(i),(e||a||o)&&(t.width+=2*e+Math.abs(a),t.height+=2*e+Math.abs(o),t.x=Math.min(t.x,t.x+a-e),t.y=Math.min(t.y,t.y+o-e));var u=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-u),t.y=Math.floor(t.y-u),t.width=Math.ceil(t.width+1+2*u),t.height=Math.ceil(t.height+1+2*u))}return t},n.prototype.setPrevPaintRect=function(t){t?(this.Fn=this.Fn||new In(0,0,0,0),this.Fn.copy(t)):this.Fn=null},n.prototype.getPrevPaintRect=function(){return this.Fn},n.prototype.animateStyle=function(t){return this.animate("style",t)},n.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(n,i){"style"!==n?t.prototype.attrKV.call(this,n,i):this.style?this.setStyle(i):this.useStyle(i)},n.prototype.setStyle=function(t,n){return"string"==typeof t?this.style[t]=n:D(this.style,t),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.tt|=2,this.Bn&&(this.Bn=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(2&this.tt)},n.prototype.styleUpdated=function(){this.tt&=-3},n.prototype.createStyle=function(t){return yt($a,t)},n.prototype.useStyle=function(t){t[Ja]||(t=this.createStyle(t)),this.dn?this._n=t:this.style=t,this.dirtyStyle()},n.prototype.isStyleObject=function(t){return t[Ja]},n.prototype.sn=function(n){t.prototype.sn.call(this,n);var i=this.ln;n.style&&!i.style&&(i.style=this.En(this.createStyle(),this.style)),this.hn(n,i,to)},n.prototype.vn=function(n,i,r,e,a,o){t.prototype.vn.call(this,n,i,r,e,a,o);var u,s=!(i&&e);if(i&&i.style?a?e?u=i.style:(u=this.En(this.createStyle(),r.style),this.En(u,i.style)):(u=this.En(this.createStyle(),e?this.style:r.style),this.En(u,i.style)):s&&(u=r.style),u)if(a){var l=this.style;if(this.style=this.createStyle(s?{}:l),s)for(var f=H(l),h=0;h<f.length;h++){(v=f[h])in u&&(u[v]=u[v],this.style[v]=l[v])}var c=H(u);for(h=0;h<c.length;h++){var v=c[h];this.style[v]=this.style[v]}this.gn(n,{style:u},o,this.getAnimationStyleProps())}else this.useStyle(u);var d=this.dn?no:to;for(h=0;h<d.length;h++){v=d[h];i&&null!=i[v]?this[v]=i[v]:s&&null!=r[v]&&(this[v]=r[v])}},n.prototype.yn=function(n){for(var i,r=t.prototype.yn.call(this,n),e=0;e<n.length;e++){var a=n[e];a.style&&(i=i||{},this.En(i,a.style))}return i&&(r.style=i),r},n.prototype.En=function(t,n){return D(t,n),t},n.prototype.getAnimationStyleProps=function(){return Qa},n.initDefaultProps=((i=n.prototype).type="displayable",i.invisible=!1,i.z=0,i.z2=0,i.zlevel=0,i.culling=!1,i.cursor="pointer",i.rectHover=!1,i.incremental=!1,i.Bn=null,i.dirtyRectTolerance=0,void(i.tt=3)),n}(ge),ro=new In(0,0,0,0),eo=new In(0,0,0,0);var ao=Math.min,oo=Math.max,uo=Math.sin,so=Math.cos,lo=2*Math.PI,fo=kt(),ho=kt(),co=kt();function vo(t,n,i){if(0!==t.length){for(var r=t[0],e=r[0],a=r[0],o=r[1],u=r[1],s=1;s<t.length;s++)r=t[s],e=ao(e,r[0]),a=oo(a,r[0]),o=ao(o,r[1]),u=oo(u,r[1]);n[0]=e,n[1]=o,i[0]=a,i[1]=u}}function po(t,n,i,r,e,a){e[0]=ao(t,i),e[1]=ao(n,r),a[0]=oo(t,i),a[1]=oo(n,r)}var mo=[],yo=[];function go(t,n,i,r,e,a,o,u,s,l){var f=hi,h=si,c=f(t,i,e,o,mo);s[0]=1/0,s[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var v=0;v<c;v++){var d=h(t,i,e,o,mo[v]);s[0]=ao(d,s[0]),l[0]=oo(d,l[0])}c=f(n,r,a,u,yo);for(v=0;v<c;v++){var p=h(n,r,a,u,yo[v]);s[1]=ao(p,s[1]),l[1]=oo(p,l[1])}s[0]=ao(t,s[0]),l[0]=oo(t,l[0]),s[0]=ao(o,s[0]),l[0]=oo(o,l[0]),s[1]=ao(n,s[1]),l[1]=oo(n,l[1]),s[1]=ao(u,s[1]),l[1]=oo(u,l[1])}function bo(t,n,i,r,e,a,o,u){var s=yi,l=pi,f=oo(ao(s(t,i,e),1),0),h=oo(ao(s(n,r,a),1),0),c=l(t,i,e,f),v=l(n,r,a,h);o[0]=ao(t,e,c),o[1]=ao(n,a,v),u[0]=oo(t,e,c),u[1]=oo(n,a,v)}function wo(t,n,i,r,e,a,o,u,s){var l=Et,f=Pt,h=Math.abs(e-a);if(h%lo<1e-4&&h>1e-4)return u[0]=t-i,u[1]=n-r,s[0]=t+i,void(s[1]=n+r);if(fo[0]=so(e)*i+t,fo[1]=uo(e)*r+n,ho[0]=so(a)*i+t,ho[1]=uo(a)*r+n,l(u,fo,ho),f(s,fo,ho),(e%=lo)<0&&(e+=lo),(a%=lo)<0&&(a+=lo),e>a&&!o?a+=lo:e<a&&o&&(e+=lo),o){var c=a;a=e,e=c}for(var v=0;v<a;v+=Math.PI/2)v>e&&(co[0]=so(v)*i+t,co[1]=uo(v)*r+n,l(u,co,u),f(s,co,s))}var xo={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Mo=[],So=[],ko=[],Ao=[],No=[],Co=[],To=Math.min,Io=Math.max,zo=Math.cos,Lo=Math.sin,Oo=Math.abs,Do=Math.PI,Ro=2*Do,Fo="undefined"!=typeof Float32Array,Bo=[];function _o(t){return Math.round(t/Do*1e8)/1e8%2*Do}function Eo(t,n){var i=_o(t[0]);i<0&&(i+=Ro);var r=i-t[0],e=t[1];e+=r,!n&&e-i>=Ro?e=i+Ro:n&&i-e>=Ro?e=i-Ro:!n&&i>e?e=i+(Ro-_o(i-e)):n&&i<e&&(e=i-(Ro-_o(e-i))),t[0]=i,t[1]=e}var Po=function(){function t(t){this.dpr=1,this.Pn=0,this.Wn=0,this.Vn=0,this.Hn=0,this.ft=0,t&&(this.Yn=!1),this.Yn&&(this.data=[])}var n;return t.prototype.increaseVersion=function(){this.Gn++},t.prototype.getVersion=function(){return this.Gn},t.prototype.setScale=function(t,n,i){(i=i||0)>0&&(this.Xn=Oo(i/Ur/t)||0,this.Un=Oo(i/Ur/n)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this.jn=t},t.prototype.getContext=function(){return this.jn},t.prototype.beginPath=function(){return this.jn&&this.jn.beginPath(),this.reset(),this},t.prototype.reset=function(){this.Yn&&(this.ft=0),this.Zn&&(this.Zn=null,this.qn=0),this.Gn++},t.prototype.moveTo=function(t,n){return this.Kn(),this.addData(xo.M,t,n),this.jn&&this.jn.moveTo(t,n),this.Vn=t,this.Hn=n,this.Pn=t,this.Wn=n,this},t.prototype.lineTo=function(t,n){var i=Oo(t-this.Pn),r=Oo(n-this.Wn),e=i>this.Xn||r>this.Un;if(this.addData(xo.L,t,n),this.jn&&e&&this.jn.lineTo(t,n),e)this.Pn=t,this.Wn=n,this.Jn=0;else{var a=i*i+r*r;a>this.Jn&&(this.$n=t,this.Qn=n,this.Jn=a)}return this},t.prototype.bezierCurveTo=function(t,n,i,r,e,a){return this.Kn(),this.addData(xo.C,t,n,i,r,e,a),this.jn&&this.jn.bezierCurveTo(t,n,i,r,e,a),this.Pn=e,this.Wn=a,this},t.prototype.quadraticCurveTo=function(t,n,i,r){return this.Kn(),this.addData(xo.Q,t,n,i,r),this.jn&&this.jn.quadraticCurveTo(t,n,i,r),this.Pn=i,this.Wn=r,this},t.prototype.arc=function(t,n,i,r,e,a){this.Kn(),Bo[0]=r,Bo[1]=e,Eo(Bo,a),r=Bo[0];var o=(e=Bo[1])-r;return this.addData(xo.A,t,n,i,i,r,o,0,a?0:1),this.jn&&this.jn.arc(t,n,i,r,e,a),this.Pn=zo(e)*i+t,this.Wn=Lo(e)*i+n,this},t.prototype.arcTo=function(t,n,i,r,e){return this.Kn(),this.jn&&this.jn.arcTo(t,n,i,r,e),this},t.prototype.rect=function(t,n,i,r){return this.Kn(),this.jn&&this.jn.rect(t,n,i,r),this.addData(xo.R,t,n,i,r),this},t.prototype.closePath=function(){this.Kn(),this.addData(xo.Z);var t=this.jn,n=this.Vn,i=this.Hn;return t&&t.closePath(),this.Pn=n,this.Wn=i,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.len=function(){return this.ft},t.prototype.setData=function(t){var n=t.length;this.data&&this.data.length===n||!Fo||(this.data=new Float32Array(n));for(var i=0;i<n;i++)this.data[i]=t[i];this.ft=n},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,i=0,r=this.ft,e=0;e<n;e++)i+=t[e].len();Fo&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+i));for(e=0;e<n;e++)for(var a=t[e].data,o=0;o<a.length;o++)this.data[r++]=a[o];this.ft=r},t.prototype.addData=function(t,n,i,r,e,a,o,u,s){if(this.Yn){var l=this.data;this.ft+arguments.length>l.length&&(this.ti(),l=this.data);for(var f=0;f<arguments.length;f++)l[this.ft++]=arguments[f]}},t.prototype.Kn=function(){this.Jn>0&&(this.jn&&this.jn.lineTo(this.$n,this.Qn),this.Jn=0)},t.prototype.ti=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this.ft;n++)t[n]=this.data[n];this.data=t}},t.prototype.toStatic=function(){if(this.Yn){this.Kn();var t=this.data;t instanceof Array&&(t.length=this.ft,Fo&&this.ft>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){ko[0]=ko[1]=No[0]=No[1]=Number.MAX_VALUE,Ao[0]=Ao[1]=Co[0]=Co[1]=-Number.MAX_VALUE;var t,n=this.data,i=0,r=0,e=0,a=0;for(t=0;t<this.ft;){var o=n[t++],u=1===t;switch(u&&(e=i=n[t],a=r=n[t+1]),o){case xo.M:i=e=n[t++],r=a=n[t++],No[0]=e,No[1]=a,Co[0]=e,Co[1]=a;break;case xo.L:po(i,r,n[t],n[t+1],No,Co),i=n[t++],r=n[t++];break;case xo.C:go(i,r,n[t++],n[t++],n[t++],n[t++],n[t],n[t+1],No,Co),i=n[t++],r=n[t++];break;case xo.Q:bo(i,r,n[t++],n[t++],n[t],n[t+1],No,Co),i=n[t++],r=n[t++];break;case xo.A:var s=n[t++],l=n[t++],f=n[t++],h=n[t++],c=n[t++],v=n[t++]+c;t+=1;var d=!n[t++];u&&(e=zo(c)*f+s,a=Lo(c)*h+l),wo(s,l,f,h,c,v,d,No,Co),i=zo(v)*f+s,r=Lo(v)*h+l;break;case xo.R:po(e=i=n[t++],a=r=n[t++],e+n[t++],a+n[t++],No,Co);break;case xo.Z:i=e,r=a}Et(ko,ko,No),Pt(Ao,Ao,Co)}return 0===t&&(ko[0]=ko[1]=Ao[0]=Ao[1]=0),new In(ko[0],ko[1],Ao[0]-ko[0],Ao[1]-ko[1])},t.prototype.ni=function(){var t=this.data,n=this.ft,i=this.Xn,r=this.Un,e=0,a=0,o=0,u=0;this.Zn||(this.Zn=[]);for(var s=this.Zn,l=0,f=0,h=0;h<n;){var c=t[h++],v=1===h;v&&(o=e=t[h],u=a=t[h+1]);var d=-1;switch(c){case xo.M:e=o=t[h++],a=u=t[h++];break;case xo.L:var p=t[h++],m=(b=t[h++])-a;(Oo(I=p-e)>i||Oo(m)>r||h===n-1)&&(d=Math.sqrt(I*I+m*m),e=p,a=b);break;case xo.C:var y=t[h++],g=t[h++],b=(p=t[h++],t[h++]),w=t[h++],x=t[h++];d=di(e,a,y,g,p,b,w,x,10),e=w,a=x;break;case xo.Q:d=wi(e,a,y=t[h++],g=t[h++],p=t[h++],b=t[h++],10),e=p,a=b;break;case xo.A:var M=t[h++],S=t[h++],k=t[h++],A=t[h++],N=t[h++],C=t[h++],T=C+N;h+=1,v&&(o=zo(N)*k+M,u=Lo(N)*A+S),d=Io(k,A)*To(Ro,Math.abs(C)),e=zo(T)*k+M,a=Lo(T)*A+S;break;case xo.R:o=e=t[h++],u=a=t[h++],d=2*t[h++]+2*t[h++];break;case xo.Z:var I=o-e;m=u-a;d=Math.sqrt(I*I+m*m),e=o,a=u}d>=0&&(s[f++]=d,l+=d)}return this.qn=l,l},t.prototype.rebuildPath=function(t,n){var i,r,e,a,o,u,s,l,f,h,c=this.data,v=this.Xn,d=this.Un,p=this.ft,m=n<1,y=0,g=0,b=0;if(!m||(this.Zn||this.ni(),s=this.Zn,l=n*this.qn))t:for(var w=0;w<p;){var x=c[w++],M=1===w;switch(M&&(i=e=c[w],r=a=c[w+1]),x!==xo.L&&b>0&&(t.lineTo(f,h),b=0),x){case xo.M:i=e=c[w++],r=a=c[w++],t.moveTo(e,a);break;case xo.L:o=c[w++],u=c[w++];var S=Oo(o-e),k=Oo(u-a);if(S>v||k>d){if(m){if(y+(Z=s[g++])>l){var A=(l-y)/Z;t.lineTo(e*(1-A)+o*A,a*(1-A)+u*A);break t}y+=Z}t.lineTo(o,u),e=o,a=u,b=0}else{var N=S*S+k*k;N>b&&(f=o,h=u,b=N)}break;case xo.C:var C=c[w++],T=c[w++],I=c[w++],z=c[w++],L=c[w++],O=c[w++];if(m){if(y+(Z=s[g++])>l){ci(e,C,I,L,A=(l-y)/Z,Mo),ci(a,T,z,O,A,So),t.bezierCurveTo(Mo[1],So[1],Mo[2],So[2],Mo[3],So[3]);break t}y+=Z}t.bezierCurveTo(C,T,I,z,L,O),e=L,a=O;break;case xo.Q:C=c[w++],T=c[w++],I=c[w++],z=c[w++];if(m){if(y+(Z=s[g++])>l){gi(e,C,I,A=(l-y)/Z,Mo),gi(a,T,z,A,So),t.quadraticCurveTo(Mo[1],So[1],Mo[2],So[2]);break t}y+=Z}t.quadraticCurveTo(C,T,I,z),e=I,a=z;break;case xo.A:var D=c[w++],R=c[w++],F=c[w++],B=c[w++],_=c[w++],E=c[w++],P=c[w++],W=!c[w++],V=F>B?F:B,H=Oo(F-B)>.001,Y=_+E,G=!1;if(m)y+(Z=s[g++])>l&&(Y=_+E*(l-y)/Z,G=!0),y+=Z;if(H&&t.ellipse?t.ellipse(D,R,F,B,P,_,Y,W):t.arc(D,R,V,_,Y,W),G)break t;M&&(i=zo(_)*F+D,r=Lo(_)*B+R),e=zo(Y)*F+D,a=Lo(Y)*B+R;break;case xo.R:i=e=c[w],r=a=c[w+1],o=c[w++],u=c[w++];var X=c[w++],U=c[w++];if(m){if(y+(Z=s[g++])>l){var j=l-y;t.moveTo(o,u),t.lineTo(o+To(j,X),u),(j-=X)>0&&t.lineTo(o+X,u+To(j,U)),(j-=U)>0&&t.lineTo(o+Io(X-j,0),u+U),(j-=X)>0&&t.lineTo(o,u+Io(U-j,0));break t}y+=Z}t.rect(o,u,X,U);break;case xo.Z:if(m){var Z;if(y+(Z=s[g++])>l){A=(l-y)/Z;t.lineTo(e*(1-A)+i*A,a*(1-A)+r*A);break t}y+=Z}t.closePath(),e=i,a=r}}},t.prototype.clone=function(){var n=new t,i=this.data;return n.data=i.slice?i.slice():Array.prototype.slice.call(i),n.ft=this.ft,n},t.CMD=xo,t.initDefaultProps=((n=t.prototype).Yn=!0,n.Xn=0,n.Un=0,n.Jn=0,void(n.Gn=0)),t}();function Wo(t,n,i,r,e,a,o){if(0===e)return!1;var u=e,s=0;if(o>n+u&&o>r+u||o<n-u&&o<r-u||a>t+u&&a>i+u||a<t-u&&a<i-u)return!1;if(t===i)return Math.abs(a-t)<=u/2;var l=(s=(n-r)/(t-i))*a-o+(t*r-i*n)/(t-i);return l*l/(s*s+1)<=u/2*u/2}function Vo(t,n,i,r,e,a,o,u,s,l,f){if(0===s)return!1;var h=s;return!(f>n+h&&f>r+h&&f>a+h&&f>u+h||f<n-h&&f<r-h&&f<a-h&&f<u-h||l>t+h&&l>i+h&&l>e+h&&l>o+h||l<t-h&&l<i-h&&l<e-h&&l<o-h)&&vi(t,n,i,r,e,a,o,u,l,f,null)<=h/2}function Ho(t,n,i,r,e,a,o,u,s){if(0===o)return!1;var l=o;return!(s>n+l&&s>r+l&&s>a+l||s<n-l&&s<r-l&&s<a-l||u>t+l&&u>i+l&&u>e+l||u<t-l&&u<i-l&&u<e-l)&&bi(t,n,i,r,e,a,u,s,null)<=l/2}var Yo=2*Math.PI;function Go(t){return(t%=Yo)<0&&(t+=Yo),t}var Xo=2*Math.PI;function Uo(t,n,i,r,e,a,o,u,s){if(0===o)return!1;var l=o;u-=t,s-=n;var f=Math.sqrt(u*u+s*s);if(f-l>i||f+l<i)return!1;if(Math.abs(r-e)%Xo<1e-4)return!0;if(a){var h=r;r=Go(e),e=Go(h)}else r=Go(r),e=Go(e);r>e&&(e+=Xo);var c=Math.atan2(s,u);return c<0&&(c+=Xo),c>=r&&c<=e||c+Xo>=r&&c+Xo<=e}function jo(t,n,i,r,e,a){if(a>n&&a>r||a<n&&a<r)return 0;if(r===n)return 0;var o=(a-n)/(r-n),u=r<n?1:-1;1!==o&&0!==o||(u=r<n?.5:-.5);var s=o*(i-t)+t;return s===e?1/0:s>e?u:0}var Zo=Po.CMD,qo=2*Math.PI;var Ko=[-1,-1,-1],Jo=[-1,-1];function $o(t,n,i,r,e,a,o,u,s,l){if(l>n&&l>r&&l>a&&l>u||l<n&&l<r&&l<a&&l<u)return 0;var f,h=fi(n,r,a,u,l,Ko);if(0===h)return 0;for(var c=0,v=-1,d=void 0,p=void 0,m=0;m<h;m++){var y=Ko[m],g=0===y||1===y?.5:1;si(t,i,e,o,y)<s||(v<0&&(v=hi(n,r,a,u,Jo),Jo[1]<Jo[0]&&v>1&&(f=void 0,f=Jo[0],Jo[0]=Jo[1],Jo[1]=f),d=si(n,r,a,u,Jo[0]),v>1&&(p=si(n,r,a,u,Jo[1]))),2===v?y<Jo[0]?c+=d<n?g:-g:y<Jo[1]?c+=p<d?g:-g:c+=u<p?g:-g:y<Jo[0]?c+=d<n?g:-g:c+=u<d?g:-g)}return c}function Qo(t,n,i,r,e,a,o,u){if(u>n&&u>r&&u>a||u<n&&u<r&&u<a)return 0;var s=function(t,n,i,r,e){var a=t-2*n+i,o=2*(n-t),u=t-r,s=0;if(oi(a))ui(o)&&(f=-u/o)>=0&&f<=1&&(e[s++]=f);else{var l=o*o-4*a*u;if(oi(l))(f=-o/(2*a))>=0&&f<=1&&(e[s++]=f);else if(l>0){var f,h=Qn(l),c=(-o-h)/(2*a);(f=(-o+h)/(2*a))>=0&&f<=1&&(e[s++]=f),c>=0&&c<=1&&(e[s++]=c)}}return s}(n,r,a,u,Ko);if(0===s)return 0;var l=yi(n,r,a);if(l>=0&&l<=1){for(var f=0,h=pi(n,r,a,l),c=0;c<s;c++){var v=0===Ko[c]||1===Ko[c]?.5:1;pi(t,i,e,Ko[c])<o||(Ko[c]<l?f+=h<n?v:-v:f+=a<h?v:-v)}return f}v=0===Ko[0]||1===Ko[0]?.5:1;return pi(t,i,e,Ko[0])<o?0:a<n?v:-v}function tu(t,n,i,r,e,a,o,u){if((u-=n)>i||u<-i)return 0;var s=Math.sqrt(i*i-u*u);Ko[0]=-s,Ko[1]=s;var l=Math.abs(r-e);if(l<1e-4)return 0;if(l>=qo-1e-4){r=0,e=qo;var f=a?1:-1;return o>=Ko[0]+t&&o<=Ko[1]+t?f:0}if(r>e){var h=r;r=e,e=h}r<0&&(r+=qo,e+=qo);for(var c=0,v=0;v<2;v++){var d=Ko[v];if(d+t>o){var p=Math.atan2(u,d);f=a?1:-1;p<0&&(p=qo+p),(p>=r&&p<=e||p+qo>=r&&p+qo<=e)&&(p>Math.PI/2&&p<1.5*Math.PI&&(f=-f),c+=f)}}return c}function nu(t,n,i,r,e){for(var a,o,u,s,l=t.data,f=t.len(),h=0,c=0,v=0,d=0,p=0,m=0;m<f;){var y=l[m++],g=1===m;switch(y===Zo.M&&m>1&&(i||(h+=jo(c,v,d,p,r,e))),g&&(d=c=l[m],p=v=l[m+1]),y){case Zo.M:c=d=l[m++],v=p=l[m++];break;case Zo.L:if(i){if(Wo(c,v,l[m],l[m+1],n,r,e))return!0}else h+=jo(c,v,l[m],l[m+1],r,e)||0;c=l[m++],v=l[m++];break;case Zo.C:if(i){if(Vo(c,v,l[m++],l[m++],l[m++],l[m++],l[m],l[m+1],n,r,e))return!0}else h+=$o(c,v,l[m++],l[m++],l[m++],l[m++],l[m],l[m+1],r,e)||0;c=l[m++],v=l[m++];break;case Zo.Q:if(i){if(Ho(c,v,l[m++],l[m++],l[m],l[m+1],n,r,e))return!0}else h+=Qo(c,v,l[m++],l[m++],l[m],l[m+1],r,e)||0;c=l[m++],v=l[m++];break;case Zo.A:var b=l[m++],w=l[m++],x=l[m++],M=l[m++],S=l[m++],k=l[m++];m+=1;var A=!!(1-l[m++]);a=Math.cos(S)*x+b,o=Math.sin(S)*M+w,g?(d=a,p=o):h+=jo(c,v,a,o,r,e);var N=(r-b)*M/x+b;if(i){if(Uo(b,w,M,S,S+k,A,n,N,e))return!0}else h+=tu(b,w,M,S,S+k,A,N,e);c=Math.cos(S+k)*x+b,v=Math.sin(S+k)*M+w;break;case Zo.R:if(d=c=l[m++],p=v=l[m++],a=d+l[m++],o=p+l[m++],i){if(Wo(d,p,a,p,n,r,e)||Wo(a,p,a,o,n,r,e)||Wo(a,o,d,o,n,r,e)||Wo(d,o,d,p,n,r,e))return!0}else h+=jo(a,p,a,o,r,e),h+=jo(d,o,d,p,r,e);break;case Zo.Z:if(i){if(Wo(c,v,d,p,n,r,e))return!0}else h+=jo(c,v,d,p,r,e);c=d,v=p}}return i||(u=v,s=p,Math.abs(u-s)<1e-4)||(h+=jo(c,v,d,p,r,e)||0),0!==h}var iu=R({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},$a),ru={style:R({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Qa.style)},eu=ie.concat(["invisible","culling","z","z2","zlevel","parent"]),au=function(t){function n(n){return t.call(this,n)||this}var i;return St(n,t),n.prototype.update=function(){var i=this;t.prototype.update.call(this);var r=this.style;if(r.decal){var e=this.ii=this.ii||new n;e.buildPath===n.prototype.buildPath&&(e.buildPath=function(t){i.buildPath(t,i.shape)}),e.silent=!0;var a=e.style;for(var o in r)a[o]!==r[o]&&(a[o]=r[o]);a.fill=r.fill?r.decal:null,a.decal=null,a.shadowColor=null,r.strokeFirst&&(a.stroke=null);for(var u=0;u<eu.length;++u)e[eu[u]]=this[eu[u]];e.tt|=1}else this.ii&&(this.ii=null)},n.prototype.getDecalElement=function(){return this.ii},n.prototype.en=function(n){var i=H(n);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var e=0;e<i.length;e++){var a=i[e],o=n[a];"style"===a?this.style?D(this.style,o):this.useStyle(o):"shape"===a?D(this.shape,o):t.prototype.attrKV.call(this,a,o)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(j(t)){var n=Ui(t,0);return n>.5?jr:n>.2?"#eee":Zr}if(t)return Zr}return jr},n.prototype.getInsideTextStroke=function(t){var n=this.style.fill;if(j(n)){var i=this.Y;if(!(!i||!i.isDarkMode())===Ui(t,0)<.4)return n}},n.prototype.buildPath=function(t,n,i){},n.prototype.pathUpdated=function(){this.tt&=-5},n.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},n.prototype.createPathProxy=function(){this.path=new Po(!1)},n.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return!(null==n||"none"===n||!(t.lineWidth>0))},n.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},n.prototype.getBoundingRect=function(){var t=this.Bn,n=this.style,i=!t;if(i){var r=!1;this.path||(r=!0,this.createPathProxy());var e=this.path;(r||4&this.tt)&&(e.beginPath(),this.buildPath(e,this.shape,!1),this.pathUpdated()),t=e.getBoundingRect()}if(this.Bn=t,this.hasStroke()&&this.path&&this.path.len()>0){var a=this.ri||(this.ri=t.clone());if(this.tt||i){a.copy(t);var o=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var s=this.strokeContainThreshold;u=Math.max(u,null==s?4:s)}o>1e-10&&(a.width+=u/o,a.height+=u/o,a.x-=u/o/2,a.y-=u/o/2)}return a}return t},n.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),r=this.getBoundingRect(),e=this.style;if(t=i[0],n=i[1],r.contain(t,n)){var a=this.path;if(this.hasStroke()){var o=e.lineWidth,u=e.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),function(t,n,i,r){return nu(t,n,!0,i,r)}(a,o/u,t,n)))return!0}if(this.hasFill())return function(t,n,i){return nu(t,0,!1,n,i)}(a,t,n)}return!1},n.prototype.dirtyShape=function(){this.tt|=4,this.Bn&&(this.Bn=null),this.ii&&this.ii.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(t){return this.animate("shape",t)},n.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(n,i){"shape"===n?this.setShape(i):t.prototype.attrKV.call(this,n,i)},n.prototype.setShape=function(t,n){var i=this.shape;return i||(i=this.shape={}),"string"==typeof t?i[t]=n:D(i,t),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(4&this.tt)},n.prototype.createStyle=function(t){return yt(iu,t)},n.prototype.sn=function(n){t.prototype.sn.call(this,n);var i=this.ln;n.shape&&!i.shape&&(i.shape=D({},this.shape))},n.prototype.vn=function(n,i,r,e,a,o){t.prototype.vn.call(this,n,i,r,e,a,o);var u,s=!(i&&e);if(i&&i.shape?a?e?u=i.shape:(u=D({},r.shape),D(u,i.shape)):(u=D({},e?this.shape:r.shape),D(u,i.shape)):s&&(u=r.shape),u)if(a){this.shape=D({},this.shape);for(var l={},f=H(u),h=0;h<f.length;h++){var c=f[h];"object"==typeof u[c]?this.shape[c]=u[c]:l[c]=u[c]}this.gn(n,{shape:l},o)}else this.shape=u,this.dirtyShape()},n.prototype.yn=function(n){for(var i,r=t.prototype.yn.call(this,n),e=0;e<n.length;e++){var a=n[e];a.shape&&(i=i||{},this.En(i,a.shape))}return i&&(r.shape=i),r},n.prototype.getAnimationStyleProps=function(){return ru},n.prototype.isZeroArea=function(){return!1},n.extend=function(t){var i=function(n){function i(i){var r=n.call(this,i)||this;return t.init&&t.init.call(r,i),r}return St(i,n),i.prototype.getDefaultStyle=function(){return z(t.style)},i.prototype.getDefaultShape=function(){return z(t.shape)},i}(n);for(var r in t)"function"==typeof t[r]&&(i.prototype[r]=t[r]);return i},n.initDefaultProps=((i=n.prototype).type="path",i.strokeContainThreshold=5,i.segmentIgnoreThreshold=0,i.subPixelOptimize=!1,i.autoBatch=!1,void(i.tt=7)),n}(io),ou=R({strokeFirst:!0,font:v,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},iu),uu=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return St(n,t),n.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return null!=n&&"none"!==n&&t.lineWidth>0},n.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},n.prototype.createStyle=function(t){return yt(ou,t)},n.prototype.setBoundingRect=function(t){this.Bn=t},n.prototype.getBoundingRect=function(){var t=this.style;if(!this.Bn){var n=t.text;null!=n?n+="":n="";var i=ue(n,t.font,t.textAlign,t.textBaseline);if(i.x+=t.x||0,i.y+=t.y||0,this.hasStroke()){var r=t.lineWidth;i.x-=r/2,i.y-=r/2,i.width+=r,i.height+=r}this.Bn=i}return this.Bn},n.initDefaultProps=void(n.prototype.dirtyRectTolerance=10),n}(io);uu.prototype.type="tspan";var su=R({x:0,y:0},$a),lu={style:R({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Qa.style)};var fu=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return St(n,t),n.prototype.createStyle=function(t){return yt(su,t)},n.prototype.ei=function(t){var n=this.style,i=n[t];if(null!=i)return i;var r,e=(r=n.image)&&"string"!=typeof r&&r.width&&r.height?n.image:this.ai;if(!e)return 0;var a="width"===t?"height":"width",o=n[a];return null==o?e[t]:e[t]/e[a]*o},n.prototype.getWidth=function(){return this.ei("width")},n.prototype.getHeight=function(){return this.ei("height")},n.prototype.getAnimationStyleProps=function(){return lu},n.prototype.getBoundingRect=function(){var t=this.style;return this.Bn||(this.Bn=new In(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this.Bn},n}(io);fu.prototype.type="image";var hu=Math.round;function cu(t,n,i){if(n){var r=n.x1,e=n.x2,a=n.y1,o=n.y2;t.x1=r,t.x2=e,t.y1=a,t.y2=o;var u=i&&i.lineWidth;return u?(hu(2*r)===hu(2*e)&&(t.x1=t.x2=du(r,u,!0)),hu(2*a)===hu(2*o)&&(t.y1=t.y2=du(a,u,!0)),t):t}}function vu(t,n,i){if(n){var r=n.x,e=n.y,a=n.width,o=n.height;t.x=r,t.y=e,t.width=a,t.height=o;var u=i&&i.lineWidth;return u?(t.x=du(r,u,!0),t.y=du(e,u,!0),t.width=Math.max(du(r+a,u,!1)-t.x,0===a?0:1),t.height=Math.max(du(e+o,u,!1)-t.y,0===o?0:1),t):t}}function du(t,n,i){if(!n)return t;var r=hu(2*t);return(r+hu(n))%2==0?r/2:(r+(i?1:-1))/2}var pu=function(){return function(){this.x=0,this.y=0,this.width=0,this.height=0}}(),mu={},yu=function(t){function n(n){return t.call(this,n)||this}return St(n,t),n.prototype.getDefaultShape=function(){return new pu},n.prototype.buildPath=function(t,n){var i,r,e,a;if(this.subPixelOptimize){var o=vu(mu,n,this.style);i=o.x,r=o.y,e=o.width,a=o.height,o.r=n.r,n=o}else i=n.x,r=n.y,e=n.width,a=n.height;n.r?function(t,n){var i,r,e,a,o,u=n.x,s=n.y,l=n.width,f=n.height,h=n.r;l<0&&(u+=l,l=-l),f<0&&(s+=f,f=-f),"number"==typeof h?i=r=e=a=h:h instanceof Array?1===h.length?i=r=e=a=h[0]:2===h.length?(i=e=h[0],r=a=h[1]):3===h.length?(i=h[0],r=a=h[1],e=h[2]):(i=h[0],r=h[1],e=h[2],a=h[3]):i=r=e=a=0,i+r>l&&(i*=l/(o=i+r),r*=l/o),e+a>l&&(e*=l/(o=e+a),a*=l/o),r+e>f&&(r*=f/(o=r+e),e*=f/o),i+a>f&&(i*=f/(o=i+a),a*=f/o),t.moveTo(u+i,s),t.lineTo(u+l-r,s),0!==r&&t.arc(u+l-r,s+r,r,-Math.PI/2,0),t.lineTo(u+l,s+f-e),0!==e&&t.arc(u+l-e,s+f-e,e,0,Math.PI/2),t.lineTo(u+a,s+f),0!==a&&t.arc(u+a,s+f-a,a,Math.PI/2,Math.PI),t.lineTo(u,s+i),0!==i&&t.arc(u+i,s+i,i,Math.PI,1.5*Math.PI)}(t,n):t.rect(i,r,e,a)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(au);yu.prototype.type="rect";var gu={fill:"#000"},bu={style:R({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Qa.style)},wu=function(t){function n(n){var i=t.call(this)||this;return i.type="text",i.Mn=[],i.oi=gu,i.attr(n),i}return St(n,t),n.prototype.childrenRef=function(){return this.Mn},n.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this.ui();for(var n=0;n<this.Mn.length;n++){var i=this.Mn[n];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},n.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):t.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(n){var i=this.innerTransformable;return i?i.getLocalTransform(n):t.prototype.getLocalTransform.call(this,n)},n.prototype.getComputedTransform=function(){return this.S&&(this.S.getComputedTransform(),this.S.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},n.prototype.ui=function(){var t;this.si=0,Cu(t=this.style),E(t.rich,Cu),this.style.rich?this.li():this.fi(),this.Mn.length=this.si,this.styleUpdated()},n.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var i=0;i<this.Mn.length;i++)this.Mn[i].Y=n},n.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var i=0;i<this.Mn.length;i++)this.Mn[i].Y=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this.ui(),!this.Bn){for(var t=new In(0,0,0,0),n=this.Mn,i=[],r=null,e=0;e<n.length;e++){var a=n[e],o=a.getBoundingRect(),u=a.getLocalTransform(i);u?(t.copy(o),t.applyTransform(u),(r=r||t.clone()).union(t)):(r=r||o.clone()).union(o)}this.Bn=r||t}return this.Bn},n.prototype.setDefaultTextStyle=function(t){this.oi=t||gu},n.prototype.setTextContent=function(t){},n.prototype.En=function(t,n){if(!n)return t;var i=n.rich,r=t.rich||i&&{};return D(t,n),i&&r?(this.hi(r,i),t.rich=r):r&&(t.rich=r),t},n.prototype.hi=function(t,n){for(var i=H(n),r=0;r<i.length;r++){var e=i[r];t[e]=t[e]||{},D(t[e],n[e])}},n.prototype.getAnimationStyleProps=function(){return bu},n.prototype.ci=function(t){var n=this.Mn[this.si];return n&&n instanceof t||(n=new t),this.Mn[this.si++]=n,n.Y=this.Y,n.parent=this,n},n.prototype.fi=function(){var t=this.style,n=t.font||v,i=t.padding,r=function(t,n){null!=t&&(t+="");var i,r=n.overflow,e=n.padding,a=n.font,o="truncate"===r,u=fe(a),s=rt(n.lineHeight,u),l=!!n.backgroundColor,f="truncate"===n.lineOverflow,h=!1,c=n.width,v=(i=null==c||"break"!==r&&"breakAll"!==r?t?t.split("\n"):[]:t?Ka(t,n.font,c,"breakAll"===r,0).lines:[]).length*s,d=rt(n.height,v);if(v>d&&f){var p=Math.floor(d/s);h=h||i.length>p,i=i.slice(0,p)}if(t&&o&&null!=c)for(var m=Va(c,a,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),y={},g=0;g<i.length;g++)Ha(y,i[g],m),i[g]=y.textLine,h=h||y.isTruncated;var b=d,w=0;for(g=0;g<i.length;g++)w=Math.max(ae(i[g],a),w);null==c&&(c=w);var x=w;return e&&(b+=e[0]+e[2],x+=e[1]+e[3],c+=e[1]+e[3]),l&&(x=c),{lines:i,height:d,outerWidth:x,outerHeight:b,lineHeight:s,calculatedLineHeight:u,contentWidth:w,contentHeight:v,width:c,isTruncated:h}}(Lu(t),t),e=Ou(t),a=!!t.backgroundColor,o=r.outerHeight,u=r.outerWidth,s=r.contentWidth,l=r.lines,f=r.lineHeight,h=this.oi;this.isTruncated=!!r.isTruncated;var c=t.x||0,d=t.y||0,p=t.align||h.align||"left",m=t.verticalAlign||h.verticalAlign||"top",y=c,g=le(d,r.contentHeight,m);if(e||i){var b=se(c,u,p),w=le(d,o,m);e&&this.di(t,t,b,w,u,o)}g+=f/2,i&&(y=zu(c,p,i),"top"===m?g+=i[0]:"bottom"===m&&(g-=i[2]));for(var x=0,M=!1,S=(Iu("fill"in t?t.fill:(M=!0,h.fill))),k=(Tu("stroke"in t?t.stroke:a||h.autoStroke&&!M?null:(x=2,h.stroke))),A=t.textShadowBlur>0,N=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),C=r.calculatedLineHeight,T=0;T<l.length;T++){var I=this.ci(uu),z=I.createStyle();I.useStyle(z),z.text=l[T],z.x=y,z.y=g,z.textAlign=p,z.textBaseline="middle",z.opacity=t.opacity,z.strokeFirst=!0,A&&(z.shadowBlur=t.textShadowBlur||0,z.shadowColor=t.textShadowColor||"transparent",z.shadowOffsetX=t.textShadowOffsetX||0,z.shadowOffsetY=t.textShadowOffsetY||0),z.stroke=k,z.fill=S,k&&(z.lineWidth=t.lineWidth||x,z.lineDash=t.lineDash,z.lineDashOffset=t.lineDashOffset||0),z.font=n,Au(z,t),g+=f,N&&I.setBoundingRect(new In(se(z.x,s,z.textAlign),le(z.y,C,z.textBaseline),s,C))}},n.prototype.li=function(){var t=this.style,n=function(t,n){var i=new Ua;if(null!=t&&(t+=""),!t)return i;for(var r,e=n.width,a=n.height,o=n.overflow,u="break"!==o&&"breakAll"!==o||null==e?null:{width:e,accumWidth:0,breakAll:"breakAll"===o},s=Pa.lastIndex=0;null!=(r=Pa.exec(t));){var l=r.index;l>s&&ja(i,t.substring(s,l),n,u),ja(i,r[2],n,u,r[1]),s=Pa.lastIndex}s<t.length&&ja(i,t.substring(s,t.length),n,u);var f=[],h=0,c=0,v=n.padding,d="truncate"===o,p="truncate"===n.lineOverflow,m={};function y(t,n,i){t.width=n,t.lineHeight=i,h+=i,c=Math.max(c,n)}t:for(var g=0;g<i.lines.length;g++){for(var b=i.lines[g],w=0,x=0,M=0;M<b.tokens.length;M++){var S=(R=b.tokens[M]).styleName&&n.rich[R.styleName]||{},k=R.textPadding=S.padding,A=k?k[1]+k[3]:0,N=R.font=S.font||n.font;R.contentHeight=fe(N);var C=rt(S.height,R.contentHeight);if(R.innerHeight=C,k&&(C+=k[0]+k[2]),R.height=C,R.lineHeight=et(S.lineHeight,n.lineHeight,C),R.align=S&&S.align||n.align,R.verticalAlign=S&&S.verticalAlign||"middle",p&&null!=a&&h+R.lineHeight>a){var T=i.lines.length;M>0?(b.tokens=b.tokens.slice(0,M),y(b,x,w),i.lines=i.lines.slice(0,g+1)):i.lines=i.lines.slice(0,g),i.isTruncated=i.isTruncated||i.lines.length<T;break t}var I=S.width,z=null==I||"auto"===I;if("string"==typeof I&&"%"===I.charAt(I.length-1))R.percentWidth=I,f.push(R),R.contentWidth=ae(R.text,N);else{if(z){var L=S.backgroundColor,O=L&&L.image;O&&Ea(O=Fa(O))&&(R.width=Math.max(R.width,O.width*C/O.height))}var D=d&&null!=e?e-x:null;null!=D&&D<R.width?!z||D<A?(R.text="",R.width=R.contentWidth=0):(Wa(m,R.text,D-A,N,n.ellipsis,{minChar:n.truncateMinChar}),R.text=m.text,i.isTruncated=i.isTruncated||m.isTruncated,R.width=R.contentWidth=ae(R.text,N)):R.contentWidth=ae(R.text,N)}R.width+=A,x+=R.width,S&&(w=Math.max(w,R.lineHeight))}y(b,x,w)}for(i.outerWidth=i.width=rt(e,c),i.outerHeight=i.height=rt(a,h),i.contentHeight=h,i.contentWidth=c,v&&(i.outerWidth+=v[1]+v[3],i.outerHeight+=v[0]+v[2]),g=0;g<f.length;g++){var R,F=(R=f[g]).percentWidth;R.width=parseInt(F,10)/100*i.width}return i}(Lu(t),t),i=n.width,r=n.outerWidth,e=n.outerHeight,a=t.padding,o=t.x||0,u=t.y||0,s=this.oi,l=t.align||s.align,f=t.verticalAlign||s.verticalAlign;this.isTruncated=!!n.isTruncated;var h=se(o,r,l),c=le(u,e,f),v=h,d=c;a&&(v+=a[3],d+=a[0]);var p=v+i;Ou(t)&&this.di(t,t,h,c,r,e);for(var m=!!t.backgroundColor,y=0;y<n.lines.length;y++){for(var g=n.lines[y],b=g.tokens,w=b.length,x=g.lineHeight,M=g.width,S=0,k=v,A=p,N=w-1,C=void 0;S<w&&(!(C=b[S]).align||"left"===C.align);)this.pi(C,t,x,d,k,"left",m),M-=C.width,k+=C.width,S++;for(;N>=0&&"right"===(C=b[N]).align;)this.pi(C,t,x,d,A,"right",m),M-=C.width,A-=C.width,N--;for(k+=(i-(k-v)-(p-A)-M)/2;S<=N;)C=b[S],this.pi(C,t,x,d,k+C.width/2,"center",m),k+=C.width,S++;d+=x}},n.prototype.pi=function(t,n,i,r,e,a,o){var u=n.rich[t.styleName]||{};u.text=t.text;var s=t.verticalAlign,l=r+i/2;"top"===s?l=r+t.height/2:"bottom"===s&&(l=r+i-t.height/2),!t.isLineHolder&&Ou(u)&&this.di(u,n,"right"===a?e-t.width:"center"===a?e-t.width/2:e,l-t.height/2,t.width,t.height);var f=!!u.backgroundColor,h=t.textPadding;h&&(e=zu(e,a,h),l-=t.height/2-h[0]-t.innerHeight/2);var c=this.ci(uu),d=c.createStyle();c.useStyle(d);var p=this.oi,m=!1,y=0,g=Iu("fill"in u?u.fill:"fill"in n?n.fill:(m=!0,p.fill)),b=Tu("stroke"in u?u.stroke:"stroke"in n?n.stroke:f||o||p.autoStroke&&!m?null:(y=2,p.stroke)),w=u.textShadowBlur>0||n.textShadowBlur>0;d.text=t.text,d.x=e,d.y=l,w&&(d.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,d.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",d.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,d.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),d.textAlign=a,d.textBaseline="middle",d.font=t.font||v,d.opacity=et(u.opacity,n.opacity,1),Au(d,u),b&&(d.lineWidth=et(u.lineWidth,n.lineWidth,y),d.lineDash=rt(u.lineDash,n.lineDash),d.lineDashOffset=n.lineDashOffset||0,d.stroke=b),g&&(d.fill=g);var x=t.contentWidth,M=t.contentHeight;c.setBoundingRect(new In(se(d.x,x,d.textAlign),le(d.y,M,d.textBaseline),x,M))},n.prototype.di=function(t,n,i,r,e,a){var o,u,s,l=t.backgroundColor,f=t.borderWidth,h=t.borderColor,c=l&&l.image,v=l&&!c,d=t.borderRadius,p=this;if(v||t.lineHeight||f&&h){(o=this.ci(yu)).useStyle(o.createStyle()),o.style.fill=null;var m=o.shape;m.x=i,m.y=r,m.width=e,m.height=a,m.r=d,o.dirtyShape()}if(v)(s=o.style).fill=l||null,s.fillOpacity=rt(t.fillOpacity,1);else if(c){(u=this.ci(fu)).onload=function(){p.dirtyStyle()};var y=u.style;y.image=l.image,y.x=i,y.y=r,y.width=e,y.height=a}f&&h&&((s=o.style).lineWidth=f,s.stroke=h,s.strokeOpacity=rt(t.strokeOpacity,1),s.lineDash=t.borderDash,s.lineDashOffset=t.borderDashOffset||0,o.strokeContainThreshold=0,o.hasFill()&&o.hasStroke()&&(s.strokeFirst=!0,s.lineWidth*=2));var g=(o||u).style;g.shadowBlur=t.shadowBlur||0,g.shadowColor=t.shadowColor||"transparent",g.shadowOffsetX=t.shadowOffsetX||0,g.shadowOffsetY=t.shadowOffsetY||0,g.opacity=et(t.opacity,n.opacity,1)},n.makeFont=function(t){var n="";return Nu(t)&&(n=[t.fontStyle,t.fontWeight,ku(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),n&&st(n)||t.textFont||t.font},n}(io),xu={left:!0,right:1,center:1},Mu={top:1,bottom:1,middle:1},Su=["fontStyle","fontWeight","fontSize","fontFamily"];function ku(t){return"string"!=typeof t||-1===t.indexOf("px")&&-1===t.indexOf("rem")&&-1===t.indexOf("em")?isNaN(+t)?"12px":t+"px":t}function Au(t,n){for(var i=0;i<Su.length;i++){var r=Su[i],e=n[r];null!=e&&(t[r]=e)}}function Nu(t){return null!=t.fontSize||t.fontFamily||t.fontWeight}function Cu(t){if(t){t.font=wu.makeFont(t);var n=t.align;"middle"===n&&(n="center"),t.align=null==n||xu[n]?n:"left";var i=t.verticalAlign;"center"===i&&(i="middle"),t.verticalAlign=null==i||Mu[i]?i:"top",t.padding&&(t.padding=ot(t.padding))}}function Tu(t,n){return null==t||n<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Iu(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function zu(t,n,i){return"right"===n?t-i[1]:"center"===n?t+i[3]/2-i[1]/2:t+i[3]}function Lu(t){var n=t.text;return null!=n&&(n+=""),n}function Ou(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Du=ca(),Ru=function(t,n,i,r){if(r){var e=Du(r);e.dataIndex=i,e.dataType=n,e.seriesIndex=t,e.ssrType="chart","group"===r.type&&r.traverse((function(r){var e=Du(r);e.seriesIndex=t,e.dataIndex=i,e.dataType=n,e.ssrType="chart"}))}},Fu=1,Bu={},_u=ca(),Eu=ca(),Pu=["emphasis","blur","select"],Wu=["normal","emphasis","blur","select"],Vu=10,Hu="highlight",Yu="downplay",Gu="select",Xu="unselect",Uu="toggleSelect";function ju(t){return null!=t&&"none"!==t}function Zu(t,n,i){t.onHoverStateChange&&(t.hoverState||0)!==i&&t.onHoverStateChange(n),t.hoverState=i}function qu(t){Zu(t,"emphasis",2)}function Ku(t){2===t.hoverState&&Zu(t,"normal",0)}function Ju(t){Zu(t,"blur",1)}function $u(t){1===t.hoverState&&Zu(t,"normal",0)}function Qu(t){t.selected=!0}function ts(t){t.selected=!1}function ns(t,n,i){n(t,i)}function is(t,n,i){ns(t,n,i),t.isGroup&&t.traverse((function(t){ns(t,n,i)}))}function rs(t,n){switch(n){case"emphasis":t.hoverState=2;break;case"normal":t.hoverState=0;break;case"blur":t.hoverState=1;break;case"select":t.selected=!0}}function es(t,n){var i=this.states[t];if(this.style){if("emphasis"===t)return function(t,n,i,r){var e=i&&F(i,"select")>=0,a=!1;if(t instanceof au){var o=_u(t),u=e&&o.selectFill||o.normalFill,s=e&&o.selectStroke||o.normalStroke;if(ju(u)||ju(s)){var l=(r=r||{}).style||{};"inherit"===l.fill?(a=!0,r=D({},r),(l=D({},l)).fill=u):!ju(l.fill)&&ju(u)?(a=!0,r=D({},r),(l=D({},l)).fill=Zi(u)):!ju(l.stroke)&&ju(s)&&(a||(r=D({},r),l=D({},l)),l.stroke=Zi(s)),r.style=l}}if(r&&null==r.z2){a||(r=D({},r));var f=t.z2EmphasisLift;r.z2=t.z2+(null!=f?f:Vu)}return r}(this,0,n,i);if("blur"===t)return function(t,n,i){var r=F(t.currentStates,n)>=0,e=t.style.opacity,a=r?null:function(t,n,i,r){for(var e=t.style,a={},o=0;o<n.length;o++){var u=n[o],s=e[u];a[u]=null==s?r&&r[u]:s}for(o=0;o<t.animators.length;o++){var l=t.animators[o];l.fn&&l.fn.indexOf(i)<0&&"style"===l.targetName&&l.saveTo(a,n)}return a}(t,["opacity"],n,{opacity:1}),o=(i=i||{}).style||{};return null==o.opacity&&(i=D({},i),o=D({opacity:r?e:.1*a.opacity},o),i.style=o),i}(this,t,i);if("select"===t)return function(t,n,i){if(i&&null==i.z2){i=D({},i);var r=t.z2SelectLift;i.z2=t.z2+(null!=r?r:9)}return i}(this,0,i)}return i}function as(t){t.stateProxy=es;var n=t.getTextContent(),i=t.getTextGuideLine();n&&(n.stateProxy=es),i&&(i.stateProxy=es)}function os(t,n){!ds(t,n)&&!t.mi&&is(t,qu)}function us(t,n){!ds(t,n)&&!t.mi&&is(t,Ku)}function ss(t,n){t.mi|=1<<(n||0),is(t,qu)}function ls(t,n){!(t.mi&=~(1<<(n||0)))&&is(t,Ku)}function fs(t){is(t,Ju)}function hs(t){is(t,$u)}function cs(t){is(t,Qu)}function vs(t){is(t,ts)}function ds(t,n){return t.yi&&n.zrByTouch}function ps(t){var n=t.getModel(),i=[],r=[];n.eachComponent((function(n,e){var a=Eu(e),o="series"===n,u=o?t.getViewOfSeriesModel(e):t.getViewOfComponentModel(e);!o&&r.push(u),a.isBlured&&(u.group.traverse((function(t){$u(t)})),o&&i.push(e)),a.isBlured=!1})),E(r,(function(t){t&&t.toggleBlurSeries&&t.toggleBlurSeries(i,!1,n)}))}function ms(t,n,i,r){var e=r.getModel();function a(t,n){for(var i=0;i<n.length;i++){var r=t.getItemGraphicEl(n[i]);r&&hs(r)}}if(i=i||"coordinateSystem",null!=t&&n&&"none"!==n){var o=e.getSeriesByIndex(t),u=o.coordinateSystem;u&&u.master&&(u=u.master);var s=[];e.eachSeries((function(t){var e=o===t,l=t.coordinateSystem;if(l&&l.master&&(l=l.master),!("series"===i&&!e||"coordinateSystem"===i&&!(l&&u?l===u:e)||"series"===n&&e)){if(r.getViewOfSeriesModel(t).group.traverse((function(t){t.mi&&e&&"self"===n||Ju(t)})),_(n))a(t.getData(),n);else if(K(n))for(var f=H(n),h=0;h<f.length;h++)a(t.getData(f[h]),n[f[h]]);s.push(t),Eu(t).isBlured=!0}})),e.eachComponent((function(t,n){if("series"!==t){var i=r.getViewOfComponentModel(n);i&&i.toggleBlurSeries&&i.toggleBlurSeries(s,!0,e)}}))}}function ys(t,n,i){if(null!=t&&null!=n){var r=i.getModel().getComponent(t,n);if(r){Eu(r).isBlured=!0;var e=i.getViewOfComponentModel(r);e&&e.focusBlurEnabled&&e.group.traverse((function(t){Ju(t)}))}}}function gs(t,n,i,r){var e={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==n||null==i)return e;var a=r.getModel().getComponent(t,n);if(!a)return e;var o=r.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return e;for(var u,s=o.findHighDownDispatchers(i),l=0;l<s.length;l++)if("self"===Du(s[l]).focus){u=!0;break}return{focusSelf:u,dispatchers:s}}function bs(t){E(t.getAllData(),(function(n){var i=n.data,r=n.type;i.eachItemGraphicEl((function(n,i){t.isSelected(i,r)?cs(n):vs(n)}))}))}function ws(t){var n=[];return t.eachSeries((function(t){E(t.getAllData(),(function(i){i.data;var r=i.type,e=t.getSelectedDataIndices();if(e.length>0){var a={dataIndex:e,seriesIndex:t.seriesIndex};null!=r&&(a.dataType=r),n.push(a)}}))})),n}function xs(t,n,i){Cs(t,!0),is(t,as),Ss(t,n,i)}function Ms(t,n,i,r){r?function(t){Cs(t,!1)}(t):xs(t,n,i)}function Ss(t,n,i){var r=Du(t);null!=n?(r.focus=n,r.blurScope=i):r.focus&&(r.focus=null)}var ks=["emphasis","blur","select"],As={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Ns(t,n,i,r){i=i||"itemStyle";for(var e=0;e<ks.length;e++){var a=ks[e],o=n.getModel([a,i]);t.ensureState(a).style=r?r(o):o[As[i]]()}}function Cs(t,n){var i=!1===n,r=t;t.highDownSilentOnTouch&&(r.yi=t.highDownSilentOnTouch),i&&!r.gi||(r.mi=r.mi||0,r.gi=!i)}function Ts(t){return!(!t||!t.gi)}function Is(t){var n=t.type;return n===Gu||n===Xu||n===Uu}function zs(t){var n=t.type;return n===Hu||n===Yu}var Ls=Po.CMD,Os=[[],[],[]],Ds=Math.sqrt,Rs=Math.atan2;function Fs(t,n){if(n){var i,r,e,a,o,u,s=t.data,l=t.len(),f=Ls.M,h=Ls.C,c=Ls.L,v=Ls.R,d=Ls.A,p=Ls.Q;for(e=0,a=0;e<l;){switch(i=s[e++],a=e,r=0,i){case f:case c:r=1;break;case h:r=3;break;case p:r=2;break;case d:var m=n[4],y=n[5],g=Ds(n[0]*n[0]+n[1]*n[1]),b=Ds(n[2]*n[2]+n[3]*n[3]),w=Rs(-n[1]/b,n[0]/g);s[e]*=g,s[e++]+=m,s[e]*=b,s[e++]+=y,s[e++]*=g,s[e++]*=b,s[e++]+=w,s[e++]+=w,a=e+=2;break;case v:u[0]=s[e++],u[1]=s[e++],_t(u,u,n),s[a++]=u[0],s[a++]=u[1],u[0]+=s[e++],u[1]+=s[e++],_t(u,u,n),s[a++]=u[0],s[a++]=u[1]}for(o=0;o<r;o++){var x=Os[o];x[0]=s[e++],x[1]=s[e++],_t(x,x,n),s[a++]=x[0],s[a++]=x[1]}}t.increaseVersion()}}var Bs=Math.sqrt,_s=Math.sin,Es=Math.cos,Ps=Math.PI;function Ws(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Vs(t,n){return(t[0]*n[0]+t[1]*n[1])/(Ws(t)*Ws(n))}function Hs(t,n){return(t[0]*n[1]<t[1]*n[0]?-1:1)*Math.acos(Vs(t,n))}function Ys(t,n,i,r,e,a,o,u,s,l,f){var h=s*(Ps/180),c=Es(h)*(t-i)/2+_s(h)*(n-r)/2,v=-1*_s(h)*(t-i)/2+Es(h)*(n-r)/2,d=c*c/(o*o)+v*v/(u*u);d>1&&(o*=Bs(d),u*=Bs(d));var p=(e===a?-1:1)*Bs((o*o*(u*u)-o*o*(v*v)-u*u*(c*c))/(o*o*(v*v)+u*u*(c*c)))||0,m=p*o*v/u,y=p*-u*c/o,g=(t+i)/2+Es(h)*m-_s(h)*y,b=(n+r)/2+_s(h)*m+Es(h)*y,w=Hs([1,0],[(c-m)/o,(v-y)/u]),x=[(c-m)/o,(v-y)/u],M=[(-1*c-m)/o,(-1*v-y)/u],S=Hs(x,M);if(Vs(x,M)<=-1&&(S=Ps),Vs(x,M)>=1&&(S=0),S<0){var k=Math.round(S/Ps*1e6)/1e6;S=2*Ps+k%2*Ps}f.addData(l,g,b,o,u,w,S,h,a)}var Gs=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Xs=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;var Us=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return St(n,t),n.prototype.applyTransform=function(t){},n}(au);function js(t){return null!=t.setData}function Zs(t,n){var i=function(t){var n=new Po;if(!t)return n;var i,r=0,e=0,a=r,o=e,u=Po.CMD,s=t.match(Gs);if(!s)return n;for(var l=0;l<s.length;l++){for(var f=s[l],h=f.charAt(0),c=void 0,v=f.match(Xs)||[],d=v.length,p=0;p<d;p++)v[p]=parseFloat(v[p]);for(var m=0;m<d;){var y=void 0,g=void 0,b=void 0,w=void 0,x=void 0,M=void 0,S=void 0,k=r,A=e,N=void 0,C=void 0;switch(h){case"l":r+=v[m++],e+=v[m++],c=u.L,n.addData(c,r,e);break;case"L":r=v[m++],e=v[m++],c=u.L,n.addData(c,r,e);break;case"m":r+=v[m++],e+=v[m++],c=u.M,n.addData(c,r,e),a=r,o=e,h="l";break;case"M":r=v[m++],e=v[m++],c=u.M,n.addData(c,r,e),a=r,o=e,h="L";break;case"h":r+=v[m++],c=u.L,n.addData(c,r,e);break;case"H":r=v[m++],c=u.L,n.addData(c,r,e);break;case"v":e+=v[m++],c=u.L,n.addData(c,r,e);break;case"V":e=v[m++],c=u.L,n.addData(c,r,e);break;case"C":c=u.C,n.addData(c,v[m++],v[m++],v[m++],v[m++],v[m++],v[m++]),r=v[m-2],e=v[m-1];break;case"c":c=u.C,n.addData(c,v[m++]+r,v[m++]+e,v[m++]+r,v[m++]+e,v[m++]+r,v[m++]+e),r+=v[m-2],e+=v[m-1];break;case"S":y=r,g=e,N=n.len(),C=n.data,i===u.C&&(y+=r-C[N-4],g+=e-C[N-3]),c=u.C,k=v[m++],A=v[m++],r=v[m++],e=v[m++],n.addData(c,y,g,k,A,r,e);break;case"s":y=r,g=e,N=n.len(),C=n.data,i===u.C&&(y+=r-C[N-4],g+=e-C[N-3]),c=u.C,k=r+v[m++],A=e+v[m++],r+=v[m++],e+=v[m++],n.addData(c,y,g,k,A,r,e);break;case"Q":k=v[m++],A=v[m++],r=v[m++],e=v[m++],c=u.Q,n.addData(c,k,A,r,e);break;case"q":k=v[m++]+r,A=v[m++]+e,r+=v[m++],e+=v[m++],c=u.Q,n.addData(c,k,A,r,e);break;case"T":y=r,g=e,N=n.len(),C=n.data,i===u.Q&&(y+=r-C[N-4],g+=e-C[N-3]),r=v[m++],e=v[m++],c=u.Q,n.addData(c,y,g,r,e);break;case"t":y=r,g=e,N=n.len(),C=n.data,i===u.Q&&(y+=r-C[N-4],g+=e-C[N-3]),r+=v[m++],e+=v[m++],c=u.Q,n.addData(c,y,g,r,e);break;case"A":b=v[m++],w=v[m++],x=v[m++],M=v[m++],S=v[m++],Ys(k=r,A=e,r=v[m++],e=v[m++],M,S,b,w,x,c=u.A,n);break;case"a":b=v[m++],w=v[m++],x=v[m++],M=v[m++],S=v[m++],Ys(k=r,A=e,r+=v[m++],e+=v[m++],M,S,b,w,x,c=u.A,n)}}"z"!==h&&"Z"!==h||(c=u.Z,n.addData(c),r=a,e=o),i=c}return n.toStatic(),n}(t),r=D({},n);return r.buildPath=function(t){if(js(t)){t.setData(i.data),(n=t.getContext())&&t.rebuildPath(n,1)}else{var n=t;i.rebuildPath(n,1)}},r.applyTransform=function(t){Fs(i,t),this.dirtyShape()},r}function qs(t,n){return new Us(Zs(t,n))}function Ks(t,n){n=n||{};var i=new au;return t.shape&&i.setShape(t.shape),i.setStyle(t.style),n.bakeTransform?Fs(i.path,t.getComputedTransform()):n.toLocal?i.setLocalTransform(t.getComputedTransform()):i.copyTransform(t),i.buildPath=t.buildPath,i.applyTransform=i.applyTransform,i.z=t.z,i.z2=t.z2,i.zlevel=t.zlevel,i}var Js=function(){return function(){this.cx=0,this.cy=0,this.r=0}}(),$s=function(t){function n(n){return t.call(this,n)||this}return St(n,t),n.prototype.getDefaultShape=function(){return new Js},n.prototype.buildPath=function(t,n){t.moveTo(n.cx+n.r,n.cy),t.arc(n.cx,n.cy,n.r,0,2*Math.PI)},n}(au);$s.prototype.type="circle";var Qs=function(){return function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}}(),tl=function(t){function n(n){return t.call(this,n)||this}return St(n,t),n.prototype.getDefaultShape=function(){return new Qs},n.prototype.buildPath=function(t,n){var i=.5522848,r=n.cx,e=n.cy,a=n.rx,o=n.ry,u=a*i,s=o*i;t.moveTo(r-a,e),t.bezierCurveTo(r-a,e-s,r-u,e-o,r,e-o),t.bezierCurveTo(r+u,e-o,r+a,e-s,r+a,e),t.bezierCurveTo(r+a,e+s,r+u,e+o,r,e+o),t.bezierCurveTo(r-u,e+o,r-a,e+s,r-a,e),t.closePath()},n}(au);tl.prototype.type="ellipse";var nl=Math.PI,il=2*nl,rl=Math.sin,el=Math.cos,al=Math.acos,ol=Math.atan2,ul=Math.abs,sl=Math.sqrt,ll=Math.max,fl=Math.min,hl=1e-4;function cl(t,n,i,r,e,a,o){var u=t-i,s=n-r,l=(o?a:-a)/sl(u*u+s*s),f=l*s,h=-l*u,c=t+f,v=n+h,d=i+f,p=r+h,m=(c+d)/2,y=(v+p)/2,g=d-c,b=p-v,w=g*g+b*b,x=e-a,M=c*p-d*v,S=(b<0?-1:1)*sl(ll(0,x*x*w-M*M)),k=(M*b-g*S)/w,A=(-M*g-b*S)/w,N=(M*b+g*S)/w,C=(-M*g+b*S)/w,T=k-m,I=A-y,z=N-m,L=C-y;return T*T+I*I>z*z+L*L&&(k=N,A=C),{cx:k,cy:A,x0:-f,y0:-h,x1:k*(e/x-1),y1:A*(e/x-1)}}function vl(t,n){var i,r=ll(n.r,0),e=ll(n.r0||0,0),a=r>0;if(a||e>0){if(a||(r=e,e=0),e>r){var o=r;r=e,e=o}var u=n.startAngle,s=n.endAngle;if(!isNaN(u)&&!isNaN(s)){var l=n.cx,f=n.cy,h=!!n.clockwise,c=ul(s-u),v=c>il&&c%il;if(v>hl&&(c=v),r>hl)if(c>il-hl)t.moveTo(l+r*el(u),f+r*rl(u)),t.arc(l,f,r,u,s,!h),e>hl&&(t.moveTo(l+e*el(s),f+e*rl(s)),t.arc(l,f,e,s,u,h));else{var d=void 0,p=void 0,m=void 0,y=void 0,g=void 0,b=void 0,w=void 0,x=void 0,M=void 0,S=void 0,k=void 0,A=void 0,N=void 0,C=void 0,T=void 0,I=void 0,z=r*el(u),L=r*rl(u),O=e*el(s),D=e*rl(s),R=c>hl;if(R){var F=n.cornerRadius;F&&(d=(i=function(t){var n;if(X(t)){var i=t.length;if(!i)return t;n=1===i?[t[0],t[0],0,0]:2===i?[t[0],t[0],t[1],t[1]]:3===i?t.concat(t[2]):t}else n=[t,t,t,t];return n}(F))[0],p=i[1],m=i[2],y=i[3]);var B=ul(r-e)/2;if(g=fl(B,m),b=fl(B,y),w=fl(B,d),x=fl(B,p),k=M=ll(g,b),A=S=ll(w,x),(M>hl||S>hl)&&(N=r*el(s),C=r*rl(s),T=e*el(u),I=e*rl(u),c<nl)){var _=function(t,n,i,r,e,a,o,u){var s=i-t,l=r-n,f=o-e,h=u-a,c=h*s-f*l;if(!(c*c<hl))return[t+(c=(f*(n-a)-h*(t-e))/c)*s,n+c*l]}(z,L,T,I,N,C,O,D);if(_){var E=z-_[0],P=L-_[1],W=N-_[0],V=C-_[1],H=1/rl(al((E*W+P*V)/(sl(E*E+P*P)*sl(W*W+V*V)))/2),Y=sl(_[0]*_[0]+_[1]*_[1]);k=fl(M,(r-Y)/(H+1)),A=fl(S,(e-Y)/(H-1))}}}if(R)if(k>hl){var G=fl(m,k),U=fl(y,k),j=cl(T,I,z,L,r,G,h),Z=cl(N,C,O,D,r,U,h);t.moveTo(l+j.cx+j.x0,f+j.cy+j.y0),k<M&&G===U?t.arc(l+j.cx,f+j.cy,k,ol(j.y0,j.x0),ol(Z.y0,Z.x0),!h):(G>0&&t.arc(l+j.cx,f+j.cy,G,ol(j.y0,j.x0),ol(j.y1,j.x1),!h),t.arc(l,f,r,ol(j.cy+j.y1,j.cx+j.x1),ol(Z.cy+Z.y1,Z.cx+Z.x1),!h),U>0&&t.arc(l+Z.cx,f+Z.cy,U,ol(Z.y1,Z.x1),ol(Z.y0,Z.x0),!h))}else t.moveTo(l+z,f+L),t.arc(l,f,r,u,s,!h);else t.moveTo(l+z,f+L);if(e>hl&&R)if(A>hl){G=fl(d,A),j=cl(O,D,N,C,e,-(U=fl(p,A)),h),Z=cl(z,L,T,I,e,-G,h);t.lineTo(l+j.cx+j.x0,f+j.cy+j.y0),A<S&&G===U?t.arc(l+j.cx,f+j.cy,A,ol(j.y0,j.x0),ol(Z.y0,Z.x0),!h):(U>0&&t.arc(l+j.cx,f+j.cy,U,ol(j.y0,j.x0),ol(j.y1,j.x1),!h),t.arc(l,f,e,ol(j.cy+j.y1,j.cx+j.x1),ol(Z.cy+Z.y1,Z.cx+Z.x1),h),G>0&&t.arc(l+Z.cx,f+Z.cy,G,ol(Z.y1,Z.x1),ol(Z.y0,Z.x0),!h))}else t.lineTo(l+O,f+D),t.arc(l,f,e,s,u,h);else t.lineTo(l+O,f+D)}else t.moveTo(l,f);t.closePath()}}}var dl=function(){return function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0}}(),pl=function(t){function n(n){return t.call(this,n)||this}return St(n,t),n.prototype.getDefaultShape=function(){return new dl},n.prototype.buildPath=function(t,n){vl(t,n)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(au);pl.prototype.type="sector";var ml=function(){return function(){this.cx=0,this.cy=0,this.r=0,this.r0=0}}(),yl=function(t){function n(n){return t.call(this,n)||this}return St(n,t),n.prototype.getDefaultShape=function(){return new ml},n.prototype.buildPath=function(t,n){var i=n.cx,r=n.cy,e=2*Math.PI;t.moveTo(i+n.r,r),t.arc(i,r,n.r,0,e,!1),t.moveTo(i+n.r0,r),t.arc(i,r,n.r0,0,e,!0)},n}(au);function gl(t,n,i){var r=n.smooth,e=n.points;if(e&&e.length>=2){if(r){var a=function(t,n,i,r){var e,a,o,u,s=[],l=[],f=[],h=[];if(r){o=[1/0,1/0],u=[-1/0,-1/0];for(var c=0,v=t.length;c<v;c++)Et(o,o,t[c]),Pt(u,u,t[c]);Et(o,o,r[0]),Pt(u,u,r[1])}for(c=0,v=t.length;c<v;c++){var d=t[c];if(i)e=t[c?c-1:v-1],a=t[(c+1)%v];else{if(0===c||c===v-1){s.push(Nt(t[c]));continue}e=t[c-1],a=t[c+1]}It(l,a,e),Lt(l,l,n);var p=Dt(d,e),m=Dt(d,a),y=p+m;0!==y&&(p/=y,m/=y),Lt(f,l,-p),Lt(h,l,m);var g=Ct([],d,f),b=Ct([],d,h);r&&(Pt(g,g,o),Et(g,g,u),Pt(b,b,o),Et(b,b,u)),s.push(g),s.push(b)}return i&&s.push(s.shift()),s}(e,r,i,n.smoothConstraint);t.moveTo(e[0][0],e[0][1]);for(var o=e.length,u=0;u<(i?o:o-1);u++){var s=a[2*u],l=a[2*u+1],f=e[(u+1)%o];t.bezierCurveTo(s[0],s[1],l[0],l[1],f[0],f[1])}}else{t.moveTo(e[0][0],e[0][1]);u=1;for(var h=e.length;u<h;u++)t.lineTo(e[u][0],e[u][1])}i&&t.closePath()}}yl.prototype.type="ring";var bl=function(){return function(){this.points=null,this.smooth=0,this.smoothConstraint=null}}(),wl=function(t){function n(n){return t.call(this,n)||this}return St(n,t),n.prototype.getDefaultShape=function(){return new bl},n.prototype.buildPath=function(t,n){gl(t,n,!0)},n}(au);wl.prototype.type="polygon";var xl=function(){return function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}}(),Ml=function(t){function n(n){return t.call(this,n)||this}return St(n,t),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new xl},n.prototype.buildPath=function(t,n){gl(t,n,!1)},n}(au);Ml.prototype.type="polyline";var Sl={},kl=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}(),Al=function(t){function n(n){return t.call(this,n)||this}return St(n,t),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new kl},n.prototype.buildPath=function(t,n){var i,r,e,a;if(this.subPixelOptimize){var o=cu(Sl,n,this.style);i=o.x1,r=o.y1,e=o.x2,a=o.y2}else i=n.x1,r=n.y1,e=n.x2,a=n.y2;var u=n.percent;0!==u&&(t.moveTo(i,r),u<1&&(e=i*(1-u)+e*u,a=r*(1-u)+a*u),t.lineTo(e,a))},n.prototype.pointAt=function(t){var n=this.shape;return[n.x1*(1-t)+n.x2*t,n.y1*(1-t)+n.y2*t]},n}(au);Al.prototype.type="line";var Nl=[],Cl=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}}();function Tl(t,n,i){var r=t.cpx2,e=t.cpy2;return null!=r||null!=e?[(i?li:si)(t.x1,t.cpx1,t.cpx2,t.x2,n),(i?li:si)(t.y1,t.cpy1,t.cpy2,t.y2,n)]:[(i?mi:pi)(t.x1,t.cpx1,t.x2,n),(i?mi:pi)(t.y1,t.cpy1,t.y2,n)]}var Il=function(t){function n(n){return t.call(this,n)||this}return St(n,t),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new Cl},n.prototype.buildPath=function(t,n){var i=n.x1,r=n.y1,e=n.x2,a=n.y2,o=n.cpx1,u=n.cpy1,s=n.cpx2,l=n.cpy2,f=n.percent;0!==f&&(t.moveTo(i,r),null==s||null==l?(f<1&&(gi(i,o,e,f,Nl),o=Nl[1],e=Nl[2],gi(r,u,a,f,Nl),u=Nl[1],a=Nl[2]),t.quadraticCurveTo(o,u,e,a)):(f<1&&(ci(i,o,s,e,f,Nl),o=Nl[1],s=Nl[2],e=Nl[3],ci(r,u,l,a,f,Nl),u=Nl[1],l=Nl[2],a=Nl[3]),t.bezierCurveTo(o,u,s,l,e,a)))},n.prototype.pointAt=function(t){return Tl(this.shape,t,!1)},n.prototype.tangentAt=function(t){var n=Tl(this.shape,t,!0);return Ot(n,n)},n}(au);Il.prototype.type="bezier-curve";var zl=function(){return function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),Ll=function(t){function n(n){return t.call(this,n)||this}return St(n,t),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new zl},n.prototype.buildPath=function(t,n){var i=n.cx,r=n.cy,e=Math.max(n.r,0),a=n.startAngle,o=n.endAngle,u=n.clockwise,s=Math.cos(a),l=Math.sin(a);t.moveTo(s*e+i,l*e+r),t.arc(i,r,e,a,o,!u)},n}(au);Ll.prototype.type="arc";var Ol=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="compound",n}return St(n,t),n.prototype.bi=function(){for(var t=this.shape.paths,n=this.shapeChanged(),i=0;i<t.length;i++)n=n||t[i].shapeChanged();n&&this.dirtyShape()},n.prototype.beforeBrush=function(){this.bi();for(var t=this.shape.paths||[],n=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(n[0],n[1],t[i].segmentIgnoreThreshold)},n.prototype.buildPath=function(t,n){for(var i=n.paths||[],r=0;r<i.length;r++)i[r].buildPath(t,i[r].shape,!0)},n.prototype.afterBrush=function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].pathUpdated()},n.prototype.getBoundingRect=function(){return this.bi.call(this),au.prototype.getBoundingRect.call(this)},n}(au),Dl=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},t}(),Rl=function(t){function n(n,i,r,e,a,o){var u=t.call(this,a)||this;return u.x=null==n?0:n,u.y=null==i?0:i,u.x2=null==r?1:r,u.y2=null==e?0:e,u.type="linear",u.global=o||!1,u}return St(n,t),n}(Dl),Fl=function(t){function n(n,i,r,e,a){var o=t.call(this,e)||this;return o.x=null==n?.5:n,o.y=null==i?.5:i,o.r=null==r?.5:r,o.type="radial",o.global=a||!1,o}return St(n,t),n}(Dl),Bl=[0,0],_l=[0,0],El=new wn,Pl=new wn,Wl=function(){function t(t,n){this.wi=[],this.xi=[],this.Mi=[0,0];for(var i=0;i<4;i++)this.wi[i]=new wn;for(i=0;i<2;i++)this.xi[i]=new wn;t&&this.fromBoundingRect(t,n)}return t.prototype.fromBoundingRect=function(t,n){var i=this.wi,r=this.xi,e=t.x,a=t.y,o=e+t.width,u=a+t.height;if(i[0].set(e,a),i[1].set(o,a),i[2].set(o,u),i[3].set(e,u),n)for(var s=0;s<4;s++)i[s].transform(n);wn.sub(r[0],i[1],i[0]),wn.sub(r[1],i[3],i[0]),r[0].normalize(),r[1].normalize();for(s=0;s<2;s++)this.Mi[s]=r[s].dot(i[0])},t.prototype.intersect=function(t,n){var i=!0,r=!n;return El.set(1/0,1/0),Pl.set(0,0),!this.Si(this,t,El,Pl,r,1)&&(i=!1,r)||!this.Si(t,this,El,Pl,r,-1)&&(i=!1,r)||r||wn.copy(n,i?El:Pl),i},t.prototype.Si=function(t,n,i,r,e,a){for(var o=!0,u=0;u<2;u++){var s=this.xi[u];if(this.ki(u,t.wi,Bl),this.ki(u,n.wi,_l),Bl[1]<_l[0]||Bl[0]>_l[1]){if(o=!1,e)return o;var l=Math.abs(_l[0]-Bl[1]),f=Math.abs(Bl[0]-_l[1]);Math.min(l,f)>r.len()&&(l<f?wn.scale(r,s,-l*a):wn.scale(r,s,f*a))}else if(i){l=Math.abs(_l[0]-Bl[1]),f=Math.abs(Bl[0]-_l[1]);Math.min(l,f)<i.len()&&(l<f?wn.scale(i,s,l*a):wn.scale(i,s,-f*a))}}return o},t.prototype.ki=function(t,n,i){for(var r=this.xi[t],e=this.Mi,a=n[0].dot(r)+e[t],o=a,u=a,s=1;s<n.length;s++){var l=n[s].dot(r)+e[t];o=Math.min(l,o),u=Math.max(l,u)}i[0]=o,i[1]=u},t}(),Vl=[],Hl=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n.Ai=[],n.Ni=[],n.Ci=0,n}return St(n,t),n.prototype.traverse=function(t,n){t.call(n,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this.Ci},n.prototype.innerAfterBrush=function(){this.Ci=this.Ai.length},n.prototype.clearDisplaybles=function(){this.Ai=[],this.Ni=[],this.Ci=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this.Ni=[]},n.prototype.addDisplayable=function(t,n){n?this.Ni.push(t):this.Ai.push(t),this.markRedraw()},n.prototype.addDisplayables=function(t,n){n=n||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],n)},n.prototype.getDisplayables=function(){return this.Ai},n.prototype.getTemporalDisplayables=function(){return this.Ni},n.prototype.eachPendingDisplayable=function(t){for(var n=this.Ci;n<this.Ai.length;n++)t&&t(this.Ai[n]);for(n=0;n<this.Ni.length;n++)t&&t(this.Ni[n])},n.prototype.update=function(){this.updateTransform();for(var t=this.Ci;t<this.Ai.length;t++){(n=this.Ai[t]).parent=this,n.update(),n.parent=null}for(t=0;t<this.Ni.length;t++){var n;(n=this.Ni[t]).parent=this,n.update(),n.parent=null}},n.prototype.getBoundingRect=function(){if(!this.Bn){for(var t=new In(1/0,1/0,-1/0,-1/0),n=0;n<this.Ai.length;n++){var i=this.Ai[n],r=i.getBoundingRect().clone();i.needLocalTransform()&&r.applyTransform(i.getLocalTransform(Vl)),t.union(r)}this.Bn=t}return this.Bn},n.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n);if(this.getBoundingRect().contain(i[0],i[1]))for(var r=0;r<this.Ai.length;r++){if(this.Ai[r].contain(t,n))return!0}return!1},n}(io),Yl=ca();function Gl(t,n,i,r,e){var a;if(n&&n.ecModel){var o=n.ecModel.getUpdatePayload();a=o&&o.animation}var u="update"===t;if(n&&n.isAnimationEnabled()){var s=void 0,l=void 0,f=void 0;return r?(s=rt(r.duration,200),l=rt(r.easing,"cubicOut"),f=0):(s=n.getShallow(u?"animationDurationUpdate":"animationDuration"),l=n.getShallow(u?"animationEasingUpdate":"animationEasing"),f=n.getShallow(u?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(s=a.duration),null!=a.easing&&(l=a.easing),null!=a.delay&&(f=a.delay)),U(f)&&(f=f(i,e)),U(s)&&(s=s(i)),{duration:s||0,delay:f,easing:l}}return null}function Xl(t,n,i,r,e,a,o){var u,s=!1;U(e)?(o=a,a=e,e=null):K(e)&&(a=e.cb,o=e.during,s=e.isFrom,u=e.removeOpt,e=e.dataIndex);var l="leave"===t;l||n.stopAnimation("leave");var f=Gl(t,r,e,l?u||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(n,e):null);if(f&&f.duration>0){var h={duration:f.duration,delay:f.delay||0,easing:f.easing,done:a,force:!!a||!!o,setToFinal:!l,scope:t,during:o};s?n.animateFrom(i,h):n.animateTo(i,h)}else n.stopAnimation(),!s&&n.attr(i),o&&o(1),a&&a()}function Ul(t,n,i,r,e,a){Xl("update",t,n,i,r,e,a)}function jl(t,n,i,r,e,a){Xl("enter",t,n,i,r,e,a)}function Zl(t){if(!t.Y)return!0;for(var n=0;n<t.animators.length;n++){if("leave"===t.animators[n].scope)return!0}return!1}function ql(t,n,i,r,e,a){Zl(t)||Xl("leave",t,n,i,r,e,a)}function Kl(t,n,i,r){t.removeTextContent(),t.removeTextGuideLine(),ql(t,{style:{opacity:0}},n,i,r)}function Jl(t,n,i){function r(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||Kl(t,n,i,r)})):Kl(t,n,i,r)}function $l(t){Yl(t).oldStyle=t.style}var Ql=Math.max,tf=Math.min,nf={};var rf=function(t,n){var i=Zs(t,n);return function(t){function n(n){var r=t.call(this,n)||this;return r.applyTransform=i.applyTransform,r.buildPath=i.buildPath,r}return St(n,t),n}(Us)};function ef(t,n){nf[t]=n}function af(t){if(nf.hasOwnProperty(t))return nf[t]}function of(t,n,i,r){var e=qs(t,n);return i&&("center"===r&&(i=sf(i,e.getBoundingRect())),ff(e,i)),e}function uf(t,n,i){var r=new fu({style:{image:t,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(t){if("center"===i){var e={width:t.width,height:t.height};r.setStyle(sf(n,e))}}});return r}function sf(t,n){var i,r=n.width/n.height,e=t.height*r;return i=e<=t.width?t.height:(e=t.width)/r,{x:t.x+t.width/2-e/2,y:t.y+t.height/2-i/2,width:e,height:i}}var lf=function(t,n){for(var i=[],r=t.length,e=0;e<r;e++){var a=t[e];i.push(a.getUpdatedPathProxy(!0))}var o=new au(n);return o.createPathProxy(),o.buildPath=function(t){if(js(t)){t.appendPath(i);var n=t.getContext();n&&t.rebuildPath(n,1)}},o};function ff(t,n){if(t.applyTransform){var i=t.getBoundingRect().calculateTransform(n);t.applyTransform(i)}}function hf(t,n){return cu(t,t,{lineWidth:n}),t}var cf=du;function vf(t,n){for(var i=vn([]);t&&t!==n;)pn(i,t.getLocalTransform(),i),t=t.parent;return i}function df(t,n,i){return n&&!_(n)&&(n=ne.getLocalTransform(n)),i&&(n=bn([],n)),_t([],t,n)}function pf(t,n,i){var r=0===n[4]||0===n[5]||0===n[0]?1:Math.abs(2*n[4]/n[0]),e=0===n[4]||0===n[5]||0===n[2]?1:Math.abs(2*n[4]/n[2]),a=["left"===t?-r:"right"===t?r:0,"top"===t?-e:"bottom"===t?e:0];return a=df(a,n,i),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function mf(t){return!t.isGroup}function yf(t,n,i){if(t&&n){var r,e=(r={},t.traverse((function(t){mf(t)&&t.anid&&(r[t.anid]=t)})),r);n.traverse((function(t){if(mf(t)&&t.anid){var n=e[t.anid];if(n){var r=a(t);t.attr(a(n)),Ul(t,r,i,Du(t).dataIndex)}}}))}function a(t){var n={x:t.x,y:t.y,rotation:t.rotation};return function(t){return null!=t.shape}(t)&&(n.shape=D({},t.shape)),n}}function gf(t,n){return P(t,(function(t){var i=t[0];i=Ql(i,n.x),i=tf(i,n.x+n.width);var r=t[1];return r=Ql(r,n.y),[i,r=tf(r,n.y+n.height)]}))}function bf(t,n,i){var r=D({rectHover:!0},n),e=r.style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(e.image=t.slice(8),R(e,i),new fu(r)):of(t.replace("path://",""),r,i,"center")}function wf(t,n,i,r,e){for(var a=0,o=e[e.length-1];a<e.length;a++){var u=e[a];if(xf(t,n,i,r,u[0],u[1],o[0],o[1]))return!0;o=u}}function xf(t,n,i,r,e,a,o,u){var s,l=i-t,f=r-n,h=o-e,c=u-a,v=Mf(h,c,l,f);if((s=v)<=1e-6&&s>=-1e-6)return!1;var d=t-e,p=n-a,m=Mf(d,p,l,f)/v;if(m<0||m>1)return!1;var y=Mf(d,p,h,c)/v;return!(y<0||y>1)}function Mf(t,n,i,r){return t*r-i*n}function Sf(t){var n=t.itemTooltipOption,i=t.componentModel,r=t.itemName,e=j(n)?{formatter:n}:n,a=i.mainType,o=i.componentIndex,u={componentType:a,name:r,$vars:["name"]};u[a+"Index"]=o;var s=t.formatterParamsExtra;s&&E(H(s),(function(t){bt(u,t)||(u[t]=s[t],u.$vars.push(t))}));var l=Du(t.el);l.componentMainType=a,l.componentIndex=o,l.tooltipConfig={name:r,option:R({content:r,encodeHTMLContent:!0,formatterParams:u},e)}}function kf(t,n){var i;t.isGroup&&(i=n(t)),i||t.traverse(n)}function Af(t,n){if(t)if(X(t))for(var i=0;i<t.length;i++)kf(t[i],n);else kf(t,n)}ef("circle",$s),ef("ellipse",tl),ef("sector",pl),ef("ring",yl),ef("polygon",wl),ef("polyline",Ml),ef("rect",yu),ef("line",Al),ef("bezierCurve",Il),ef("arc",Ll);const Nf=Object.freeze(Object.defineProperty({__proto__:null,Arc:Ll,BezierCurve:Il,BoundingRect:In,Circle:$s,CompoundPath:Ol,Ellipse:tl,Group:Se,Image:fu,IncrementalDisplayable:Hl,Line:Al,LinearGradient:Rl,OrientedBoundingRect:Wl,Path:au,Point:wn,Polygon:wl,Polyline:Ml,RadialGradient:Fl,Rect:yu,Ring:yl,Sector:pl,Text:wu,applyTransform:df,clipPointsByRect:gf,clipRectByRect:function(t,n){var i=Ql(t.x,n.x),r=tf(t.x+t.width,n.x+n.width),e=Ql(t.y,n.y),a=tf(t.y+t.height,n.y+n.height);if(r>=i&&a>=e)return{x:i,y:e,width:r-i,height:a-e}},createIcon:bf,extendPath:function(t,n){return rf(t,n)},extendShape:function(t){return au.extend(t)},getShapeClass:af,getTransform:vf,groupTransition:yf,initProps:jl,isElementRemoved:Zl,lineLineIntersect:xf,linePolygonIntersect:wf,makeImage:uf,makePath:of,mergePath:lf,registerShape:ef,removeElement:ql,removeElementWithFadeOut:Jl,resizePath:ff,setTooltipConfig:Sf,subPixelOptimize:cf,subPixelOptimizeLine:hf,subPixelOptimizeRect:function(t){return vu(t.shape,t.shape,t.style),t},transformDirection:pf,traverseElements:Af,updateProps:Ul},Symbol.toStringTag,{value:"Module"}));var Cf={};function Tf(t,n){for(var i=0;i<Pu.length;i++){var r=Pu[i],e=n[r],a=t.ensureState(r);a.style=a.style||{},a.style.text=e}var o=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:n.normal}),t.useStates(o,!0)}function If(t,n,i){var r,e=t.labelFetcher,a=t.labelDataIndex,o=t.labelDimIndex,u=n.normal;e&&(r=e.getFormattedLabel(a,"normal",null,o,u&&u.get("formatter"),null!=i?{interpolatedValue:i}:null)),null==r&&(r=U(t.defaultText)?t.defaultText(a,t,i):t.defaultText);for(var s={normal:r},l=0;l<Pu.length;l++){var f=Pu[l],h=n[f];s[f]=rt(e?e.getFormattedLabel(a,f,null,o,h&&h.get("formatter")):null,r)}return s}function zf(t,n,i,r){i=i||Cf;for(var e=t instanceof wu,a=!1,o=0;o<Wu.length;o++){if((c=n[Wu[o]])&&c.getShallow("show")){a=!0;break}}var u=e?t:t.getTextContent();if(a){e||(u||(u=new wu,t.setTextContent(u)),t.stateProxy&&(u.stateProxy=t.stateProxy));var s=If(i,n),l=n.normal,f=!!l.getShallow("show"),h=Of(l,r&&r.normal,i,!1,!e);h.text=s.normal,e||t.setTextConfig(Df(l,i,!1));for(o=0;o<Pu.length;o++){var c,v=Pu[o];if(c=n[v]){var d=u.ensureState(v),p=!!rt(c.getShallow("show"),f);if(p!==f&&(d.ignore=!p),d.style=Of(c,r&&r[v],i,!0,!e),d.style.text=s[v],!e)t.ensureState(v).textConfig=Df(c,i,!0)}}u.silent=!!l.getShallow("silent"),null!=u.style.x&&(h.x=u.style.x),null!=u.style.y&&(h.y=u.style.y),u.ignore=!f,u.useStyle(h),u.dirty(),i.enableTextSetter&&(Pf(u).setLabelText=function(t){var r=If(i,n,t);Tf(u,r)})}else u&&(u.ignore=!0);t.dirty()}function Lf(t,n){n=n||"label";for(var i={normal:t.getModel(n)},r=0;r<Pu.length;r++){var e=Pu[r];i[e]=t.getModel([e,n])}return i}function Of(t,n,i,r,e){var a={};return function(t,n,i,r,e){i=i||Cf;var a,o=n.ecModel,u=o&&o.option.textStyle,s=function(t){var n;for(;t&&t!==t.ecModel;){var i=(t.option||Cf).rich;if(i){n=n||{};for(var r=H(i),e=0;e<r.length;e++){n[r[e]]=1}}t=t.parentModel}return n}(n);if(s)for(var l in a={},s)if(s.hasOwnProperty(l)){var f=n.getModel(["rich",l]);_f(a[l]={},f,u,i,r,e,!1,!0)}a&&(t.rich=a);var h=n.get("overflow");h&&(t.overflow=h);var c=n.get("minMargin");null!=c&&(t.margin=c);_f(t,n,u,i,r,e,!0,!1)}(a,t,i,r,e),n&&D(a,n),a}function Df(t,n,i){n=n||{};var r,e={},a=t.getShallow("rotate"),o=rt(t.getShallow("distance"),i?null:5),u=t.getShallow("offset");return"outside"===(r=t.getShallow("position")||(i?null:"inside"))&&(r=n.defaultOutsidePosition||"top"),null!=r&&(e.position=r),null!=u&&(e.offset=u),null!=a&&(a*=Math.PI/180,e.rotation=a),null!=o&&(e.distance=o),e.outsideFill="inherit"===t.get("color")?n.inheritColor||null:"auto",e}var Rf=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],Ff=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],Bf=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function _f(t,n,i,r,e,a,o,u){i=!e&&i||Cf;var s=r&&r.inheritColor,l=n.getShallow("color"),f=n.getShallow("textBorderColor"),h=rt(n.getShallow("opacity"),i.opacity);"inherit"!==l&&"auto"!==l||(l=s||null),"inherit"!==f&&"auto"!==f||(f=s||null),a||(l=l||i.color,f=f||i.textBorderColor),null!=l&&(t.fill=l),null!=f&&(t.stroke=f);var c=rt(n.getShallow("textBorderWidth"),i.textBorderWidth);null!=c&&(t.lineWidth=c);var v=rt(n.getShallow("textBorderType"),i.textBorderType);null!=v&&(t.lineDash=v);var d=rt(n.getShallow("textBorderDashOffset"),i.textBorderDashOffset);null!=d&&(t.lineDashOffset=d),e||null!=h||u||(h=r&&r.defaultOpacity),null!=h&&(t.opacity=h),e||a||null==t.fill&&r.inheritColor&&(t.fill=r.inheritColor);for(var p=0;p<Rf.length;p++){var m=Rf[p];null!=(g=rt(n.getShallow(m),i[m]))&&(t[m]=g)}for(p=0;p<Ff.length;p++){m=Ff[p];null!=(g=n.getShallow(m))&&(t[m]=g)}if(null==t.verticalAlign){var y=n.getShallow("baseline");null!=y&&(t.verticalAlign=y)}if(!o||!r.disableBox){for(p=0;p<Bf.length;p++){var g;m=Bf[p];null!=(g=n.getShallow(m))&&(t[m]=g)}var b=n.getShallow("borderType");null!=b&&(t.borderDash=b),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!s||(t.backgroundColor=s),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!s||(t.borderColor=s)}}function Ef(t,n){var i=n&&n.getModel("textStyle");return st([t.fontStyle||i&&i.getShallow("fontStyle")||"",t.fontWeight||i&&i.getShallow("fontWeight")||"",(t.fontSize||i&&i.getShallow("fontSize")||12)+"px",t.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}var Pf=ca();function Wf(t,n,i,r){if(t){var e=Pf(t);e.prevValue=e.value,e.value=i;var a=n.normal;e.valueAnimation=a.get("valueAnimation"),e.valueAnimation&&(e.precision=a.get("precision"),e.defaultInterpolatedText=r,e.statesModels=n)}}function Vf(t,n,i,r,e){var a=Pf(t);if(a.valueAnimation&&a.prevValue!==a.value){var o=a.defaultInterpolatedText,u=rt(a.interpolatedValue,a.prevValue),s=a.value;t.percent=0,(null==a.prevValue?jl:Ul)(t,{percent:1},r,n,null,(function(r){var l=xa(i,a.precision,u,s,r);a.interpolatedValue=1===r?null:l;var f=If({labelDataIndex:n,labelFetcher:e,defaultText:o?o(l):l+""},a.statesModels,l);Tf(t,f)}))}}var Hf,Yf,Gf=["textStyle","color"],Xf=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],Uf=new wu,jf=function(){function t(){}return t.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow("color")||(!t&&n?n.get(Gf):null)},t.prototype.getFont=function(){return Ef({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<Xf.length;i++)n[Xf[i]]=this.getShallow(Xf[i]);return Uf.useStyle(n),Uf.update(),Uf.getBoundingRect()},t}(),Zf=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],qf=La(Zf),Kf=function(){function t(){}return t.prototype.getLineStyle=function(t){return qf(this,t)},t}(),Jf=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],$f=La(Jf),Qf=function(){function t(){}return t.prototype.getItemStyle=function(t,n){return $f(this,t,n)},t}(),th=function(){function t(t,n,i){this.parentModel=n,this.ecModel=i,this.option=t}return t.prototype.init=function(t,n,i){},t.prototype.mergeOption=function(t,n){L(this.option,t,!0)},t.prototype.get=function(t,n){return null==t?this.option:this.Ti(this.parsePath(t),!n&&this.parentModel)},t.prototype.getShallow=function(t,n){var i=this.option,r=null==i?i:i[t];if(null==r&&!n){var e=this.parentModel;e&&(r=e.getShallow(t))}return r},t.prototype.getModel=function(n,i){var r=null!=n,e=r?this.parsePath(n):null;return new t(r?this.Ti(e):this.option,i=i||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(e)),this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){return new(0,this.constructor)(z(this.option))},t.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!h.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype.Ti=function(t,n){var i=this.option;if(!t)return i;for(var r=0;r<t.length&&(!t[r]||null!=(i=i&&"object"==typeof i?i[t[r]]:null));r++);return null==i&&n&&(i=n.Ti(this.resolveParentPath(t),n.parentModel)),i},t}();Aa(th),Hf=th,Yf=["__\0is_clz",Ca++].join("_"),Hf.prototype[Yf]=!0,Hf.isInstance=function(t){return!(!t||!t[Yf])},B(th,Kf),B(th,Qf),B(th,Da),B(th,jf);var nh=Math.round(10*Math.random());function ih(t){return[t||"",nh++].join("_")}function rh(t,n){return L(L({},t,!0),n,!0)}var eh="ZH",ah="EN",oh=ah,uh={},sh={},lh=h.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||oh).toUpperCase().indexOf(eh)>-1?eh:oh;function fh(t,n){t=t.toUpperCase(),sh[t]=new th(n),uh[t]=n}function hh(t){return sh[t]}fh(ah,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),fh(eh,{time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}});var ch=1e3,vh=6e4,dh=36e5,ph=864e5,mh=31536e6,yh={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},gh="{yyyy}-{MM}-{dd}",bh={year:"{yyyy}",month:"{yyyy}-{MM}",day:gh,hour:gh+" "+yh.hour,minute:gh+" "+yh.minute,second:gh+" "+yh.second,millisecond:yh.none},wh=["year","month","day","hour","minute","second","millisecond"],xh=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Mh(t,n){return"0000".substr(0,n-(t+="").length)+t}function Sh(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function kh(t){return t===Sh(t)}function Ah(t,n,i,r){var e=We(t),a=e[Th(i)](),o=e[Ih(i)]()+1,u=Math.floor((o-1)/3)+1,s=e[zh(i)](),l=e["get"+(i?"UTC":"")+"Day"](),f=e[Lh(i)](),h=(f-1)%12+1,c=e[Oh(i)](),v=e[Dh(i)](),d=e[Rh(i)](),p=f>=12?"pm":"am",m=p.toUpperCase(),y=(r instanceof th?r:hh(r||lh)||sh[oh]).getModel("time"),g=y.get("month"),b=y.get("monthAbbr"),w=y.get("dayOfWeek"),x=y.get("dayOfWeekAbbr");return(n||"").replace(/{a}/g,p+"").replace(/{A}/g,m+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Mh(a%100+"",2)).replace(/{Q}/g,u+"").replace(/{MMMM}/g,g[o-1]).replace(/{MMM}/g,b[o-1]).replace(/{MM}/g,Mh(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Mh(s,2)).replace(/{d}/g,s+"").replace(/{eeee}/g,w[l]).replace(/{ee}/g,x[l]).replace(/{e}/g,l+"").replace(/{HH}/g,Mh(f,2)).replace(/{H}/g,f+"").replace(/{hh}/g,Mh(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Mh(c,2)).replace(/{m}/g,c+"").replace(/{ss}/g,Mh(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,Mh(d,3)).replace(/{S}/g,d+"")}function Nh(t,n){var i=We(t),r=i[Ih(n)]()+1,e=i[zh(n)](),a=i[Lh(n)](),o=i[Oh(n)](),u=i[Dh(n)](),s=0===i[Rh(n)](),l=s&&0===u,f=l&&0===o,h=f&&0===a,c=h&&1===e;return c&&1===r?"year":c?"month":h?"day":f?"hour":l?"minute":s?"second":"millisecond"}function Ch(t,n,i){var r=q(t)?We(t):t;switch(n=n||Nh(t,i)){case"year":return r[Th(i)]();case"half-year":return r[Ih(i)]()>=6?1:0;case"quarter":return Math.floor((r[Ih(i)]()+1)/4);case"month":return r[Ih(i)]();case"day":return r[zh(i)]();case"half-day":return r[Lh(i)]()/24;case"hour":return r[Lh(i)]();case"minute":return r[Oh(i)]();case"second":return r[Dh(i)]();case"millisecond":return r[Rh(i)]()}}function Th(t){return t?"getUTCFullYear":"getFullYear"}function Ih(t){return t?"getUTCMonth":"getMonth"}function zh(t){return t?"getUTCDate":"getDate"}function Lh(t){return t?"getUTCHours":"getHours"}function Oh(t){return t?"getUTCMinutes":"getMinutes"}function Dh(t){return t?"getUTCSeconds":"getSeconds"}function Rh(t){return t?"getUTCMilliseconds":"getMilliseconds"}function Fh(t){return t?"setUTCFullYear":"setFullYear"}function Bh(t){return t?"setUTCMonth":"setMonth"}function _h(t){return t?"setUTCDate":"setDate"}function Eh(t){return t?"setUTCHours":"setHours"}function Ph(t){return t?"setUTCMinutes":"setMinutes"}function Wh(t){return t?"setUTCSeconds":"setSeconds"}function Vh(t){return t?"setUTCMilliseconds":"setMilliseconds"}function Hh(t){if(!Ue(t))return j(t)?t:"-";var n=(t+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function Yh(t,n){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,n){return n.toUpperCase()})),n&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var Gh=ot;function Xh(t,n,i){function r(t){return t&&st(t)?t:"-"}function e(t){return!(null==t||isNaN(t)||!isFinite(t))}var a="time"===n,o=t instanceof Date;if(a||o){var u=a?We(t):t;if(!isNaN(+u))return Ah(u,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",i);if(o)return"-"}if("ordinal"===n)return Z(t)?r(t):q(t)&&e(t)?t+"":"-";var s=Xe(t);return e(s)?Hh(s):Z(t)?r(t):"boolean"==typeof t?t+"":"-"}var Uh=["a","b","c","d","e","f","g"],jh=function(t,n){return"{"+t+(null==n?"":n)+"}"};function Zh(t,n,i){X(n)||(n=[n]);var r=n.length;if(!r)return"";for(var e=n[0].$vars||[],a=0;a<e.length;a++){var o=Uh[a];t=t.replace(jh(o),jh(o,0))}for(var u=0;u<r;u++)for(var s=0;s<e.length;s++){var l=n[u][e[s]];t=t.replace(jh(Uh[s],u),i?$t(l):l)}return t}function qh(t,n){return n=n||"transparent",j(t)?t:K(t)&&t.colorStops&&(t.colorStops[0]||{}).color||n}function Kh(t,n){if("_blank"===n||"blank"===n){var i=window.open();i.opener=null,i.location.href=t}else window.open(t,n)}var Jh=E,$h=["left","right","top","bottom","width","height"],Qh=[["width","left","right"],["height","top","bottom"]];function tc(t,n,i,r,e){var a=0,o=0;null==r&&(r=1/0),null==e&&(e=1/0);var u=0;n.eachChild((function(s,l){var f,h,c=s.getBoundingRect(),v=n.childAt(l+1),d=v&&v.getBoundingRect();if("horizontal"===t){var p=c.width+(d?-d.x+c.x:0);(f=a+p)>r||s.newline?(a=0,f=p,o+=u+i,u=c.height):u=Math.max(u,c.height)}else{var m=c.height+(d?-d.y+c.y:0);(h=o+m)>e||s.newline?(a+=u+i,o=0,h=m,u=c.width):u=Math.max(u,c.width)}s.newline||(s.x=a,s.y=o,s.markRedraw(),"horizontal"===t?a=f+i:o=h+i)}))}var nc=tc;function ic(t,n,i){i=Gh(i||0);var r=n.width,e=n.height,a=ze(t.left,r),o=ze(t.top,e),u=ze(t.right,r),s=ze(t.bottom,e),l=ze(t.width,r),f=ze(t.height,e),h=i[2]+i[0],c=i[1]+i[3],v=t.aspect;switch(isNaN(l)&&(l=r-u-c-a),isNaN(f)&&(f=e-s-h-o),null!=v&&(isNaN(l)&&isNaN(f)&&(v>r/e?l=.8*r:f=.8*e),isNaN(l)&&(l=v*f),isNaN(f)&&(f=l/v)),isNaN(a)&&(a=r-u-l-c),isNaN(o)&&(o=e-s-f-h),t.left||t.right){case"center":a=r/2-l/2-i[3];break;case"right":a=r-l-c}switch(t.top||t.bottom){case"middle":case"center":o=e/2-f/2-i[0];break;case"bottom":o=e-f-h}a=a||0,o=o||0,isNaN(l)&&(l=r-c-a-(u||0)),isNaN(f)&&(f=e-h-o-(s||0));var d=new In(a+i[3],o+i[0],l,f);return d.margin=i,d}function rc(t,n,i,r,e,a){var o,u=!e||!e.hv||e.hv[0],s=!e||!e.hv||e.hv[1],l=e&&e.boundingMode||"all";if((a=a||t).x=t.x,a.y=t.y,!u&&!s)return!1;if("raw"===l)o="group"===t.type?new In(0,0,+n.width||0,+n.height||0):t.getBoundingRect();else if(o=t.getBoundingRect(),t.needLocalTransform()){var f=t.getLocalTransform();(o=o.clone()).applyTransform(f)}var h=ic(R({width:o.width,height:o.height},n),i,r),c=u?h.x-o.x:0,v=s?h.y-o.y:0;return"raw"===l?(a.x=c,a.y=v):(a.x+=c,a.y+=v),a===t&&t.markRedraw(),!0}function ec(t){var n=t.layoutMode||t.constructor.layoutMode;return K(n)?n:n?{type:n}:null}function ac(t,n,i){var r=i&&i.ignoreSize;!X(r)&&(r=[r,r]);var e=o(Qh[0],0),a=o(Qh[1],1);function o(i,e){var a={},o=0,l={},f=0;if(Jh(i,(function(n){l[n]=t[n]})),Jh(i,(function(t){u(n,t)&&(a[t]=l[t]=n[t]),s(a,t)&&o++,s(l,t)&&f++})),r[e])return s(n,i[1])?l[i[2]]=null:s(n,i[2])&&(l[i[1]]=null),l;if(2!==f&&o){if(o>=2)return a;for(var h=0;h<i.length;h++){var c=i[h];if(!u(a,c)&&u(t,c)){a[c]=t[c];break}}return a}return l}function u(t,n){return t.hasOwnProperty(n)}function s(t,n){return null!=t[n]&&"auto"!==t[n]}function l(t,n,i){Jh(t,(function(t){n[t]=i[t]}))}l(Qh[0],t,e),l(Qh[1],t,a)}function oc(t){return uc({},t)}function uc(t,n){return n&&t&&Jh($h,(function(i){n.hasOwnProperty(i)&&(t[i]=n[i])})),t}G(tc,"vertical"),G(tc,"horizontal");var sc=ca(),lc=function(t){function n(n,i,r){var e=t.call(this,n,i,r)||this;return e.uid=ih("ec_cpt_model"),e}var i;return l(n,t),n.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i)},n.prototype.mergeDefaultAndTheme=function(t,n){var i=ec(this),r=i?oc(t):{};L(t,n.getTheme().get(this.mainType)),L(t,this.getDefaultOption()),i&&ac(t,r,i)},n.prototype.mergeOption=function(t,n){L(this.option,t,!0);var i=ec(this);i&&ac(this.option,t,i)},n.prototype.optionUpdated=function(t,n){},n.prototype.getDefaultOption=function(){var t=this.constructor;if(!function(t){return!(!t||!t[Sa])}(t))return t.defaultOption;var n=sc(this);if(!n.defaultOption){for(var i=[],r=t;r;){var e=r.prototype.defaultOption;e&&i.push(e),r=r.superClass}for(var a={},o=i.length-1;o>=0;o--)a=L(a,i[o],!0);n.defaultOption=a}return n.defaultOption},n.prototype.getReferringComponents=function(t,n){var i=t+"Index",r=t+"Id";return ga(this.ecModel,t,{index:this.get(i,!0),id:this.get(r,!0)},n)},n.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(t){this.option.zlevel=t},n.protoInitialize=((i=n.prototype).type="component",i.id="",i.name="",i.mainType="",i.subType="",void(i.componentIndex=0)),n}(th);Na(lc,th),za(lc),function(t){var n={};t.registerSubTypeDefaulter=function(t,i){var r=ka(t);n[r.main]=i},t.determineSubType=function(i,r){var e=r.type;if(!e){var a=ka(i).main;t.hasSubTypes(i)&&n[a]&&(e=n[a](r))}return e}}(lc),function(t,n){function i(t,n){return t[n]||(t[n]={predecessor:[],successor:[]}),t[n]}t.topologicalTravel=function(t,r,e,a){if(t.length){var o=function(t){var r={},e=[];return E(t,(function(a){var o=i(r,a),u=function(t,n){var i=[];return E(t,(function(t){F(n,t)>=0&&i.push(t)})),i}(o.originalDeps=n(a),t);o.entryCount=u.length,0===o.entryCount&&e.push(a),E(u,(function(t){F(o.predecessor,t)<0&&o.predecessor.push(t);var n=i(r,t);F(n.successor,t)<0&&n.successor.push(a)}))})),{graph:r,noEntryList:e}}(r),u=o.graph,s=o.noEntryList,l={};for(E(t,(function(t){l[t]=!0}));s.length;){var f=s.pop(),h=u[f],c=!!l[f];c&&(e.call(a,f,h.originalDeps.slice()),delete l[f]),E(h.successor,c?d:v)}E(l,(function(){throw new Error("")}))}function v(t){u[t].entryCount--,0===u[t].entryCount&&s.push(t)}function d(t){l[t]=!0,v(t)}}}(lc,(function(t){var n=[];E(lc.getClassesByMainType(t),(function(t){n=n.concat(t.dependencies||t.prototype.dependencies||[])})),n=P(n,(function(t){return ka(t).main})),"dataset"!==t&&F(n,"dataset")<=0&&n.unshift("dataset");return n}));var fc="";"undefined"!=typeof navigator&&(fc=navigator.platform||"");var hc="rgba(0, 0, 0, 0.2)";const cc={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:hc,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:hc,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:hc,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:hc,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:hc,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:hc,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:fc.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var vc=pt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),dc="original",pc="arrayRows",mc="objectRows",yc="keyedColumns",gc="typedArray",bc="unknown",wc="column",xc="row",Mc=1,Sc=2,kc=3,Ac=ca();function Nc(t,n,i){var r={},e=Tc(n);if(!e||!t)return r;var a,o,u=[],s=[],l=n.ecModel,f=Ac(l).datasetMap,h=e.uid+"_"+i.seriesLayoutBy;E(t=t.slice(),(function(n,i){var e=K(n)?n:t[i]={name:n};"ordinal"===e.type&&null==a&&(a=i,o=d(e)),r[e.name]=[]}));var c=f.get(h)||f.set(h,{categoryWayDim:o,valueWayDim:0});function v(t,n,i){for(var r=0;r<i;r++)t.push(n+r)}function d(t){var n=t.dimsDef;return n?n.length:1}return E(t,(function(t,n){var i=t.name,e=d(t);if(null==a){var o=c.valueWayDim;v(r[i],o,e),v(s,o,e),c.valueWayDim+=e}else if(a===n)v(r[i],0,e),v(u,0,e);else{o=c.categoryWayDim;v(r[i],o,e),v(s,o,e),c.categoryWayDim+=e}})),u.length&&(r.itemName=u),s.length&&(r.seriesName=s),r}function Cc(t,n,i){var r={};if(!Tc(t))return r;var e,a=n.sourceFormat,o=n.dimensionsDefine;a!==mc&&a!==yc||E(o,(function(t,n){"name"===(K(t)?t.name:t)&&(e=n)}));var u=function(){for(var t={},r={},u=[],s=0,l=Math.min(5,i);s<l;s++){var f=zc(n.data,a,n.seriesLayoutBy,o,n.startIndex,s);u.push(f);var h=f===kc;if(h&&null==t.v&&s!==e&&(t.v=s),(null==t.n||t.n===t.v||!h&&u[t.n]===kc)&&(t.n=s),c(t)&&u[t.n]!==kc)return t;h||(f===Sc&&null==r.v&&s!==e&&(r.v=s),null!=r.n&&r.n!==r.v||(r.n=s))}function c(t){return null!=t.v&&null!=t.n}return c(t)?t:c(r)?r:null}();if(u){r.value=[u.v];var s=null!=e?e:u.n;r.itemName=[s],r.seriesName=[s]}return r}function Tc(t){if(!t.get("data",!0))return ga(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},ma).models[0]}function Ic(t,n){return zc(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,n)}function zc(t,n,i,r,e,a){var o,u,s;if($(t))return kc;if(r){var l=r[a];K(l)?(u=l.name,s=l.type):j(l)&&(u=l)}if(null!=s)return"ordinal"===s?Mc:kc;if(n===pc){var f=t;if(i===xc){for(var h=f[a],c=0;c<(h||[]).length&&c<5;c++)if(null!=(o=g(h[e+c])))return o}else for(c=0;c<f.length&&c<5;c++){var v=f[e+c];if(v&&null!=(o=g(v[a])))return o}}else if(n===mc){var d=t;if(!u)return kc;for(c=0;c<d.length&&c<5;c++){if((m=d[c])&&null!=(o=g(m[u])))return o}}else if(n===yc){if(!u)return kc;if(!(h=t[u])||$(h))return kc;for(c=0;c<h.length&&c<5;c++)if(null!=(o=g(h[c])))return o}else if(n===dc){var p=t;for(c=0;c<p.length&&c<5;c++){var m,y=ra(m=p[c]);if(!X(y))return kc;if(null!=(o=g(y[a])))return o}}function g(t){var n=j(t);return null!=t&&Number.isFinite(Number(t))&&""!==t?n?Sc:kc:n&&"-"!==t?Mc:void 0}return kc}var Lc=pt();var Oc,Dc,Rc,Fc=ca(),Bc=ca(),_c=function(){function t(){}return t.prototype.getColorFromPalette=function(t,n,i){var r=ta(this.get("color",!0)),e=this.get("colorLayer",!0);return Pc(this,Fc,r,e,t,n,i)},t.prototype.clearColorPalette=function(){var t,n;(n=Fc)(t=this).paletteIdx=0,n(t).paletteNameMap={}},t}();function Ec(t,n,i,r){var e=ta(t.get(["aria","decal","decals"]));return Pc(t,Bc,e,null,n,i,r)}function Pc(t,n,i,r,e,a,o){var u=n(a=a||t),s=u.paletteIdx||0,l=u.paletteNameMap=u.paletteNameMap||{};if(l.hasOwnProperty(e))return l[e];var f=null!=o&&r?function(t,n){for(var i=t.length,r=0;r<i;r++)if(t[r].length>n)return t[r];return t[i-1]}(r,o):i;if((f=f||i)&&f.length){var h=f[s];return e&&(l[e]=h),u.paletteIdx=(s+1)%f.length,h}}var Wc="\0_ec_inner",Vc=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.init=function(t,n,i,r,e,a){r=r||{},this.option=null,this.Ii=new th(r),this.zi=new th(e),this.Li=a},n.prototype.setOption=function(t,n,i){var r=Gc(n);this.Li.setOption(t,i,r),this.Oi(null,r)},n.prototype.resetOption=function(t,n){return this.Oi(t,Gc(n))},n.prototype.Oi=function(t,n){var i=!1,r=this.Li;if(!t||"recreate"===t){var e=r.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.Di(e,n)):Rc(this,e),i=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var a=r.getTimelineOption(this);a&&(i=!0,this.Di(a,n))}if(!t||"recreate"===t||"media"===t){var o=r.getMediaOption(this);o.length&&E(o,(function(t){i=!0,this.Di(t,n)}),this)}return i},n.prototype.mergeOption=function(t){this.Di(t,null)},n.prototype.Di=function(t,n){var i=this.option,r=this.Ri,e=this.Fi,a=[],o=pt(),u=n&&n.replaceMergeMainTypeMap;Ac(this).datasetMap=pt(),E(t,(function(t,n){null!=t&&(lc.hasClass(n)?n&&(a.push(n),o.set(n,!0)):i[n]=null==i[n]?z(t):L(i[n],t,!0))})),u&&u.each((function(t,n){lc.hasClass(n)&&!o.get(n)&&(a.push(n),o.set(n,!0))})),lc.topologicalTravel(a,lc.getAllClassMainTypes(),(function(n){var a=function(t,n,i){var r=Lc.get(n);if(!r)return i;var e=r(t);return e?i.concat(e):i}(this,n,ta(t[n])),o=r.get(n),s=o?u&&u.get(n)?"replaceMerge":"normalMerge":"replaceAll",l=aa(o,a,s);(function(t,n,i){E(t,(function(t){var r=t.newOption;K(r)&&(t.keyInfo.mainType=n,t.keyInfo.subType=function(t,n,i,r){return n.type?n.type:i?i.subType:r.determineSubType(t,n)}(n,r,t.existing,i))}))})(l,n,lc),i[n]=null,r.set(n,null),e.set(n,0);var f,h=[],c=[],v=0;E(l,(function(t,i){var r=t.existing,e=t.newOption;if(e){var a="series"===n,o=lc.getClass(n,t.keyInfo.subType,!a);if(!o)return;if("tooltip"===n){if(f)return;f=!0}if(r&&r.constructor===o)r.name=t.keyInfo.name,r.mergeOption(e,this),r.optionUpdated(e,!1);else{var u=D({componentIndex:i},t.keyInfo);D(r=new o(e,this,this,u),u),t.brandNew&&(r.Bi=!0),r.init(e,this,this),r.optionUpdated(null,!0)}}else r&&(r.mergeOption({},this),r.optionUpdated({},!1));r?(h.push(r.option),c.push(r),v++):(h.push(void 0),c.push(void 0))}),this),i[n]=h,r.set(n,c),e.set(n,v),"series"===n&&Oc(this)}),this),this._i||Oc(this)},n.prototype.getOption=function(){var t=z(this.option);return E(t,(function(n,i){if(lc.hasClass(i)){for(var r=ta(n),e=r.length,a=!1,o=e-1;o>=0;o--)r[o]&&!fa(r[o])?a=!0:(r[o]=null,!a&&e--);r.length=e,t[i]=r}})),delete t[Wc],t},n.prototype.getTheme=function(){return this.Ii},n.prototype.getLocaleModel=function(){return this.zi},n.prototype.setUpdatePayload=function(t){this.Ei=t},n.prototype.getUpdatePayload=function(){return this.Ei},n.prototype.getComponent=function(t,n){var i=this.Ri.get(t);if(i){var r=i[n||0];if(r)return r;if(null==n)for(var e=0;e<i.length;e++)if(i[e])return i[e]}},n.prototype.queryComponents=function(t){var n=t.mainType;if(!n)return[];var i,r=t.index,e=t.id,a=t.name,o=this.Ri.get(n);return o&&o.length?(null!=r?(i=[],E(ta(r),(function(t){o[t]&&i.push(o[t])}))):i=null!=e?Hc("id",e,o):null!=a?Hc("name",a,o):V(o,(function(t){return!!t})),Yc(i,t)):[]},n.prototype.findComponents=function(t){var n,i,r,e,a,o=t.query,u=t.mainType,s=(i=u+"Index",r=u+"Id",e=u+"Name",!(n=o)||null==n[i]&&null==n[r]&&null==n[e]?null:{mainType:u,index:n[i],id:n[r],name:n[e]}),l=s?this.queryComponents(s):V(this.Ri.get(u),(function(t){return!!t}));return a=Yc(l,t),t.filter?V(a,t.filter):a},n.prototype.eachComponent=function(t,n,i){var r=this.Ri;if(U(t)){var e=n,a=t;r.each((function(t,n){for(var i=0;t&&i<t.length;i++){var r=t[i];r&&a.call(e,n,r,r.componentIndex)}}))}else for(var o=j(t)?r.get(t):K(t)?this.findComponents(t):null,u=0;o&&u<o.length;u++){var s=o[u];s&&n.call(i,s,s.componentIndex)}},n.prototype.getSeriesByName=function(t){var n=sa(t,null);return V(this.Ri.get("series"),(function(t){return!!t&&null!=n&&t.name===n}))},n.prototype.getSeriesByIndex=function(t){return this.Ri.get("series")[t]},n.prototype.getSeriesByType=function(t){return V(this.Ri.get("series"),(function(n){return!!n&&n.subType===t}))},n.prototype.getSeries=function(){return V(this.Ri.get("series"),(function(t){return!!t}))},n.prototype.getSeriesCount=function(){return this.Fi.get("series")},n.prototype.eachSeries=function(t,n){Dc(this),E(this._i,(function(i){var r=this.Ri.get("series")[i];t.call(n,r,i)}),this)},n.prototype.eachRawSeries=function(t,n){E(this.Ri.get("series"),(function(i){i&&t.call(n,i,i.componentIndex)}))},n.prototype.eachSeriesByType=function(t,n,i){Dc(this),E(this._i,(function(r){var e=this.Ri.get("series")[r];e.subType===t&&n.call(i,e,r)}),this)},n.prototype.eachRawSeriesByType=function(t,n,i){return E(this.getSeriesByType(t),n,i)},n.prototype.isSeriesFiltered=function(t){return Dc(this),null==this.Pi.get(t.componentIndex)},n.prototype.getCurrentSeriesIndices=function(){return(this._i||[]).slice()},n.prototype.filterSeries=function(t,n){Dc(this);var i=[];E(this._i,(function(r){var e=this.Ri.get("series")[r];t.call(n,e,r)&&i.push(r)}),this),this._i=i,this.Pi=pt(i)},n.prototype.restoreData=function(t){Oc(this);var n=this.Ri,i=[];n.each((function(t,n){lc.hasClass(n)&&i.push(n)})),lc.topologicalTravel(i,lc.getAllClassMainTypes(),(function(i){E(n.get(i),(function(n){!n||"series"===i&&function(t,n){if(n){var i=n.seriesIndex,r=n.seriesId,e=n.seriesName;return null!=i&&t.componentIndex!==i||null!=r&&t.id!==r||null!=e&&t.name!==e}}(n,t)||n.restoreData()}))}))},n.internalField=(Oc=function(t){var n=t._i=[];E(t.Ri.get("series"),(function(t){t&&n.push(t.componentIndex)})),t.Pi=pt(n)},Dc=function(t){},void(Rc=function(t,n){t.option={},t.option[Wc]=1,t.Ri=pt({series:[]}),t.Fi=pt();var i,r,e,a=n.aria;K(a)&&null==a.enabled&&(a.enabled=!0),i=n,r=t.Ii.option,e=i.color&&!i.colorLayer,E(r,(function(t,n){"colorLayer"===n&&e||lc.hasClass(n)||("object"==typeof t?i[n]=i[n]?L(i[n],t,!1):z(t):null==i[n]&&(i[n]=t))})),L(n,cc,!1),t.Di(n,null)})),n}(th);function Hc(t,n,i){if(X(n)){var r=pt();return E(n,(function(t){null!=t&&(null!=sa(t,null)&&r.set(t,!0))})),V(i,(function(n){return n&&r.get(n[t])}))}var e=sa(n,null);return V(i,(function(n){return n&&null!=e&&n[t]===e}))}function Yc(t,n){return n.hasOwnProperty("subType")?V(t,(function(t){return t&&t.subType===n.subType})):t}function Gc(t){var n=pt();return t&&E(ta(t.replaceMerge),(function(t){n.set(t,!0)})),{replaceMergeMainTypeMap:n}}B(Vc,_c);var Xc=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],Uc=function(){return function(t){E(Xc,(function(n){this[n]=Y(t[n],t)}),this)}}(),jc={},Zc=function(){function t(){this.Wi=[]}return t.prototype.create=function(t,n){var i=[];E(jc,(function(r,e){var a=r.create(t,n);i=i.concat(a||[])})),this.Wi=i},t.prototype.update=function(t,n){E(this.Wi,(function(i){i.update&&i.update(t,n)}))},t.prototype.getCoordinateSystems=function(){return this.Wi.slice()},t.register=function(t,n){jc[t]=n},t.get=function(t){return jc[t]},t}(),qc=/^(min|max)?(.+)$/,Kc=function(){function t(t){this.Vi=[],this.Hi=[],this.Yi=[],this.Gi=t}return t.prototype.setOption=function(t,n,i){t&&(E(ta(t.series),(function(t){t&&t.data&&$(t.data)&&ft(t.data)})),E(ta(t.dataset),(function(t){t&&t.source&&$(t.source)&&ft(t.source)}))),t=z(t);var r=this.Xi,e=function(t,n,i){var r,e,a=[],o=t.baseOption,u=t.timeline,s=t.options,l=t.media,f=!!t.media,h=!!(s||u||o&&o.timeline);o?(e=o).timeline||(e.timeline=u):((h||f)&&(t.options=t.media=null),e=t);f&&X(l)&&E(l,(function(t){t&&t.option&&(t.query?a.push(t):r||(r=t))}));function c(t){E(n,(function(n){n(t,i)}))}return c(e),E(s,(function(t){return c(t)})),E(a,(function(t){return c(t.option)})),{baseOption:e,timelineOptions:s||[],mediaDefault:r,mediaList:a}}(t,n,!r);this.Ui=e.baseOption,r?(e.timelineOptions.length&&(r.timelineOptions=e.timelineOptions),e.mediaList.length&&(r.mediaList=e.mediaList),e.mediaDefault&&(r.mediaDefault=e.mediaDefault)):this.Xi=e},t.prototype.mountOption=function(t){var n=this.Xi;return this.Vi=n.timelineOptions,this.Hi=n.mediaList,this.ji=n.mediaDefault,this.Yi=[],z(t?n.baseOption:this.Ui)},t.prototype.getTimelineOption=function(t){var n,i=this.Vi;if(i.length){var r=t.getComponent("timeline");r&&(n=z(i[r.getCurrentIndex()]))}return n},t.prototype.getMediaOption=function(t){var n,i,r=this.Gi.getWidth(),e=this.Gi.getHeight(),a=this.Hi,o=this.ji,u=[],s=[];if(!a.length&&!o)return s;for(var l=0,f=a.length;l<f;l++)Jc(a[l].query,r,e)&&u.push(l);return!u.length&&o&&(u=[-1]),u.length&&(n=u,i=this.Yi,n.join(",")!==i.join(","))&&(s=P(u,(function(t){return z(-1===t?o.option:a[t].option)}))),this.Yi=u,s},t}();function Jc(t,n,i){var r={width:n,height:i,aspectratio:n/i},e=!0;return E(t,(function(t,n){var i=n.match(qc);if(i&&i[1]&&i[2]){var a=i[1],o=i[2].toLowerCase();(function(t,n,i){return"min"===i?t>=n:"max"===i?t<=n:t===n})(r[o],t,a)||(e=!1)}})),e}var $c=E,Qc=K,tv=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function nv(t){var n=t&&t.itemStyle;if(n)for(var i=0,r=tv.length;i<r;i++){var e=tv[i],a=n.normal,o=n.emphasis;a&&a[e]&&(t[e]=t[e]||{},t[e].normal?L(t[e].normal,a[e]):t[e].normal=a[e],a[e]=null),o&&o[e]&&(t[e]=t[e]||{},t[e].emphasis?L(t[e].emphasis,o[e]):t[e].emphasis=o[e],o[e]=null)}}function iv(t,n,i){if(t&&t[n]&&(t[n].normal||t[n].emphasis)){var r=t[n].normal,e=t[n].emphasis;r&&(i?(t[n].normal=t[n].emphasis=null,R(t[n],r)):t[n]=r),e&&(t.emphasis=t.emphasis||{},t.emphasis[n]=e,e.focus&&(t.emphasis.focus=e.focus),e.blurScope&&(t.emphasis.blurScope=e.blurScope))}}function rv(t){iv(t,"itemStyle"),iv(t,"lineStyle"),iv(t,"areaStyle"),iv(t,"label"),iv(t,"labelLine"),iv(t,"upperLabel"),iv(t,"edgeLabel")}function ev(t,n){var i=Qc(t)&&t[n],r=Qc(i)&&i.textStyle;if(r)for(var e=0,a=ia.length;e<a;e++){var o=ia[e];r.hasOwnProperty(o)&&(i[o]=r[o])}}function av(t){t&&(rv(t),ev(t,"label"),t.emphasis&&ev(t.emphasis,"label"))}function ov(t){return X(t)?t:t?[t]:[]}function uv(t){return(X(t)?t[0]:t)||{}}function sv(t,n){$c(ov(t.series),(function(t){Qc(t)&&function(t){if(Qc(t)){nv(t),rv(t),ev(t,"label"),ev(t,"upperLabel"),ev(t,"edgeLabel"),t.emphasis&&(ev(t.emphasis,"label"),ev(t.emphasis,"upperLabel"),ev(t.emphasis,"edgeLabel"));var n=t.markPoint;n&&(nv(n),av(n));var i=t.markLine;i&&(nv(i),av(i));var r=t.markArea;r&&av(r);var e=t.data;if("graph"===t.type){e=e||t.nodes;var a=t.links||t.edges;if(a&&!$(a))for(var o=0;o<a.length;o++)av(a[o]);E(t.categories,(function(t){rv(t)}))}if(e&&!$(e))for(o=0;o<e.length;o++)av(e[o]);if((n=t.markPoint)&&n.data){var u=n.data;for(o=0;o<u.length;o++)av(u[o])}if((i=t.markLine)&&i.data){var s=i.data;for(o=0;o<s.length;o++)X(s[o])?(av(s[o][0]),av(s[o][1])):av(s[o])}"gauge"===t.type?(ev(t,"axisLabel"),ev(t,"title"),ev(t,"detail")):"treemap"===t.type?(iv(t.breadcrumb,"itemStyle"),E(t.levels,(function(t){rv(t)}))):"tree"===t.type&&rv(t.leaves)}}(t)}));var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),$c(i,(function(n){$c(ov(t[n]),(function(t){t&&(ev(t,"axisLabel"),ev(t.axisPointer,"label"))}))})),$c(ov(t.parallel),(function(t){var n=t&&t.parallelAxisDefault;ev(n,"axisLabel"),ev(n&&n.axisPointer,"label")})),$c(ov(t.calendar),(function(t){iv(t,"itemStyle"),ev(t,"dayLabel"),ev(t,"monthLabel"),ev(t,"yearLabel")})),$c(ov(t.radar),(function(t){ev(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),$c(ov(t.geo),(function(t){Qc(t)&&(av(t),$c(ov(t.regions),(function(t){av(t)})))})),$c(ov(t.timeline),(function(t){av(t),iv(t,"label"),iv(t,"itemStyle"),iv(t,"controlStyle",!0);var n=t.data;X(n)&&E(n,(function(t){K(t)&&(iv(t,"label"),iv(t,"itemStyle"))}))})),$c(ov(t.toolbox),(function(t){iv(t,"iconStyle"),$c(t.feature,(function(t){iv(t,"iconStyle")}))})),ev(uv(t.axisPointer),"label"),ev(uv(t.tooltip).axisPointer,"label")}function lv(t){t&&E(fv,(function(n){n[0]in t&&!(n[1]in t)&&(t[n[1]]=t[n[0]])}))}var fv=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],hv=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],cv=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function vv(t){var n=t&&t.itemStyle;if(n)for(var i=0;i<cv.length;i++){var r=cv[i][1],e=cv[i][0];null!=n[r]&&(n[e]=n[r])}}function dv(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function pv(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function mv(t,n){if(t)for(var i=0;i<t.length;i++)n(t[i]),t[i]&&mv(t[i].children,n)}function yv(t,n){sv(t,n),t.series=ta(t.series),E(t.series,(function(t){if(K(t)){var n=t.type;if("line"===n)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===n||"gauge"===n){if(null!=t.clockWise&&(t.clockwise=t.clockWise),dv(t.label),(e=t.data)&&!$(e))for(var i=0;i<e.length;i++)dv(e[i]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===n){var r=function(t,n){for(var i=n.split(","),r=t,e=0;e<i.length&&null!=(r=r&&r[i[e]]);e++);return r}(t,"pointer.color");null!=r&&function(t,n,i){for(var r,e=n.split(","),a=t,o=0;o<e.length-1;o++)null==a[r=e[o]]&&(a[r]={}),a=a[r];null==a[e[o]]&&(a[e[o]]=i)}(t,"itemStyle.color",r)}else if("bar"===n){var e;if(vv(t),vv(t.backgroundStyle),vv(t.emphasis),(e=t.data)&&!$(e))for(i=0;i<e.length;i++)"object"==typeof e[i]&&(vv(e[i]),vv(e[i]&&e[i].emphasis))}else if("sunburst"===n){var a=t.highlightPolicy;a&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=a)),pv(t),mv(t.data,pv)}else"graph"===n||"sankey"===n?function(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}(t):"map"===n&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&R(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),lv(t)}})),t.dataRange&&(t.visualMap=t.dataRange),E(hv,(function(n){var i=t[n];i&&(X(i)||(i=[i]),E(i,(function(t){lv(t)})))}))}function gv(t){E(t,(function(n,i){var r=[],e=[NaN,NaN],a=[n.stackResultDimension,n.stackedOverDimension],o=n.data,u=n.isStackedByIndex,s=n.seriesModel.get("stackStrategy")||"samesign";o.modify(a,(function(a,l,f){var h,c,v=o.get(n.stackedDimension,f);if(isNaN(v))return e;u?c=o.getRawIndex(f):h=o.get(n.stackedByDimension,f);for(var d=NaN,p=i-1;p>=0;p--){var m=t[p];if(u||(c=m.data.rawIndexOf(m.stackedByDimension,h)),c>=0){var y=m.data.getByRawIndex(m.stackResultDimension,c);if("all"===s||"positive"===s&&y>0||"negative"===s&&y<0||"samesign"===s&&v>=0&&y>0||"samesign"===s&&v<=0&&y<0){v=Fe(v,y),d=y;break}}}return r[0]=v,r[1]=d,r}))}))}var bv,wv,xv,Mv,Sv,kv=function(){return function(t){this.data=t.data||(t.sourceFormat===yc?{}:[]),this.sourceFormat=t.sourceFormat||bc,this.seriesLayoutBy=t.seriesLayoutBy||wc,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var i=0;i<n.length;i++){var r=n[i];null==r.type&&Ic(this,i)===Mc&&(r.type="ordinal")}}}();function Av(t){return t instanceof kv}function Nv(t,n,i){i=i||Tv(t);var r=n.seriesLayoutBy,e=function(t,n,i,r,e){var a,o;if(!t)return{dimensionsDefine:Iv(e),startIndex:o,dimensionsDetectedCount:a};if(n===pc){var u=t;"auto"===r||null==r?zv((function(t){null!=t&&"-"!==t&&(j(t)?null==o&&(o=1):o=0)}),i,u,10):o=q(r)?r:r?1:0,e||1!==o||(e=[],zv((function(t,n){e[n]=null!=t?t+"":""}),i,u,1/0)),a=e?e.length:i===xc?u.length:u[0]?u[0].length:null}else if(n===mc)e||(e=function(t){var n,i=0;for(;i<t.length&&!(n=t[i++]););if(n)return H(n)}(t));else if(n===yc)e||(e=[],E(t,(function(t,n){e.push(n)})));else if(n===dc){var s=ra(t[0]);a=X(s)&&s.length||1}return{startIndex:o,dimensionsDefine:Iv(e),dimensionsDetectedCount:a}}(t,i,r,n.sourceHeader,n.dimensions);return new kv({data:t,sourceFormat:i,seriesLayoutBy:r,dimensionsDefine:e.dimensionsDefine,startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount,metaRawOption:z(n)})}function Cv(t){return new kv({data:t,sourceFormat:$(t)?gc:dc})}function Tv(t){var n=bc;if($(t))n=gc;else if(X(t)){0===t.length&&(n=pc);for(var i=0,r=t.length;i<r;i++){var e=t[i];if(null!=e){if(X(e)||$(e)){n=pc;break}if(K(e)){n=mc;break}}}}else if(K(t))for(var a in t)if(bt(t,a)&&_(t[a])){n=yc;break}return n}function Iv(t){if(t){var n=pt();return P(t,(function(t,i){var r={name:(t=K(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var e=n.get(r.name);return e?r.name+="-"+e.count++:n.set(r.name,{count:1}),r}))}}function zv(t,n,i,r){if(n===xc)for(var e=0;e<i.length&&e<r;e++)t(i[e]?i[e][0]:null,e);else{var a=i[0]||[];for(e=0;e<a.length&&e<r;e++)t(a[e],e)}}function Lv(t){var n=t.sourceFormat;return n===mc||n===yc}var Ov=function(){function t(t,n){var i=Av(t)?t:Cv(t);this.Zi=i;var r=this.qi=i.data;i.sourceFormat===gc&&(this.Ki=0,this.Ji=n,this.qi=r),Sv(this,r,i)}var n;return t.prototype.getSource=function(){return this.Zi},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,n){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=((n=t.prototype).pure=!1,void(n.persistent=!0)),t.internalField=function(){var t;Sv=function(t,e,a){var o=a.sourceFormat,u=a.seriesLayoutBy,s=a.startIndex,l=a.dimensionsDefine;if(D(t,Mv[Hv(o,u)]),o===gc)t.getItem=n,t.count=r,t.fillStorage=i;else{var f=Fv(o,u);t.getItem=Y(f,null,e,s,l);var h=Ev(o,u);t.count=Y(h,null,e,s,l)}};var n=function(t,n){t-=this.Ki,n=n||[];for(var i=this.qi,r=this.Ji,e=r*t,a=0;a<r;a++)n[a]=i[e+a];return n},i=function(t,n,i,r){for(var e=this.qi,a=this.Ji,o=0;o<a;o++){for(var u=r[o],s=null==u[0]?1/0:u[0],l=null==u[1]?-1/0:u[1],f=n-t,h=i[o],c=0;c<f;c++){var v=e[c*a+o];h[t+c]=v,v<s&&(s=v),v>l&&(l=v)}u[0]=s,u[1]=l}},r=function(){return this.qi?this.qi.length/this.Ji:0};function e(t){for(var n=0;n<t.length;n++)this.qi.push(t[n])}(t={})[pc+"_"+wc]={pure:!0,appendData:e},t[pc+"_"+xc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[mc]={pure:!0,appendData:e},t[yc]={pure:!0,appendData:function(t){var n=this.qi;E(t,(function(t,i){for(var r=n[i]||(n[i]=[]),e=0;e<(t||[]).length;e++)r.push(t[e])}))}},t[dc]={appendData:e},t[gc]={persistent:!1,pure:!0,appendData:function(t){this.qi=t},clean:function(){this.Ki+=this.count(),this.qi=null}},Mv=t}(),t}(),Dv=function(t,n,i,r){return t[r]},Rv=((bv={})[pc+"_"+wc]=function(t,n,i,r){return t[r+n]},bv[pc+"_"+xc]=function(t,n,i,r,e){r+=n;for(var a=e||[],o=t,u=0;u<o.length;u++){var s=o[u];a[u]=s?s[r]:null}return a},bv[mc]=Dv,bv[yc]=function(t,n,i,r,e){for(var a=e||[],o=0;o<i.length;o++){var u=t[i[o].name];a[o]=u?u[r]:null}return a},bv[dc]=Dv,bv);function Fv(t,n){return Rv[Hv(t,n)]}var Bv=function(t,n,i){return t.length},_v=((wv={})[pc+"_"+wc]=function(t,n,i){return Math.max(0,t.length-n)},wv[pc+"_"+xc]=function(t,n,i){var r=t[0];return r?Math.max(0,r.length-n):0},wv[mc]=Bv,wv[yc]=function(t,n,i){var r=t[i[0].name];return r?r.length:0},wv[dc]=Bv,wv);function Ev(t,n){return _v[Hv(t,n)]}var Pv=function(t,n,i){return t[n]},Wv=((xv={})[pc]=Pv,xv[mc]=function(t,n,i){return t[i]},xv[yc]=Pv,xv[dc]=function(t,n,i){var r=ra(t);return r instanceof Array?r[n]:r},xv[gc]=Pv,xv);function Vv(t){return Wv[t]}function Hv(t,n){return t===pc?t+"_"+n:t}function Yv(t,n,i){if(t){var r=t.getRawDataItem(n);if(null!=r){var e=t.getStore(),a=e.getSource().sourceFormat;if(null!=i){var o=t.getDimensionIndex(i),u=e.getDimensionProperty(o);return Vv(a)(r,o,u)}var s=r;return a===dc&&(s=ra(r)),s}}}var Gv=/\{@(.+?)\}/g,Xv=function(){function t(){}return t.prototype.getDataParams=function(t,n){var i=this.getData(n),r=this.getRawValue(t,n),e=i.getRawIndex(t),a=i.getName(t),o=i.getRawDataItem(t),u=i.getItemVisual(t,"style"),s=u&&u[i.getItemVisual(t,"drawType")||"fill"],l=u&&u.stroke,f=this.mainType,h="series"===f,c=i.userOutput&&i.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:a,dataIndex:e,data:o,dataType:n,value:r,color:s,borderColor:l,dimensionNames:c?c.fullDimensions:null,encode:c?c.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,n,i,r,e,a){n=n||"normal";var o=this.getData(i),u=this.getDataParams(t,i);(a&&(u.value=a.interpolatedValue),null!=r&&X(u.value)&&(u.value=u.value[r]),e)||(e=o.getItemModel(t).get("normal"===n?["label","formatter"]:[n,"label","formatter"]));return U(e)?(u.status=n,u.dimensionIndex=r,e(u)):j(e)?Zh(e,u).replace(Gv,(function(n,i){var r=i.length,e=i;"["===e.charAt(0)&&"]"===e.charAt(r-1)&&(e=+e.slice(1,r-1));var u=Yv(o,t,e);if(a&&X(a.interpolatedValue)){var s=o.getDimensionIndex(e);s>=0&&(u=a.interpolatedValue[s])}return null!=u?u+"":""})):void 0},t.prototype.getRawValue=function(t,n){return Yv(this.getData(n),t)},t.prototype.formatTooltip=function(t,n,i){},t}();function Uv(t){var n,i;return K(t)?t.type&&(i=t):n=t,{text:n,frag:i}}function jv(t){return new Zv(t)}var Zv=function(){function t(t){t=t||{},this.$i=t.reset,this.Qi=t.plan,this.nr=t.count,this.ir=t.onDirty,this.rr=!0}return t.prototype.perform=function(t){var n,i=this.er,r=t&&t.skip;if(this.rr&&i){var e=this.context;e.data=e.outputData=i.context.outputData}this.ar&&(this.ar.currentTask=this),this.Qi&&!r&&(n=this.Qi(this.context));var a,o=f(this.ur),u=this.sr||0,s=f(t&&t.modBy),l=t&&t.modDataCount||0;function f(t){return!(t>=1)&&(t=1),t}o===s&&u===l||(n="reset"),(this.rr||"reset"===n)&&(this.rr=!1,a=this.lr(r)),this.ur=s,this.sr=l;var h=t&&t.step;if(this.hr=i?i.cr:this.nr?this.nr(this.context):1/0,this.vr){var c=this.dr,v=Math.min(null!=h?this.dr+h:1/0,this.hr);if(!r&&(a||c<v)){var d=this.vr;if(X(d))for(var p=0;p<d.length;p++)this.pr(d[p],c,v,s,l);else this.pr(d,c,v,s,l)}this.dr=v;var m=null!=this.mr?this.mr:v;this.cr=m}else this.dr=this.cr=null!=this.mr?this.mr:this.hr;return this.unfinished()},t.prototype.dirty=function(){this.rr=!0,this.ir&&this.ir(this.context)},t.prototype.pr=function(t,n,i,r,e){qv.reset(n,i,r,e),this.yr=t,this.yr({start:n,end:i,count:i-n,next:qv.next},this.context)},t.prototype.lr=function(t){var n,i;this.dr=this.cr=this.hr=0,this.mr=null,!t&&this.$i&&((n=this.$i(this.context))&&n.progress&&(i=n.forceFirstProgress,n=n.progress),X(n)&&!n.length&&(n=null)),this.vr=n,this.ur=this.sr=null;var r=this.gr;return r&&r.dirty(),i},t.prototype.unfinished=function(){return this.vr&&this.dr<this.hr},t.prototype.pipe=function(t){(this.gr!==t||this.rr)&&(this.gr=t,t.er=this,t.dirty())},t.prototype.dispose=function(){this.zn||(this.er&&(this.er.gr=null),this.gr&&(this.gr.er=null),this.rr=!1,this.zn=!0)},t.prototype.getUpstream=function(){return this.er},t.prototype.getDownstream=function(){return this.gr},t.prototype.setOutputEnd=function(t){this.cr=this.mr=t},t}(),qv=function(){var t,n,i,r,e,a={reset:function(s,l,f,h){n=s,t=l,i=f,r=h,e=Math.ceil(r/i),a.next=i>1&&r>0?u:o}};return a;function o(){return n<t?n++:null}function u(){var a=n%e*i+Math.ceil(n/e),o=n>=t?null:a<r?a:n;return n++,o}}();function Kv(t,n){var i=n&&n.type;return"ordinal"===i?t:("time"!==i||q(t)||null==t||"-"===t||(t=+We(t)),null==t||""===t?NaN:Number(t))}var Jv=pt({number:function(t){return parseFloat(t)},time:function(t){return+We(t)},trim:function(t){return j(t)?st(t):t}});function $v(t){return Jv.get(t)}var Qv={lt:function(t,n){return t<n},lte:function(t,n){return t<=n},gt:function(t,n){return t>n},gte:function(t,n){return t>=n}},td=function(){function t(t,n){if(!q(n)){Ke("")}this.wr=Qv[t],this.Mr=Xe(n)}return t.prototype.evaluate=function(t){return q(t)?this.wr(t,this.Mr):this.wr(Xe(t),this.Mr)},t}(),nd=function(){function t(t,n){var i="desc"===t;this.Sr=i?1:-1,null==n&&(n=i?"min":"max"),this.kr="min"===n?-1/0:1/0}return t.prototype.evaluate=function(t,n){var i=q(t)?t:Xe(t),r=q(n)?n:Xe(n),e=isNaN(i),a=isNaN(r);if(e&&(i=this.kr),a&&(r=this.kr),e&&a){var o=j(t),u=j(n);o&&(i=u?t:0),u&&(r=o?n:0)}return i<r?this.Sr:i>r?-this.Sr:0},t}(),id=function(){function t(t,n){this.Ar=n,this.Nr=t,this.Cr=typeof n,this.Mr=Xe(n)}return t.prototype.evaluate=function(t){var n=t===this.Ar;if(!n){var i=typeof t;i===this.Cr||"number"!==i&&"number"!==this.Cr||(n=Xe(t)===this.Mr)}return this.Nr?n:!n},t}();function rd(t,n){return"eq"===t||"ne"===t?new id("eq"===t,n):bt(Qv,t)?new td(t,n):null}var ed=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,n){},t.prototype.retrieveValueFromItem=function(t,n){},t.prototype.convertValue=function(t,n){return Kv(t,n)},t}();function ad(t){if(!hd(t.sourceFormat)){Ke("")}return t.data}function od(t){var n=t.sourceFormat,i=t.data;if(!hd(n)){Ke("")}if(n===pc){for(var r=[],e=0,a=i.length;e<a;e++)r.push(i[e].slice());return r}if(n===mc){for(r=[],e=0,a=i.length;e<a;e++)r.push(D({},i[e]));return r}}function ud(t,n,i){if(null!=i)return q(i)||!isNaN(i)&&!bt(n,i)?t[i]:bt(n,i)?n[i]:void 0}function sd(t){return z(t)}var ld=pt();function fd(t,n,i,r){n.length||Ke(""),K(t)||Ke("");var e=t.type,a=ld.get(e);a||Ke("");var o=P(n,(function(t){return function(t,n){var i=new ed,r=t.data,e=i.sourceFormat=t.sourceFormat,a=t.startIndex;t.seriesLayoutBy!==wc&&Ke("");var o=[],u={},s=t.dimensionsDefine;if(s)E(s,(function(t,n){var i=t.name,r={index:n,name:i,displayName:t.displayName};o.push(r),null!=i&&(bt(u,i)&&Ke(""),u[i]=r)}));else for(var l=0;l<t.dimensionsDetectedCount;l++)o.push({index:l});var f=Fv(e,wc);n.Tr&&(i.getRawDataItem=function(t){return f(r,a,o,t)},i.getRawData=Y(ad,null,t)),i.cloneRawData=Y(od,null,t);var h=Ev(e,wc);i.count=Y(h,null,r,a,o);var c=Vv(e);i.retrieveValue=function(t,n){var i=f(r,a,o,t);return v(i,n)};var v=i.retrieveValueFromItem=function(t,n){if(null!=t){var i=o[n];return i?c(t,n,i.name):void 0}};return i.getDimensionInfo=Y(ud,null,o,u),i.cloneAllDimensionInfo=Y(sd,null,o),i}(t,a)}));return P(ta(a.transform({upstream:o[0],upstreamList:o,config:z(t.config)})),(function(t,i){var r;K(t)||Ke(""),t.data||Ke(""),hd(Tv(t.data))||Ke("");var e=n[0];if(e&&0===i&&!t.dimensions){var a=e.startIndex;a&&(t.data=e.data.slice(0,a).concat(t.data)),r={seriesLayoutBy:wc,sourceHeader:a,dimensions:e.metaRawOption.dimensions}}else r={seriesLayoutBy:wc,sourceHeader:0,dimensions:t.dimensions};return Nv(t.data,r,null)}))}function hd(t){return t===pc||t===mc}var cd,vd="undefined",dd=typeof Uint32Array===vd?Array:Uint32Array,pd=typeof Uint16Array===vd?Array:Uint16Array,md=typeof Int32Array===vd?Array:Int32Array,yd=typeof Float64Array===vd?Array:Float64Array,gd={float:yd,int:md,ordinal:Array,number:Array,time:yd};function bd(t){return t>65535?dd:pd}function wd(t,n,i,r,e){var a=gd[i||"float"];if(e){var o=t[n],u=o&&o.length;if(u!==r){for(var s=new a(r),l=0;l<u;l++)s[l]=o[l];t[n]=s}}else t[n]=new a(r)}var xd=function(){function t(){this.Ir=[],this.zr=[],this.Lr=[],this.nr=0,this.Or=0,this.Dr=pt()}return t.prototype.initData=function(t,n,i){this.Rr=t,this.Ir=[],this.Fr=null,this.getRawIndex=this.Br;var r=t.getSource(),e=this.defaultDimValueGetter=cd[r.sourceFormat];this._r=i||e,this.zr=[],Lv(r),this.Er=P(n,(function(t){return{type:t.type,property:t.property}})),this.Pr(0,t.count())},t.prototype.getProvider=function(){return this.Rr},t.prototype.getSource=function(){return this.Rr.getSource()},t.prototype.ensureCalculationDimension=function(t,n){var i=this.Dr,r=this.Er,e=i.get(t);if(null!=e){if(r[e].type===n)return e}else e=r.length;return r[e]={type:n},i.set(t,e),this.Ir[e]=new gd[n||"float"](this.Or),this.zr[e]=[1/0,-1/0],e},t.prototype.collectOrdinalMeta=function(t,n){var i=this.Ir[t],r=this.Er[t],e=this.zr,a=r.ordinalOffset||0,o=i.length;0===a&&(e[t]=[1/0,-1/0]);for(var u=e[t],s=a;s<o;s++){var l=i[s]=n.parseAndCollect(i[s]);isNaN(l)||(u[0]=Math.min(l,u[0]),u[1]=Math.max(l,u[1]))}r.ordinalMeta=n,r.ordinalOffset=o,r.type="ordinal"},t.prototype.getOrdinalMeta=function(t){return this.Er[t].ordinalMeta},t.prototype.getDimensionProperty=function(t){var n=this.Er[t];return n&&n.property},t.prototype.appendData=function(t){var n=this.Rr,i=this.count();n.appendData(t);var r=n.count();return n.persistent||(r+=i),i<r&&this.Pr(i,r,!0),[i,r]},t.prototype.appendValues=function(t,n){for(var i=this.Ir,r=this.Er,e=r.length,a=this.zr,o=this.count(),u=o+Math.max(t.length,n||0),s=0;s<e;s++){wd(i,s,(v=r[s]).type,u,!0)}for(var l=[],f=o;f<u;f++)for(var h=f-o,c=0;c<e;c++){var v=r[c],d=cd.arrayRows.call(this,t[h]||l,v.property,h,c);i[c][f]=d;var p=a[c];d<p[0]&&(p[0]=d),d>p[1]&&(p[1]=d)}return this.Or=this.nr=u,{start:o,end:u}},t.prototype.Pr=function(t,n,i){for(var r=this.Rr,e=this.Ir,a=this.Er,o=a.length,u=this.zr,s=P(a,(function(t){return t.property})),l=0;l<o;l++){var f=a[l];u[l]||(u[l]=[1/0,-1/0]),wd(e,l,f.type,n,i)}if(r.fillStorage)r.fillStorage(t,n,e,u);else for(var h=[],c=t;c<n;c++){h=r.getItem(c,h);for(var v=0;v<o;v++){var d=e[v],p=this._r(h,s[v],c,v);d[c]=p;var m=u[v];p<m[0]&&(m[0]=p),p>m[1]&&(m[1]=p)}}!r.persistent&&r.clean&&r.clean(),this.Or=this.nr=n,this.Lr=[]},t.prototype.count=function(){return this.nr},t.prototype.get=function(t,n){if(!(n>=0&&n<this.nr))return NaN;var i=this.Ir[t];return i?i[this.getRawIndex(n)]:NaN},t.prototype.getValues=function(t,n){var i=[],r=[];if(null==n){n=t,t=[];for(var e=0;e<this.Er.length;e++)r.push(e)}else r=t;e=0;for(var a=r.length;e<a;e++)i.push(this.get(r[e],n));return i},t.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this.Or))return NaN;var i=this.Ir[t];return i?i[n]:NaN},t.prototype.getSum=function(t){var n=0;if(this.Ir[t])for(var i=0,r=this.count();i<r;i++){var e=this.get(t,i);isNaN(e)||(n+=e)}return n},t.prototype.getMedian=function(t){var n=[];this.each([t],(function(t){isNaN(t)||n.push(t)}));var i=n.sort((function(t,n){return t-n})),r=this.count();return 0===r?0:r%2==1?i[(r-1)/2]:(i[r/2]+i[r/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this.Or||t<0)return-1;if(!this.Fr)return t;var n=this.Fr,i=n[t];if(null!=i&&i<this.nr&&i===t)return t;for(var r=0,e=this.nr-1;r<=e;){var a=(r+e)/2|0;if(n[a]<t)r=a+1;else{if(!(n[a]>t))return a;e=a-1}}return-1},t.prototype.indicesOfNearest=function(t,n,i){var r=this.Ir[t],e=[];if(!r)return e;null==i&&(i=1/0);for(var a=1/0,o=-1,u=0,s=0,l=this.count();s<l;s++){var f=n-r[this.getRawIndex(s)],h=Math.abs(f);h<=i&&((h<a||h===a&&f>=0&&o<0)&&(a=h,o=f,u=0),f===o&&(e[u++]=s))}return e.length=u,e},t.prototype.getIndices=function(){var t,n=this.Fr;if(n){var i=n.constructor,r=this.nr;if(i===Array){t=new i(r);for(var e=0;e<r;e++)t[e]=n[e]}else t=new i(n.buffer,0,r)}else{t=new(i=bd(this.Or))(this.count());for(e=0;e<t.length;e++)t[e]=e}return t},t.prototype.filter=function(t,n){if(!this.nr)return this;for(var i=this.clone(),r=i.count(),e=new(bd(i.Or))(r),a=[],o=t.length,u=0,s=t[0],l=i.Ir,f=0;f<r;f++){var h=void 0,c=i.getRawIndex(f);if(0===o)h=n(f);else if(1===o){h=n(l[s][c],f)}else{for(var v=0;v<o;v++)a[v]=l[t[v]][c];a[v]=f,h=n.apply(null,a)}h&&(e[u++]=c)}return u<r&&(i.Fr=e),i.nr=u,i.Lr=[],i.Wr(),i},t.prototype.selectRange=function(t){var n=this.clone(),i=n.nr;if(!i)return this;var r=H(t),e=r.length;if(!e)return this;var a=n.count(),o=new(bd(n.Or))(a),u=0,s=r[0],l=t[s][0],f=t[s][1],h=n.Ir,c=!1;if(!n.Fr){var v=0;if(1===e){for(var d=h[r[0]],p=0;p<i;p++){((b=d[p])>=l&&b<=f||isNaN(b))&&(o[u++]=v),v++}c=!0}else if(2===e){d=h[r[0]];var m=h[r[1]],y=t[r[1]][0],g=t[r[1]][1];for(p=0;p<i;p++){var b=d[p],w=m[p];(b>=l&&b<=f||isNaN(b))&&(w>=y&&w<=g||isNaN(w))&&(o[u++]=v),v++}c=!0}}if(!c)if(1===e)for(p=0;p<a;p++){var x=n.getRawIndex(p);((b=h[r[0]][x])>=l&&b<=f||isNaN(b))&&(o[u++]=x)}else for(p=0;p<a;p++){for(var M=!0,S=(x=n.getRawIndex(p),0);S<e;S++){var k=r[S];((b=h[k][x])<t[k][0]||b>t[k][1])&&(M=!1)}M&&(o[u++]=n.getRawIndex(p))}return u<a&&(n.Fr=o),n.nr=u,n.Lr=[],n.Wr(),n},t.prototype.map=function(t,n){var i=this.clone(t);return this.Vr(i,t,n),i},t.prototype.modify=function(t,n){this.Vr(this,t,n)},t.prototype.Vr=function(t,n,i){for(var r=t.Ir,e=[],a=n.length,o=t.count(),u=[],s=t.zr,l=0;l<n.length;l++)s[n[l]]=[1/0,-1/0];for(var f=0;f<o;f++){for(var h=t.getRawIndex(f),c=0;c<a;c++)u[c]=r[n[c]][h];u[a]=f;var v=i&&i.apply(null,u);if(null!=v){"object"!=typeof v&&(e[0]=v,v=e);for(l=0;l<v.length;l++){var d=n[l],p=v[l],m=s[d],y=r[d];y&&(y[h]=p),p<m[0]&&(m[0]=p),p>m[1]&&(m[1]=p)}}}},t.prototype.lttbDownSample=function(t,n){var i,r,e,a=this.clone([t],!0),o=a.Ir[t],u=this.count(),s=0,l=Math.floor(1/n),f=this.getRawIndex(0),h=new(bd(this.Or))(Math.min(2*(Math.ceil(u/l)+2),u));h[s++]=f;for(var c=1;c<u-1;c+=l){for(var v=Math.min(c+l,u-1),d=Math.min(c+2*l,u),p=(d+v)/2,m=0,y=v;y<d;y++){var g=o[A=this.getRawIndex(y)];isNaN(g)||(m+=g)}m/=d-v;var b=c,w=Math.min(c+l,u),x=c-1,M=o[f];i=-1,e=b;var S=-1,k=0;for(y=b;y<w;y++){var A;g=o[A=this.getRawIndex(y)];isNaN(g)?(k++,S<0&&(S=A)):(r=Math.abs((x-p)*(g-M)-(x-y)*(m-M)))>i&&(i=r,e=A)}k>0&&k<w-b&&(h[s++]=Math.min(S,e),e=Math.max(S,e)),h[s++]=e,f=e}return h[s++]=this.getRawIndex(u-1),a.nr=s,a.Fr=h,a.getRawIndex=this.Hr,a},t.prototype.minmaxDownSample=function(t,n){for(var i=this.clone([t],!0),r=i.Ir,e=Math.floor(1/n),a=r[t],o=this.count(),u=new(bd(this.Or))(2*Math.ceil(o/e)),s=0,l=0;l<o;l+=e){var f=l,h=a[this.getRawIndex(f)],c=l,v=a[this.getRawIndex(c)],d=e;l+e>o&&(d=o-l);for(var p=0;p<d;p++){var m=a[this.getRawIndex(l+p)];m<h&&(h=m,f=l+p),m>v&&(v=m,c=l+p)}var y=this.getRawIndex(f),g=this.getRawIndex(c);f<c?(u[s++]=y,u[s++]=g):(u[s++]=g,u[s++]=y)}return i.nr=s,i.Fr=u,i.Wr(),i},t.prototype.downSample=function(t,n,i,r){for(var e=this.clone([t],!0),a=e.Ir,o=[],u=Math.floor(1/n),s=a[t],l=this.count(),f=e.zr[t]=[1/0,-1/0],h=new(bd(this.Or))(Math.ceil(l/u)),c=0,v=0;v<l;v+=u){u>l-v&&(u=l-v,o.length=u);for(var d=0;d<u;d++){var p=this.getRawIndex(v+d);o[d]=s[p]}var m=i(o),y=this.getRawIndex(Math.min(v+r(o,m)||0,l-1));s[y]=m,m<f[0]&&(f[0]=m),m>f[1]&&(f[1]=m),h[c++]=y}return e.nr=c,e.Fr=h,e.Wr(),e},t.prototype.each=function(t,n){if(this.nr)for(var i=t.length,r=this.Ir,e=0,a=this.count();e<a;e++){var o=this.getRawIndex(e);switch(i){case 0:n(e);break;case 1:n(r[t[0]][o],e);break;case 2:n(r[t[0]][o],r[t[1]][o],e);break;default:for(var u=0,s=[];u<i;u++)s[u]=r[t[u]][o];s[u]=e,n.apply(null,s)}}},t.prototype.getDataExtent=function(t){var n=this.Ir[t],i=[1/0,-1/0];if(!n)return i;var r,e=this.count();if(!this.Fr)return this.zr[t].slice();if(r=this.Lr[t])return r.slice();for(var a=(r=i)[0],o=r[1],u=0;u<e;u++){var s=n[this.getRawIndex(u)];s<a&&(a=s),s>o&&(o=s)}return r=[a,o],this.Lr[t]=r,r},t.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this.Rr.persistent)return this.Rr.getItem(n);for(var i=[],r=this.Ir,e=0;e<r.length;e++)i.push(r[e][n]);return i},t.prototype.clone=function(n,i){var r,e,a=new t,o=this.Ir,u=n&&W(n,(function(t,n){return t[n]=!0,t}),{});if(u)for(var s=0;s<o.length;s++)a.Ir[s]=u[s]?(r=o[s],e=void 0,(e=r.constructor)===Array?r.slice():new e(r)):o[s];else a.Ir=o;return this.Yr(a),i||(a.Fr=this.Gr()),a.Wr(),a},t.prototype.Yr=function(t){t.nr=this.nr,t.Or=this.Or,t.Rr=this.Rr,t.Er=this.Er,t.Lr=z(this.Lr),t.zr=z(this.zr)},t.prototype.Gr=function(){if(this.Fr){var t=this.Fr.constructor,n=void 0;if(t===Array){var i=this.Fr.length;n=new t(i);for(var r=0;r<i;r++)n[r]=this.Fr[r]}else n=new t(this.Fr);return n}return null},t.prototype.Br=function(t){return t},t.prototype.Hr=function(t){return t<this.nr&&t>=0?this.Fr[t]:-1},t.prototype.Wr=function(){this.getRawIndex=this.Fr?this.Hr:this.Br},t.internalField=function(){function t(t,n,i,r){return Kv(t[r],this.Er[r])}cd={arrayRows:t,objectRows:function(t,n,i,r){return Kv(t[n],this.Er[r])},keyedColumns:t,original:function(t,n,i,r){var e=t&&(null==t.value?t:t.value);return Kv(e instanceof Array?e[r]:e,this.Er[r])},typedArray:function(t,n,i,r){return t[r]}}}(),t}(),Md=function(){function t(t){this.Xr=[],this.Ur=[],this.jr=[],this.Zr=0,this.rr=!0,this.qr=t}return t.prototype.dirty=function(){this.Kr([],[]),this.Ur=[],this.rr=!0},t.prototype.Kr=function(t,n){this.Xr=t,this.jr=n,this.Zr++,this.Zr>9e10&&(this.Zr=0)},t.prototype.Jr=function(){return this.qr.uid+"_"+this.Zr},t.prototype.prepareSource=function(){this.$r()&&(this.Qr(),this.rr=!1)},t.prototype.Qr=function(){this.Kr([],[]);var t,n,i=this.qr,r=this.te(),e=!!r.length;if(kd(i)){var a=i,o=void 0,u=void 0,s=void 0;if(e){var l=r[0];l.prepareSource(),o=(s=l.getSource()).data,u=s.sourceFormat,n=[l.Jr()]}else u=$(o=a.get("data",!0))?gc:dc,n=[];var f=this.re()||{},h=s&&s.metaRawOption||{},c=rt(f.seriesLayoutBy,h.seriesLayoutBy)||null,v=rt(f.sourceHeader,h.sourceHeader),d=rt(f.dimensions,h.dimensions);t=c!==h.seriesLayoutBy||!!v!=!!h.sourceHeader||d?[Nv(o,{seriesLayoutBy:c,sourceHeader:v,dimensions:d},u)]:[]}else{var p=i;if(e){var m=this.ee(r);t=m.sourceList,n=m.upstreamSignList}else{t=[Nv(p.get("source",!0),this.re(),null)],n=[]}}this.Kr(t,n)},t.prototype.ee=function(t){var n,i=this.qr,r=i.get("transform",!0),e=i.get("fromTransformResult",!0);if(null!=e){1!==t.length&&Ad("")}var a,o=[],u=[];return E(t,(function(t){t.prepareSource();var n=t.getSource(e||0);null==e||n||Ad(""),o.push(n),u.push(t.Jr())})),r?n=function(t,n){var i=ta(t),r=i.length;r||Ke("");for(var e=0,a=r;e<a;e++)n=fd(i[e],n),e!==a-1&&(n.length=Math.max(n.length,1));return n}(r,o,i.componentIndex):null!=e&&(n=[(a=o[0],new kv({data:a.data,sourceFormat:a.sourceFormat,seriesLayoutBy:a.seriesLayoutBy,dimensionsDefine:z(a.dimensionsDefine),startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount}))]),{sourceList:n,upstreamSignList:u}},t.prototype.$r=function(){if(this.rr)return!0;for(var t=this.te(),n=0;n<t.length;n++){var i=t[n];if(i.$r()||this.jr[n]!==i.Jr())return!0}},t.prototype.getSource=function(t){t=t||0;var n=this.Xr[t];if(!n){var i=this.te();return i[0]&&i[0].getSource(t)}return n},t.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this.ae(n.dimensions,t.source,n.hash)},t.prototype.ae=function(t,n,i){var r=this.Ur,e=r[0];e||(e=r[0]={});var a=e[i];if(!a){var o=this.te()[0];kd(this.qr)&&o?a=o.ae(t,n,i):(a=new xd).initData(new Ov(n,t.length),t),e[i]=a}return a},t.prototype.te=function(){var t=this.qr;if(kd(t)){var n=Tc(t);return n?[n.getSourceManager()]:[]}return P(function(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?ga(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},ma).models:[]}(t),(function(t){return t.getSourceManager()}))},t.prototype.re=function(){var t,n,i,r=this.qr;if(kd(r))t=r.get("seriesLayoutBy",!0),n=r.get("sourceHeader",!0),i=r.get("dimensions",!0);else if(!this.te().length){var e=r;t=e.get("seriesLayoutBy",!0),n=e.get("sourceHeader",!0),i=e.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:n,dimensions:i}},t}();function Sd(t){t.option.transform&&ft(t.option.transform)}function kd(t){return"series"===t.mainType}function Ad(t){throw new Error(t)}function Nd(t){var n=t.lineHeight;return null==n?"line-height:1":"line-height:"+$t(n+"")+"px"}function Cd(t,n){var i=t.color||"#6e7079",r=t.fontSize||12,e=t.fontWeight||"400",a=t.color||"#464646",o=t.fontSize||14,u=t.fontWeight||"900";return"html"===n?{nameStyle:"font-size:"+$t(r+"")+"px;color:"+$t(i)+";font-weight:"+$t(e+""),valueStyle:"font-size:"+$t(o+"")+"px;color:"+$t(a)+";font-weight:"+$t(u+"")}:{nameStyle:{fontSize:r,fill:i,fontWeight:e},valueStyle:{fontSize:o,fill:a,fontWeight:u}}}var Td=[0,10,20,30],Id=["","\n","\n\n","\n\n\n"];function zd(t,n){return n.type=t,n}function Ld(t){return"section"===t.type}function Od(t){return Ld(t)?Rd:Fd}function Dd(t){if(Ld(t)){var n=0,i=t.blocks.length,r=i>1||i>0&&!t.noHeader;return E(t.blocks,(function(t){var i=Dd(t);i>=n&&(n=i+ +(r&&(!i||Ld(t)&&!t.noHeader)))})),n}return 0}function Rd(t,n,i,r){var e,a=n.noHeader,o=(e=Dd(n),{html:Td[e],richText:Id[e]}),u=[],s=n.blocks||[];ut(!s||X(s)),s=s||[];var l=t.orderMode;if(n.sortBlocks&&l){s=s.slice();var f={valueAsc:"asc",valueDesc:"desc"};if(bt(f,l)){var h=new nd(f[l],null);s.sort((function(t,n){return h.evaluate(t.sortParam,n.sortParam)}))}else"seriesDesc"===l&&s.reverse()}E(s,(function(i,e){var a=n.valueFormatter,s=Od(i)(a?D(D({},t),{valueFormatter:a}):t,i,e>0?o.html:0,r);null!=s&&u.push(s)}));var c="richText"===t.renderMode?u.join(o.richText):_d(r,u.join(""),a?i:o.html);if(a)return c;var v=Xh(n.header,"ordinal",t.useUTC),d=Cd(r,t.renderMode).nameStyle,p=Nd(r);return"richText"===t.renderMode?Ed(t,v,d)+o.richText+c:_d(r,'<div style="'+d+";"+p+';">'+$t(v)+"</div>"+c,i)}function Fd(t,n,i,r){var e=t.renderMode,a=n.noName,o=n.noValue,u=!n.markerType,s=n.name,l=t.useUTC,f=n.valueFormatter||t.valueFormatter||function(t){return P(t=X(t)?t:[t],(function(t,n){return Xh(t,X(v)?v[n]:v,l)}))};if(!a||!o){var h=u?"":t.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",e),c=a?"":Xh(s,"ordinal",l),v=n.valueType,d=o?[]:f(n.value,n.dataIndex),p=!u||!a,m=!u&&a,y=Cd(r,e),g=y.nameStyle,b=y.valueStyle;return"richText"===e?(u?"":h)+(a?"":Ed(t,c,g))+(o?"":function(t,n,i,r,e){var a=[e],o=r?10:20;return i&&a.push({padding:[0,0,0,o],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(X(n)?n.join("  "):n,a)}(t,d,p,m,b)):_d(r,(u?"":h)+(a?"":function(t,n,i){return'<span style="'+i+";"+(n?"margin-left:2px":"")+'">'+$t(t)+"</span>"}(c,!u,g))+(o?"":function(t,n,i,r){var e=i?"10px":"20px",a=n?"float:right;margin-left:"+e:"";return t=X(t)?t:[t],'<span style="'+a+";"+r+'">'+P(t,(function(t){return $t(t)})).join("&nbsp;&nbsp;")+"</span>"}(d,p,m,b)),i)}}function Bd(t,n,i,r,e,a){if(t)return Od(t)({useUTC:e,renderMode:i,orderMode:r,markupStyleCreator:n,valueFormatter:t.valueFormatter},t,0,a)}function _d(t,n,i){return'<div style="'+("margin: "+i+"px 0 0")+";"+Nd(t)+';">'+n+'<div style="clear:both"></div></div>'}function Ed(t,n,i){return t.markupStyleCreator.wrapRichTextStyle(n,i)}function Pd(t,n){return qh(t.getData().getItemVisual(n,"style")[t.visualDrawType])}function Wd(t,n){var i=t.get("padding");return null!=i?i:"richText"===n?[8,10]:10}var Vd=function(){function t(){this.richTextStyles={},this.oe=je()}return t.prototype.ue=function(){return"__EC_aUTo_"+this.oe++},t.prototype.makeTooltipMarker=function(t,n,i){var r="richText"===i?this.ue():null,e=function(t,n){var i=j(t)?{color:t,extraCssText:n}:t||{},r=i.color,e=i.type;n=i.extraCssText;var a=i.renderMode||"html";return r?"html"===a?"subItem"===e?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+$t(r)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+$t(r)+";"+(n||"")+'"></span>':{renderMode:a,content:"{"+(i.markerId||"markerX")+"|}  ",style:"subItem"===e?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:""}({color:n,type:t,renderMode:i,markerId:r});return j(e)?e:(this.richTextStyles[r]=e.style,e.content)},t.prototype.wrapRichTextStyle=function(t,n){var i={};X(n)?E(n,(function(t){return D(i,t)})):D(i,n);var r=this.ue();return this.richTextStyles[r]=i,"{"+r+"|"+t+"}"},t}();function Hd(t){var n,i,r,e,a=t.series,o=t.dataIndex,u=t.multipleSeries,s=a.getData(),l=s.mapDimensionsAll("defaultedTooltip"),f=l.length,h=a.getRawValue(o),c=X(h),v=Pd(a,o);if(f>1||c&&!f){var d=function(t,n,i,r,e){var a=n.getData(),o=W(t,(function(t,n,i){var r=a.getDimensionInfo(i);return t||r&&!1!==r.tooltip&&null!=r.displayName}),!1),u=[],s=[],l=[];function f(t,n){var i=a.getDimensionInfo(n);i&&!1!==i.otherDims.tooltip&&(o?l.push(zd("nameValue",{markerType:"subItem",markerColor:e,name:i.displayName,value:t,valueType:i.type})):(u.push(t),s.push(i.type)))}return r.length?E(r,(function(t){f(Yv(a,i,t),t)})):E(t,f),{inlineValues:u,inlineValueTypes:s,blocks:l}}(h,a,o,l,v);n=d.inlineValues,i=d.inlineValueTypes,r=d.blocks,e=d.inlineValues[0]}else if(f){var p=s.getDimensionInfo(l[0]);e=n=Yv(s,o,l[0]),i=p.type}else e=n=c?h[0]:h;var m=la(a),y=m&&a.name||"",g=s.getName(o),b=u?y:g;return zd("section",{header:y,noHeader:u||!m,sortParam:e,blocks:[zd("nameValue",{markerType:"item",markerColor:v,name:b,noName:!st(b),value:n,valueType:i,dataIndex:o})].concat(r||[])})}var Yd=ca();function Gd(t,n){return t.getName(n)||t.getId(n)}var Xd="__universalTransitionEnabled",Ud=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.le={},n}var i;return l(n,t),n.prototype.init=function(t,n,i){this.seriesIndex=this.componentIndex,this.dataTask=jv({count:Zd,reset:qd}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),(Yd(this).sourceManager=new Md(this)).prepareSource();var r=this.getInitialData(t,i);Jd(r,this),this.dataTask.context.data=r,Yd(this).dataBeforeProcessed=r,jd(this),this.fe(r)},n.prototype.mergeDefaultAndTheme=function(t,n){var i=ec(this),r=i?oc(t):{},e=this.subType;lc.hasClass(e)&&(e+="Series"),L(t,n.getTheme().get(this.subType)),L(t,this.getDefaultOption()),na(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&ac(t,r,i)},n.prototype.mergeOption=function(t,n){t=L(this.option,t,!0),this.fillDataTextStyle(t.data);var i=ec(this);i&&ac(this.option,t,i);var r=Yd(this).sourceManager;r.dirty(),r.prepareSource();var e=this.getInitialData(t,n);Jd(e,this),this.dataTask.dirty(),this.dataTask.context.data=e,Yd(this).dataBeforeProcessed=e,jd(this),this.fe(e)},n.prototype.fillDataTextStyle=function(t){if(t&&!$(t))for(var n=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&na(t[i],"label",n)},n.prototype.getInitialData=function(t,n){},n.prototype.appendData=function(t){this.getRawData().appendData(t.data)},n.prototype.getData=function(t){var n=Qd(this);if(n){var i=n.context.data;return null!=t&&i.getLinkedData?i.getLinkedData(t):i}return Yd(this).data},n.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},n.prototype.setData=function(t){var n=Qd(this);if(n){var i=n.context;i.outputData=t,n!==this.dataTask&&(i.data=t)}Yd(this).data=t},n.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return pt(t)},n.prototype.getSourceManager=function(){return Yd(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return Yd(this).dataBeforeProcessed},n.prototype.getColorBy=function(){return this.get("colorBy")||"series"},n.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},n.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},n.prototype.formatTooltip=function(t,n,i){return Hd({series:this,dataIndex:t,multipleSeries:n})},n.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(h.node&&(!t||!t.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(t,n,i){var r=this.ecModel,e=_c.prototype.getColorFromPalette.call(this,t,n,i);return e||(e=r.getColorFromPalette(t,n,i)),e},n.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(t,n){this.he(this.getData(n),t)},n.prototype.unselect=function(t,n){var i=this.option.selectedMap;if(i){var r=this.option.selectedMode,e=this.getData(n);if("series"===r||"all"===i)return this.option.selectedMap={},void(this.le={});for(var a=0;a<t.length;a++){var o=Gd(e,t[a]);i[o]=!1,this.le[o]=-1}}},n.prototype.toggleSelect=function(t,n){for(var i=[],r=0;r<t.length;r++)i[0]=t[r],this.isSelected(t[r],n)?this.unselect(i,n):this.select(i,n)},n.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this.le,n=H(t),i=[],r=0;r<n.length;r++){var e=t[n[r]];e>=0&&i.push(e)}return i},n.prototype.isSelected=function(t,n){var i=this.option.selectedMap;if(!i)return!1;var r=this.getData(n);return("all"===i||i[Gd(r,t)])&&!r.getItemModel(t).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[Xd])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},n.prototype.he=function(t,n){var i,r,e=this.option,a=e.selectedMode,o=n.length;if(a&&o)if("series"===a)e.selectedMap="all";else if("multiple"===a){K(e.selectedMap)||(e.selectedMap={});for(var u=e.selectedMap,s=0;s<o;s++){var l=n[s];u[h=Gd(t,l)]=!0,this.le[h]=t.getRawIndex(l)}}else if("single"===a||!0===a){var f=n[o-1],h=Gd(t,f);e.selectedMap=((i={})[h]=!0,i),this.le=((r={})[h]=t.getRawIndex(f),r)}},n.prototype.fe=function(t){if(!this.option.selectedMap){var n=[];t.hasItemOption&&t.each((function(i){var r=t.getRawDataItem(i);r&&r.selected&&n.push(i)})),n.length>0&&this.he(t,n)}},n.registerClass=function(t){return lc.registerClass(t)},n.protoInitialize=((i=n.prototype).type="series.__base__",i.seriesIndex=0,i.ignoreStyleOnData=!1,i.hasSymbolVisual=!1,i.defaultSymbol="circle",i.visualStyleAccessPath="itemStyle",void(i.visualDrawType="fill")),n}(lc);function jd(t){var n=t.name;la(t)||(t.name=function(t){var n=t.getRawData(),i=n.mapDimensionsAll("seriesName"),r=[];return E(i,(function(t){var i=n.getDimensionInfo(t);i.displayName&&r.push(i.displayName)})),r.join(" ")}(t)||n)}function Zd(t){return t.model.getRawData().count()}function qd(t){var n=t.model;return n.setData(n.getRawData().cloneShallow()),Kd}function Kd(t,n){n.outputData&&t.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function Jd(t,n){E(mt(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(i){t.wrapMethod(i,G($d,n))}))}function $d(t,n){var i=Qd(t);return i&&i.setOutputEnd((n||this).count()),n}function Qd(t){var n=(t.ecModel||{}).scheduler,i=n&&n.getPipeline(t.uid);if(i){var r=i.currentTask;if(r){var e=r.agentStubMap;e&&(r=e.get(t.uid))}return r}}B(Ud,Xv),B(Ud,_c),Na(Ud,lc);var tp=function(){function t(){this.group=new Se,this.uid=ih("viewComponent")}return t.prototype.init=function(t,n){},t.prototype.render=function(t,n,i,r){},t.prototype.dispose=function(t,n){},t.prototype.updateView=function(t,n,i,r){},t.prototype.updateLayout=function(t,n,i,r){},t.prototype.updateVisual=function(t,n,i,r){},t.prototype.toggleBlurSeries=function(t,n,i){},t.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},t}();function np(){var t=ca();return function(n){var i=t(n),r=n.pipelineContext,e=!!i.large,a=!!i.progressiveRender,o=i.large=!(!r||!r.large),u=i.progressiveRender=!(!r||!r.progressiveRender);return!(e===o&&a===u)&&"reset"}}Aa(tp),za(tp);var ip=ca(),rp=np(),ep=function(){function t(){this.group=new Se,this.uid=ih("viewChart"),this.renderTask=jv({plan:up,reset:sp}),this.renderTask.context={view:this}}return t.prototype.init=function(t,n){},t.prototype.render=function(t,n,i,r){},t.prototype.highlight=function(t,n,i,r){var e=t.getData(r&&r.dataType);e&&op(e,r,"emphasis")},t.prototype.downplay=function(t,n,i,r){var e=t.getData(r&&r.dataType);e&&op(e,r,"normal")},t.prototype.remove=function(t,n){this.group.removeAll()},t.prototype.dispose=function(t,n){},t.prototype.updateView=function(t,n,i,r){this.render(t,n,i,r)},t.prototype.updateLayout=function(t,n,i,r){this.render(t,n,i,r)},t.prototype.updateVisual=function(t,n,i,r){this.render(t,n,i,r)},t.prototype.eachRendered=function(t){Af(this.group,t)},t.markUpdateMethod=function(t,n){ip(t).updateMethod=n},t.protoInitialize=void(t.prototype.type="chart"),t}();function ap(t,n,i){t&&Ts(t)&&("emphasis"===n?ss:ls)(t,i)}function op(t,n,i){var r=ha(t,n),e=n&&null!=n.highlightKey?function(t){var n=Bu[t];return null==n&&Fu<=32&&(n=Bu[t]=Fu++),n}(n.highlightKey):null;null!=r?E(ta(r),(function(n){ap(t.getItemGraphicEl(n),i,e)})):t.eachItemGraphicEl((function(t){ap(t,i,e)}))}function up(t){return rp(t.model)}function sp(t){var n=t.model,i=t.ecModel,r=t.api,e=t.payload,a=n.pipelineContext.progressiveRender,o=t.view,u=e&&ip(e).updateMethod,s=a?"incrementalPrepareRender":u&&o[u]?u:"render";return"render"!==s&&o[s](n,i,r,e),lp[s]}Aa(ep),za(ep);var lp={incrementalPrepareRender:{progress:function(t,n){n.view.incrementalRender(t,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(t,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}},fp="\0__throttleOriginMethod",hp="\0__throttleRate",cp="\0__throttleType";function vp(t,n,i){var r,e,a,o,u,s=0,l=0,f=null;function h(){l=(new Date).getTime(),f=null,t.apply(a,o||[])}n=n||0;var c=function(){for(var t=[],c=0;c<arguments.length;c++)t[c]=arguments[c];r=(new Date).getTime(),a=this,o=t;var v=u||n,d=u||i;u=null,e=r-(d?s:l)-v,clearTimeout(f),d?f=setTimeout(h,v):e>=0?h():f=setTimeout(h,-e),s=r};return c.clear=function(){f&&(clearTimeout(f),f=null)},c.debounceNextCall=function(t){u=t},c}function dp(t,n,i,r){var e=t[n];if(e){var a=e[fp]||e,o=e[cp];if(e[hp]!==i||o!==r){if(null==i||!r)return t[n]=a;(e=t[n]=vp(a,i,"debounce"===r))[fp]=a,e[cp]=r,e[hp]=i}return e}}function pp(t,n){var i=t[n];i&&i[fp]&&(i.clear&&i.clear(),t[n]=i[fp])}var mp=ca(),yp={itemStyle:La(Jf,!0),lineStyle:La(Zf,!0)},gp={lineStyle:"stroke",itemStyle:"fill"};function bp(t,n){var i=t.visualStyleMapper||yp[n];return i||yp.itemStyle}function wp(t,n){var i=t.visualDrawType||gp[n];return i||"fill"}var xp={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){var i=t.getData(),r=t.visualStyleAccessPath||"itemStyle",e=t.getModel(r),a=bp(t,r)(e),o=e.getShallow("decal");o&&(i.setVisual("decal",o),o.dirty=!0);var u=wp(t,r),s=a[u],l=U(s)?s:null,f="auto"===a.fill||"auto"===a.stroke;if(!a[u]||l||f){var h=t.getColorFromPalette(t.name,null,n.getSeriesCount());a[u]||(a[u]=h,i.setVisual("colorFromPalette",!0)),a.fill="auto"===a.fill||U(a.fill)?h:a.fill,a.stroke="auto"===a.stroke||U(a.stroke)?h:a.stroke}if(i.setVisual("style",a),i.setVisual("drawType",u),!n.isSeriesFiltered(t)&&l)return i.setVisual("colorFromPalette",!1),{dataEach:function(n,i){var r=t.getDataParams(i),e=D({},a);e[u]=l(r),n.setItemVisual(i,"style",e)}}}},Mp=new th,Sp={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){if(!t.ignoreStyleOnData&&!n.isSeriesFiltered(t)){var i=t.getData(),r=t.visualStyleAccessPath||"itemStyle",e=bp(t,r),a=i.getVisual("drawType");return{dataEach:i.hasItemOption?function(t,n){var i=t.getRawDataItem(n);if(i&&i[r]){Mp.option=i[r];var o=e(Mp);D(t.ensureUniqueItemVisual(n,"style"),o),Mp.option.decal&&(t.setItemVisual(n,"decal",Mp.option.decal),Mp.option.decal.dirty=!0),a in o&&t.setItemVisual(n,"colorFromPalette",!1)}}:null}}}},kp={performRawSeries:!0,overallReset:function(t){var n=pt();t.eachSeries((function(t){var i=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+i,e=n.get(r);e||(e={},n.set(r,e)),mp(t).scope=e}})),t.eachSeries((function(n){if(!n.isColorBySeries()&&!t.isSeriesFiltered(n)){var i=n.getRawData(),r={},e=n.getData(),a=mp(n).scope,o=n.visualStyleAccessPath||"itemStyle",u=wp(n,o);e.each((function(t){var n=e.getRawIndex(t);r[n]=t})),i.each((function(t){var o=r[t];if(e.getItemVisual(o,"colorFromPalette")){var s=e.ensureUniqueItemVisual(o,"style"),l=i.getName(t)||t+"",f=i.count();s[u]=n.getColorFromPalette(l,a,f)}}))}}))}},Ap=Math.PI;var Np=function(){function t(t,n,i,r){this.ce=pt(),this.ecInstance=t,this.api=n,i=this.ve=i.slice(),r=this.de=r.slice(),this.pe=i.concat(r)}return t.prototype.restoreData=function(t,n){t.restoreData(n),this.ce.each((function(t){var n=t.overallTask;n&&n.dirty()}))},t.prototype.getPerformArgs=function(t,n){if(t.ar){var i=this.me.get(t.ar.id),r=i.context,e=!n&&i.progressiveEnabled&&(!r||r.progressiveRender)&&t.ye>i.blockIndex?i.step:null,a=r&&r.modDataCount;return{step:e,modBy:null!=a?Math.ceil(a/e):null,modDataCount:a}}},t.prototype.getPipeline=function(t){return this.me.get(t)},t.prototype.updateStreamModes=function(t,n){var i=this.me.get(t.uid),r=t.getData().count(),e=i.progressiveEnabled&&n.incrementalPrepareRender&&r>=i.threshold,a=t.get("large")&&r>=t.get("largeThreshold"),o="mod"===t.get("progressiveChunkMode")?r:null;t.pipelineContext=i.context={progressiveRender:e,modDataCount:o,large:a}},t.prototype.restorePipelines=function(t){var n=this,i=n.me=pt();t.eachSeries((function(t){var r=t.getProgressive(),e=t.uid;i.set(e,{id:e,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:r&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(r||700),count:0}),n.ge(t,t.dataTask)}))},t.prototype.prepareStageTasks=function(){var t=this.ce,n=this.api.getModel(),i=this.api;E(this.pe,(function(r){var e=t.get(r.uid)||t.set(r.uid,{});ut(!(r.reset&&r.overallReset),""),r.reset&&this.be(r,e,n,i),r.overallReset&&this.we(r,e,n,i)}),this)},t.prototype.prepareView=function(t,n,i,r){var e=t.renderTask,a=e.context;a.model=n,a.ecModel=i,a.api=r,e.xe=!t.incrementalPrepareRender,this.ge(n,e)},t.prototype.performDataProcessorTasks=function(t,n){this.Me(this.ve,t,n,{block:!0})},t.prototype.performVisualTasks=function(t,n,i){this.Me(this.de,t,n,i)},t.prototype.Me=function(t,n,i,r){r=r||{};var e=!1,a=this;function o(t,n){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(n.ar.id))}E(t,(function(t,u){if(!r.visualType||r.visualType===t.visualType){var s=a.ce.get(t.uid),l=s.seriesTaskMap,f=s.overallTask;if(f){var h,c=f.agentStubMap;c.each((function(t){o(r,t)&&(t.dirty(),h=!0)})),h&&f.dirty(),a.updatePayload(f,i);var v=a.getPerformArgs(f,r.block);c.each((function(t){t.perform(v)})),f.perform(v)&&(e=!0)}else l&&l.each((function(u,s){o(r,u)&&u.dirty();var l=a.getPerformArgs(u,r.block);l.skip=!t.performRawSeries&&n.isSeriesFiltered(u.context.model),a.updatePayload(u,i),u.perform(l)&&(e=!0)}))}})),this.unfinished=e||this.unfinished},t.prototype.performSeriesTasks=function(t){var n;t.eachSeries((function(t){n=t.dataTask.perform()||n})),this.unfinished=n||this.unfinished},t.prototype.plan=function(){this.me.each((function(t){var n=t.tail;do{if(n.xe){t.blockIndex=n.ye;break}n=n.getUpstream()}while(n)}))},t.prototype.updatePayload=function(t,n){"remain"!==n&&(t.context.payload=n)},t.prototype.be=function(t,n,i,r){var e=this,a=n.seriesTaskMap,o=n.seriesTaskMap=pt(),u=t.seriesType,s=t.getTargetSeries;function l(n){var u=n.uid,s=o.set(u,a&&a.get(u)||jv({plan:Lp,reset:Op,count:Fp}));s.context={model:n,ecModel:i,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},e.ge(n,s)}t.createOnAllSeries?i.eachRawSeries(l):u?i.eachRawSeriesByType(u,l):s&&s(i,r).each(l)},t.prototype.we=function(t,n,i,r){var e=this,a=n.overallTask=n.overallTask||jv({reset:Cp});a.context={ecModel:i,api:r,overallReset:t.overallReset,scheduler:e};var o=a.agentStubMap,u=a.agentStubMap=pt(),s=t.seriesType,l=t.getTargetSeries,f=!0,h=!1;function c(t){var n=t.uid,i=u.set(n,o&&o.get(n)||(h=!0,jv({reset:Tp,onDirty:zp})));i.context={model:t,overallProgress:f},i.agent=a,i.xe=f,e.ge(t,i)}ut(!t.createOnAllSeries,""),s?i.eachRawSeriesByType(s,c):l?l(i,r).each(c):(f=!1,E(i.getSeries(),c)),h&&a.dirty()},t.prototype.ge=function(t,n){var i=t.uid,r=this.me.get(i);!r.head&&(r.head=n),r.tail&&r.tail.pipe(n),r.tail=n,n.ye=r.count++,n.ar=r},t.wrapStageHandler=function(t,n){return U(t)&&(t={overallReset:t,seriesType:Bp(t)}),t.uid=ih("stageHandler"),n&&(t.visualType=n),t},t}();function Cp(t){t.overallReset(t.ecModel,t.api,t.payload)}function Tp(t){return t.overallProgress&&Ip}function Ip(){this.agent.dirty(),this.getDownstream().dirty()}function zp(){this.agent&&this.agent.dirty()}function Lp(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Op(t){t.useClearVisual&&t.data.clearAllVisual();var n=t.resetDefines=ta(t.reset(t.model,t.ecModel,t.api,t.payload));return n.length>1?P(n,(function(t,n){return Rp(n)})):Dp}var Dp=Rp(0);function Rp(t){return function(n,i){var r=i.data,e=i.resetDefines[t];if(e&&e.dataEach)for(var a=n.start;a<n.end;a++)e.dataEach(r,a);else e&&e.progress&&e.progress(n,r)}}function Fp(t){return t.data.count()}function Bp(t){_p=null;try{t(Ep,Pp)}catch(n){}return _p}var _p,Ep={},Pp={};function Wp(t,n){for(var i in n.prototype)t[i]=wt}Wp(Ep,Vc),Wp(Pp,Uc),Ep.eachSeriesByType=Ep.eachRawSeriesByType=function(t){_p=t},Ep.eachComponent=function(t){"series"===t.mainType&&t.subType&&(_p=t.subType)};var Vp=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const Hp={color:Vp,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Vp]};var Yp="#B9B8CE",Gp="#100C2A",Xp=function(){return{axisLine:{lineStyle:{color:Yp}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Up=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],jp={darkMode:!0,color:Up,backgroundColor:Gp,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Yp},pageTextStyle:{color:Yp}},textStyle:{color:Yp},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Yp}},dataZoom:{borderColor:"#71708A",textStyle:{color:Yp},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Yp}},timeline:{lineStyle:{color:Yp},label:{color:Yp},controlStyle:{color:Yp,borderColor:Yp}},calendar:{itemStyle:{color:Gp},dayLabel:{color:Yp},monthLabel:{color:Yp},yearLabel:{color:Yp}},timeAxis:Xp(),logAxis:Xp(),valueAxis:Xp(),categoryAxis:Xp(),line:{symbol:"circle"},graph:{color:Up},gauge:{title:{color:Yp},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Yp},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};jp.categoryAxis.splitLine.show=!1;var Zp=function(){function t(){}return t.prototype.normalizeQuery=function(t){var n={},i={},r={};if(j(t)){var e=ka(t);n.mainType=e.main||null,n.subType=e.sub||null}else{var a=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};E(t,(function(t,e){for(var u=!1,s=0;s<a.length;s++){var l=a[s],f=e.lastIndexOf(l);if(f>0&&f===e.length-l.length){var h=e.slice(0,f);"data"!==h&&(n.mainType=h,n[l.toLowerCase()]=t,u=!0)}}o.hasOwnProperty(e)&&(i[e]=t,u=!0),u||(r[e]=t)}))}return{cptQuery:n,dataQuery:i,otherQuery:r}},t.prototype.filter=function(t,n){var i=this.eventInfo;if(!i)return!0;var r=i.targetEl,e=i.packedEvent,a=i.model,o=i.view;if(!a||!o)return!0;var u=n.cptQuery,s=n.dataQuery;return l(u,a,"mainType")&&l(u,a,"subType")&&l(u,a,"index","componentIndex")&&l(u,a,"name")&&l(u,a,"id")&&l(s,e,"name")&&l(s,e,"dataIndex")&&l(s,e,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,n.otherQuery,r,e));function l(t,n,i,r){return null==t[i]||n[r||i]===t[i]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),qp=["symbol","symbolSize","symbolRotate","symbolOffset"],Kp=qp.concat(["symbolKeepAspect"]),Jp={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){var i=t.getData();if(t.legendIcon&&i.setVisual("legendIcon",t.legendIcon),t.hasSymbolVisual){for(var r={},e={},a=!1,o=0;o<qp.length;o++){var u=qp[o],s=t.get(u);U(s)?(a=!0,e[u]=s):r[u]=s}if(r.symbol=r.symbol||t.defaultSymbol,i.setVisual(D({legendIcon:t.legendIcon||r.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},r)),!n.isSeriesFiltered(t)){var l=H(e);return{dataEach:a?function(n,i){for(var r=t.getRawValue(i),a=t.getDataParams(i),o=0;o<l.length;o++){var u=l[o];n.setItemVisual(i,u,e[u](r,a))}}:null}}}}},$p={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){if(t.hasSymbolVisual&&!n.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,n){for(var i=t.getItemModel(n),r=0;r<Kp.length;r++){var e=Kp[r],a=i.getShallow(e,!0);null!=a&&t.setItemVisual(n,e,a)}}:null}}};function Qp(t,n,i){switch(i){case"color":return t.getItemVisual(n,"style")[t.getVisual("drawType")];case"opacity":return t.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(n,i)}}function tm(t,n){switch(n){case"color":return t.getVisual("style")[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(n)}}function nm(t,n,i,r){switch(i){case"color":t.ensureUniqueItemVisual(n,"style")[t.getVisual("drawType")]=r,t.setItemVisual(n,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(n,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(n,i,r)}}function im(t,n){function i(n,i){var r=[];return n.eachComponent({mainType:"series",subType:t,query:i},(function(t){r.push(t.seriesIndex)})),r}E([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],(function(t){n(t[0],(function(n,r,e){n=D({},n),e.dispatchAction(D(n,{type:t[1],seriesIndex:i(r,n)}))}))}))}function rm(t,n,i,r,e){var a=t+n;i.isSilent(a)||r.eachComponent({mainType:"series",subType:"pie"},(function(t){for(var n=t.seriesIndex,r=t.option.selectedMap,o=e.selected,u=0;u<o.length;u++)if(o[u].seriesIndex===n){var s=t.getData(),l=ha(s,e.fromActionPayload);i.trigger(a,{type:a,seriesId:t.id,name:X(l)?s.getName(l[0]):s.getName(l),selected:j(r)?r:D({},r)})}}))}function em(t,n,i){for(var r;t&&(!n(t)||(r=t,!i));)t=t.S||t.parent;return r}var am=Math.round(9*Math.random()),om="function"==typeof Object.defineProperty,um=function(){function t(){this.Se="__ec_inner_"+am++}return t.prototype.get=function(t){return this.ke(t)[this.Se]},t.prototype.set=function(t,n){var i=this.ke(t);return om?Object.defineProperty(i,this.Se,{value:n,enumerable:!1,configurable:!0}):i[this.Se]=n,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this.ke(t)[this.Se],!0)},t.prototype.has=function(t){return!!this.ke(t)[this.Se]},t.prototype.ke=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}(),sm=au.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,n){var i=n.cx,r=n.cy,e=n.width/2,a=n.height/2;t.moveTo(i,r-a),t.lineTo(i+e,r+a),t.lineTo(i-e,r+a),t.closePath()}}),lm=au.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,n){var i=n.cx,r=n.cy,e=n.width/2,a=n.height/2;t.moveTo(i,r-a),t.lineTo(i+e,r),t.lineTo(i,r+a),t.lineTo(i-e,r),t.closePath()}}),fm=au.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,n){var i=n.x,r=n.y,e=n.width/5*3,a=Math.max(e,n.height),o=e/2,u=o*o/(a-o),s=r-a+o+u,l=Math.asin(u/o),f=Math.cos(l)*o,h=Math.sin(l),c=Math.cos(l),v=.6*o,d=.7*o;t.moveTo(i-f,s+u),t.arc(i,s,o,Math.PI-l,2*Math.PI+l),t.bezierCurveTo(i+f-h*v,s+u+c*v,i,r-d,i,r),t.bezierCurveTo(i,r-d,i-f+h*v,s+u+c*v,i-f,s+u),t.closePath()}}),hm=au.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,n){var i=n.height,r=n.width,e=n.x,a=n.y,o=r/3*2;t.moveTo(e,a),t.lineTo(e+o,a+i),t.lineTo(e,a+i/4*3),t.lineTo(e-o,a+i),t.lineTo(e,a),t.closePath()}}),cm={line:function(t,n,i,r,e){e.x1=t,e.y1=n+r/2,e.x2=t+i,e.y2=n+r/2},rect:function(t,n,i,r,e){e.x=t,e.y=n,e.width=i,e.height=r},roundRect:function(t,n,i,r,e){e.x=t,e.y=n,e.width=i,e.height=r,e.r=Math.min(i,r)/4},square:function(t,n,i,r,e){var a=Math.min(i,r);e.x=t,e.y=n,e.width=a,e.height=a},circle:function(t,n,i,r,e){e.cx=t+i/2,e.cy=n+r/2,e.r=Math.min(i,r)/2},diamond:function(t,n,i,r,e){e.cx=t+i/2,e.cy=n+r/2,e.width=i,e.height=r},pin:function(t,n,i,r,e){e.x=t+i/2,e.y=n+r/2,e.width=i,e.height=r},arrow:function(t,n,i,r,e){e.x=t+i/2,e.y=n+r/2,e.width=i,e.height=r},triangle:function(t,n,i,r,e){e.cx=t+i/2,e.cy=n+r/2,e.width=i,e.height=r}},vm={};E({line:Al,rect:yu,roundRect:yu,square:yu,circle:$s,diamond:lm,pin:fm,arrow:hm,triangle:sm},(function(t,n){vm[n]=new t}));var dm=au.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,n,i){var r=ce(t,n,i),e=this.shape;return e&&"pin"===e.symbolType&&"inside"===n.position&&(r.y=i.y+.4*i.height),r},buildPath:function(t,n,i){var r=n.symbolType;if("none"!==r){var e=vm[r];e||(e=vm[r="rect"]),cm[r](n.x,n.y,n.width,n.height,e.shape),e.buildPath(t,e.shape,i)}}});function pm(t,n){if("image"!==this.type){var i=this.style;this.Ae?(i.stroke=t,i.fill=n||"#fff",i.lineWidth=2):"line"===this.shape.symbolType?i.stroke=t:i.fill=t,this.markRedraw()}}function mm(t,n,i,r,e,a,o){var u,s=0===t.indexOf("empty");return s&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(u=0===t.indexOf("image://")?uf(t.slice(8),new In(n,i,r,e),o?"center":"cover"):0===t.indexOf("path://")?of(t.slice(7),{},new In(n,i,r,e),o?"center":"cover"):new dm({shape:{symbolType:t,x:n,y:i,width:r,height:e}})).Ae=s,u.setColor=pm,a&&u.setColor(a),u}function ym(t){return X(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function gm(t,n){if(null!=t)return X(t)||(t=[t,t]),[ze(t[0],n[0])||0,ze(rt(t[1],t[0]),n[1])||0]}function bm(t){return isFinite(t)}function wm(t,n,i){for(var r="radial"===n.type?function(t,n,i){var r=i.width,e=i.height,a=Math.min(r,e),o=null==n.x?.5:n.x,u=null==n.y?.5:n.y,s=null==n.r?.5:n.r;return n.global||(o=o*r+i.x,u=u*e+i.y,s*=a),o=bm(o)?o:.5,u=bm(u)?u:.5,s=s>=0&&bm(s)?s:.5,t.createRadialGradient(o,u,0,o,u,s)}(t,n,i):function(t,n,i){var r=null==n.x?0:n.x,e=null==n.x2?1:n.x2,a=null==n.y?0:n.y,o=null==n.y2?0:n.y2;return n.global||(r=r*i.width+i.x,e=e*i.width+i.x,a=a*i.height+i.y,o=o*i.height+i.y),r=bm(r)?r:0,e=bm(e)?e:1,a=bm(a)?a:0,o=bm(o)?o:0,t.createLinearGradient(r,a,e,o)}(t,n,i),e=n.colorStops,a=0;a<e.length;a++)r.addColorStop(e[a].offset,e[a].color);return r}function xm(t){return parseInt(t,10)}function Mm(t,n,i){var r=["width","height"][n],e=["clientWidth","clientHeight"][n],a=["paddingLeft","paddingTop"][n],o=["paddingRight","paddingBottom"][n];if(null!=i[r]&&"auto"!==i[r])return parseFloat(i[r]);var u=document.defaultView.getComputedStyle(t);return(t[e]||xm(u[r])||xm(t.style[r]))-(xm(u[a])||0)-(xm(u[o])||0)|0}function Sm(t){var n,i,r=t.style,e=r.lineDash&&r.lineWidth>0&&(n=r.lineDash,i=r.lineWidth,n&&"solid"!==n&&i>0?"dashed"===n?[4*i,2*i]:"dotted"===n?[i]:q(n)?[n]:X(n)?n:null:null),a=r.lineDashOffset;if(e){var o=r.strokeNoScale&&t.getLineScale?t.getLineScale():1;o&&1!==o&&(e=P(e,(function(t){return t/o})),a/=o)}return[e,a]}var km=new Po(!0);function Am(t){var n=t.stroke;return!(null==n||"none"===n||!(t.lineWidth>0))}function Nm(t){return"string"==typeof t&&"none"!==t}function Cm(t){var n=t.fill;return null!=n&&"none"!==n}function Tm(t,n){if(null!=n.fillOpacity&&1!==n.fillOpacity){var i=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,t.fill(),t.globalAlpha=i}else t.fill()}function Im(t,n){if(null!=n.strokeOpacity&&1!==n.strokeOpacity){var i=t.globalAlpha;t.globalAlpha=n.strokeOpacity*n.opacity,t.stroke(),t.globalAlpha=i}else t.stroke()}function zm(t,n,i){var r=Ba(n.image,n.ai,i);if(Ea(r)){var e=t.createPattern(r,n.repeat||"repeat");if("function"==typeof DOMMatrix&&e&&e.setTransform){var a=new DOMMatrix;a.translateSelf(n.x||0,n.y||0),a.rotateSelf(0,0,(n.rotation||0)*xt),a.scaleSelf(n.scaleX||1,n.scaleY||1),e.setTransform(a)}return e}}var Lm=["shadowBlur","shadowOffsetX","shadowOffsetY"],Om=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function Dm(t,n,i,r,e){var a=!1;if(!r&&n===(i=i||{}))return!1;if(r||n.opacity!==i.opacity){Bm(t,e),a=!0;var o=Math.max(Math.min(n.opacity,1),0);t.globalAlpha=isNaN(o)?$a.opacity:o}(r||n.blend!==i.blend)&&(a||(Bm(t,e),a=!0),t.globalCompositeOperation=n.blend||$a.blend);for(var u=0;u<Lm.length;u++){var s=Lm[u];(r||n[s]!==i[s])&&(a||(Bm(t,e),a=!0),t[s]=t.dpr*(n[s]||0))}return(r||n.shadowColor!==i.shadowColor)&&(a||(Bm(t,e),a=!0),t.shadowColor=n.shadowColor||$a.shadowColor),a}function Rm(t,n,i,r,e){var a=_m(n,e.inHover),o=r?null:i&&_m(i,e.inHover)||{};if(a===o)return!1;var u=Dm(t,a,o,r,e);if((r||a.fill!==o.fill)&&(u||(Bm(t,e),u=!0),Nm(a.fill)&&(t.fillStyle=a.fill)),(r||a.stroke!==o.stroke)&&(u||(Bm(t,e),u=!0),Nm(a.stroke)&&(t.strokeStyle=a.stroke)),(r||a.opacity!==o.opacity)&&(u||(Bm(t,e),u=!0),t.globalAlpha=null==a.opacity?1:a.opacity),n.hasStroke()){var s=a.lineWidth/(a.strokeNoScale&&n.getLineScale?n.getLineScale():1);t.lineWidth!==s&&(u||(Bm(t,e),u=!0),t.lineWidth=s)}for(var l=0;l<Om.length;l++){var f=Om[l],h=f[0];(r||a[h]!==o[h])&&(u||(Bm(t,e),u=!0),t[h]=a[h]||f[1])}return u}function Fm(t,n){var i=n.transform,r=t.dpr||1;i?t.setTransform(r*i[0],r*i[1],r*i[2],r*i[3],r*i[4],r*i[5]):t.setTransform(r,0,0,r,0,0)}function Bm(t,n){n.batchFill&&t.fill(),n.batchStroke&&t.stroke(),n.batchFill="",n.batchStroke=""}function _m(t,n){return n&&t._n||t.style}function Em(t,n){Pm(t,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Pm(t,n,i,r){var e=n.transform;if(!n.shouldBePainted(i.viewWidth,i.viewHeight,!1,!1))return n.tt&=-2,void(n.Ne=!1);var a=n.nt,o=i.prevElClipPaths,u=!1,s=!1;if(o&&!function(t,n){if(t===n||!t&&!n)return!1;if(!t||!n||t.length!==n.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==n[i])return!0;return!1}(a,o)||(o&&o.length&&(Bm(t,i),t.restore(),s=u=!0,i.prevElClipPaths=null,i.allClipped=!1,i.prevEl=null),a&&a.length&&(Bm(t,i),t.save(),function(t,n,i){for(var r=!1,e=0;e<t.length;e++){var a=t[e];r=r||a.isZeroArea(),Fm(n,a),n.beginPath(),a.buildPath(n,a.shape),n.clip()}i.allClipped=r}(a,t,i),u=!0),i.prevElClipPaths=a),i.allClipped)n.Ne=!1;else{n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var l=i.prevEl;l||(s=u=!0);var f,h,c=n instanceof au&&n.autoBatch&&function(t){var n=Cm(t),i=Am(t);return!(t.lineDash||!(+n^+i)||n&&"string"!=typeof t.fill||i&&"string"!=typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}(n.style);u||(f=e,h=l.transform,f&&h?f[0]!==h[0]||f[1]!==h[1]||f[2]!==h[2]||f[3]!==h[3]||f[4]!==h[4]||f[5]!==h[5]:f||h)?(Bm(t,i),Fm(t,n)):c||Bm(t,i);var d=_m(n,i.inHover);n instanceof au?(1!==i.lastDrawType&&(s=!0,i.lastDrawType=1),Rm(t,n,l,s,i),c&&(i.batchFill||i.batchStroke)||t.beginPath(),function(t,n,i,r){var e,a=Am(i),o=Cm(i),u=i.strokePercent,s=u<1,l=!n.path;n.silent&&!s||!l||n.createPathProxy();var f=n.path||km,h=n.tt;if(!r){var c=i.fill,v=i.stroke,d=o&&!!c.colorStops,p=a&&!!v.colorStops,m=o&&!!c.image,y=a&&!!v.image,g=void 0,b=void 0,w=void 0,x=void 0,M=void 0;(d||p)&&(M=n.getBoundingRect()),d&&(g=h?wm(t,c,M):n.Ce,n.Ce=g),p&&(b=h?wm(t,v,M):n.Te,n.Te=b),m&&(w=h||!n.Ie?zm(t,c,n):n.Ie,n.Ie=w),y&&(x=h||!n.ze?zm(t,v,n):n.ze,n.ze=w),d?t.fillStyle=g:m&&(w?t.fillStyle=w:o=!1),p?t.strokeStyle=b:y&&(x?t.strokeStyle=x:a=!1)}var S,k,A=n.getGlobalScale();f.setScale(A[0],A[1],n.segmentIgnoreThreshold),t.setLineDash&&i.lineDash&&(S=(e=Sm(n))[0],k=e[1]);var N=!0;(l||4&h)&&(f.setDPR(t.dpr),s?f.setContext(null):(f.setContext(t),N=!1),f.reset(),n.buildPath(f,n.shape,r),f.toStatic(),n.pathUpdated()),N&&f.rebuildPath(t,s?u:1),S&&(t.setLineDash(S),t.lineDashOffset=k),r||(i.strokeFirst?(a&&Im(t,i),o&&Tm(t,i)):(o&&Tm(t,i),a&&Im(t,i))),S&&t.setLineDash([])}(t,n,d,c),c&&(i.batchFill=d.fill||"",i.batchStroke=d.stroke||"")):n instanceof uu?(3!==i.lastDrawType&&(s=!0,i.lastDrawType=3),Rm(t,n,l,s,i),function(t,n,i){var r,e=i.text;if(null!=e&&(e+=""),e){t.font=i.font||v,t.textAlign=i.textAlign,t.textBaseline=i.textBaseline;var a=void 0,o=void 0;t.setLineDash&&i.lineDash&&(a=(r=Sm(n))[0],o=r[1]),a&&(t.setLineDash(a),t.lineDashOffset=o),i.strokeFirst?(Am(i)&&t.strokeText(e,i.x,i.y),Cm(i)&&t.fillText(e,i.x,i.y)):(Cm(i)&&t.fillText(e,i.x,i.y),Am(i)&&t.strokeText(e,i.x,i.y)),a&&t.setLineDash([])}}(t,n,d)):n instanceof fu?(2!==i.lastDrawType&&(s=!0,i.lastDrawType=2),function(t,n,i,r,e){Dm(t,_m(n,e.inHover),i&&_m(i,e.inHover),r,e)}(t,n,l,s,i),function(t,n,i){var r=n.ai=Ba(i.image,n.ai,n,n.onload);if(r&&Ea(r)){var e=i.x||0,a=i.y||0,o=n.getWidth(),u=n.getHeight(),s=r.width/r.height;if(null==o&&null!=u?o=u*s:null==u&&null!=o?u=o/s:null==o&&null==u&&(o=r.width,u=r.height),i.sWidth&&i.sHeight){var l=i.sx||0,f=i.sy||0;t.drawImage(r,l,f,i.sWidth,i.sHeight,e,a,o,u)}else if(i.sx&&i.sy){var h=o-(l=i.sx),c=u-(f=i.sy);t.drawImage(r,l,f,h,c,e,a,o,u)}else t.drawImage(r,e,a,o,u)}}(t,n,d)):n.getTemporalDisplayables&&(4!==i.lastDrawType&&(s=!0,i.lastDrawType=4),function(t,n,i){var r=n.getDisplayables(),e=n.getTemporalDisplayables();t.save();var a,o,u={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:i.viewWidth,viewHeight:i.viewHeight,inHover:i.inHover};for(a=n.getCursor(),o=r.length;a<o;a++){(f=r[a]).beforeBrush&&f.beforeBrush(),f.innerBeforeBrush(),Pm(t,f,u,a===o-1),f.innerAfterBrush(),f.afterBrush&&f.afterBrush(),u.prevEl=f}for(var s=0,l=e.length;s<l;s++){var f;(f=e[s]).beforeBrush&&f.beforeBrush(),f.innerBeforeBrush(),Pm(t,f,u,s===l-1),f.innerAfterBrush(),f.afterBrush&&f.afterBrush(),u.prevEl=f}n.clearTemporalDisplayables(),n.notClear=!0,t.restore()}(t,n,i)),c&&r&&Bm(t,i),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),i.prevEl=n,n.tt=0,n.Ne=!0}}var Wm=new um,Vm=new Ni(100),Hm=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Ym(t,n){if("none"===t)return null;var i=n.getDevicePixelRatio(),r=n.getZr(),e="svg"===r.painter.type;t.dirty&&Wm.delete(t);var a=Wm.get(t);if(a)return a;var o=R(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===o.backgroundColor&&(o.backgroundColor=null);var u={repeat:"repeat"};return function(t){for(var n,a=[i],u=!0,s=0;s<Hm.length;++s){var l=o[Hm[s]];if(null!=l&&!X(l)&&!j(l)&&!q(l)&&"boolean"!=typeof l){u=!1;break}a.push(l)}if(u){n=a.join(",")+(e?"-svg":"");var f=Vm.get(n);f&&(e?t.svgElement=f:t.image=f)}var h,c=Xm(o.dashArrayX),v=function(t){if(!t||"object"==typeof t&&0===t.length)return[0,0];if(q(t)){var n=Math.ceil(t);return[n,n]}var i=P(t,(function(t){return Math.ceil(t)}));return t.length%2?i.concat(i):i}(o.dashArrayY),d=Gm(o.symbol),m=(x=c,P(x,(function(t){return Um(t)}))),y=Um(v),g=!e&&p.createCanvas(),b=e&&{tag:"g",attrs:{},key:"dcl",children:[]},w=function(){for(var t=1,n=0,i=m.length;n<i;++n)t=qe(t,m[n]);var r=1;for(n=0,i=d.length;n<i;++n)r=qe(r,d[n].length);t*=r;var e=y*m.length*d.length;return{width:Math.max(1,Math.min(t,o.maxTileWidth)),height:Math.max(1,Math.min(e,o.maxTileHeight))}}();var x;g&&(g.width=w.width*i,g.height=w.height*i,h=g.getContext("2d"));(function(){h&&(h.clearRect(0,0,g.width,g.height),o.backgroundColor&&(h.fillStyle=o.backgroundColor,h.fillRect(0,0,g.width,g.height)));for(var t=0,n=0;n<v.length;++n)t+=v[n];if(t<=0)return;var a=-y,u=0,s=0,l=0;for(;a<w.height;){if(u%2==0){for(var f=s/2%d.length,p=0,m=0,x=0;p<2*w.width;){var M=0;for(n=0;n<c[l].length;++n)M+=c[l][n];if(M<=0)break;if(m%2==0){var S=.5*(1-o.symbolSize),k=p+c[l][m]*S,A=a+v[u]*S,N=c[l][m]*o.symbolSize,C=v[u]*o.symbolSize,T=x/2%d[f].length;I(k,A,N,C,d[f][T])}p+=c[l][m],++x,++m===c[l].length&&(m=0)}++l===c.length&&(l=0)}a+=v[u],++s,++u===v.length&&(u=0)}function I(t,n,a,u,s){var l=e?1:i,f=mm(s,t*l,n*l,a*l,u*l,o.color,o.symbolKeepAspect);if(e){var c=r.painter.renderOneToVNode(f);c&&b.children.push(c)}else Em(h,f)}})(),u&&Vm.put(n,g||b);t.image=g,t.svgElement=b,t.svgWidth=w.width,t.svgHeight=w.height}(u),u.rotation=o.rotation,u.scaleX=u.scaleY=e?1:1/i,Wm.set(t,u),t.dirty=!1,u}function Gm(t){if(!t||0===t.length)return[["rect"]];if(j(t))return[[t]];for(var n=!0,i=0;i<t.length;++i)if(!j(t[i])){n=!1;break}if(n)return Gm([t]);var r=[];for(i=0;i<t.length;++i)j(t[i])?r.push([t[i]]):r.push(t[i]);return r}function Xm(t){if(!t||0===t.length)return[[0,0]];if(q(t))return[[e=Math.ceil(t),e]];for(var n=!0,i=0;i<t.length;++i)if(!q(t[i])){n=!1;break}if(n)return Xm([t]);var r=[];for(i=0;i<t.length;++i)if(q(t[i])){var e=Math.ceil(t[i]);r.push([e,e])}else{(e=P(t[i],(function(t){return Math.ceil(t)}))).length%2==1?r.push(e.concat(e)):r.push(e)}return r}function Um(t){for(var n=0,i=0;i<t.length;++i)n+=t[i];return t.length%2==1?2*n:n}var jm=new Ht,Zm={};var qm=2e3,Km=4500,Jm={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:qm,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:Km,ARIA:6e3,DECAL:7e3}},$m="__flagInMainProcess",Qm="__pendingUpdate",ty="__needsUpdateStatus",ny=/^[a-zA-Z0-9_]+$/,iy="__connectUpdateStatus";function ry(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(!this.isDisposed())return ay(this,t,n);this.id}}function ey(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return ay(this,t,n)}}function ay(t,n,i){return i[0]=i[0]&&i[0].toLowerCase(),Ht.prototype[n].apply(t,i)}var oy,uy,sy,ly,fy,hy,cy,vy,dy,py,my,yy,gy,by,wy,xy,My,Sy,ky=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n}(Ht),Ay=ky.prototype;Ay.on=ey("on"),Ay.off=ey("off");var Ny=function(t){function n(n,i,r){var e=t.call(this,new Zp)||this;e.Le=[],e.Oe={},e.De=[],e.Ri={},e.Re=[],r=r||{},j(i)&&(i=Ry[i]),e.Fe=n;r.ssr&&(Ne=function(t){var n=Du(t),i=n.dataIndex;if(null!=i){var r=pt();return r.set("series_index",n.seriesIndex),r.set("data_index",i),n.ssrType&&r.set("ssr_type",n.ssrType),r}});var a=e.Be=Te(n,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:rt(r.useDirtyRect,!1),useCoarsePointer:rt(r.useCoarsePointer,"auto"),pointerSize:r.pointerSize});e._e=r.ssr,e.Ee=vp(Y(a.flush,a),17),(i=z(i))&&yv(i,!0),e.Ii=i,e.zi=function(t){if(j(t)){var n=uh[t.toUpperCase()]||{};return t===eh||t===ah?z(n):L(z(n),z(uh[oh]),!1)}return L(z(t),z(uh[oh]),!1)}(r.locale||lh),e.Pe=new Zc;var o=e.Gi=wy(e);function u(t,n){return t.We-n.We}return Xn(Dy,u),Xn(Ly,u),e.Ve=new Np(e,o,Ly,Dy),e.He=new ky,e.Ye(),e.resize=Y(e.resize,e),a.animation.on("frame",e.Ge,e),py(a,e),my(a,e),ft(e),e}return l(n,t),n.prototype.Ge=function(){if(!this.zn){Sy(this);var t=this.Ve;if(this[Qm]){var n=this[Qm].silent;this[$m]=!0;try{oy(this),ly.update.call(this,null,this[Qm].updateParams)}catch(o){throw this[$m]=!1,this[Qm]=null,o}this.Be.flush(),this[$m]=!1,this[Qm]=null,vy.call(this,n),dy.call(this,n)}else if(t.unfinished){var i=1,r=this.Xe,e=this.Gi;t.unfinished=!1;do{var a=+new Date;t.performSeriesTasks(r),t.performDataProcessorTasks(r),hy(this,r),t.performVisualTasks(r),by(this,this.Xe,e,"remain",{}),i-=+new Date-a}while(i>0&&t.unfinished);t.unfinished||this.Be.flush()}}},n.prototype.getDom=function(){return this.Fe},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this.Be},n.prototype.isSSR=function(){return this._e},n.prototype.setOption=function(t,n,i){if(!this[$m])if(this.zn)this.id;else{var r,e,a;if(K(n)&&(i=n.lazyUpdate,r=n.silent,e=n.replaceMerge,a=n.transition,n=n.notMerge),this[$m]=!0,!this.Xe||n){var o=new Kc(this.Gi),u=this.Ii,s=this.Xe=new Vc;s.scheduler=this.Ve,s.ssr=this._e,s.init(null,null,null,u,this.zi,o)}this.Xe.setOption(t,{replaceMerge:e},Oy);var l={seriesTransition:a,optionChanged:!0};if(i)this[Qm]={silent:r,updateParams:l},this[$m]=!1,this.getZr().wakeUp();else{try{oy(this),ly.update.call(this,null,l)}catch(f){throw this[Qm]=null,this[$m]=!1,f}this._e||this.Be.flush(),this[Qm]=null,this[$m]=!1,vy.call(this,r),dy.call(this,r)}}},n.prototype.setTheme=function(){},n.prototype.getModel=function(){return this.Xe},n.prototype.getOption=function(){return this.Xe&&this.Xe.getOption()},n.prototype.getWidth=function(){return this.Be.getWidth()},n.prototype.getHeight=function(){return this.Be.getHeight()},n.prototype.getDevicePixelRatio=function(){return this.Be.painter.dpr||h.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},n.prototype.renderToCanvas=function(t){return t=t||{},this.Be.painter.getRenderedCanvas({backgroundColor:t.backgroundColor||this.Xe.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(t){return t=t||{},this.Be.painter.renderToString({useViewBox:t.useViewBox})},n.prototype.getSvgDataURL=function(){if(h.svgSupported){var t=this.Be;return E(t.storage.getDisplayList(),(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()}},n.prototype.getDataURL=function(t){if(!this.zn){var n=(t=t||{}).excludeComponents,i=this.Xe,r=[],e=this;E(n,(function(t){i.eachComponent({mainType:t},(function(t){var n=e.Ri[t.Ue];n.group.ignore||(r.push(n),n.group.ignore=!0)}))}));var a="svg"===this.Be.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return E(r,(function(t){t.group.ignore=!1})),a}this.id},n.prototype.getConnectedDataURL=function(t){if(!this.zn){var n="svg"===t.type,i=this.group,r=Math.min,e=Math.max,a=1/0;if(_y[i]){var o=a,u=a,s=-1/0,l=-1/0,f=[],h=t&&t.pixelRatio||this.getDevicePixelRatio();E(By,(function(a,h){if(a.group===i){var c=n?a.getZr().painter.getSvgDom().innerHTML:a.renderToCanvas(z(t)),v=a.getDom().getBoundingClientRect();o=r(v.left,o),u=r(v.top,u),s=e(v.right,s),l=e(v.bottom,l),f.push({dom:c,left:v.left,top:v.top})}}));var c=(s*=h)-(o*=h),v=(l*=h)-(u*=h),d=p.createCanvas(),m=Te(d,{renderer:n?"svg":"canvas"});if(m.resize({width:c,height:v}),n){var y="";return E(f,(function(t){var n=t.left-o,i=t.top-u;y+='<g transform="translate('+n+","+i+')">'+t.dom+"</g>"})),m.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&m.painter.setBackgroundColor(t.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}return t.connectedBackgroundColor&&m.add(new yu({shape:{x:0,y:0,width:c,height:v},style:{fill:t.connectedBackgroundColor}})),E(f,(function(t){var n=new fu({style:{x:t.left*h-o,y:t.top*h-u,image:t.dom}});m.add(n)})),m.refreshImmediately(),d.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}this.id},n.prototype.convertToPixel=function(t,n){return fy(this,"convertToPixel",t,n)},n.prototype.convertFromPixel=function(t,n){return fy(this,"convertFromPixel",t,n)},n.prototype.containPixel=function(t,n){var i;if(!this.zn)return E(da(this.Xe,t),(function(t,r){r.indexOf("Models")>=0&&E(t,(function(t){var e=t.coordinateSystem;if(e&&e.containPoint)i=i||!!e.containPoint(n);else if("seriesModels"===r){var a=this.Oe[t.Ue];a&&a.containPoint&&(i=i||a.containPoint(n,t))}}),this)}),this),!!i;this.id},n.prototype.getVisual=function(t,n){var i=da(this.Xe,t,{defaultMainType:"series"}),r=i.seriesModel.getData(),e=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?r.indexOfRawIndex(i.dataIndex):null;return null!=e?Qp(r,e,n):tm(r,n)},n.prototype.getViewOfComponentModel=function(t){return this.Ri[t.Ue]},n.prototype.getViewOfSeriesModel=function(t){return this.Oe[t.Ue]},n.prototype.Ye=function(){var t,n,i,r=this;E(Ty,(function(t){var n=function(n){var i,e=r.getModel(),a=n.target;if("globalout"===t?i={}:a&&em(a,(function(t){var n=Du(t);if(n&&null!=n.dataIndex){var r=n.dataModel||e.getSeriesByIndex(n.seriesIndex);return i=r&&r.getDataParams(n.dataIndex,n.dataType,a)||{},!0}if(n.eventData)return i=D({},n.eventData),!0}),!0),i){var o=i.componentType,u=i.componentIndex;"markLine"!==o&&"markPoint"!==o&&"markArea"!==o||(o="series",u=i.seriesIndex);var s=o&&null!=u&&e.getComponent(o,u),l=s&&r["series"===s.mainType?"Oe":"Ri"][s.Ue];i.event=n,i.type=t,r.D.eventInfo={targetEl:a,packedEvent:i,model:s,view:l},r.trigger(t,i)}};n.zrEventfulCallAtLast=!0,r.Be.on(t,n,r)})),E(zy,(function(t,n){r.He.on(n,(function(t){this.trigger(n,t)}),r)})),E(["selectchanged"],(function(t){r.He.on(t,(function(n){this.trigger(t,n)}),r)})),t=this.He,n=this,i=this.Gi,t.on("selectchanged",(function(t){var r=i.getModel();t.isFromClick?(rm("map","selectchanged",n,r,t),rm("pie","selectchanged",n,r,t)):"select"===t.fromAction?(rm("map","selected",n,r,t),rm("pie","selected",n,r,t)):"unselect"===t.fromAction&&(rm("map","unselected",n,r,t),rm("pie","unselected",n,r,t))}))},n.prototype.isDisposed=function(){return this.zn},n.prototype.clear=function(){this.zn?this.id:this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this.zn)this.id;else{this.zn=!0,this.getDom()&&ba(this.getDom(),Py,"");var t=this,n=t.Gi,i=t.Xe;E(t.De,(function(t){t.dispose(i,n)})),E(t.Le,(function(t){t.dispose(i,n)})),t.Be.dispose(),t.Fe=t.Xe=t.Oe=t.Ri=t.Le=t.De=t.Ve=t.Gi=t.Be=t.Ee=t.Ii=t.Pe=t.He=null,delete By[t.id]}},n.prototype.resize=function(t){if(!this[$m])if(this.zn)this.id;else{this.Be.resize(t);var n=this.Xe;if(this.je&&this.je.resize(),n){var i=n.resetOption("media"),r=t&&t.silent;this[Qm]&&(null==r&&(r=this[Qm].silent),i=!0,this[Qm]=null),this[$m]=!0;try{i&&oy(this),ly.update.call(this,{type:"resize",animation:D({duration:0},t&&t.animation)})}catch(e){throw this[$m]=!1,e}this[$m]=!1,vy.call(this,r),dy.call(this,r)}}},n.prototype.showLoading=function(t,n){if(this.zn)this.id;else if(K(t)&&(n=t,t=""),t=t||"default",this.hideLoading(),Fy[t]){var i=Fy[t](this.Gi,n),r=this.Be;this.je=i,r.add(i)}},n.prototype.hideLoading=function(){this.zn?this.id:(this.je&&this.Be.remove(this.je),this.je=null)},n.prototype.makeActionFromEvent=function(t){var n=D({},t);return n.type=zy[t.type],n},n.prototype.dispatchAction=function(t,n){if(this.zn)this.id;else if(K(n)||(n={silent:!!n}),Iy[t.type]&&this.Xe)if(this[$m])this.Re.push(t);else{var i=n.silent;cy.call(this,t,i);var r=n.flush;r?this.Be.flush():!1!==r&&h.browser.weChat&&this.Ee(),vy.call(this,i),dy.call(this,i)}},n.prototype.updateLabelLayout=function(){jm.trigger("series:layoutlabels",this.Xe,this.Gi,{updatedSeries:[]})},n.prototype.appendData=function(t){if(this.zn)this.id;else{var n=t.seriesIndex;this.getModel().getSeriesByIndex(n).appendData(t),this.Ve.unfinished=!0,this.getZr().wakeUp()}},n.internalField=function(){function t(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function n(t){for(var n=[],i=t.currentStates,r=0;r<i.length;r++){var e=i[r];"emphasis"!==e&&"blur"!==e&&"select"!==e&&n.push(e)}t.selected&&t.states.select&&n.push("select"),2===t.hoverState&&t.states.emphasis?n.push("emphasis"):1===t.hoverState&&t.states.blur&&n.push("blur"),t.useStates(n)}function i(t,n){if(!t.preventAutoZ){var i=t.get("z")||0,e=t.get("zlevel")||0;n.eachRendered((function(t){return r(t,i,e,-1/0),!0}))}}function r(t,n,i,e){var a=t.getTextContent(),o=t.getTextGuideLine();if(t.isGroup)for(var u=t.childrenRef(),s=0;s<u.length;s++)e=Math.max(r(u[s],n,i,e),e);else t.z=n,t.zlevel=i,e=Math.max(t.z2,e);if(a&&(a.z=n,a.zlevel=i,isFinite(e)&&(a.z2=e+2)),o){var l=t.textGuideLineConfig;o.z=n,o.zlevel=i,isFinite(e)&&(o.z2=e+(l&&l.showAbove?1:-1))}return e}function e(t,n){n.eachRendered((function(t){if(!Zl(t)){var n=t.getTextContent(),i=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),i&&i.stateTransition&&(i.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}}))}function a(t,i){var r=t.getModel("stateAnimation"),e=t.isAnimationEnabled(),a=r.get("duration"),o=a>0?{duration:a,delay:r.get("delay"),easing:r.get("easing")}:null;i.eachRendered((function(t){if(t.states&&t.states.emphasis){if(Zl(t))return;if(t instanceof au&&function(t){var n=_u(t);n.normalFill=t.style.fill,n.normalStroke=t.style.stroke;var i=t.states.select||{};n.selectFill=i.style&&i.style.fill||null,n.selectStroke=i.style&&i.style.stroke||null}(t),t.tt){var i=t.prevStates;i&&t.useStates(i)}if(e){t.stateTransition=o;var r=t.getTextContent(),a=t.getTextGuideLine();r&&(r.stateTransition=o),a&&(a.stateTransition=o)}t.tt&&n(t)}}))}oy=function(t){var n=t.Ve;n.restorePipelines(t.Xe),n.prepareStageTasks(),uy(t,!0),uy(t,!1),n.plan()},uy=function(t,n){for(var i=t.Xe,r=t.Ve,e=n?t.De:t.Le,a=n?t.Ri:t.Oe,o=t.Be,u=t.Gi,s=0;s<e.length;s++)e[s].Ze=!1;function l(t){var s=t.Bi;t.Bi=!1;var l="_ec_"+t.id+"_"+t.type,f=!s&&a[l];if(!f){var h=ka(t.type);(f=new(n?tp.getClass(h.main,h.sub):ep.getClass(h.sub))).init(i,u),a[l]=f,e.push(f),o.add(f.group)}t.Ue=f.qe=l,f.Ze=!0,f.Ke=t,f.group.Je={mainType:t.mainType,index:t.componentIndex},!n&&r.prepareView(f,t,i,u)}n?i.eachComponent((function(t,n){"series"!==t&&l(n)})):i.eachSeries(l);for(s=0;s<e.length;){var f=e[s];f.Ze?s++:(!n&&f.renderTask.dispose(),o.remove(f.group),f.dispose(i,u),e.splice(s,1),a[f.qe]===f&&delete a[f.qe],f.qe=f.group.Je=null)}},sy=function(t,n,i,r,e){var a=t.Xe;if(a.setUpdatePayload(i),r){var o={};o[r+"Id"]=i[r+"Id"],o[r+"Index"]=i[r+"Index"],o[r+"Name"]=i[r+"Name"];var u={mainType:r,query:o};e&&(u.subType=e);var s,l=i.excludeSeriesId;null!=l&&(s=pt(),E(ta(l),(function(t){var n=sa(t,null);null!=n&&s.set(n,!0)}))),a&&a.eachComponent(u,(function(n){if(!(s&&null!=s.get(n.id)))if(zs(i))if(n instanceof Ud)i.type!==Hu||i.notBlur||n.get(["emphasis","disabled"])||function(t,n,i){var r=t.seriesIndex,e=t.getData(n.dataType);if(e){var a=ha(e,n);a=(X(a)?a[0]:a)||0;var o=e.getItemGraphicEl(a);if(!o)for(var u=e.count(),s=0;!o&&s<u;)o=e.getItemGraphicEl(s++);if(o){var l=Du(o);ms(r,l.focus,l.blurScope,i)}else{var f=t.get(["emphasis","focus"]),h=t.get(["emphasis","blurScope"]);null!=f&&ms(r,f,h,i)}}}(n,i,t.Gi);else{var r=gs(n.mainType,n.componentIndex,i.name,t.Gi),e=r.focusSelf,a=r.dispatchers;i.type===Hu&&e&&!i.notBlur&&ys(n.mainType,n.componentIndex,t.Gi),a&&E(a,(function(t){i.type===Hu?ss(t):ls(t)}))}else Is(i)&&n instanceof Ud&&(!function(t,n){if(Is(n)){var i=n.dataType,r=ha(t.getData(i),n);X(r)||(r=[r]),t[n.type===Uu?"toggleSelect":n.type===Gu?"select":"unselect"](r,i)}}(n,i,t.Gi),bs(n),My(t))}),t),a&&a.eachComponent(u,(function(n){s&&null!=s.get(n.id)||f(t["series"===r?"Oe":"Ri"][n.Ue])}),t)}else E([].concat(t.De).concat(t.Le),f);function f(r){r&&r.Ze&&r[n]&&r[n](r.Ke,a,t.Gi,i)}},ly={prepareAndUpdate:function(t){oy(this),ly.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(n,i){var r=this.Xe,e=this.Gi,a=this.Be,o=this.Pe,u=this.Ve;if(r){r.setUpdatePayload(n),u.restoreData(r,n),u.performSeriesTasks(r),o.create(r,e),u.performDataProcessorTasks(r,n),hy(this,r),o.update(r,e),t(r),u.performVisualTasks(r,n),yy(this,r,e,n,i);var s=r.get("backgroundColor")||"transparent",l=r.get("darkMode");a.setBackgroundColor(s),null!=l&&"auto"!==l&&a.setDarkMode(l),jm.trigger("afterupdate",r,e)}},updateTransform:function(n){var i=this,r=this.Xe,e=this.Gi;if(r){r.setUpdatePayload(n);var a=[];r.eachComponent((function(t,o){if("series"!==t){var u=i.getViewOfComponentModel(o);if(u&&u.Ze)if(u.updateTransform){var s=u.updateTransform(o,r,e,n);s&&s.update&&a.push(u)}else a.push(u)}}));var o=pt();r.eachSeries((function(t){var a=i.Oe[t.Ue];if(a.updateTransform){var u=a.updateTransform(t,r,e,n);u&&u.update&&o.set(t.uid,1)}else o.set(t.uid,1)})),t(r),this.Ve.performVisualTasks(r,n,{setDirty:!0,dirtyMap:o}),by(this,r,e,n,{},o),jm.trigger("afterupdate",r,e)}},updateView:function(n){var i=this.Xe;i&&(i.setUpdatePayload(n),ep.markUpdateMethod(n,"updateView"),t(i),this.Ve.performVisualTasks(i,n,{setDirty:!0}),yy(this,i,this.Gi,n,{}),jm.trigger("afterupdate",i,this.Gi))},updateVisual:function(n){var i=this,r=this.Xe;r&&(r.setUpdatePayload(n),r.eachSeries((function(t){t.getData().clearAllVisual()})),ep.markUpdateMethod(n,"updateVisual"),t(r),this.Ve.performVisualTasks(r,n,{visualType:"visual",setDirty:!0}),r.eachComponent((function(t,e){if("series"!==t){var a=i.getViewOfComponentModel(e);a&&a.Ze&&a.updateVisual(e,r,i.Gi,n)}})),r.eachSeries((function(t){i.Oe[t.Ue].updateVisual(t,r,i.Gi,n)})),jm.trigger("afterupdate",r,this.Gi))},updateLayout:function(t){ly.update.call(this,t)}},fy=function(t,n,i,r){if(t.zn)t.id;else for(var e,a=t.Xe,o=t.Pe.getCoordinateSystems(),u=da(a,i),s=0;s<o.length;s++){var l=o[s];if(l[n]&&null!=(e=l[n](a,u,r)))return e}},hy=function(t,n){var i=t.Oe,r=t.Ve;n.eachSeries((function(t){r.updateStreamModes(t,i[t.Ue])}))},cy=function(t,n){var i=this,r=this.getModel(),e=t.type,a=t.escapeConnect,o=Iy[e],u=o.actionInfo,s=(u.update||"update").split(":"),l=s.pop(),f=null!=s[0]&&ka(s[0]);this[$m]=!0;var h=[t],c=!1;t.batch&&(c=!0,h=P(t.batch,(function(n){return(n=R(D({},n),t)).batch=null,n})));var v,d=[],p=Is(t),m=zs(t);if(m&&ps(this.Gi),E(h,(function(n){if((v=(v=o.action(n,i.Xe,i.Gi))||D({},n)).type=u.event||v.type,d.push(v),m){var r=pa(t),e=r.queryOptionMap,a=r.mainTypeSpecified?e.keys()[0]:"series";sy(i,l,n,a),My(i)}else p?(sy(i,l,n,"series"),My(i)):f&&sy(i,l,n,f.main,f.sub)})),"none"!==l&&!m&&!p&&!f)try{this[Qm]?(oy(this),ly.update.call(this,t),this[Qm]=null):ly[l].call(this,t)}catch(b){throw this[$m]=!1,b}if(v=c?{type:u.event||e,escapeConnect:a,batch:d}:d[0],this[$m]=!1,!n){var y=this.He;if(y.trigger(v.type,v),p){var g={type:"selectchanged",escapeConnect:a,selected:ws(r),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};y.trigger(g.type,g)}}},vy=function(t){for(var n=this.Re;n.length;){var i=n.shift();cy.call(this,i,t)}},dy=function(t){!t&&this.trigger("updated")},py=function(t,n){t.on("rendered",(function(i){n.trigger("rendered",i),!t.animation.isFinished()||n[Qm]||n.Ve.unfinished||n.Re.length||n.trigger("finished")}))},my=function(t,n){t.on("mouseover",(function(t){var i=em(t.target,Ts);i&&(!function(t,n,i){var r=Du(t),e=gs(r.componentMainType,r.componentIndex,r.componentHighDownName,i),a=e.dispatchers,o=e.focusSelf;a?(o&&ys(r.componentMainType,r.componentIndex,i),E(a,(function(t){return os(t,n)}))):(ms(r.seriesIndex,r.focus,r.blurScope,i),"self"===r.focus&&ys(r.componentMainType,r.componentIndex,i),os(t,n))}(i,t,n.Gi),My(n))})).on("mouseout",(function(t){var i=em(t.target,Ts);i&&(!function(t,n,i){ps(i);var r=Du(t),e=gs(r.componentMainType,r.componentIndex,r.componentHighDownName,i).dispatchers;e?E(e,(function(t){return us(t,n)})):us(t,n)}(i,t,n.Gi),My(n))})).on("click",(function(t){var i=em(t.target,(function(t){return null!=Du(t).dataIndex}),!0);if(i){var r=i.selected?"unselect":"select",e=Du(i);n.Gi.dispatchAction({type:r,dataType:e.dataType,dataIndexInside:e.dataIndex,seriesIndex:e.seriesIndex,isFromClick:!0})}}))},yy=function(t,n,i,r,e){!function(t){var n=[],i=[],r=!1;if(t.eachComponent((function(t,e){var a=e.get("zlevel")||0,o=e.get("z")||0,u=e.getZLevelKey();r=r||!!u,("series"===t?i:n).push({zlevel:a,z:o,idx:e.componentIndex,type:t,key:u})})),r){var e,a,o=n.concat(i);Xn(o,(function(t,n){return t.zlevel===n.zlevel?t.z-n.z:t.zlevel-n.zlevel})),E(o,(function(n){var i=t.getComponent(n.type,n.idx),r=n.zlevel,o=n.key;null!=e&&(r=Math.max(e,r)),o?(r===e&&o!==a&&r++,a=o):a&&(r===e&&r++,a=""),e=r,i.setZLevel(r)}))}}(n),gy(t,n,i,r,e),E(t.Le,(function(t){t.Ze=!1})),by(t,n,i,r,e),E(t.Le,(function(t){t.Ze||t.remove(n,i)}))},gy=function(t,n,r,o,u,s){E(s||t.De,(function(t){var u=t.Ke;e(u,t),t.render(u,n,r,o),i(u,t),a(u,t)}))},by=function(t,n,r,o,u,s){var l=t.Ve;u=D(u||{},{updatedSeries:n.getSeries()}),jm.trigger("series:beforeupdate",n,r,u);var f=!1;n.eachSeries((function(n){var i=t.Oe[n.Ue];i.Ze=!0;var r=i.renderTask;l.updatePayload(r,o),e(n,i),s&&s.get(n.uid)&&r.dirty(),r.perform(l.getPerformArgs(r))&&(f=!0),i.group.silent=!!n.get("silent"),function(t,n){var i=t.get("blendMode")||null;n.eachRendered((function(t){t.isGroup||(t.style.blend=i)}))}(n,i),bs(n)})),l.unfinished=f||l.unfinished,jm.trigger("series:layoutlabels",n,r,u),jm.trigger("series:transition",n,r,u),n.eachSeries((function(n){var r=t.Oe[n.Ue];i(n,r),a(n,r)})),function(t,n){var i=t.Be,r=i.storage,e=0;r.traverse((function(t){t.isGroup||e++})),e>n.get("hoverLayerThreshold")&&!h.node&&!h.worker&&n.eachSeries((function(n){if(!n.preventUsingHoverLayer){var i=t.Oe[n.Ue];i.Ze&&i.eachRendered((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))}}))}(t,n),jm.trigger("series:afterupdate",n,r,u)},My=function(t){t[ty]=!0,t.getZr().wakeUp()},Sy=function(t){t[ty]&&(t.getZr().storage.traverse((function(t){Zl(t)||n(t)})),t[ty]=!1)},wy=function(t){return new(function(n){function i(){return null!==n&&n.apply(this,arguments)||this}return l(i,n),i.prototype.getCoordinateSystems=function(){return t.Pe.getCoordinateSystems()},i.prototype.getComponentByElement=function(n){for(;n;){var i=n.Je;if(null!=i)return t.Xe.getComponent(i.mainType,i.index);n=n.parent}},i.prototype.enterEmphasis=function(n,i){ss(n,i),My(t)},i.prototype.leaveEmphasis=function(n,i){ls(n,i),My(t)},i.prototype.enterBlur=function(n){fs(n),My(t)},i.prototype.leaveBlur=function(n){hs(n),My(t)},i.prototype.enterSelect=function(n){cs(n),My(t)},i.prototype.leaveSelect=function(n){vs(n),My(t)},i.prototype.getModel=function(){return t.getModel()},i.prototype.getViewOfComponentModel=function(n){return t.getViewOfComponentModel(n)},i.prototype.getViewOfSeriesModel=function(n){return t.getViewOfSeriesModel(n)},i}(Uc))(t)},xy=function(t){function n(t,n){for(var i=0;i<t.length;i++){t[i][iy]=n}}E(zy,(function(i,r){t.He.on(r,(function(i){if(_y[t.group]&&0!==t[iy]){if(i&&i.escapeConnect)return;var r=t.makeActionFromEvent(i),e=[];E(By,(function(n){n!==t&&n.group===t.group&&e.push(n)})),n(e,0),E(e,(function(t){1!==t[iy]&&t.dispatchAction(r)})),n(e,2)}}))}))}}(),n}(Ht),Cy=Ny.prototype;Cy.on=ry("on"),Cy.off=ry("off"),Cy.one=function(t,n,i){var r=this;this.on.call(this,t,(function i(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];n&&n.apply&&n.apply(this,e),r.off(t,i)}),i)};var Ty=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var Iy={},zy={},Ly=[],Oy=[],Dy=[],Ry={},Fy={},By={},_y={},Ey=+new Date-0,Py="_echarts_instance_";function Wy(t,n,i){var r=function(t){return By[function(t,n){return t.getAttribute?t.getAttribute(n):t[n]}(t,Py)]}(t);if(r)return r;var e=new Ny(t,n,i);return e.id="ec_"+Ey++,By[e.id]=e,ba(t,Py,e.id),xy(e),jm.trigger("afterinit",e),e}function Vy(t,n){Ry[t]=n}function Hy(t){F(Oy,t)<0&&Oy.push(t)}function Yy(t,n){Zy(Ly,t,n,2e3)}function Gy(t,n){jm.on(t,n)}function Xy(t,n,i){U(n)&&(i=n,n="");var r=K(t)?t.type:[t,t={event:n}][0];t.event=(t.event||r).toLowerCase(),n=t.event,zy[n]||(ut(ny.test(r)&&ny.test(n)),Iy[r]||(Iy[r]={action:i,actionInfo:t}),zy[n]=r)}function Uy(t,n){Zy(Dy,t,n,3e3,"visual")}var jy=[];function Zy(t,n,i,r,e){if((U(n)||K(n))&&(i=n,n=r),!(F(jy,i)>=0)){jy.push(i);var a=Np.wrapStageHandler(i,e);a.We=n,a.$e=i,t.push(a)}}function qy(t,n){Fy[t]=n}var Ky=function(t){var n=(t=z(t)).type;n||Ke("");var i=n.split(":");2!==i.length&&Ke("");var r=!1;"echarts"===i[0]&&(n=i[1],r=!0),t.Tr=r,ld.set(n,t)};Uy(qm,xp),Uy(Km,Sp),Uy(Km,kp),Uy(qm,Jp),Uy(Km,$p),Uy(7e3,(function(t,n){t.eachRawSeries((function(i){if(!t.isSeriesFiltered(i)){var r=i.getData();r.hasItemVisual()&&r.each((function(t){var i=r.getItemVisual(t,"decal");i&&(r.ensureUniqueItemVisual(t,"style").decal=Ym(i,n))}));var e=r.getVisual("decal");if(e)r.getVisual("style").decal=Ym(e,n)}}))})),Hy(yv),Yy(900,(function(t){var n=pt();t.eachSeries((function(t){var i=t.get("stack");if(i){var r=n.get(i)||n.set(i,[]),e=t.getData(),a={stackResultDimension:e.getCalculationInfo("stackResultDimension"),stackedOverDimension:e.getCalculationInfo("stackedOverDimension"),stackedDimension:e.getCalculationInfo("stackedDimension"),stackedByDimension:e.getCalculationInfo("stackedByDimension"),isStackedByIndex:e.getCalculationInfo("isStackedByIndex"),data:e,seriesModel:t};if(!a.stackedDimension||!a.isStackedByIndex&&!a.stackedByDimension)return;r.length&&e.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(a)}})),n.each(gv)})),qy("default",(function(t,n){R(n=n||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var i=new Se,r=new yu({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});i.add(r);var e,a=new wu({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),o=new yu({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});return i.add(o),n.showSpinner&&((e=new Ll({shape:{startAngle:-Ap/2,endAngle:-Ap/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Ap/2}).start("circularInOut"),e.animateShape(!0).when(1e3,{startAngle:3*Ap/2}).delay(300).start("circularInOut"),i.add(e)),i.resize=function(){var i=a.getBoundingRect().width,u=n.showSpinner?n.spinnerRadius:0,s=(t.getWidth()-2*u-(n.showSpinner&&i?10:0)-i)/2-(n.showSpinner&&i?0:5+i/2)+(n.showSpinner?0:i/2)+(i?0:u),l=t.getHeight()/2;n.showSpinner&&e.setShape({cx:s,cy:l}),o.setShape({x:s-u,y:l-u,width:2*u,height:2*u}),r.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},i.resize(),i})),Xy({type:Hu,event:Hu,update:Hu},wt),Xy({type:Yu,event:Yu,update:Yu},wt),Xy({type:Gu,event:Gu,update:Gu},wt),Xy({type:Xu,event:Xu,update:Xu},wt),Xy({type:Uu,event:Uu,update:Uu},wt),Vy("light",Hp),Vy("dark",jp);var Jy=[],$y={registerPreprocessor:Hy,registerProcessor:Yy,registerPostInit:function(t){Gy("afterinit",t)},registerPostUpdate:function(t){Gy("afterupdate",t)},registerUpdateLifecycle:Gy,registerAction:Xy,registerCoordinateSystem:function(t,n){Zc.register(t,n)},registerLayout:function(t,n){Zy(Dy,t,n,1e3,"layout")},registerVisual:Uy,registerTransform:Ky,registerLoading:qy,registerMap:function(t,n,i){var r=Zm["registerMap"];r&&r(t,n,i)},registerImpl:function(t,n){Zm[t]=n},PRIORITY:Jm,ComponentModel:lc,ComponentView:tp,SeriesModel:Ud,ChartView:ep,registerComponentModel:function(t){lc.registerClass(t)},registerComponentView:function(t){tp.registerClass(t)},registerSeriesModel:function(t){Ud.registerClass(t)},registerChartView:function(t){ep.registerClass(t)},registerSubTypeDefaulter:function(t,n){lc.registerSubTypeDefaulter(t,n)},registerPainter:function(t,n){var i;i=n,ke[t]=i}};function Qy(t){X(t)?E(t,(function(t){Qy(t)})):F(Jy,t)>=0||(Jy.push(t),U(t)&&(t={install:t}),t.install($y))}function tg(t){return null==t?0:t.length||1}function ng(t){return t}var ig=function(){function t(t,n,i,r,e,a){this.Qe=t,this.ta=n,this.na=i||ng,this.ia=r||ng,this.context=e,this.ra="multiple"===a}return t.prototype.add=function(t){return this.ea=t,this},t.prototype.update=function(t){return this.aa=t,this},t.prototype.updateManyToOne=function(t){return this.oa=t,this},t.prototype.updateOneToMany=function(t){return this.ua=t,this},t.prototype.updateManyToMany=function(t){return this.sa=t,this},t.prototype.remove=function(t){return this.la=t,this},t.prototype.execute=function(){this[this.ra?"fa":"ha"]()},t.prototype.ha=function(){var t=this.Qe,n=this.ta,i={},r=new Array(t.length),e=new Array(n.length);this.ca(t,null,r,"_oldKeyGetter"),this.ca(n,i,e,"_newKeyGetter");for(var a=0;a<t.length;a++){var o=r[a],u=i[o],s=tg(u);if(s>1){var l=u.shift();1===u.length&&(i[o]=u[0]),this.aa&&this.aa(l,a)}else 1===s?(i[o]=null,this.aa&&this.aa(u,a)):this.la&&this.la(a)}this.va(e,i)},t.prototype.fa=function(){var t=this.Qe,n=this.ta,i={},r={},e=[],a=[];this.ca(t,i,e,"_oldKeyGetter"),this.ca(n,r,a,"_newKeyGetter");for(var o=0;o<e.length;o++){var u=e[o],s=i[u],l=r[u],f=tg(s),h=tg(l);if(f>1&&1===h)this.oa&&this.oa(l,s),r[u]=null;else if(1===f&&h>1)this.ua&&this.ua(l,s),r[u]=null;else if(1===f&&1===h)this.aa&&this.aa(l,s),r[u]=null;else if(f>1&&h>1)this.sa&&this.sa(l,s),r[u]=null;else if(f>1)for(var c=0;c<f;c++)this.la&&this.la(s[c]);else this.la&&this.la(s)}this.va(a,r)},t.prototype.va=function(t,n){for(var i=0;i<t.length;i++){var r=t[i],e=n[r],a=tg(e);if(a>1)for(var o=0;o<a;o++)this.ea&&this.ea(e[o]);else 1===a&&this.ea&&this.ea(e);n[r]=null}},t.prototype.ca=function(t,n,i,r){for(var e=this.ra,a=0;a<t.length;a++){var o="_ec_"+this[r](t[a],a);if(e||(i[a]=o),n){var u=n[o],s=tg(u);0===s?(n[o]=a,e&&i.push(o)):1===s?n[o]=[u,a]:u.push(a)}}},t}(),rg=function(){function t(t,n){this.da=t,this.pa=n}return t.prototype.get=function(){return{fullDimensions:this.ma(),encode:this.da}},t.prototype.ma=function(){return this.ya||(this.ya=this.pa?this.pa.makeOutputDimensionNames():[]),this.ya},t}();function eg(t,n){return t.hasOwnProperty(n)||(t[n]=[]),t[n]}function ag(t){return"category"===t?"ordinal":"time"===t?"time":"float"}var og=function(){return function(t){this.otherDims={},null!=t&&D(this,t)}}(),ug=ca(),sg={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},lg=function(){function t(t){this.dimensions=t.dimensions,this.ga=t.dimensionOmitted,this.source=t.source,this.ba=t.fullDimensionCount,this.wa(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this.ga},t.prototype.wa=function(t){this.ga=t,t&&(this.xa||(this.xa=cg(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return rt(this.xa.get(t),-1)},t.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},t.prototype.makeStoreSchema=function(){for(var t=this.ba,n=Lv(this.source),i=!vg(t),r="",e=[],a=0,o=0;a<t;a++){var u=void 0,s=void 0,l=void 0,f=this.dimensions[o];if(f&&f.storeDimIndex===a)u=n?f.name:null,s=f.type,l=f.ordinalMeta,o++;else{var h=this.getSourceDimension(a);h&&(u=n?h.name:null,s=h.type)}e.push({property:u,type:s,ordinalMeta:l}),!n||null==u||f&&f.isCalculationCoord||(r+=i?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),r+="$",r+=sg[s]||"f",l&&(r+=l.uid),r+="$"}var c=this.source;return{dimensions:e,hash:[c.seriesLayoutBy,c.startIndex,r].join("$$")}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,i=0;n<this.ba;n++){var r=void 0,e=this.dimensions[i];if(e&&e.storeDimIndex===n)e.isCalculationCoord||(r=e.name),i++;else{var a=this.getSourceDimension(n);a&&(r=a.name)}t.push(r)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this.ba++,this.wa(!0)},t}();function fg(t){return t instanceof lg}function hg(t){for(var n=pt(),i=0;i<(t||[]).length;i++){var r=t[i],e=K(r)?r.name:r;null!=e&&null==n.get(e)&&n.set(e,i)}return n}function cg(t){var n=ug(t);return n.dimNameMap||(n.dimNameMap=hg(t.dimensionsDefine))}function vg(t){return t>30}var dg,pg,mg,yg,gg,bg,wg,xg=K,Mg=P,Sg="undefined"==typeof Int32Array?Array:Int32Array,kg=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],Ag=["_approximateExtent"],Ng=function(){function t(t,n){var i;this.type="list",this.ga=!1,this.Ma=[],this.Sa=[],this.ka={},this.Aa={},this.Na=[],this.Ca=[],this.Ta=[],this.Ia={},this.za={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var r=!1;fg(t)?(i=t.dimensions,this.ga=t.isDimensionOmitted(),this.pa=t):(r=!0,i=t),i=i||["x","y"];for(var e={},a=[],o={},u=!1,s={},l=0;l<i.length;l++){var f=i[l],h=j(f)?new og({name:f}):f instanceof og?f:new og(f),c=h.name;h.type=h.type||"float",h.coordDim||(h.coordDim=c,h.coordDimIndex=0);var v=h.otherDims=h.otherDims||{};a.push(c),e[c]=h,null!=s[c]&&(u=!0),h.createInvertedIndices&&(o[c]=[]),0===v.itemName&&(this.La=l),0===v.itemId&&(this.Oa=l),r&&(h.storeDimIndex=l)}if(this.dimensions=a,this.Da=e,this.Ra(u),this.hostModel=n,this.Fa=o,this.ga){var d=this.Ba=pt();E(a,(function(t){d.set(e[t].storeDimIndex,t)}))}}return t.prototype.getDimension=function(t){var n=this._a(t);if(null==n)return t;if(n=t,!this.ga)return this.dimensions[n];var i=this.Ba.get(n);if(null!=i)return i;var r=this.pa.getSourceDimension(n);return r?r.name:void 0},t.prototype.getDimensionIndex=function(t){var n=this._a(t);if(null!=n)return n;if(null==t)return-1;var i=this.Ea(t);return i?i.storeDimIndex:this.ga?this.pa.getSourceDimensionIndex(t):-1},t.prototype._a=function(t){if(q(t)||null!=t&&!isNaN(t)&&!this.Ea(t)&&(!this.ga||this.pa.getSourceDimensionIndex(t)<0))return+t},t.prototype.Pa=function(t){return this.getDimensionIndex(t)},t.prototype.getDimensionInfo=function(t){return this.Ea(this.getDimension(t))},t.prototype.Ra=function(t){var n=this.Da;this.Ea=t?function(t){return n.hasOwnProperty(t)?n[t]:void 0}:function(t){return n[t]}},t.prototype.getDimensionsOnCoord=function(){return this.Wa.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,n){var i=this.Wa;if(null==n)return i.encodeFirstDimNotExtra[t];var r=i.encode[t];return r?r[n]:null},t.prototype.mapDimensionsAll=function(t){return(this.Wa.encode[t]||[]).slice()},t.prototype.getStore=function(){return this.Va},t.prototype.initData=function(t,n,i){var r,e=this;if(t instanceof xd&&(r=t),!r){var a=this.dimensions,o=Av(t)||_(t)?new Ov(t,a.length):t;r=new xd;var u=Mg(a,(function(t){return{type:e.Da[t].type,property:t}}));r.initData(o,u,i)}this.Va=r,this.Ma=(n||[]).slice(),this.Sa=[],this.Ha={},this.Ya(0,r.count()),this.Wa=function(t,n){var i={},r=i.encode={},e=pt(),a=[],o=[],u={};E(t.dimensions,(function(n){var i,s=t.getDimensionInfo(n),l=s.coordDim;if(l){var f=s.coordDimIndex;eg(r,l)[f]=n,s.isExtraCoord||(e.set(l,1),"ordinal"!==(i=s.type)&&"time"!==i&&(a[0]=n),eg(u,l)[f]=t.getDimensionIndex(s.name)),s.defaultTooltip&&o.push(n)}vc.each((function(t,n){var i=eg(r,n),e=s.otherDims[n];null!=e&&!1!==e&&(i[e]=s.name)}))}));var s=[],l={};e.each((function(t,n){var i=r[n];l[n]=i[0],s=s.concat(i)})),i.dataDimsOnCoord=s,i.dataDimIndicesOnCoord=P(s,(function(n){return t.getDimensionInfo(n).storeDimIndex})),i.encodeFirstDimNotExtra=l;var f=r.label;f&&f.length&&(a=f.slice());var h=r.tooltip;return h&&h.length?o=h.slice():o.length||(o=a.slice()),r.defaultedLabel=a,r.defaultedTooltip=o,i.userOutput=new rg(u,n),i}(this,this.pa),this.userOutput=this.Wa.userOutput},t.prototype.appendData=function(t){var n=this.Va.appendData(t);this.Ya(n[0],n[1])},t.prototype.appendValues=function(t,n){var i=this.Va.appendValues(t,n&&n.length),r=i.start,e=i.end,a=this.Ga();if(this.Xa(),n)for(var o=r;o<e;o++){var u=o-r;this.Ma[o]=n[u],a&&wg(this,o)}},t.prototype.Xa=function(){for(var t=this.Va,n=this.dimensions,i=0;i<n.length;i++){var r=this.Da[n[i]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},t.prototype.Ga=function(){var t=this.Va.getProvider();return null==this.Oa&&t.getSource().sourceFormat!==gc&&!t.fillStorage},t.prototype.Ya=function(t,n){if(!(t>=n)){var i=this.Va.getProvider();this.Xa();var r=this.Ma,e=this.Sa;if(i.getSource().sourceFormat===dc&&!i.pure)for(var a=[],o=t;o<n;o++){var u=i.getItem(o,a);if(!this.hasItemOption&&ea(u)&&(this.hasItemOption=!0),u){var s=u.name;null==r[o]&&null!=s&&(r[o]=sa(s,null));var l=u.id;null==e[o]&&null!=l&&(e[o]=sa(l,null))}}if(this.Ga())for(o=t;o<n;o++)wg(this,o);dg(this)}},t.prototype.getApproximateExtent=function(t){return this.Ia[t]||this.Va.getDataExtent(this.Pa(t))},t.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this.Ia[n]=t.slice()},t.prototype.getCalculationInfo=function(t){return this.za[t]},t.prototype.setCalculationInfo=function(t,n){xg(t)?D(this.za,t):this.za[t]=n},t.prototype.getName=function(t){var n=this.getRawIndex(t),i=this.Ma[n];return null==i&&null!=this.La&&(i=mg(this,this.La,n)),null==i&&(i=""),i},t.prototype.Ua=function(t,n){var i=this.Va.get(t,n),r=this.Va.getOrdinalMeta(t);return r?r.categories[i]:i},t.prototype.getId=function(t){return pg(this,this.getRawIndex(t))},t.prototype.count=function(){return this.Va.count()},t.prototype.get=function(t,n){var i=this.Va,r=this.Da[t];if(r)return i.get(r.storeDimIndex,n)},t.prototype.getByRawIndex=function(t,n){var i=this.Va,r=this.Da[t];if(r)return i.getByRawIndex(r.storeDimIndex,n)},t.prototype.getIndices=function(){return this.Va.getIndices()},t.prototype.getDataExtent=function(t){return this.Va.getDataExtent(this.Pa(t))},t.prototype.getSum=function(t){return this.Va.getSum(this.Pa(t))},t.prototype.getMedian=function(t){return this.Va.getMedian(this.Pa(t))},t.prototype.getValues=function(t,n){var i=this,r=this.Va;return X(t)?r.getValues(Mg(t,(function(t){return i.Pa(t)})),n):r.getValues(t)},t.prototype.hasValue=function(t){for(var n=this.Wa.dataDimIndicesOnCoord,i=0,r=n.length;i<r;i++)if(isNaN(this.Va.get(n[i],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var n=0,i=this.Va.count();n<i;n++)if(this.getName(n)===t)return n;return-1},t.prototype.getRawIndex=function(t){return this.Va.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this.Va.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,n){var i=t&&this.Fa[t],r=i&&i[n];return null==r||isNaN(r)?-1:r},t.prototype.indicesOfNearest=function(t,n,i){return this.Va.indicesOfNearest(this.Pa(t),n,i)},t.prototype.each=function(t,n,i){U(t)&&(i=n,n=t,t=[]);var r=i||this,e=Mg(yg(t),this.Pa,this);this.Va.each(e,r?Y(n,r):n)},t.prototype.filterSelf=function(t,n,i){U(t)&&(i=n,n=t,t=[]);var r=i||this,e=Mg(yg(t),this.Pa,this);return this.Va=this.Va.filter(e,r?Y(n,r):n),this},t.prototype.selectRange=function(t){var n=this,i={};return E(H(t),(function(r){var e=n.Pa(r);i[e]=t[r]})),this.Va=this.Va.selectRange(i),this},t.prototype.mapArray=function(t,n,i){U(t)&&(i=n,n=t,t=[]),i=i||this;var r=[];return this.each(t,(function(){r.push(n&&n.apply(this,arguments))}),i),r},t.prototype.map=function(t,n,i,r){var e=i||r||this,a=Mg(yg(t),this.Pa,this),o=bg(this);return o.Va=this.Va.map(a,e?Y(n,e):n),o},t.prototype.modify=function(t,n,i,r){var e=i||r||this,a=Mg(yg(t),this.Pa,this);this.Va.modify(a,e?Y(n,e):n)},t.prototype.downSample=function(t,n,i,r){var e=bg(this);return e.Va=this.Va.downSample(this.Pa(t),n,i,r),e},t.prototype.minmaxDownSample=function(t,n){var i=bg(this);return i.Va=this.Va.minmaxDownSample(this.Pa(t),n),i},t.prototype.lttbDownSample=function(t,n){var i=bg(this);return i.Va=this.Va.lttbDownSample(this.Pa(t),n),i},t.prototype.getRawDataItem=function(t){return this.Va.getRawDataItem(t)},t.prototype.getItemModel=function(t){var n=this.hostModel,i=this.getRawDataItem(t);return new th(i,n,n&&n.ecModel)},t.prototype.diff=function(t){var n=this;return new ig(t?t.getStore().getIndices():[],this.getStore().getIndices(),(function(n){return pg(t,n)}),(function(t){return pg(n,t)}))},t.prototype.getVisual=function(t){var n=this.ka;return n&&n[t]},t.prototype.setVisual=function(t,n){this.ka=this.ka||{},xg(t)?D(this.ka,t):this.ka[t]=n},t.prototype.getItemVisual=function(t,n){var i=this.Na[t],r=i&&i[n];return null==r?this.getVisual(n):r},t.prototype.hasItemVisual=function(){return this.Na.length>0},t.prototype.ensureUniqueItemVisual=function(t,n){var i=this.Na,r=i[t];r||(r=i[t]={});var e=r[n];return null==e&&(X(e=this.getVisual(n))?e=e.slice():xg(e)&&(e=D({},e)),r[n]=e),e},t.prototype.setItemVisual=function(t,n,i){var r=this.Na[t]||{};this.Na[t]=r,xg(n)?D(r,n):r[n]=i},t.prototype.clearAllVisual=function(){this.ka={},this.Na=[]},t.prototype.setLayout=function(t,n){xg(t)?D(this.Aa,t):this.Aa[t]=n},t.prototype.getLayout=function(t){return this.Aa[t]},t.prototype.getItemLayout=function(t){return this.Ca[t]},t.prototype.setItemLayout=function(t,n,i){this.Ca[t]=i?D(this.Ca[t]||{},n):n},t.prototype.clearItemLayouts=function(){this.Ca.length=0},t.prototype.setItemGraphicEl=function(t,n){var i=this.hostModel&&this.hostModel.seriesIndex;Ru(i,this.dataType,t,n),this.Ta[t]=n},t.prototype.getItemGraphicEl=function(t){return this.Ta[t]},t.prototype.eachItemGraphicEl=function(t,n){E(this.Ta,(function(i,r){i&&t&&t.call(n,i,r)}))},t.prototype.cloneShallow=function(n){return n||(n=new t(this.pa?this.pa:Mg(this.dimensions,this.Ea,this),this.hostModel)),gg(n,this),n.Va=this.Va,n},t.prototype.wrapMethod=function(t,n){var i=this[t];U(i)&&(this.ja=this.ja||[],this.ja.push(t),this[t]=function(){var t=i.apply(this,arguments);return n.apply(this,[t].concat(at(arguments)))})},t.internalField=(dg=function(t){var n=t.Fa;E(n,(function(i,r){var e=t.Da[r],a=e.ordinalMeta,o=t.Va;if(a){i=n[r]=new Sg(a.categories.length);for(var u=0;u<i.length;u++)i[u]=-1;for(u=0;u<o.count();u++)i[o.get(e.storeDimIndex,u)]=u}}))},mg=function(t,n,i){return sa(t.Ua(n,i),null)},pg=function(t,n){var i=t.Sa[n];return null==i&&null!=t.Oa&&(i=mg(t,t.Oa,n)),null==i&&(i="e\0\0"+n),i},yg=function(t){return X(t)||(t=null!=t?[t]:[]),t},bg=function(n){var i=new t(n.pa?n.pa:Mg(n.dimensions,n.Ea,n),n.hostModel);return gg(i,n),i},gg=function(t,n){E(kg.concat(n.ja||[]),(function(i){n.hasOwnProperty(i)&&(t[i]=n[i])})),t.ja=n.ja,E(Ag,(function(i){t[i]=z(n[i])})),t.za=D({},n.za)},void(wg=function(t,n){var i=t.Ma,r=t.Sa,e=t.La,a=t.Oa,o=i[n],u=r[n];if(null==o&&null!=e&&(i[n]=o=mg(t,e,n)),null==u&&null!=a&&(r[n]=u=mg(t,a,n)),null==u&&null!=o){var s=t.Ha,l=s[o]=(s[o]||0)+1;u=o,l>1&&(u+="__ec__"+l),r[n]=u}})),t}();function Cg(t,n){Av(t)||(t=Cv(t));var i=(n=n||{}).coordDimensions||[],r=n.dimensionsDefine||t.dimensionsDefine||[],e=pt(),a=[],o=function(t,n,i,r){var e=Math.max(t.dimensionsDetectedCount||1,n.length,i.length,r||0);return E(n,(function(t){var n;K(t)&&(n=t.dimsDef)&&(e=Math.max(e,n.length))})),e}(t,i,r,n.dimensionsCount),u=n.canOmitUnusedDimensions&&vg(o),s=r===t.dimensionsDefine,l=s?cg(t):hg(r),f=n.encodeDefine;!f&&n.encodeDefaulter&&(f=n.encodeDefaulter(t,o));for(var h=pt(f),c=new md(o),v=0;v<c.length;v++)c[v]=-1;function d(t){var n=c[t];if(n<0){var i=r[t],e=K(i)?i:{name:i},o=new og,u=e.name;null!=u&&null!=l.get(u)&&(o.name=o.displayName=u),null!=e.type&&(o.type=e.type),null!=e.displayName&&(o.displayName=e.displayName);var s=a.length;return c[t]=s,o.storeDimIndex=t,a.push(o),o}return a[n]}if(!u)for(v=0;v<o;v++)d(v);h.each((function(t,n){var i=ta(t).slice();if(1===i.length&&!j(i[0])&&i[0]<0)h.set(n,!1);else{var r=h.set(n,[]);E(i,(function(t,i){var e=j(t)?l.get(t):t;null!=e&&e<o&&(r[i]=e,m(d(e),n,i))}))}}));var p=0;function m(t,n,i){null!=vc.get(n)?t.otherDims[n]=i:(t.coordDim=n,t.coordDimIndex=i,e.set(n,!0))}E(i,(function(t){var n,i,r,e;if(j(t))n=t,e={};else{n=(e=t).name;var a=e.ordinalMeta;e.ordinalMeta=null,(e=D({},e)).ordinalMeta=a,i=e.dimsDef,r=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null}var u=h.get(n);if(!1!==u){if(!(u=ta(u)).length)for(var l=0;l<(i&&i.length||1);l++){for(;p<o&&null!=d(p).coordDim;)p++;p<o&&u.push(p++)}E(u,(function(t,a){var o=d(t);if(s&&null!=e.type&&(o.type=e.type),m(R(o,e),n,a),null==o.name&&i){var u=i[a];!K(u)&&(u={name:u}),o.name=o.displayName=u.name,o.defaultTooltip=u.defaultTooltip}r&&R(o.otherDims,r)}))}}));var y=n.generateCoord,g=n.generateCoordCount,b=null!=g;g=y?g||1:0;var w=y||"value";function x(t){null==t.name&&(t.name=t.coordDim)}if(u)E(a,(function(t){x(t)})),a.sort((function(t,n){return t.storeDimIndex-n.storeDimIndex}));else for(var M=0;M<o;M++){var S=d(M);null==S.coordDim&&(S.coordDim=Tg(w,e,b),S.coordDimIndex=0,(!y||g<=0)&&(S.isExtraCoord=!0),g--),x(S),null!=S.type||Ic(t,M)!==Mc&&(!S.isExtraCoord||null==S.otherDims.itemName&&null==S.otherDims.seriesName)||(S.type="ordinal")}return function(t){for(var n=pt(),i=0;i<t.length;i++){var r=t[i],e=r.name,a=n.get(e)||0;a>0&&(r.name=e+(a-1)),a++,n.set(e,a)}}(a),new lg({source:t,dimensions:a,fullDimensionCount:o,dimensionOmitted:u})}function Tg(t,n,i){if(i||n.hasKey(t)){for(var r=0;n.hasKey(t+r);)r++;t+=r}return n.set(t,!0),t}var Ig=function(){return function(t){this.coordSysDims=[],this.axisMap=pt(),this.categoryAxisMap=pt(),this.coordSysName=t}}();var zg={cartesian2d:function(t,n,i,r){var e=t.getReferringComponents("xAxis",ma).models[0],a=t.getReferringComponents("yAxis",ma).models[0];n.coordSysDims=["x","y"],i.set("x",e),i.set("y",a),Lg(e)&&(r.set("x",e),n.firstCategoryDimIndex=0),Lg(a)&&(r.set("y",a),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=1))},singleAxis:function(t,n,i,r){var e=t.getReferringComponents("singleAxis",ma).models[0];n.coordSysDims=["single"],i.set("single",e),Lg(e)&&(r.set("single",e),n.firstCategoryDimIndex=0)},polar:function(t,n,i,r){var e=t.getReferringComponents("polar",ma).models[0],a=e.findAxisModel("radiusAxis"),o=e.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],i.set("radius",a),i.set("angle",o),Lg(a)&&(r.set("radius",a),n.firstCategoryDimIndex=0),Lg(o)&&(r.set("angle",o),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=1))},geo:function(t,n,i,r){n.coordSysDims=["lng","lat"]},parallel:function(t,n,i,r){var e=t.ecModel,a=e.getComponent("parallel",t.get("parallelIndex")),o=n.coordSysDims=a.dimensions.slice();E(a.parallelAxisIndex,(function(t,a){var u=e.getComponent("parallelAxis",t),s=o[a];i.set(s,u),Lg(u)&&(r.set(s,u),null==n.firstCategoryDimIndex&&(n.firstCategoryDimIndex=a))}))}};function Lg(t){return"category"===t.get("type")}function Og(t,n,i){var r,e,a,o=(i=i||{}).byIndex,u=i.stackedCoordDimension;!function(t){return!fg(t.schema)}(n)?(e=n.schema,r=e.dimensions,a=n.store):r=n;var s,l,f,h,c=!(!t||!t.get("stack"));if(E(r,(function(t,n){j(t)&&(r[n]=t={name:t}),c&&!t.isExtraCoord&&(o||s||!t.ordinalMeta||(s=t),l||"ordinal"===t.type||"time"===t.type||u&&u!==t.coordDim||(l=t))})),!l||o||s||(o=!0),l){f="__\0ecstackresult_"+t.id,h="__\0ecstackedover_"+t.id,s&&(s.createInvertedIndices=!0);var v=l.coordDim,d=l.type,p=0;E(r,(function(t){t.coordDim===v&&p++}));var m={name:f,coordDim:v,coordDimIndex:p,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length},y={name:h,coordDim:h,coordDimIndex:p+1,type:d,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:r.length+1};e?(a&&(m.storeDimIndex=a.ensureCalculationDimension(h,d),y.storeDimIndex=a.ensureCalculationDimension(f,d)),e.appendCalculationDimension(m),e.appendCalculationDimension(y)):(r.push(m),r.push(y))}return{stackedDimension:l&&l.name,stackedByDimension:s&&s.name,isStackedByIndex:o,stackedOverDimension:h,stackResultDimension:f}}function Dg(t,n){return!!n&&n===t.getCalculationInfo("stackedDimension")}function Rg(t,n){return Dg(t,n)?t.getCalculationInfo("stackResultDimension"):n}function Fg(t,n,i){i=i||{};var r,e=n.getSourceManager(),a=!1;t?(a=!0,r=Cv(t)):a=(r=e.getSource()).sourceFormat===dc;var o=function(t){var n=t.get("coordinateSystem"),i=new Ig(n),r=zg[n];if(r)return r(t,i,i.axisMap,i.categoryAxisMap),i}(n),u=function(t,n){var i,r=t.get("coordinateSystem"),e=Zc.get(r);return n&&n.coordSysDims&&(i=P(n.coordSysDims,(function(t){var i={name:t},r=n.axisMap.get(t);if(r){var e=r.get("type");i.type=ag(e)}return i}))),i||(i=e&&(e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice())||["x","y"]),i}(n,o),s=i.useEncodeDefaulter,l=U(s)?s:s?G(Nc,u,n):null,f=Cg(r,{coordDimensions:u,generateCoord:i.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!a}),h=function(t,n,i){var r,e;return i&&E(t,(function(t,a){var o=t.coordDim,u=i.categoryAxisMap.get(o);u&&(null==r&&(r=a),t.ordinalMeta=u.getOrdinalMeta(),n&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(e=!0)})),e||null==r||(t[r].otherDims.itemName=0),r}(f.dimensions,i.createInvertedIndices,o),c=a?null:e.getSharedDataStore(f),v=Og(n,{schema:f,store:c}),d=new Ng(f,n);d.setCalculationInfo(v);var p=null!=h&&function(t){if(t.sourceFormat===dc){var n=function(t){var n=0;for(;n<t.length&&null==t[n];)n++;return t[n]}(t.data||[]);return!X(ra(n))}}(r)?function(t,n,i,r){return r===h?i:this.defaultDimValueGetter(t,n,i,r)}:null;return d.hasItemOption=!1,d.initData(a?r:c,null,p),d}var Bg=function(){function t(t){this.Za=t||{},this.Lr=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this.Za[t]},t.prototype.unionExtent=function(t){var n=this.Lr;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},t.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},t.prototype.getExtent=function(){return this.Lr.slice()},t.prototype.setExtent=function(t,n){var i=this.Lr;isNaN(t)||(i[0]=t),isNaN(n)||(i[1]=n)},t.prototype.isInExtentRange=function(t){return this.Lr[0]<=t&&this.Lr[1]>=t},t.prototype.isBlank=function(){return this.qa},t.prototype.setBlank=function(t){this.qa=t},t}();za(Bg);var _g=0,Eg=function(){function t(t){this.categories=t.categories||[],this.Ka=t.needCollect,this.Ja=t.deduplication,this.uid=++_g}return t.createByAxisModel=function(n){var i=n.option,r=i.data,e=r&&P(r,Pg);return new t({categories:e,needCollect:!e,deduplication:!1!==i.dedplication})},t.prototype.getOrdinal=function(t){return this.$a().get(t)},t.prototype.parseAndCollect=function(t){var n,i=this.Ka;if(!j(t)&&!i)return t;if(i&&!this.Ja)return n=this.categories.length,this.categories[n]=t,n;var r=this.$a();return null==(n=r.get(t))&&(i?(n=this.categories.length,this.categories[n]=t,r.set(t,n)):n=NaN),n},t.prototype.$a=function(){return this.vt||(this.vt=pt(this.categories))},t}();function Pg(t){return K(t)&&null!=t.value?t.value:t+""}function Wg(t){return"interval"===t.type||"log"===t.type}function Vg(t,n,i,r){var e={},a=t[1]-t[0],o=e.interval=He(a/n);null!=i&&o<i&&(o=e.interval=i),null!=r&&o>r&&(o=e.interval=r);var u=e.intervalPrecision=Yg(o);return function(t,n){!isFinite(t[0])&&(t[0]=n[0]),!isFinite(t[1])&&(t[1]=n[1]),Gg(t,0,n),Gg(t,1,n),t[0]>t[1]&&(t[0]=t[1])}(e.niceTickExtent=[Le(Math.ceil(t[0]/o)*o,u),Le(Math.floor(t[1]/o)*o,u)],t),e}function Hg(t){var n=Math.pow(10,Ve(t)),i=t/n;return i?2===i?i=3:3===i?i=5:i*=2:i=1,Le(i*n)}function Yg(t){return De(t)+2}function Gg(t,n,i){t[n]=Math.max(Math.min(t[n],i[1]),i[0])}function Xg(t,n){return t>=n[0]&&t<=n[1]}function Ug(t,n){return n[1]===n[0]?.5:(t-n[0])/(n[1]-n[0])}function jg(t,n){return t*(n[1]-n[0])+n[0]}var Zg=function(t){function n(n){var i=t.call(this,n)||this;i.type="ordinal";var r=i.getSetting("ordinalMeta");return r||(r=new Eg({})),X(r)&&(r=new Eg({categories:P(r,(function(t){return K(t)?t.value:t}))})),i.Qa=r,i.Lr=i.getSetting("extent")||[0,r.categories.length-1],i}return l(n,t),n.prototype.parse=function(t){return null==t?NaN:j(t)?this.Qa.getOrdinal(t):Math.round(t)},n.prototype.contain=function(t){return Xg(t=this.parse(t),this.Lr)&&null!=this.Qa.categories[t]},n.prototype.normalize=function(t){return Ug(t=this.no(this.parse(t)),this.Lr)},n.prototype.scale=function(t){return t=Math.round(jg(t,this.Lr)),this.getRawOrdinalNumber(t)},n.prototype.getTicks=function(){for(var t=[],n=this.Lr,i=n[0];i<=n[1];)t.push({value:i}),i++;return t},n.prototype.getMinorTicks=function(t){},n.prototype.setSortInfo=function(t){if(null!=t){for(var n=t.ordinalNumbers,i=this.io=[],r=this.ro=[],e=0,a=this.Qa.categories.length,o=Math.min(a,n.length);e<o;++e){var u=n[e];i[e]=u,r[u]=e}for(var s=0;e<a;++e){for(;null!=r[s];)s++;i.push(s),r[s]=e}}else this.io=this.ro=null},n.prototype.no=function(t){var n=this.ro;return n&&t>=0&&t<n.length?n[t]:t},n.prototype.getRawOrdinalNumber=function(t){var n=this.io;return n&&t>=0&&t<n.length?n[t]:t},n.prototype.getLabel=function(t){if(!this.isBlank()){var n=this.getRawOrdinalNumber(t.value),i=this.Qa.categories[n];return null==i?"":i+""}},n.prototype.count=function(){return this.Lr[1]-this.Lr[0]+1},n.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},n.prototype.isInExtentRange=function(t){return t=this.no(t),this.Lr[0]<=t&&this.Lr[1]>=t},n.prototype.getOrdinalMeta=function(){return this.Qa},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type="ordinal",n}(Bg);Bg.registerClass(Zg);var qg=Le,Kg=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="interval",n.eo=0,n.ao=2,n}return l(n,t),n.prototype.parse=function(t){return t},n.prototype.contain=function(t){return Xg(t,this.Lr)},n.prototype.normalize=function(t){return Ug(t,this.Lr)},n.prototype.scale=function(t){return jg(t,this.Lr)},n.prototype.setExtent=function(t,n){var i=this.Lr;isNaN(t)||(i[0]=parseFloat(t)),isNaN(n)||(i[1]=parseFloat(n))},n.prototype.unionExtent=function(t){var n=this.Lr;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1]),this.setExtent(n[0],n[1])},n.prototype.getInterval=function(){return this.eo},n.prototype.setInterval=function(t){this.eo=t,this.oo=this.Lr.slice(),this.ao=Yg(t)},n.prototype.getTicks=function(t){var n=this.eo,i=this.Lr,r=this.oo,e=this.ao,a=[];if(!n)return a;i[0]<r[0]&&(t?a.push({value:qg(r[0]-n,e)}):a.push({value:i[0]}));for(var o=r[0];o<=r[1]&&(a.push({value:o}),(o=qg(o+n,e))!==a[a.length-1].value);)if(a.length>1e4)return[];var u=a.length?a[a.length-1].value:r[1];return i[1]>u&&(t?a.push({value:qg(u+n,e)}):a.push({value:i[1]})),a},n.prototype.getMinorTicks=function(t){for(var n=this.getTicks(!0),i=[],r=this.getExtent(),e=1;e<n.length;e++){for(var a=n[e],o=n[e-1],u=0,s=[],l=(a.value-o.value)/t;u<t-1;){var f=qg(o.value+(u+1)*l);f>r[0]&&f<r[1]&&s.push(f),u++}i.push(s)}return i},n.prototype.getLabel=function(t,n){if(null==t)return"";var i=n&&n.precision;return null==i?i=De(t.value)||0:"auto"===i&&(i=this.ao),Hh(qg(t.value,i,!0))},n.prototype.calcNiceTicks=function(t,n,i){t=t||5;var r=this.Lr,e=r[1]-r[0];if(isFinite(e)){e<0&&(e=-e,r.reverse());var a=Vg(r,t,n,i);this.ao=a.intervalPrecision,this.eo=a.interval,this.oo=a.niceTickExtent}},n.prototype.calcNiceExtent=function(t){var n=this.Lr;if(n[0]===n[1])if(0!==n[0]){var i=Math.abs(n[0]);t.fixMax||(n[1]+=i/2),n[0]-=i/2}else n[1]=1;var r=n[1]-n[0];isFinite(r)||(n[0]=0,n[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var e=this.eo;t.fixMin||(n[0]=qg(Math.floor(n[0]/e)*e)),t.fixMax||(n[1]=qg(Math.ceil(n[1]/e)*e))},n.prototype.setNiceExtent=function(t,n){this.oo=[t,n]},n.type="interval",n}(Bg);Bg.registerClass(Kg);var Jg="undefined"!=typeof Float32Array,$g=Jg?Float32Array:Array;function Qg(t){return X(t)?Jg?new Float32Array(t):t:new $g(t)}var tb="__ec_stack_";function nb(t){return t.get("stack")||tb+t.seriesIndex}function ib(t){return t.dim+t.index}function rb(t,n){var i=[];return n.eachSeriesByType(t,(function(t){sb(t)&&i.push(t)})),i}function eb(t){var n=function(t){var n={};E(t,(function(t){var i=t.coordinateSystem.getBaseAxis();if("time"===i.type||"value"===i.type)for(var r=t.getData(),e=i.dim+"_"+i.index,a=r.getDimensionIndex(r.mapDimension(i.dim)),o=r.getStore(),u=0,s=o.count();u<s;++u){var l=o.get(a,u);n[e]?n[e].push(l):n[e]=[l]}}));var i={};for(var r in n)if(n.hasOwnProperty(r)){var e=n[r];if(e){e.sort((function(t,n){return t-n}));for(var a=null,o=1;o<e.length;++o){var u=e[o]-e[o-1];u>0&&(a=null===a?u:Math.min(a,u))}i[r]=a}}return i}(t),i=[];return E(t,(function(t){var r,e=t.coordinateSystem.getBaseAxis(),a=e.getExtent();if("category"===e.type)r=e.getBandWidth();else if("value"===e.type||"time"===e.type){var o=e.dim+"_"+e.index,u=n[o],s=Math.abs(a[1]-a[0]),l=e.scale.getExtent(),f=Math.abs(l[1]-l[0]);r=u?s/f*u:s}else{var h=t.getData();r=Math.abs(a[1]-a[0])/h.count()}var c=ze(t.get("barWidth"),r),v=ze(t.get("barMaxWidth"),r),d=ze(t.get("barMinWidth")||(lb(t)?.5:1),r),p=t.get("barGap"),m=t.get("barCategoryGap");i.push({bandWidth:r,barWidth:c,barMaxWidth:v,barMinWidth:d,barGap:p,barCategoryGap:m,axisKey:ib(e),stackId:nb(t)})})),ab(i)}function ab(t){var n={};E(t,(function(t,i){var r=t.axisKey,e=t.bandWidth,a=n[r]||{bandWidth:e,remainedWidth:e,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},o=a.stacks;n[r]=a;var u=t.stackId;o[u]||a.autoWidthCount++,o[u]=o[u]||{width:0,maxWidth:0};var s=t.barWidth;s&&!o[u].width&&(o[u].width=s,s=Math.min(a.remainedWidth,s),a.remainedWidth-=s);var l=t.barMaxWidth;l&&(o[u].maxWidth=l);var f=t.barMinWidth;f&&(o[u].minWidth=f);var h=t.barGap;null!=h&&(a.gap=h);var c=t.barCategoryGap;null!=c&&(a.categoryGap=c)}));var i={};return E(n,(function(t,n){i[n]={};var r=t.stacks,e=t.bandWidth,a=t.categoryGap;if(null==a){var o=H(r).length;a=Math.max(35-4*o,15)+"%"}var u=ze(a,e),s=ze(t.gap,1),l=t.remainedWidth,f=t.autoWidthCount,h=(l-u)/(f+(f-1)*s);h=Math.max(h,0),E(r,(function(t){var n=t.maxWidth,i=t.minWidth;if(t.width){r=t.width;n&&(r=Math.min(r,n)),i&&(r=Math.max(r,i)),t.width=r,l-=r+s*r,f--}else{var r=h;n&&n<r&&(r=Math.min(n,l)),i&&i>r&&(r=i),r!==h&&(t.width=r,l-=r+s*r,f--)}})),h=(l-u)/(f+(f-1)*s),h=Math.max(h,0);var c,v=0;E(r,(function(t,n){t.width||(t.width=h),c=t,v+=t.width*(1+s)})),c&&(v-=c.width*s);var d=-v/2;E(r,(function(t,r){i[n][r]=i[n][r]||{bandWidth:e,offset:d,width:t.width},d+=t.width*(1+s)}))})),i}function ob(t,n){var i=rb(t,n),r=eb(i);E(i,(function(t){var n=t.getData(),i=t.coordinateSystem.getBaseAxis(),e=nb(t),a=r[ib(i)][e],o=a.offset,u=a.width;n.setLayout({bandWidth:a.bandWidth,offset:o,size:u})}))}function ub(t){return{seriesType:t,plan:np(),reset:function(t){if(sb(t)){var n=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),e=i.getOtherAxis(r),a=n.getDimensionIndex(n.mapDimension(e.dim)),o=n.getDimensionIndex(n.mapDimension(r.dim)),u=t.get("showBackground",!0),s=n.mapDimension(e.dim),l=n.getCalculationInfo("stackResultDimension"),f=Dg(n,s)&&!!n.getCalculationInfo("stackedOnSeries"),h=e.isHorizontal(),c=function(t,n){var i=n.model.get("startValue");i||(i=0);return n.toGlobalCoord(n.dataToCoord("log"===n.type?i>0?i:1:i))}(0,e),v=lb(t),d=t.get("barMinHeight")||0,p=l&&n.getDimensionIndex(l),m=n.getLayout("size"),y=n.getLayout("offset");return{progress:function(t,n){for(var r,e=t.count,s=v&&Qg(3*e),l=v&&u&&Qg(3*e),g=v&&Qg(e),b=i.master.getRect(),w=h?b.width:b.height,x=n.getStore(),M=0;null!=(r=t.next());){var S=x.get(f?p:a,r),k=x.get(o,r),A=c,N=void 0;f&&(N=+S-x.get(a,r));var C=void 0,T=void 0,I=void 0,z=void 0;if(h){var L=i.dataToPoint([S,k]);if(f)A=i.dataToPoint([N,k])[0];C=A,T=L[1]+y,I=L[0]-A,z=m,Math.abs(I)<d&&(I=(I<0?-1:1)*d)}else{L=i.dataToPoint([k,S]);if(f)A=i.dataToPoint([k,N])[1];C=L[0]+y,T=A,I=m,z=L[1]-A,Math.abs(z)<d&&(z=(z<=0?-1:1)*d)}v?(s[M]=C,s[M+1]=T,s[M+2]=h?I:z,l&&(l[M]=h?b.x:C,l[M+1]=h?T:b.y,l[M+2]=w),g[r]=r):n.setItemLayout(r,{x:C,y:T,width:I,height:z}),M+=3}v&&n.setLayout({largePoints:s,largeDataIndices:g,largeBackgroundPoints:l,valueAxisHorizontal:h})}}}}}}function sb(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function lb(t){return t.pipelineContext&&t.pipelineContext.large}var fb=function(t){function n(n){var i=t.call(this,n)||this;return i.type="time",i}return l(n,t),n.prototype.getLabel=function(t){var n=this.getSetting("useUTC");return Ah(t.value,bh[function(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Sh(this.uo))]||bh.second,n,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(t,n,i){var r=this.getSetting("useUTC");return function(t,n,i,r,e){var a=null;if(j(i))a=i;else if(U(i))a=i(t.value,n,{level:t.level});else{var o=D({},yh);if(t.level>0)for(var u=0;u<wh.length;++u)o[wh[u]]="{primary|"+o[wh[u]]+"}";var s=i?!1===i.inherit?i:R(i,o):o,l=Nh(t.value,e);if(s[l])a=s[l];else if(s.inherit){for(u=xh.indexOf(l)-1;u>=0;--u)if(s[l]){a=s[l];break}a=a||o.none}if(X(a)){var f=null==t.level?0:t.level>=0?t.level:a.length+t.level;a=a[f=Math.min(f,a.length-1)]}}return Ah(new Date(t.value),a,e,r)}(t,n,i,this.getSetting("locale"),r)},n.prototype.getTicks=function(){var t=this.eo,n=this.Lr,i=[];if(!t)return i;i.push({value:n[0],level:0});var r=this.getSetting("useUTC"),e=function(t,n,i,r){var e=1e4,a=xh,o=0;function u(t,n,i,e,a,o,u){for(var s=new Date(n),l=n,f=s[e]();l<i&&l<=r[1];)u.push({value:l}),f+=t,s[a](f),l=s.getTime();u.push({value:l,notAdd:!0})}function s(t,e,a){var o=[],s=!e.length;if(!function(t,n,i,r){var e=We(n),a=We(i),o=function(t){return Ch(e,t,r)===Ch(a,t,r)},u=function(){return o("year")},s=function(){return u()&&o("month")},l=function(){return s()&&o("day")},f=function(){return l()&&o("hour")},h=function(){return f()&&o("minute")},c=function(){return h()&&o("second")},v=function(){return c()&&o("millisecond")};switch(t){case"year":return u();case"month":return s();case"day":return l();case"hour":return f();case"minute":return h();case"second":return c();case"millisecond":return v()}}(Sh(t),r[0],r[1],i)){s&&(e=[{value:yb(new Date(r[0]),t,i)},{value:r[1]}]);for(var l=0;l<e.length-1;l++){var f=e[l].value,h=e[l+1].value;if(f!==h){var c=void 0,v=void 0,d=void 0,p=!1;switch(t){case"year":c=Math.max(1,Math.round(n/ph/365)),v=Th(i),d=Fh(i);break;case"half-year":case"quarter":case"month":c=vb(n),v=Ih(i),d=Bh(i);break;case"week":case"half-week":case"day":c=cb(n),v=zh(i),d=_h(i),p=!0;break;case"half-day":case"quarter-day":case"hour":c=db(n),v=Lh(i),d=Eh(i);break;case"minute":c=pb(n,!0),v=Oh(i),d=Ph(i);break;case"second":c=pb(n,!1),v=Dh(i),d=Wh(i);break;case"millisecond":c=mb(n),v=Rh(i),d=Vh(i)}u(c,f,h,v,d,p,o),"year"===t&&a.length>1&&0===l&&a.unshift({value:a[0].value-c})}}for(l=0;l<o.length;l++)a.push(o[l]);return o}}for(var l=[],f=[],h=0,c=0,v=0;v<a.length&&o++<e;++v){var d=Sh(a[v]);if(kh(a[v]))if(s(a[v],l[l.length-1]||[],f),d!==(a[v+1]?Sh(a[v+1]):null)){if(f.length){c=h,f.sort((function(t,n){return t.value-n.value}));for(var p=[],m=0;m<f.length;++m){var y=f[m].value;0!==m&&f[m-1].value===y||(p.push(f[m]),y>=r[0]&&y<=r[1]&&h++)}var g=(r[1]-r[0])/n;if(h>1.5*g&&c>g/1.5)break;if(l.push(p),h>g||t===a[v])break}f=[]}}var b=V(P(l,(function(t){return V(t,(function(t){return t.value>=r[0]&&t.value<=r[1]&&!t.notAdd}))})),(function(t){return t.length>0})),w=[],x=b.length-1;for(v=0;v<b.length;++v)for(var M=b[v],S=0;S<M.length;++S)w.push({value:M[S].value,level:x-v});w.sort((function(t,n){return t.value-n.value}));var k=[];for(v=0;v<w.length;++v)0!==v&&w[v].value===w[v-1].value||k.push(w[v]);return k}(this.uo,this.so,r,n);return(i=i.concat(e)).push({value:n[1],level:0}),i},n.prototype.calcNiceExtent=function(t){var n=this.Lr;if(n[0]===n[1]&&(n[0]-=ph,n[1]+=ph),n[1]===-1/0&&n[0]===1/0){var i=new Date;n[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),n[0]=n[1]-ph}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},n.prototype.calcNiceTicks=function(t,n,i){t=t||10;var r=this.Lr,e=r[1]-r[0];this.so=e/t,null!=n&&this.so<n&&(this.so=n),null!=i&&this.so>i&&(this.so=i);var a=hb.length,o=Math.min(function(t,n,i,r){for(;i<r;){var e=i+r>>>1;t[e][1]<n?i=e+1:r=e}return i}(hb,this.so,0,a),a-1);this.eo=hb[o][1],this.uo=hb[Math.max(o-1,0)][0]},n.prototype.parse=function(t){return q(t)?t:+We(t)},n.prototype.contain=function(t){return Xg(this.parse(t),this.Lr)},n.prototype.normalize=function(t){return Ug(this.parse(t),this.Lr)},n.prototype.scale=function(t){return jg(t,this.Lr)},n.type="time",n}(Kg),hb=[["second",ch],["minute",vh],["hour",dh],["quarter-day",216e5],["half-day",432e5],["day",10368e4],["half-week",3024e5],["week",6048e5],["month",26784e5],["quarter",8208e6],["half-year",mh/2],["year",mh]];function cb(t,n){return(t/=ph)>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function vb(t){return(t/=2592e6)>6?6:t>3?3:t>2?2:1}function db(t){return(t/=dh)>12?12:t>6?6:t>3.5?4:t>2?2:1}function pb(t,n){return(t/=n?vh:ch)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function mb(t){return He(t)}function yb(t,n,i){var r=new Date(t);switch(Sh(n)){case"year":case"month":r[Bh(i)](0);case"day":r[_h(i)](1);case"hour":r[Eh(i)](0);case"minute":r[Ph(i)](0);case"second":r[Wh(i)](0),r[Vh(i)](0)}return r.getTime()}Bg.registerClass(fb);var gb=Bg.prototype,bb=Kg.prototype,wb=Le,xb=Math.floor,Mb=Math.ceil,Sb=Math.pow,kb=Math.log,Ab=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="log",n.base=10,n.lo=new Kg,n.eo=0,n}return l(n,t),n.prototype.getTicks=function(t){var n=this.lo,i=this.Lr,r=n.getExtent();return P(bb.getTicks.call(this,t),(function(t){var n=t.value,e=Le(Sb(this.base,n));return e=n===i[0]&&this.fo?Cb(e,r[0]):e,{value:e=n===i[1]&&this.ho?Cb(e,r[1]):e}}),this)},n.prototype.setExtent=function(t,n){var i=kb(this.base);t=kb(Math.max(0,t))/i,n=kb(Math.max(0,n))/i,bb.setExtent.call(this,t,n)},n.prototype.getExtent=function(){var t=this.base,n=gb.getExtent.call(this);n[0]=Sb(t,n[0]),n[1]=Sb(t,n[1]);var i=this.lo.getExtent();return this.fo&&(n[0]=Cb(n[0],i[0])),this.ho&&(n[1]=Cb(n[1],i[1])),n},n.prototype.unionExtent=function(t){this.lo.unionExtent(t);var n=this.base;t[0]=kb(t[0])/kb(n),t[1]=kb(t[1])/kb(n),gb.unionExtent.call(this,t)},n.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},n.prototype.calcNiceTicks=function(t){t=t||10;var n=this.Lr,i=n[1]-n[0];if(!(i===1/0||i<=0)){var r,e=(r=i,Math.pow(10,Ve(r)));for(t/i*e<=.5&&(e*=10);!isNaN(e)&&Math.abs(e)<1&&Math.abs(e)>0;)e*=10;var a=[Le(Mb(n[0]/e)*e),Le(xb(n[1]/e)*e)];this.eo=e,this.oo=a}},n.prototype.calcNiceExtent=function(t){bb.calcNiceExtent.call(this,t),this.fo=t.fixMin,this.ho=t.fixMax},n.prototype.parse=function(t){return t},n.prototype.contain=function(t){return Xg(t=kb(t)/kb(this.base),this.Lr)},n.prototype.normalize=function(t){return Ug(t=kb(t)/kb(this.base),this.Lr)},n.prototype.scale=function(t){return t=jg(t,this.Lr),Sb(this.base,t)},n.type="log",n}(Bg),Nb=Ab.prototype;function Cb(t,n){return wb(t,De(n))}Nb.getMinorTicks=bb.getMinorTicks,Nb.getLabel=bb.getLabel,Bg.registerClass(Ab);var Tb=function(){function t(t,n,i){this.co(t,n,i)}return t.prototype.co=function(t,n,i){i[1]<i[0]&&(i=[NaN,NaN]),this.vo=i[0],this.do=i[1];var r=this.po="ordinal"===t.type;this.mo="interval"===t.type&&n.getNeedCrossZero&&n.getNeedCrossZero();var e=n.get("min",!0);null==e&&(e=n.get("startValue",!0));var a=this.yo=e;U(a)?this.bo=Ob(t,a({min:i[0],max:i[1]})):"dataMin"!==a&&(this.bo=Ob(t,a));var o=this.wo=n.get("max",!0);if(U(o)?this.xo=Ob(t,o({min:i[0],max:i[1]})):"dataMax"!==o&&(this.xo=Ob(t,o)),r)this.Mo=n.getCategories().length;else{var u=n.get("boundaryGap"),s=X(u)?u:[u||0,u||0];"boolean"==typeof s[0]||"boolean"==typeof s[1]?this.So=[0,0]:this.So=[he(s[0],1),he(s[1],1)]}},t.prototype.calculate=function(){var t=this.po,n=this.vo,i=this.do,r=this.Mo,e=this.So,a=t?null:i-n||Math.abs(n),o="dataMin"===this.yo?n:this.bo,u="dataMax"===this.wo?i:this.xo,s=null!=o,l=null!=u;null==o&&(o=t?r?0:NaN:n-e[0]*a),null==u&&(u=t?r?r-1:NaN:i+e[1]*a),(null==o||!isFinite(o))&&(o=NaN),(null==u||!isFinite(u))&&(u=NaN);var f=nt(o)||nt(u)||t&&!r;this.mo&&(o>0&&u>0&&!s&&(o=0),o<0&&u<0&&!l&&(u=0));var h=this.ko,c=this.Ao;return null!=h&&(o=h,s=!0),null!=c&&(u=c,l=!0),{min:o,max:u,minFixed:s,maxFixed:l,isBlank:f}},t.prototype.modifyDataMinMax=function(t,n){this[zb[t]]=n},t.prototype.setDeterminedMinMax=function(t,n){this[Ib[t]]=n},t.prototype.freeze=function(){this.frozen=!0},t}(),Ib={min:"_determinedMin",max:"_determinedMax"},zb={min:"_dataMin",max:"_dataMax"};function Lb(t,n,i){var r=t.rawExtentInfo;return r||(r=new Tb(t,n,i),t.rawExtentInfo=r,r)}function Ob(t,n){return null==n?null:nt(n)?NaN:t.parse(n)}function Db(t,n){var i=t.type,r=Lb(t,n,t.getExtent()).calculate();t.setBlank(r.isBlank);var e=r.min,a=r.max,o=n.ecModel;if(o&&"time"===i){var u=rb("bar",o),s=!1;if(E(u,(function(t){s=s||t.getBaseAxis()===n.axis})),s){var l=eb(u),f=function(t,n,i,r){var e=i.axis.getExtent(),a=Math.abs(e[1]-e[0]),o=function(t,n){if(t&&n)return t[ib(n)]}(r,i.axis);if(void 0===o)return{min:t,max:n};var u=1/0;E(o,(function(t){u=Math.min(t.offset,u)}));var s=-1/0;E(o,(function(t){s=Math.max(t.offset+t.width,s)})),u=Math.abs(u),s=Math.abs(s);var l=u+s,f=n-t,h=f/(1-(u+s)/a)-f;return n+=h*(s/l),t-=h*(u/l),{min:t,max:n}}(e,a,n,l);e=f.min,a=f.max}}return{extent:[e,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function Rb(t,n){var i=n,r=Db(t,i),e=r.extent,a=i.get("splitNumber");t instanceof Ab&&(t.base=i.get("logBase"));var o=t.type,u=i.get("interval"),s="interval"===o||"time"===o;t.setExtent(e[0],e[1]),t.calcNiceExtent({splitNumber:a,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:s?i.get("minInterval"):null,maxInterval:s?i.get("maxInterval"):null}),null!=u&&t.setInterval&&t.setInterval(u)}function Fb(t,n){if(n=n||t.get("type"))switch(n){case"category":return new Zg({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new fb({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(Bg.getClass(n)||Kg)}}function Bb(t){var n=t.getLabelModel().get("formatter"),i="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?function(n){return function(i,r){return t.scale.getFormattedLabel(i,r,n)}}(n):j(n)?function(n){return function(i){var r=t.scale.getLabel(i);return n.replace("{value}",null!=r?r:"")}}(n):U(n)?function(n){return function(r,e){return null!=i&&(e=r.value-i),n(_b(t,r),e,null!=r.level?{level:r.level}:null)}}(n):function(n){return t.scale.getLabel(n)}}function _b(t,n){return"category"===t.type?t.scale.getLabel(n):n.value}function Eb(t){var n=t.get("interval");return null==n?"auto":n}function Pb(t){return"category"===t.type&&0===Eb(t.getLabelModel())}function Wb(t,n){var i={};return E(t.mapDimensionsAll(n),(function(n){i[Rg(t,n)]=!0})),H(i)}var Vb=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}();function Hb(t,n){return Math.abs(t-n)<1e-8}function Yb(t,n,i){var r=0,e=t[0];if(!e)return!1;for(var a=1;a<t.length;a++){var o=t[a];r+=jo(e[0],e[1],o[0],o[1],n,i),e=o}var u=t[0];return Hb(e[0],u[0])&&Hb(e[1],u[1])||(r+=jo(e[0],e[1],u[0],u[1],n,i)),0!==r}var Gb=[];function Xb(t,n){for(var i=0;i<t.length;i++)_t(t[i],t[i],n)}function Ub(t,n,i,r){for(var e=0;e<t.length;e++){var a=t[e];r&&(a=r.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(Et(n,n,a),Pt(i,i,a))}}var jb=function(){function t(t){this.name=t}return t.prototype.setCenter=function(t){this.No=t},t.prototype.getCenter=function(){var t=this.No;return t||(t=this.No=this.calcCenter()),t},t}(),Zb=function(){return function(t,n){this.type="polygon",this.exterior=t,this.interiors=n}}(),qb=function(){return function(t){this.type="linestring",this.points=t}}(),Kb=function(t){function n(n,i,r){var e=t.call(this,n)||this;return e.type="geoJSON",e.geometries=i,e.No=r&&[r[0],r[1]],e}return l(n,t),n.prototype.calcCenter=function(){for(var t,n=this.geometries,i=0,r=0;r<n.length;r++){var e=n[r],a=e.exterior,o=a&&a.length;o>i&&(t=e,i=o)}if(t)return function(t){for(var n=0,i=0,r=0,e=t.length,a=t[e-1][0],o=t[e-1][1],u=0;u<e;u++){var s=t[u][0],l=t[u][1],f=a*l-s*o;n+=f,i+=(a+s)*f,r+=(o+l)*f,a=s,o=l}return n?[i/n/3,r/n/3,n]:[t[0][0]||0,t[0][1]||0]}(t.exterior);var u=this.getBoundingRect();return[u.x+u.width/2,u.y+u.height/2]},n.prototype.getBoundingRect=function(t){var n=this.Bn;if(n&&!t)return n;var i=[1/0,1/0],r=[-1/0,-1/0];return E(this.geometries,(function(n){"polygon"===n.type?Ub(n.exterior,i,r,t):E(n.points,(function(n){Ub(n,i,r,t)}))})),isFinite(i[0])&&isFinite(i[1])&&isFinite(r[0])&&isFinite(r[1])||(i[0]=i[1]=r[0]=r[1]=0),n=new In(i[0],i[1],r[0]-i[0],r[1]-i[1]),t||(this.Bn=n),n},n.prototype.contain=function(t){var n=this.getBoundingRect(),i=this.geometries;if(!n.contain(t[0],t[1]))return!1;t:for(var r=0,e=i.length;r<e;r++){var a=i[r];if("polygon"===a.type){var o=a.exterior,u=a.interiors;if(Yb(o,t[0],t[1])){for(var s=0;s<(u?u.length:0);s++)if(Yb(u[s],t[0],t[1]))continue t;return!0}}}return!1},n.prototype.transformTo=function(t,n,i,r){var e=this.getBoundingRect(),a=e.width/e.height;i?r||(r=i/a):i=a*r;for(var o=new In(t,n,i,r),u=e.calculateTransform(o),s=this.geometries,l=0;l<s.length;l++){var f=s[l];"polygon"===f.type?(Xb(f.exterior,u),E(f.interiors,(function(t){Xb(t,u)}))):E(f.points,(function(t){Xb(t,u)}))}(e=this.Bn).copy(o),this.No=[e.x+e.width/2,e.y+e.height/2]},n.prototype.cloneShallow=function(t){null==t&&(t=this.name);var i=new n(t,this.geometries,this.No);return i.Bn=this.Bn,i.transformTo=null,i},n}(jb),Jb=function(t){function n(n,i){var r=t.call(this,n)||this;return r.type="geoSVG",r.Co=i,r}return l(n,t),n.prototype.calcCenter=function(){for(var t=this.Co,n=t.getBoundingRect(),i=[n.x+n.width/2,n.y+n.height/2],r=vn(Gb),e=t;e&&!e.isGeoSVGGraphicRoot;)pn(r,e.getLocalTransform(),r),e=e.parent;return bn(r,r),_t(i,i,r),i},n}(jb);function $b(t,n,i){for(var r=0;r<t.length;r++)t[r]=Qb(t[r],n[r],i)}function Qb(t,n,i){for(var r=[],e=n[0],a=n[1],o=0;o<t.length;o+=2){var u=t.charCodeAt(o)-64,s=t.charCodeAt(o+1)-64;u=u>>1^-(1&u),s=s>>1^-(1&s),e=u+=e,a=s+=a,r.push([u/i,s/i])}return r}function tw(t,n){return P(V((t=function(t){if(!t.UTF8Encoding)return t;var n=t,i=n.UTF8Scale;return null==i&&(i=1024),E(n.features,(function(t){var n=t.geometry,r=n.encodeOffsets,e=n.coordinates;if(r)switch(n.type){case"LineString":n.coordinates=Qb(e,r,i);break;case"Polygon":case"MultiLineString":$b(e,r,i);break;case"MultiPolygon":E(e,(function(t,n){return $b(t,r[n],i)}))}})),n.UTF8Encoding=!1,n}(t)).features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var i=t.properties,r=t.geometry,e=[];switch(r.type){case"Polygon":var a=r.coordinates;e.push(new Zb(a[0],a.slice(1)));break;case"MultiPolygon":E(r.coordinates,(function(t){t[0]&&e.push(new Zb(t[0],t.slice(1)))}));break;case"LineString":e.push(new qb([r.coordinates]));break;case"MultiLineString":e.push(new qb(r.coordinates))}var o=new Kb(i[n||"name"],e,i.cp);return o.properties=i,o}))}var nw=ca();function iw(t,n){var i=P(n,(function(n){return t.scale.parse(n)}));return"time"===t.type&&i.length>0&&(i.sort(),i.unshift(i[0]),i.push(i[i.length-1])),i}function rw(t){var n=t.getLabelModel().get("customValues");if(n){var i=Bb(t),r=t.scale.getExtent();return{labels:P(V(iw(t,n),(function(t){return t>=r[0]&&t<=r[1]})),(function(n){var r={value:n};return{formattedLabel:i(r),rawLabel:t.scale.getLabel(r),tickValue:n}}))}}return"category"===t.type?function(t){var n=t.getLabelModel(),i=aw(t,n);return!n.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(t):function(t){var n=t.scale.getTicks(),i=Bb(t);return{labels:P(n,(function(n,r){return{level:n.level,formattedLabel:i(n,r),rawLabel:t.scale.getLabel(n),tickValue:n.value}}))}}(t)}function ew(t,n){var i=t.getTickModel().get("customValues");if(i){var r=t.scale.getExtent();return{ticks:V(iw(t,i),(function(t){return t>=r[0]&&t<=r[1]}))}}return"category"===t.type?function(t,n){var i,r,e=ow(t,"ticks"),a=Eb(n),o=uw(e,a);if(o)return o;n.get("show")&&!t.scale.isBlank()||(i=[]);if(U(a))i=fw(t,a,!0);else if("auto"===a){var u=aw(t,t.getLabelModel());r=u.labelCategoryInterval,i=P(u.labels,(function(t){return t.tickValue}))}else i=lw(t,r=a,!0);return sw(e,a,{ticks:i,tickCategoryInterval:r})}(t,n):{ticks:P(t.scale.getTicks(),(function(t){return t.value}))}}function aw(t,n){var i,r,e=ow(t,"labels"),a=Eb(n),o=uw(e,a);return o||(U(a)?i=fw(t,a):(r="auto"===a?function(t){var n=nw(t).autoInterval;return null!=n?n:nw(t).autoInterval=t.calculateCategoryInterval()}(t):a,i=lw(t,r)),sw(e,a,{labels:i,labelCategoryInterval:r}))}function ow(t,n){return nw(t)[n]||(nw(t)[n]=[])}function uw(t,n){for(var i=0;i<t.length;i++)if(t[i].key===n)return t[i].value}function sw(t,n,i){return t.push({key:n,value:i}),i}function lw(t,n,i){var r=Bb(t),e=t.scale,a=e.getExtent(),o=t.getLabelModel(),u=[],s=Math.max((n||0)+1,1),l=a[0],f=e.count();0!==l&&s>1&&f/s>2&&(l=Math.round(Math.ceil(l/s)*s));var h=Pb(t),c=o.get("showMinLabel")||h,v=o.get("showMaxLabel")||h;c&&l!==a[0]&&p(a[0]);for(var d=l;d<=a[1];d+=s)p(d);function p(t){var n={value:t};u.push(i?t:{formattedLabel:r(n),rawLabel:e.getLabel(n),tickValue:t})}return v&&d-s!==a[1]&&p(a[1]),u}function fw(t,n,i){var r=t.scale,e=Bb(t),a=[];return E(r.getTicks(),(function(t){var o=r.getLabel(t),u=t.value;n(t.value,o)&&a.push(i?u:{formattedLabel:e(t),rawLabel:o,tickValue:u})})),a}var hw=[0,1],cw=function(){function t(t,n,i){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this.Lr=i||[0,0]}return t.prototype.contain=function(t){var n=this.Lr,i=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]);return t>=i&&t<=r},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this.Lr.slice()},t.prototype.getPixelPrecision=function(t){return Re(t||this.scale.getExtent(),this.Lr)},t.prototype.setExtent=function(t,n){var i=this.Lr;i[0]=t,i[1]=n},t.prototype.dataToCoord=function(t,n){var i=this.Lr,r=this.scale;return t=r.normalize(t),this.onBand&&"ordinal"===r.type&&vw(i=i.slice(),r.count()),Ie(t,hw,i,n)},t.prototype.coordToData=function(t,n){var i=this.Lr,r=this.scale;this.onBand&&"ordinal"===r.type&&vw(i=i.slice(),r.count());var e=Ie(t,i,hw,n);return this.scale.scale(e)},t.prototype.pointToData=function(t,n){},t.prototype.getTicksCoords=function(t){var n=(t=t||{}).tickModel||this.getTickModel(),i=P(ew(this,n).ticks,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this);return function(t,n,i,r){var e=n.length;if(!t.onBand||i||!e)return;var a,o,u=t.getExtent();if(1===e)n[0].coord=u[0],a=n[1]={coord:u[1],tickValue:n[0].tickValue};else{var s=n[e-1].tickValue-n[0].tickValue,l=(n[e-1].coord-n[0].coord)/s;E(n,(function(t){t.coord-=l/2}));var f=t.scale.getExtent();o=1+f[1]-n[e-1].tickValue,a={coord:n[e-1].coord+l*o,tickValue:f[1]+1},n.push(a)}var h=u[0]>u[1];c(n[0].coord,u[0])&&(r?n[0].coord=u[0]:n.shift());r&&c(u[0],n[0].coord)&&n.unshift({coord:u[0]});c(u[1],a.coord)&&(r?a.coord=u[1]:n.pop());r&&c(a.coord,u[1])&&n.push({coord:u[1]});function c(t,n){return t=Le(t),n=Le(n),h?t>n:t<n}}(this,i,n.get("alignWithLabel"),t.clamp),i},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),P(this.scale.getMinorTicks(t),(function(t){return P(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this)},t.prototype.getViewLabels=function(){return rw(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this.Lr,n=this.scale.getExtent(),i=n[1]-n[0]+(this.onBand?1:0);0===i&&(i=1);var r=Math.abs(t[1]-t[0]);return Math.abs(r)/i},t.prototype.calculateCategoryInterval=function(){return function(t){var n=function(t){var n=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}(t),i=Bb(t),r=(n.axisRotate-n.labelRotate)/180*Math.PI,e=t.scale,a=e.getExtent(),o=e.count();if(a[1]-a[0]<1)return 0;var u=1;o>40&&(u=Math.max(1,Math.floor(o/40)));for(var s=a[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),f=Math.abs(l*Math.cos(r)),h=Math.abs(l*Math.sin(r)),c=0,v=0;s<=a[1];s+=u){var d,p,m=ue(i({value:s}),n.font,"center","top");d=1.3*m.width,p=1.3*m.height,c=Math.max(c,d,7),v=Math.max(v,p,7)}var y=c/f,g=v/h;isNaN(y)&&(y=1/0),isNaN(g)&&(g=1/0);var b=Math.max(0,Math.floor(Math.min(y,g))),w=nw(t.model),x=t.getExtent(),M=w.lastAutoInterval,S=w.lastTickCount;return null!=M&&null!=S&&Math.abs(M-b)<=1&&Math.abs(S-o)<=1&&M>b&&w.axisExtent0===x[0]&&w.axisExtent1===x[1]?b=M:(w.lastTickCount=o,w.lastAutoInterval=b,w.axisExtent0=x[0],w.axisExtent1=x[1]),b}(this)},t}();function vw(t,n){var i=(t[1]-t[0])/n/2;t[0]+=i,t[1]-=i}var dw=2*Math.PI,pw=Po.CMD,mw=["top","right","bottom","left"];function yw(t,n,i,r,e){var a=i.width,o=i.height;switch(t){case"top":r.set(i.x+a/2,i.y-n),e.set(0,-1);break;case"bottom":r.set(i.x+a/2,i.y+o+n),e.set(0,1);break;case"left":r.set(i.x-n,i.y+o/2),e.set(-1,0);break;case"right":r.set(i.x+a+n,i.y+o/2),e.set(1,0)}}function gw(t,n,i,r,e,a,o,u,s){o-=t,u-=n;var l=Math.sqrt(o*o+u*u),f=(o/=l)*i+t,h=(u/=l)*i+n;if(Math.abs(r-e)%dw<1e-4)return s[0]=f,s[1]=h,l-i;if(a){var c=r;r=Go(e),e=Go(c)}else r=Go(r),e=Go(e);r>e&&(e+=dw);var v=Math.atan2(u,o);if(v<0&&(v+=dw),v>=r&&v<=e||v+dw>=r&&v+dw<=e)return s[0]=f,s[1]=h,l-i;var d=i*Math.cos(r)+t,p=i*Math.sin(r)+n,m=i*Math.cos(e)+t,y=i*Math.sin(e)+n,g=(d-o)*(d-o)+(p-u)*(p-u),b=(m-o)*(m-o)+(y-u)*(y-u);return g<b?(s[0]=d,s[1]=p,Math.sqrt(g)):(s[0]=m,s[1]=y,Math.sqrt(b))}function bw(t,n,i,r,e,a,o,u){var s=e-t,l=a-n,f=i-t,h=r-n,c=Math.sqrt(f*f+h*h),v=(s*(f/=c)+l*(h/=c))/c;u&&(v=Math.min(Math.max(v,0),1)),v*=c;var d=o[0]=t+v*f,p=o[1]=n+v*h;return Math.sqrt((d-e)*(d-e)+(p-a)*(p-a))}function ww(t,n,i,r,e,a,o){i<0&&(t+=i,i=-i),r<0&&(n+=r,r=-r);var u=t+i,s=n+r,l=o[0]=Math.min(Math.max(e,t),u),f=o[1]=Math.min(Math.max(a,n),s);return Math.sqrt((l-e)*(l-e)+(f-a)*(f-a))}var xw=[];function Mw(t,n,i){var r=ww(n.x,n.y,n.width,n.height,t.x,t.y,xw);return i.set(xw[0],xw[1]),r}function Sw(t,n,i){for(var r,e,a=0,o=0,u=0,s=0,l=1/0,f=n.data,h=t.x,c=t.y,v=0;v<f.length;){var d=f[v++];1===v&&(u=a=f[v],s=o=f[v+1]);var p=l;switch(d){case pw.M:a=u=f[v++],o=s=f[v++];break;case pw.L:p=bw(a,o,f[v],f[v+1],h,c,xw,!0),a=f[v++],o=f[v++];break;case pw.C:p=vi(a,o,f[v++],f[v++],f[v++],f[v++],f[v],f[v+1],h,c,xw),a=f[v++],o=f[v++];break;case pw.Q:p=bi(a,o,f[v++],f[v++],f[v],f[v+1],h,c,xw),a=f[v++],o=f[v++];break;case pw.A:var m=f[v++],y=f[v++],g=f[v++],b=f[v++],w=f[v++],x=f[v++];v+=1;var M=!!(1-f[v++]);r=Math.cos(w)*g+m,e=Math.sin(w)*b+y,v<=1&&(u=r,s=e),p=gw(m,y,b,w,w+x,M,(h-m)*b/g+m,c,xw),a=Math.cos(w+x)*g+m,o=Math.sin(w+x)*b+y;break;case pw.R:p=ww(u=a=f[v++],s=o=f[v++],f[v++],f[v++],h,c,xw);break;case pw.Z:p=bw(a,o,u,s,h,c,xw,!0),a=u,o=s}p<l&&(l=p,i.set(xw[0],xw[1]))}return l}var kw=new wn,Aw=new wn,Nw=new wn,Cw=new wn,Tw=new wn;function Iw(t,n){if(t){var i=t.getTextGuideLine(),r=t.getTextContent();if(r&&i){var e=t.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=e.candidates||mw,u=r.getBoundingRect().clone();u.applyTransform(r.getComputedTransform());var s=1/0,l=e.anchor,f=t.getComputedTransform(),h=f&&bn([],f),c=n.get("length2")||0;l&&Nw.copy(l);for(var v=0;v<o.length;v++){yw(o[v],0,u,kw,Cw),wn.scaleAndAdd(Aw,kw,Cw,c),Aw.transform(h);var d=t.getBoundingRect(),p=l?l.distance(Aw):t instanceof au?Sw(Aw,t.path,Nw):Mw(Aw,d,Nw);p<s&&(s=p,Aw.transform(f),Nw.transform(f),Nw.toArray(a[0]),Aw.toArray(a[1]),kw.toArray(a[2]))}Ow(a,n.get("minTurnAngle")),i.setShape({points:a})}}}var zw=[],Lw=new wn;function Ow(t,n){if(n<=180&&n>0){n=n/180*Math.PI,kw.fromArray(t[0]),Aw.fromArray(t[1]),Nw.fromArray(t[2]),wn.sub(Cw,kw,Aw),wn.sub(Tw,Nw,Aw);var i=Cw.len(),r=Tw.len();if(!(i<.001||r<.001)){Cw.scale(1/i),Tw.scale(1/r);var e=Cw.dot(Tw);if(Math.cos(n)<e){var a=bw(Aw.x,Aw.y,Nw.x,Nw.y,kw.x,kw.y,zw,!1);Lw.fromArray(zw),Lw.scaleAndAdd(Tw,a/Math.tan(Math.PI-n));var o=Nw.x!==Aw.x?(Lw.x-Aw.x)/(Nw.x-Aw.x):(Lw.y-Aw.y)/(Nw.y-Aw.y);if(isNaN(o))return;o<0?wn.copy(Lw,Aw):o>1&&wn.copy(Lw,Nw),Lw.toArray(t[1])}}}}function Dw(t,n,i){if(i<=180&&i>0){i=i/180*Math.PI,kw.fromArray(t[0]),Aw.fromArray(t[1]),Nw.fromArray(t[2]),wn.sub(Cw,Aw,kw),wn.sub(Tw,Nw,Aw);var r=Cw.len(),e=Tw.len();if(!(r<.001||e<.001))if(Cw.scale(1/r),Tw.scale(1/e),Cw.dot(n)<Math.cos(i)){var a=bw(Aw.x,Aw.y,Nw.x,Nw.y,kw.x,kw.y,zw,!1);Lw.fromArray(zw);var o=Math.PI/2,u=o+Math.acos(Tw.dot(n))-i;if(u>=o)wn.copy(Lw,Nw);else{Lw.scaleAndAdd(Tw,a/Math.tan(Math.PI/2-u));var s=Nw.x!==Aw.x?(Lw.x-Aw.x)/(Nw.x-Aw.x):(Lw.y-Aw.y)/(Nw.y-Aw.y);if(isNaN(s))return;s<0?wn.copy(Lw,Aw):s>1&&wn.copy(Lw,Nw)}Lw.toArray(t[1])}}}function Rw(t,n,i,r){var e="normal"===i,a=e?t:t.ensureState(i);a.ignore=n;var o=r.get("smooth");o&&!0===o&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var u=r.getModel("lineStyle").getLineStyle();e?t.useStyle(u):a.style=u}function Fw(t,n){var i=n.smooth,r=n.points;if(r)if(t.moveTo(r[0][0],r[0][1]),i>0&&r.length>=3){var e=Rt(r[0],r[1]),a=Rt(r[1],r[2]);if(!e||!a)return t.lineTo(r[1][0],r[1][1]),void t.lineTo(r[2][0],r[2][1]);var o=Math.min(e,a)*i,u=Bt([],r[1],r[0],o/e),s=Bt([],r[1],r[2],o/a),l=Bt([],u,s,.5);t.bezierCurveTo(u[0],u[1],u[0],u[1],l[0],l[1]),t.bezierCurveTo(s[0],s[1],s[0],s[1],r[2][0],r[2][1])}else for(var f=1;f<r.length;f++)t.lineTo(r[f][0],r[f][1])}function Bw(t,n,i){var r=t.getTextGuideLine(),e=t.getTextContent();if(e){for(var a=n.normal,o=a.get("show"),u=e.ignore,s=0;s<Wu.length;s++){var l=Wu[s],f=n[l],h="normal"===l;if(f){var c=f.get("show");if((h?u:rt(e.states[l]&&e.states[l].ignore,u))||!rt(c,o)){var v=h?r:r&&r.states[l];v&&(v.ignore=!0),r&&Rw(r,!0,l,f);continue}r||(r=new Ml,t.setTextGuideLine(r),h||!u&&o||Rw(r,!0,"normal",n.normal),t.stateProxy&&(r.stateProxy=t.stateProxy)),Rw(r,!1,l,f)}}if(r){R(r.style,i),r.style.fill=null;var d=a.get("showAbove");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=d||!1,r.buildPath=Fw}}else r&&t.removeTextGuideLine()}function _w(t,n){n=n||"labelLine";for(var i={normal:t.getModel(n)},r=0;r<Pu.length;r++){var e=Pu[r];i[e]=t.getModel([e,n])}return i}function Ew(t){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(!r.defaultAttr.ignore){var e=r.label,a=e.getComputedTransform(),o=e.getBoundingRect(),u=!a||a[1]<1e-5&&a[2]<1e-5,s=e.style.margin||0,l=o.clone();l.applyTransform(a),l.x-=s/2,l.y-=s/2,l.width+=s,l.height+=s;var f=u?new Wl(o,a):null;n.push({label:e,labelLine:r.labelLine,rect:l,localRect:o,obb:f,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:u,transform:a})}}return n}function Pw(t,n,i,r,e,a){var o=t.length;if(!(o<2)){t.sort((function(t,i){return t.rect[n]-i.rect[n]}));for(var u,s=0,l=!1,f=0;f<o;f++){var h=t[f],c=h.rect;(u=c[n]-s)<0&&(c[n]-=u,h.label[n]-=u,l=!0),s=c[n]+c[i]}var v,d,p=t[0],m=t[o-1];return y(),v<0&&w(-v,.8),d<0&&w(d,.8),y(),g(v,d,1),g(d,v,-1),y(),v<0&&x(-v),d<0&&x(d),l}function y(){v=p.rect[n]-r,d=e-m.rect[n]-m.rect[i]}function g(t,n,i){if(t<0){var r=Math.min(n,-t);if(r>0){b(r*i,0,o);var e=r+t;e<0&&w(-e*i,1)}else w(-t*i,1)}}function b(i,r,e){0!==i&&(l=!0);for(var a=r;a<e;a++){var o=t[a];o.rect[n]+=i,o.label[n]+=i}}function w(r,e){for(var a=[],u=0,s=1;s<o;s++){var l=t[s-1].rect,f=Math.max(t[s].rect[n]-l[n]-l[i],0);a.push(f),u+=f}if(u){var h=Math.min(Math.abs(r)/u,e);if(r>0)for(s=0;s<o-1;s++){b(a[s]*h,0,s+1)}else for(s=o-1;s>0;s--){b(-(a[s-1]*h),s,o)}}}function x(t){var n=t<0?-1:1;t=Math.abs(t);for(var i=Math.ceil(t/(o-1)),r=0;r<o-1;r++)if(n>0?b(i,0,r+1):b(-i,o-r-1,o),(t-=i)<=0)return}}function Ww(t,n,i,r){return Pw(t,"y","height",n,i)}function Vw(t){var n=[];t.sort((function(t,n){return n.priority-t.priority}));var i=new In(0,0,0,0);function r(t){if(!t.ignore){var n=t.ensureState("emphasis");null==n.ignore&&(n.ignore=!1)}t.ignore=!0}for(var e=0;e<t.length;e++){var a=t[e],o=a.axisAligned,u=a.localRect,s=a.transform,l=a.label,f=a.labelLine;i.copy(a.rect),i.width-=.1,i.height-=.1,i.x+=.05,i.y+=.05;for(var h=a.obb,c=!1,v=0;v<n.length;v++){var d=n[v];if(i.intersect(d.rect)){if(o&&d.axisAligned){c=!0;break}if(d.obb||(d.obb=new Wl(d.localRect,d.transform)),h||(h=new Wl(u,s)),h.intersect(d.obb)){c=!0;break}}}c?(r(l),f&&r(f)):(l.attr("ignore",a.defaultAttr.ignore),f&&f.attr("ignore",a.defaultAttr.labelGuideIgnore),n.push(a))}}function Hw(t){if(t){for(var n=[],i=0;i<t.length;i++)n.push(t[i].slice());return n}}function Yw(t,n){var i=t.label,r=n&&n.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:i.style.align,verticalAlign:i.style.verticalAlign,labelLinePoints:Hw(r&&r.shape.points)}}var Gw=["align","verticalAlign","width","height","fontSize"],Xw=new ne,Uw=ca(),jw=ca();function Zw(t,n,i){for(var r=0;r<i.length;r++){var e=i[r];null!=n[e]&&(t[e]=n[e])}}var qw=["x","y","rotation"],Kw=function(){function t(){this.To=[],this.Io=[]}return t.prototype.clearLabels=function(){this.To=[],this.Io=[]},t.prototype.zo=function(t,n,i,r,e){var a=r.style,o=r.S.textConfig||{},u=r.getComputedTransform(),s=r.getBoundingRect().plain();In.applyTransform(s,s,u),u?Xw.setLocalTransform(u):(Xw.x=Xw.y=Xw.rotation=Xw.originX=Xw.originY=0,Xw.scaleX=Xw.scaleY=1),Xw.rotation=Go(Xw.rotation);var l,f=r.S;if(f){l=f.getBoundingRect().plain();var h=f.getComputedTransform();In.applyTransform(l,l,h)}var c=l&&f.getTextGuideLine();this.To.push({label:r,labelLine:c,seriesModel:i,dataIndex:t,dataType:n,layoutOption:e,computedLayoutOption:null,rect:s,hostRect:l,priority:l?l.width*l.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:c&&c.ignore,x:Xw.x,y:Xw.y,scaleX:Xw.scaleX,scaleY:Xw.scaleY,rotation:Xw.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:r.cursor,attachedPos:o.position,attachedRot:o.rotation}})},t.prototype.addLabelsOfSeries=function(t){var n=this;this.Io.push(t);var i=t.Ke,r=i.get("labelLayout");(U(r)||H(r).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var e=t.getTextContent(),a=Du(t);e&&!e.disableLabelLayout&&n.zo(a.dataIndex,a.dataType,i,e,r)}))},t.prototype.updateLayoutConfig=function(t){var n=t.getWidth(),i=t.getHeight();function r(t,n){return function(){Iw(t,n)}}for(var e=0;e<this.To.length;e++){var a=this.To[e],o=a.label,u=o.S,s=a.defaultAttr,l=void 0;l=(l=U(a.layoutOption)?a.layoutOption(Yw(a,u)):a.layoutOption)||{},a.computedLayoutOption=l;var f=Math.PI/180;u&&u.setTextConfig({local:!1,position:null!=l.x||null!=l.y?null:s.attachedPos,rotation:null!=l.rotate?l.rotate*f:s.attachedRot,offset:[l.dx||0,l.dy||0]});var h=!1;if(null!=l.x?(o.x=ze(l.x,n),o.setStyle("x",0),h=!0):(o.x=s.x,o.setStyle("x",s.style.x)),null!=l.y?(o.y=ze(l.y,i),o.setStyle("y",0),h=!0):(o.y=s.y,o.setStyle("y",s.style.y)),l.labelLinePoints){var c=u.getTextGuideLine();c&&(c.setShape({points:l.labelLinePoints}),h=!1)}Uw(o).needsUpdateLabelLine=h,o.rotation=null!=l.rotate?l.rotate*f:s.rotation,o.scaleX=s.scaleX,o.scaleY=s.scaleY;for(var v=0;v<Gw.length;v++){var d=Gw[v];o.setStyle(d,null!=l[d]?l[d]:s.style[d])}if(l.draggable){if(o.draggable=!0,o.cursor="move",u){var p=a.seriesModel;if(null!=a.dataIndex)p=a.seriesModel.getData(a.dataType).getItemModel(a.dataIndex);o.on("drag",r(u,p.getModel("labelLine")))}}else o.off("drag"),o.cursor=s.cursor}},t.prototype.layout=function(t){var n=t.getWidth(),i=t.getHeight(),r=Ew(this.To),e=V(r,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),a=V(r,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));Pw(e,"x","width",0,n),Ww(a,0,i),Vw(V(r,(function(t){return t.layoutOption.hideOverlap})))},t.prototype.processLabelsOverall=function(){var t=this;E(this.Io,(function(n){var i=n.Ke,r=n.ignoreLabelLineUpdate,e=i.isAnimationEnabled();n.group.traverse((function(n){if(n.ignore&&!n.forceLabelAnimation)return!0;var a=!r,o=n.getTextContent();!a&&o&&(a=Uw(o).needsUpdateLabelLine),a&&t.Lo(n,i),e&&t.Oo(n,i)}))}))},t.prototype.Lo=function(t,n){var i=t.getTextContent(),r=Du(t),e=r.dataIndex;if(i&&null!=e){var a=n.getData(r.dataType),o=a.getItemModel(e),u={},s=a.getItemVisual(e,"style");if(s){var l=a.getVisual("drawType");u.stroke=s[l]}var f=o.getModel("labelLine");Bw(t,_w(o),u),Iw(t,f)}},t.prototype.Oo=function(t,n){var i=t.getTextContent(),r=t.getTextGuideLine();if(i&&(t.forceLabelAnimation||!i.ignore&&!i.invisible&&!t.disableLabelAnimation&&!Zl(t))){var e=(v=Uw(i)).oldLayout,a=Du(t),o=a.dataIndex,u={x:i.x,y:i.y,rotation:i.rotation},s=n.getData(a.dataType);if(e){i.attr(e);var l=t.prevStates;l&&(F(l,"select")>=0&&i.attr(v.oldLayoutSelect),F(l,"emphasis")>=0&&i.attr(v.oldLayoutEmphasis)),Ul(i,u,n,o)}else if(i.attr(u),!Pf(i).valueAnimation){var f=rt(i.style.opacity,1);i.style.opacity=0,jl(i,{style:{opacity:f}},n,o)}if(v.oldLayout=u,i.states.select){var h=v.oldLayoutSelect={};Zw(h,u,qw),Zw(h,i.states.select,qw)}if(i.states.emphasis){var c=v.oldLayoutEmphasis={};Zw(c,u,qw),Zw(c,i.states.emphasis,qw)}Vf(i,o,s,n,n)}if(r&&!r.ignore&&!r.invisible){e=(v=jw(r)).oldLayout;var v,d={points:r.shape.points};e?(r.attr({shape:e}),Ul(r,{shape:d},n)):(r.setShape(d),r.style.strokePercent=0,jl(r,{style:{strokePercent:1}},n)),v.oldLayout=d}},t}(),Jw=ca();var $w=Math.sin,Qw=Math.cos,tx=Math.PI,nx=2*Math.PI,ix=180/tx,rx=function(){function t(){}return t.prototype.reset=function(t){this.Do=!0,this.Ro=[],this.Fo="",this.Bo=Math.pow(10,t||4)},t.prototype.moveTo=function(t,n){this.ea("M",t,n)},t.prototype.lineTo=function(t,n){this.ea("L",t,n)},t.prototype.bezierCurveTo=function(t,n,i,r,e,a){this.ea("C",t,n,i,r,e,a)},t.prototype.quadraticCurveTo=function(t,n,i,r){this.ea("Q",t,n,i,r)},t.prototype.arc=function(t,n,i,r,e,a){this.ellipse(t,n,i,i,0,r,e,a)},t.prototype.ellipse=function(t,n,i,r,e,a,o,u){var s=o-a,l=!u,f=Math.abs(s),h=Ji(f-nx)||(l?s>=nx:-s>=nx),c=s>0?s%nx:s%nx+nx,v=!1;v=!!h||!Ji(f)&&c>=tx==!!l;var d=t+i*Qw(a),p=n+r*$w(a);this.Do&&this.ea("M",d,p);var m=Math.round(e*ix);if(h){var y=1/this.Bo,g=(l?1:-1)*(nx-y);this.ea("A",i,r,m,1,+l,t+i*Qw(a+g),n+r*$w(a+g)),y>.01&&this.ea("A",i,r,m,0,+l,d,p)}else{var b=t+i*Qw(o),w=n+r*$w(o);this.ea("A",i,r,m,+v,+l,b,w)}},t.prototype.rect=function(t,n,i,r){this.ea("M",t,n),this.ea("l",i,0),this.ea("l",0,r),this.ea("l",-i,0),this.ea("Z")},t.prototype.closePath=function(){this.Ro.length>0&&this.ea("Z")},t.prototype.ea=function(t,n,i,r,e,a,o,u,s){for(var l=[],f=this.Bo,h=1;h<arguments.length;h++){var c=arguments[h];if(isNaN(c))return void(this.yt=!0);l.push(Math.round(c*f)/f)}this.Ro.push(t+l.join(" ")),this.Do="Z"===t},t.prototype.generateStr=function(){this.Fo=this.yt?"":this.Ro.join(""),this.Ro=[]},t.prototype.getStr=function(){return this.Fo},t}(),ex="none",ax=Math.round;var ox=["lineCap","miterLimit","lineJoin"],ux=P(ox,(function(t){return"stroke-"+t.toLowerCase()}));function sx(t,n,i,r){var e=null==n.opacity?1:n.opacity;if(i instanceof fu)t("opacity",e);else{if(function(t){var n=t.fill;return null!=n&&n!==ex}(n)){var a=Ki(n.fill);t("fill",a.color);var o=null!=n.fillOpacity?n.fillOpacity*a.opacity*e:a.opacity*e;o<1&&t("fill-opacity",o)}else t("fill",ex);if(function(t){var n=t.stroke;return null!=n&&n!==ex}(n)){var u=Ki(n.stroke);t("stroke",u.color);var s=n.strokeNoScale?i.getLineScale():1,l=s?(n.lineWidth||0)/s:0,f=null!=n.strokeOpacity?n.strokeOpacity*u.opacity*e:u.opacity*e,h=n.strokeFirst;if(1!==l&&t("stroke-width",l),h&&t("paint-order",h?"stroke":"fill"),f<1&&t("stroke-opacity",f),n.lineDash){var c=Sm(i),v=c[0],d=c[1];v&&(d=ax(d||0),t("stroke-dasharray",v.join(",")),(d||r)&&t("stroke-dashoffset",d))}for(var p=0;p<ox.length;p++){var m=ox[p];if(n[m]!==iu[m]){var y=n[m]||iu[m];y&&t(ux[p],y)}}}}}var lx="http://www.w3.org/2000/svg",fx="http://www.w3.org/1999/xlink",hx="ecmeta_";function cx(t){return document.createElementNS(lx,t)}function vx(t,n,i,r,e){return{tag:t,attrs:i||{},children:r,text:e,key:n}}function dx(t,n){var i=(n=n||{}).newline?"\n":"";return function t(n){var r=n.children,e=n.tag,a=n.attrs,o=n.text;return function(t,n){var i=[];if(n)for(var r in n){var e=n[r],a=r;!1!==e&&(!0!==e&&null!=e&&(a+='="'+e+'"'),i.push(a))}return"<"+t+" "+i.join(" ")+">"}(e,a)+("style"!==e?$t(o):o||"")+(r?""+i+P(r,(function(n){return t(n)})).join(i)+i:"")+("</"+e+">")}(t)}function px(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function mx(t,n,i,r){return vx("svg","root",{width:t,height:n,xmlns:lx,"xmlns:xlink":fx,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+t+" "+n},i)}var yx=0;function gx(){return yx++}var bx={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},xx="transform-origin";function Mx(t,n,i){var r=D({},t.shape);D(r,n),t.buildPath(i,r);var e=new rx;return e.reset(ur(t)),i.rebuildPath(e,1),e.generateStr(),e.getStr()}function Sx(t,n){var i=n.originX,r=n.originY;(i||r)&&(t[xx]=i+"px "+r+"px")}var kx={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Ax(t,n){var i=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[i]=t,i}function Nx(t){return j(t)?bx[t]?"cubic-bezier("+bx[t]+")":Mi(t)?t:"":""}function Cx(t,n,i,r){var e=t.animators,a=e.length,o=[];if(t instanceof Ol){var u=function(t,n,i){var r,e,a=t.shape.paths,o={};if(E(a,(function(t){var n=px(i.zrId);n.animation=!0,Cx(t,{},n,!0);var a=n.cssAnims,u=n.cssNodes,s=H(a),l=s.length;if(l){var f=a[e=s[l-1]];for(var h in f){var c=f[h];o[h]=o[h]||{d:""},o[h].d+=c.d||""}for(var v in u){var d=u[v].animation;d.indexOf(e)>=0&&(r=d)}}})),r){n.d=!1;var u=Ax(o,i);return r.replace(e,u)}}(t,n,i);if(u)o.push(u);else if(!a)return}else if(!a)return;for(var s={},l=0;l<a;l++){var f=e[l],h=[f.getMaxTime()/1e3+"s"],c=Nx(f.getClip().easing),v=f.getDelay();c?h.push(c):h.push("linear"),v&&h.push(v/1e3+"s"),f.getLoop()&&h.push("infinite");var d=h.join(" ");s[d]=s[d]||[d,[]],s[d][1].push(f)}function p(e){var a,o=e[1],u=o.length,s={},l={},f={},h="animation-timing-function";function c(t,n,i){for(var r=t.getTracks(),e=t.getMaxTime(),a=0;a<r.length;a++){var o=r[a];if(o.needsAnimate()){var u=o.keyframes,s=o.propName;if(i&&(s=i(s)),s)for(var l=0;l<u.length;l++){var f=u[l],c=Math.round(f.time/e*100)+"%",v=Nx(f.easing),d=f.rawValue;(j(d)||q(d))&&(n[c]=n[c]||{},n[c][s]=f.rawValue,v&&(n[c][h]=v))}}}}for(var v=0;v<u;v++){(S=(M=o[v]).targetName)?"shape"===S&&c(M,l):!r&&c(M,s)}for(var d in s){var p={};re(p,t),D(p,s[d]);var m=sr(p),y=s[d][h];f[d]=m?{transform:m}:{},Sx(f[d],p),y&&(f[d][h]=y)}var g=!0;for(var d in l){f[d]=f[d]||{};var b=!a;y=l[d][h];b&&(a=new Po);var w=a.len();a.reset(),f[d].d=Mx(t,l[d],a);var x=a.len();if(!b&&w!==x){g=!1;break}y&&(f[d][h]=y)}if(!g)for(var d in f)delete f[d].d;if(!r)for(v=0;v<u;v++){var M,S;"style"===(S=(M=o[v]).targetName)&&c(M,f,(function(t){return kx[t]}))}var k,A=H(f),N=!0;for(v=1;v<A.length;v++){var C=A[v-1],T=A[v];if(f[C][xx]!==f[T][xx]){N=!1;break}k=f[C][xx]}if(N&&k){for(var d in f)f[d][xx]&&delete f[d][xx];n[xx]=k}if(V(A,(function(t){return H(f[t]).length>0})).length)return Ax(f,i)+" "+e[0]+" both"}for(var m in s){(u=p(s[m]))&&o.push(u)}if(o.length){var y=i.zrId+"-cls-"+gx();i.cssNodes["."+y]={animation:o.join(",")},n.class=y}}function Tx(t,n,i,r){var e=JSON.stringify(t),a=i.cssStyleCache[e];a||(a=i.zrId+"-cls-"+gx(),i.cssStyleCache[e]=a,i.cssNodes["."+a+":hover"]=t),n.class=n.class?n.class+" "+a:a}var Ix=Math.round;function zx(t){return t&&j(t.src)}function Lx(t){return t&&U(t.toDataURL)}function Ox(t,n,i,r){sx((function(e,a){var o="fill"===e||"stroke"===e;o&&ar(a)?Yx(n,t,e,r):o&&ir(a)?Gx(i,t,e,r):t[e]=a,o&&r.ssr&&"none"===a&&(t["pointer-events"]="visible")}),n,i,!1),function(t,n,i){var r=t.style;if(function(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}(r)){var e=function(t){var n=t.style,i=t.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),i[0],i[1]].join(",")}(t),a=i.shadowCache,o=a[e];if(!o){var u=t.getGlobalScale(),s=u[0],l=u[1];if(!s||!l)return;var f=r.shadowOffsetX||0,h=r.shadowOffsetY||0,c=r.shadowBlur,v=Ki(r.shadowColor),d=v.opacity,p=v.color,m=c/2/s+" "+c/2/l;o=i.zrId+"-s"+i.shadowIdx++,i.defs[o]=vx("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[vx("feDropShadow","",{dx:f/s,dy:h/l,stdDeviation:m,"flood-color":p,"flood-opacity":d})]),a[e]=o}n.filter=or(o)}}(i,t,r)}function Dx(t,n){var i=function(t){if("function"==typeof Ne)return Ne(t)}(n);i&&(i.each((function(n,i){null!=n&&(t[(hx+i).toLowerCase()]=n+"")})),n.isSilent()&&(t[hx+"silent"]="true"))}function Rx(t){return Ji(t[0]-1)&&Ji(t[1])&&Ji(t[2])&&Ji(t[3]-1)}function Fx(t,n,i){if(n&&(!function(t){return Ji(t[4])&&Ji(t[5])}(n)||!Rx(n))){var r=1e4;t.transform=Rx(n)?"translate("+Ix(n[4]*r)/r+" "+Ix(n[5]*r)/r+")":function(t){return"matrix("+$i(t[0])+","+$i(t[1])+","+$i(t[2])+","+$i(t[3])+","+Qi(t[4])+","+Qi(t[5])+")"}(n)}}function Bx(t,n,i){for(var r=t.points,e=[],a=0;a<r.length;a++)e.push(Ix(r[a][0]*i)/i),e.push(Ix(r[a][1]*i)/i);n.points=e.join(" ")}function _x(t){return!t.smooth}var Ex,Px,Wx={circle:[(Ex=["cx","cy","r"],Px=P(Ex,(function(t){return"string"==typeof t?[t,t]:t})),function(t,n,i){for(var r=0;r<Px.length;r++){var e=Px[r],a=t[e[0]];null!=a&&(n[e[1]]=Ix(a*i)/i)}})],polyline:[Bx,_x],polygon:[Bx,_x]};function Vx(t,n){var i=t.style,r=t.shape,e=Wx[t.type],a={},o=n.animation,u="path",s=t.style.strokePercent,l=n.compress&&ur(t)||4;if(!e||n.willUpdate||e[1]&&!e[1](r)||o&&function(t){for(var n=t.animators,i=0;i<n.length;i++)if("shape"===n[i].targetName)return!0;return!1}(t)||s<1){var f=!t.path||t.shapeChanged();t.path||t.createPathProxy();var h=t.path;f&&(h.beginPath(),t.buildPath(h,t.shape),t.pathUpdated());var c=h.getVersion(),v=t,d=v._o;v.Eo===c&&d&&s===v.Po||(d||(d=v._o=new rx),d.reset(l),h.rebuildPath(d,s),d.generateStr(),v.Eo=c,v.Po=s),a.d=d.getStr()}else{u=t.type;var p=Math.pow(10,l);e[0](r,a,p)}return Fx(a,t.transform),Ox(a,i,t,n),Dx(a,t),n.animation&&Cx(t,a,n),n.emphasis&&function(t,n,i){if(!t.ignore)if(t.isSilent())Tx(l={"pointer-events":"none"},n,i);else{var r=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},e=r.fill;if(!e){var a=t.style&&t.style.fill,o=t.states.select&&t.states.select.style&&t.states.select.style.fill,u=t.currentStates.indexOf("select")>=0&&o||a;u&&(e=Zi(u))}var s=r.lineWidth;s&&(s/=!r.strokeNoScale&&t.transform?t.transform[0]:1);var l={cursor:"pointer"};e&&(l.fill=e),r.stroke&&(l.stroke=r.stroke),s&&(l["stroke-width"]=s),Tx(l,n,i)}}(t,a,n),vx(u,t.id+"",a)}function Hx(t,n){return t instanceof au?Vx(t,n):t instanceof fu?function(t,n){var i=t.style,r=i.image;if(r&&!j(r)&&(zx(r)?r=r.src:Lx(r)&&(r=r.toDataURL())),r){var e=i.x||0,a=i.y||0,o={href:r,width:i.width,height:i.height};return e&&(o.x=e),a&&(o.y=a),Fx(o,t.transform),Ox(o,i,t,n),Dx(o,t),n.animation&&Cx(t,o,n),vx("image",t.id+"",o)}}(t,n):t instanceof uu?function(t,n){var i=t.style,r=i.text;if(null!=r&&(r+=""),r&&!isNaN(i.x)&&!isNaN(i.y)){var e=i.font||v,a=i.x||0,o=function(t,n,i){return"top"===i?t+=n/2:"bottom"===i&&(t-=n/2),t}(i.y||0,fe(e),i.textBaseline),u={"dominant-baseline":"central","text-anchor":tr[i.textAlign]||i.textAlign};if(Nu(i)){var s="",l=i.fontStyle,f=ku(i.fontSize);if(!parseFloat(f))return;var h=i.fontFamily||c,d=i.fontWeight;s+="font-size:"+f+";font-family:"+h+";",l&&"normal"!==l&&(s+="font-style:"+l+";"),d&&"normal"!==d&&(s+="font-weight:"+d+";"),u.style=s}else u.style="font: "+e;return r.match(/\s/)&&(u["xml:space"]="preserve"),a&&(u.x=a),o&&(u.y=o),Fx(u,t.transform),Ox(u,i,t,n),Dx(u,t),n.animation&&Cx(t,u,n),vx("text",t.id+"",u,void 0,r)}}(t,n):void 0}function Yx(t,n,i,r){var e,a=t[i],o={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(rr(a))e="linearGradient",o.x1=a.x,o.y1=a.y,o.x2=a.x2,o.y2=a.y2;else{if(!er(a))return;e="radialGradient",o.cx=rt(a.x,.5),o.cy=rt(a.y,.5),o.r=rt(a.r,.5)}for(var u=a.colorStops,s=[],l=0,f=u.length;l<f;++l){var h=100*Qi(u[l].offset)+"%",c=Ki(u[l].color),v=c.color,d=c.opacity,p={offset:h};p["stop-color"]=v,d<1&&(p["stop-opacity"]=d),s.push(vx("stop",l+"",p))}var m=dx(vx(e,"",o,s)),y=r.gradientCache,g=y[m];g||(g=r.zrId+"-g"+r.gradientIdx++,y[m]=g,o.id=g,r.defs[g]=vx(e,g,o,s)),n[i]=or(g)}function Gx(t,n,i,r){var e,a=t.style[i],o=t.getBoundingRect(),u={},s=a.repeat,l="no-repeat"===s,f="repeat-x"===s,h="repeat-y"===s;if(nr(a)){var c=a.imageWidth,v=a.imageHeight,d=void 0,p=a.image;if(j(p)?d=p:zx(p)?d=p.src:Lx(p)&&(d=p.toDataURL()),"undefined"==typeof Image){var m="Image width/height must been given explictly in svg-ssr renderer.";ut(c,m),ut(v,m)}else if(null==c||null==v){var y=function(t,n){if(t){var i=t.elm,r=c||n.width,e=v||n.height;"pattern"===t.tag&&(f?(e=1,r/=o.width):h&&(r=1,e/=o.height)),t.attrs.width=r,t.attrs.height=e,i&&(i.setAttribute("width",r),i.setAttribute("height",e))}},g=Ba(d,null,t,(function(t){l||y(M,t),y(e,t)}));g&&g.width&&g.height&&(c=c||g.width,v=v||g.height)}e=vx("image","img",{href:d,width:c,height:v}),u.width=c,u.height=v}else a.svgElement&&(e=z(a.svgElement),u.width=a.svgWidth,u.height=a.svgHeight);if(e){var b,w;l?b=w=1:f?(w=1,b=u.width/o.width):h?(b=1,w=u.height/o.height):u.patternUnits="userSpaceOnUse",null==b||isNaN(b)||(u.width=b),null==w||isNaN(w)||(u.height=w);var x=sr(a);x&&(u.patternTransform=x);var M=vx("pattern","",u,[e]),S=dx(M),k=r.patternCache,A=k[S];A||(A=r.zrId+"-p"+r.patternIdx++,k[S]=A,u.id=A,M=r.defs[A]=vx("pattern",A,u,[e])),n[i]=or(A)}}function Xx(t,n,i){var r=i.clipPathCache,e=i.defs,a=r[t.id];if(!a){var o={id:a=i.zrId+"-c"+i.clipPathIdx++};r[t.id]=a,e[a]=vx("clipPath",a,o,[Vx(t,i)])}n["clip-path"]=or(a)}function Ux(t){return document.createTextNode(t)}function jx(t,n,i){t.insertBefore(n,i)}function Zx(t,n){t.removeChild(n)}function qx(t,n){t.appendChild(n)}function Kx(t){return t.parentNode}function Jx(t){return t.nextSibling}function $x(t,n){t.textContent=n}var Qx=vx("","");function tM(t){return void 0===t}function nM(t){return void 0!==t}function iM(t,n,i){for(var r={},e=n;e<=i;++e){var a=t[e].key;void 0!==a&&(r[a]=e)}return r}function rM(t,n){var i=t.key===n.key;return t.tag===n.tag&&i}function eM(t){var n,i=t.children,r=t.tag;if(nM(r)){var e=t.elm=cx(r);if(uM(Qx,t),X(i))for(n=0;n<i.length;++n){var a=i[n];null!=a&&qx(e,eM(a))}else nM(t.text)&&!K(t.text)&&qx(e,Ux(t.text))}else t.elm=Ux(t.text);return t.elm}function aM(t,n,i,r,e){for(;r<=e;++r){var a=i[r];null!=a&&jx(t,eM(a),n)}}function oM(t,n,i,r){for(;i<=r;++i){var e=n[i];if(null!=e)if(nM(e.tag))Zx(Kx(e.elm),e.elm);else Zx(t,e.elm)}}function uM(t,n){var i,r=n.elm,e=t&&t.attrs||{},a=n.attrs||{};if(e!==a){for(i in a){var o=a[i];e[i]!==o&&(!0===o?r.setAttribute(i,""):!1===o?r.removeAttribute(i):"style"===i?r.style.cssText=o:120!==i.charCodeAt(0)?r.setAttribute(i,o):"xmlns:xlink"===i||"xmlns"===i?r.setAttributeNS("http://www.w3.org/2000/xmlns/",i,o):58===i.charCodeAt(3)?r.setAttributeNS("http://www.w3.org/XML/1998/namespace",i,o):58===i.charCodeAt(5)?r.setAttributeNS(fx,i,o):r.setAttribute(i,o))}for(i in e)i in a||r.removeAttribute(i)}}function sM(t,n){var i=n.elm=t.elm,r=t.children,e=n.children;t!==n&&(uM(t,n),tM(n.text)?nM(r)&&nM(e)?r!==e&&function(t,n,i){for(var r,e,a,o=0,u=0,s=n.length-1,l=n[0],f=n[s],h=i.length-1,c=i[0],v=i[h];o<=s&&u<=h;)null==l?l=n[++o]:null==f?f=n[--s]:null==c?c=i[++u]:null==v?v=i[--h]:rM(l,c)?(sM(l,c),l=n[++o],c=i[++u]):rM(f,v)?(sM(f,v),f=n[--s],v=i[--h]):rM(l,v)?(sM(l,v),jx(t,l.elm,Jx(f.elm)),l=n[++o],v=i[--h]):rM(f,c)?(sM(f,c),jx(t,f.elm,l.elm),f=n[--s],c=i[++u]):(tM(r)&&(r=iM(n,o,s)),tM(e=r[c.key])||(a=n[e]).tag!==c.tag?jx(t,eM(c),l.elm):(sM(a,c),n[e]=void 0,jx(t,a.elm,l.elm)),c=i[++u]);(o<=s||u<=h)&&(o>s?aM(t,null==i[h+1]?null:i[h+1].elm,i,u,h):oM(t,n,o,s))}(i,r,e):nM(e)?(nM(t.text)&&$x(i,""),aM(i,null,e,0,e.length-1)):nM(r)?oM(i,r,0,r.length-1):nM(t.text)&&$x(i,""):t.text!==n.text&&(nM(r)&&oM(i,r,0,r.length-1),$x(i,n.text)))}var lM=0,fM=function(){function t(t,n,i){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=n,this.Wo=i=D({},i),this.root=t,this.Se="zr"+lM++,this.Vo=mx(i.width,i.height),t&&!i.ssr){var r=this.Ho=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var e=this.Yo=this.Vo.elm=cx("svg");uM(null,this.Vo),r.appendChild(e),t.appendChild(r)}this.resize(i.width,i.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this.Ho},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this.Yo},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function(t,n){if(rM(t,n))sM(t,n);else{var i=t.elm,r=Kx(i);eM(n),null!==r&&(jx(r,n.elm,Jx(i)),oM(r,[t],0,0))}}(this.Vo,t),this.Vo=t}},t.prototype.renderOneToVNode=function(t){return Hx(t,px(this.Se))},t.prototype.renderToVNode=function(t){t=t||{};var n=this.storage.getDisplayList(!0),i=this.Go,r=this.Xo,e=px(this.Se);e.animation=t.animation,e.willUpdate=t.willUpdate,e.compress=t.compress,e.emphasis=t.emphasis,e.ssr=this.Wo.ssr;var a=[],o=this.Uo=function(t,n,i,r){var e;if(i&&"none"!==i)if(e=vx("rect","bg",{width:t,height:n,x:"0",y:"0"}),ar(i))Yx({fill:i},e.attrs,"fill",r);else if(ir(i))Gx({style:{fill:i},dirty:wt,getBoundingRect:function(){return{width:t,height:n}}},e.attrs,"fill",r);else{var a=Ki(i),o=a.color,u=a.opacity;e.attrs.fill=o,u<1&&(e.attrs["fill-opacity"]=u)}return e}(i,r,this.Ln,e);o&&a.push(o);var u=t.compress?null:this.jo=vx("g","main",{},[]);this.Zo(n,e,u?u.children:a),u&&a.push(u);var s=P(H(e.defs),(function(t){return e.defs[t]}));if(s.length&&a.push(vx("defs","defs",{},s)),t.animation){var l=function(t,n,i){var r=(i=i||{}).newline?"\n":"",e=" {"+r,a=r+"}",o=P(H(t),(function(n){return n+e+P(H(t[n]),(function(i){return i+":"+t[n][i]+";"})).join(r)+a})).join(r),u=P(H(n),(function(t){return"@keyframes "+t+e+P(H(n[t]),(function(i){return i+e+P(H(n[t][i]),(function(r){var e=n[t][i][r];return"d"===r&&(e='path("'+e+'")'),r+":"+e+";"})).join(r)+a})).join(r)+a})).join(r);return o||u?["<![CDATA[",o,u,"]]>"].join(r):""}(e.cssNodes,e.cssAnims,{newline:!0});if(l){var f=vx("style","stl",{},[],l);a.push(f)}}return mx(i,r,a,t.useViewBox)},t.prototype.renderToString=function(t){return t=t||{},dx(this.renderToVNode({animation:rt(t.cssAnimation,!0),emphasis:rt(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:rt(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this.Ln=t},t.prototype.getSvgRoot=function(){return this.jo&&this.jo.elm},t.prototype.Zo=function(t,n,i){for(var r,e,a=t.length,o=[],u=0,s=0,l=0;l<a;l++){var f=t[l];if(!f.invisible){var h=f.nt,c=h&&h.length||0,v=e&&e.length||0,d=void 0;for(d=Math.max(c-1,v-1);d>=0&&(!h||!e||h[d]!==e[d]);d--);for(var p=v-1;p>d;p--)r=o[--u-1];for(var m=d+1;m<c;m++){var y={};Xx(h[m],y,n);var g=vx("g","clip-g-"+s++,y,[]);(r?r.children:i).push(g),o[u++]=g,r=g}e=h;var b=Hx(f,n);b&&(r?r.children:i).push(b)}}},t.prototype.resize=function(t,n){var i=this.Wo,r=this.root,e=this.Ho;if(null!=t&&(i.width=t),null!=n&&(i.height=n),r&&e&&(e.style.display="none",t=Mm(r,0,i),n=Mm(r,1,i),e.style.display=""),this.Go!==t||this.Xo!==n){if(this.Go=t,this.Xo=n,e){var a=e.style;a.width=t+"px",a.height=n+"px"}if(ir(this.Ln))this.refresh();else{var o=this.Yo;o&&(o.setAttribute("width",t),o.setAttribute("height",n));var u=this.Uo&&this.Uo.elm;u&&(u.setAttribute("width",t),u.setAttribute("height",n))}}},t.prototype.getWidth=function(){return this.Go},t.prototype.getHeight=function(){return this.Xo},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this.Yo=this.Ho=this.storage=this.Vo=this.Uo=this.jo=null},t.prototype.clear=function(){this.Yo&&(this.Yo.innerHTML=null),this.Vo=null},t.prototype.toDataURL=function(t){var n=this.renderToString(),i="data:image/svg+xml;";return t?(n=lr(n))&&i+"base64,"+n:i+"charset=UTF-8,"+encodeURIComponent(n)},t}();function hM(t,n,i){var r=p.createCanvas(),e=n.getWidth(),a=n.getHeight(),o=r.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=e+"px",o.height=a+"px",r.setAttribute("data-zr-dom-id",t)),r.width=e*i,r.height=a*i,r}var cM=function(t){function n(n,i,r){var e,a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.tt=!0,a.qo=!0,a.Ko=!1,a.Jo=0,a.$o=0,a.Qo=0,a.tu=null,a.nu=null,r=r||Ur,"string"==typeof n?e=hM(n,i,r):K(n)&&(n=(e=n).id),a.id=n,a.dom=e;var o=e.style;return o&&(gt(e),e.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=i,a.dpr=r,a}return St(n,t),n.prototype.getElementCount=function(){return this.Qo-this.$o},n.prototype.afterBrush=function(){this.tu=this.$o,this.nu=this.Qo},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.qo=!0},n.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=hM("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},n.prototype.createRepaintRects=function(t,n,i,r){if(this.qo)return this.qo=!1,null;var e,a=[],o=this.maxRepaintRectCount,u=!1,s=new In(0,0,0,0);function l(t){if(t.isFinite()&&!t.isZero())if(0===a.length){(n=new In(0,0,0,0)).copy(t),a.push(n)}else{for(var n,i=!1,r=1/0,e=0,l=0;l<a.length;++l){var f=a[l];if(f.intersect(t)){var h=new In(0,0,0,0);h.copy(f),h.union(t),a[l]=h,i=!0;break}if(u){s.copy(t),s.union(f);var c=t.width*t.height,v=f.width*f.height,d=s.width*s.height-c-v;d<r&&(r=d,e=l)}}if(u&&(a[e].union(t),i=!0),!i)(n=new In(0,0,0,0)).copy(t),a.push(n);u||(u=a.length>=o)}}for(var f=this.$o;f<this.Qo;++f){if(v=t[f]){var h=v.shouldBePainted(i,r,!0,!0);(d=v.Ne&&(1&v.tt||!h)?v.getPrevPaintRect():null)&&l(d);var c=h&&(1&v.tt||!v.Ne)?v.getPaintRect():null;c&&l(c)}}for(f=this.tu;f<this.nu;++f){var v,d;h=(v=n[f])&&v.shouldBePainted(i,r,!0,!0);if(v&&(!h||!v.Y)&&v.Ne)(d=v.getPrevPaintRect())&&l(d)}do{e=!1;for(f=0;f<a.length;)if(a[f].isZero())a.splice(f,1);else{for(var p=f+1;p<a.length;)a[f].intersect(a[p])?(e=!0,a[f].union(a[p]),a.splice(p,1)):p++;f++}}while(e);return this.iu=a,a},n.prototype.debugGetPaintRects=function(){return(this.iu||[]).slice()},n.prototype.resize=function(t,n){var i=this.dpr,r=this.dom,e=r.style,a=this.domBack;e&&(e.width=t+"px",e.height=n+"px"),r.width=t*i,r.height=n*i,a&&(a.width=t*i,a.height=n*i,1!==i&&this.ctxBack.scale(i,i))},n.prototype.clear=function(t,n,i){var r=this.dom,e=this.ctx,a=r.width,o=r.height;n=n||this.clearColor;var u=this.motionBlur&&!t,s=this.lastFrameAlpha,l=this.dpr,f=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,a/l,o/l));var h=this.domBack;function c(t,i,r,a){if(e.clearRect(t,i,r,a),n&&"transparent"!==n){var o=void 0;if(tt(n))o=(n.global||n.ru===r&&n.eu===a)&&n.au||wm(e,n,{x:0,y:0,width:r,height:a}),n.au=o,n.ru=r,n.eu=a;else null!=n.image&&(n.scaleX=n.scaleX||l,n.scaleY=n.scaleY||l,o=zm(e,n,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));e.save(),e.fillStyle=o||n,e.fillRect(t,i,r,a),e.restore()}u&&(e.save(),e.globalAlpha=s,e.drawImage(h,t,i,r,a),e.restore())}!i||u?c(0,0,a,o):i.length&&E(i,(function(t){c(t.x*l,t.y*l,t.width*l,t.height*l)}))},n}(Ht),vM=1e5,dM=314159,pM=.01;var mM=function(){function t(t,n,i,r){this.type="canvas",this.ou=[],this.uu=[],this.su={},this.lu={},this.fu=!1,this.type="canvas";var e=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this.Wo=i=D({},i||{}),this.dpr=i.devicePixelRatio||Ur,this.hu=e,this.root=t,t.style&&(gt(t),t.innerHTML=""),this.storage=n;var a=this.ou;this.uu=[];var o=this.su;if(e){var u=t,s=u.width,l=u.height;null!=i.width&&(s=i.width),null!=i.height&&(l=i.height),this.dpr=i.devicePixelRatio||1,u.width=s*this.dpr,u.height=l*this.dpr,this.Go=s,this.Xo=l;var f=new cM(u,this,this.dpr);f.cu=!0,f.initContext(),o[314159]=f,f.zlevel=dM,a.push(dM),this.vu=t}else{this.Go=Mm(t,0,i),this.Xo=Mm(t,1,i);var h=this.vu=function(t,n){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}(this.Go,this.Xo);t.appendChild(h)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this.hu},t.prototype.getViewportRoot=function(){return this.vu},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),i=this.uu,r=this.ou;this.du=Math.random(),this.Zo(n,i,t,this.du);for(var e=0;e<r.length;e++){var a=r[e],o=this.su[a];if(!o.cu&&o.refresh){var u=0===e?this.Ln:null;o.refresh(u)}}return this.Wo.useDirtyRect&&(this.uu=n.slice()),this},t.prototype.refreshHover=function(){this.pu(this.storage.getDisplayList(!1))},t.prototype.pu=function(t){var n=t.length,i=this.mu;if(i&&i.clear(),n){for(var r,e={inHover:!0,viewWidth:this.Go,viewHeight:this.Xo},a=0;a<n;a++){var o=t[a];o.dn&&(i||(i=this.mu=this.getLayer(vM)),r||(r=i.ctx).save(),Pm(r,o,e,a===n-1))}r&&r.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(vM)},t.prototype.paintOne=function(t,n){Em(t,n)},t.prototype.Zo=function(t,n,i,r){if(this.du===r){i=i||!1,this.yu(t);var e=this.gu(t,n,i),a=e.finished,o=e.needsRefreshHover;if(this.fu&&this.bu(),o&&this.pu(t),a)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var u=this;qn((function(){u.Zo(t,n,i,r)}))}}},t.prototype.bu=function(){var t=this.getLayer(dM).ctx,n=this.vu.width,i=this.vu.height;t.clearRect(0,0,n,i),this.eachBuiltinLayer((function(r){r.virtual&&t.drawImage(r.dom,0,0,n,i)}))},t.prototype.gu=function(t,n,i){for(var r=this,e=[],a=this.Wo.useDirtyRect,o=0;o<this.ou.length;o++){var u=this.ou[o],s=this.su[u];s.cu&&s!==this.mu&&(s.tt||i)&&e.push(s)}for(var l=!0,f=!1,c=function(o){var u,s=e[o],h=s.ctx,c=a&&s.createRepaintRects(t,n,v.Go,v.Xo),d=i?s.$o:s.Jo,p=!i&&s.incremental&&Date.now,m=p&&Date.now(),y=s.zlevel===v.ou[0]?v.Ln:null;if(s.$o===s.Qo)s.clear(!1,y,c);else if(d===s.$o){var g=t[d];g.incremental&&g.notClear&&!i||s.clear(!1,y,c)}-1===d&&(d=s.$o);var b=function(n){var i={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r.Go,viewHeight:r.Xo};for(u=d;u<s.Qo;u++){var e=t[u];if(e.dn&&(f=!0),r.wu(e,s,a,n,i,u===s.Qo-1),p)if(Date.now()-m>15)break}i.prevElClipPaths&&h.restore()};if(c)if(0===c.length)u=s.Qo;else for(var w=v.dpr,x=0;x<c.length;++x){var M=c[x];h.save(),h.beginPath(),h.rect(M.x*w,M.y*w,M.width*w,M.height*w),h.clip(),b(M),h.restore()}else h.save(),b(),h.restore();s.Jo=u,s.Jo<s.Qo&&(l=!1)},v=this,d=0;d<e.length;d++)c(d);return h.wxa&&E(this.su,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:l,needsRefreshHover:f}},t.prototype.wu=function(t,n,i,r,e,a){var o=n.ctx;if(i){var u=t.getPaintRect();(!r||u&&u.intersect(r))&&(Pm(o,t,e,a),t.setPrevPaintRect(u))}else Pm(o,t,e,a)},t.prototype.getLayer=function(t,n){this.hu&&!this.fu&&(t=dM);var i=this.su[t];return i||((i=new cM("zr_"+t,this,this.dpr)).zlevel=t,i.cu=!0,this.lu[t]?L(i,this.lu[t],!0):this.lu[t-pM]&&L(i,this.lu[t-pM],!0),n&&(i.virtual=n),this.insertLayer(t,i),i.initContext()),i},t.prototype.insertLayer=function(t,n){var i=this.su,r=this.ou,e=r.length,a=this.vu,o=null,u=-1;if(!i[t]&&function(t){return!!t&&(!!t.cu||"function"==typeof t.resize&&"function"==typeof t.refresh)}(n)){if(e>0&&t>r[0]){for(u=0;u<e-1&&!(r[u]<t&&r[u+1]>t);u++);o=i[r[u]]}if(r.splice(u+1,0,t),i[t]=n,!n.virtual)if(o){var s=o.dom;s.nextSibling?a.insertBefore(n.dom,s.nextSibling):a.appendChild(n.dom)}else a.firstChild?a.insertBefore(n.dom,a.firstChild):a.appendChild(n.dom);n.painter||(n.painter=this)}},t.prototype.eachLayer=function(t,n){for(var i=this.ou,r=0;r<i.length;r++){var e=i[r];t.call(n,this.su[e],e)}},t.prototype.eachBuiltinLayer=function(t,n){for(var i=this.ou,r=0;r<i.length;r++){var e=i[r],a=this.su[e];a.cu&&t.call(n,a,e)}},t.prototype.eachOtherLayer=function(t,n){for(var i=this.ou,r=0;r<i.length;r++){var e=i[r],a=this.su[e];a.cu||t.call(n,a,e)}},t.prototype.getLayers=function(){return this.su},t.prototype.yu=function(t){function n(t){a&&(a.Qo!==t&&(a.tt=!0),a.Qo=t)}if(this.eachBuiltinLayer((function(t,n){t.tt=t.Ko=!1})),this.hu)for(var i=1;i<t.length;i++){if((u=t[i]).zlevel!==t[i-1].zlevel||u.incremental){this.fu=!0;break}}var r,e,a=null,o=0;for(e=0;e<t.length;e++){var u,s=(u=t[e]).zlevel,l=void 0;r!==s&&(r=s,o=0),u.incremental?((l=this.getLayer(s+.001,this.fu)).incremental=!0,o=1):l=this.getLayer(s+(o>0?pM:0),this.fu),l.cu||I("ZLevel "+s+" has been used by unkown layer "+l.id),l!==a&&(l.Ko=!0,l.$o!==e&&(l.tt=!0),l.$o=e,l.incremental?l.Jo=-1:l.Jo=e,n(e),a=l),1&u.tt&&!u.dn&&(l.tt=!0,l.incremental&&l.Jo<0&&(l.Jo=e))}n(e),this.eachBuiltinLayer((function(t,n){!t.Ko&&t.getElementCount()>0&&(t.tt=!0,t.$o=t.Qo=t.Jo=0),t.tt&&t.Jo<0&&(t.Jo=t.$o)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this.xu),this},t.prototype.xu=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this.Ln=t,E(this.su,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,n){if(n){var i=this.lu;i[t]?L(i[t],n,!0):i[t]=n;for(var r=0;r<this.ou.length;r++){var e=this.ou[r];if(e===t||e===t+pM)L(this.su[e],i[t],!0)}}},t.prototype.delLayer=function(t){var n=this.su,i=this.ou,r=n[t];r&&(r.dom.parentNode.removeChild(r.dom),delete n[t],i.splice(F(i,t),1))},t.prototype.resize=function(t,n){if(this.vu.style){var i=this.vu;i.style.display="none";var r=this.Wo,e=this.root;if(null!=t&&(r.width=t),null!=n&&(r.height=n),t=Mm(e,0,r),n=Mm(e,1,r),i.style.display="",this.Go!==t||n!==this.Xo){for(var a in i.style.width=t+"px",i.style.height=n+"px",this.su)this.su.hasOwnProperty(a)&&this.su[a].resize(t,n);this.refresh(!0)}this.Go=t,this.Xo=n}else{if(null==t||null==n)return;this.Go=t,this.Xo=n,this.getLayer(dM).resize(t,n)}return this},t.prototype.clearLayer=function(t){var n=this.su[t];n&&n.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this.vu=this.su=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this.hu&&!this.bu)return this.su[314159].dom;var n=new cM("image",this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this.Ln);var i=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=n.dom.width,e=n.dom.height;this.eachLayer((function(t){t.cu?i.drawImage(t.dom,0,0,r,e):t.renderToCanvas&&(i.save(),t.renderToCanvas(i),i.restore())}))}else for(var a={inHover:!1,viewWidth:this.Go,viewHeight:this.Xo},o=this.storage.getDisplayList(!0),u=0,s=o.length;u<s;u++){var l=o[u];Pm(i,l,a,u===s-1)}return n.dom},t.prototype.getWidth=function(){return this.Go},t.prototype.getHeight=function(){return this.Xo},t}();var yM=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.hasSymbolVisual=!0,i}return l(n,t),n.prototype.getInitialData=function(t){return Fg(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(t){var n=new Se,i=mm("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(i),i.setStyle(t.lineStyle);var r=this.getData().getVisual("symbol"),e=this.getData().getVisual("symbolRotate"),a="none"===r?"circle":r,o=.8*t.itemHeight,u=mm(a,(t.itemWidth-o)/2,(t.itemHeight-o)/2,o,o,t.itemStyle.fill);n.add(u),u.setStyle(t.itemStyle);var s="inherit"===t.iconRotate?e:t.iconRotate||0;return u.rotation=s*Math.PI/180,u.setOrigin([t.itemWidth/2,t.itemHeight/2]),a.indexOf("empty")>-1&&(u.style.stroke=u.style.fill,u.style.fill="#fff",u.style.lineWidth=2),n},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n}(Ud);function gM(t,n){var i=t.mapDimensionsAll("defaultedLabel"),r=i.length;if(1===r){var e=Yv(t,n,i[0]);return null!=e?e+"":null}if(r){for(var a=[],o=0;o<i.length;o++)a.push(Yv(t,n,i[o]));return a.join(" ")}}function bM(t,n){var i=t.mapDimensionsAll("defaultedLabel");if(!X(n))return n+"";for(var r=[],e=0;e<i.length;e++){var a=t.getDimensionIndex(i[e]);a>=0&&r.push(n[a])}return r.join(" ")}var wM=function(t){function n(n,i,r,e){var a=t.call(this)||this;return a.updateData(n,i,r,e),a}return l(n,t),n.prototype.Mu=function(t,n,i,r,e){this.removeAll();var a=mm(t,-1,-1,2,2,null,e);a.attr({z2:100,culling:!0,scaleX:r[0]/2,scaleY:r[1]/2}),a.drift=xM,this.Su=t,this.add(a)},n.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},n.prototype.getSymbolType=function(){return this.Su},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){ss(this.childAt(0))},n.prototype.downplay=function(){ls(this.childAt(0))},n.prototype.setZ=function(t,n){var i=this.childAt(0);i.zlevel=t,i.z=n},n.prototype.setDraggable=function(t,n){var i=this.childAt(0);i.draggable=t,i.cursor=!n&&t?"move":i.cursor},n.prototype.updateData=function(t,i,r,e){this.silent=!1;var a=t.getItemVisual(i,"symbol")||"circle",o=t.hostModel,u=n.getSymbolSize(t,i),s=a!==this.Su,l=e&&e.disableAnimation;if(s){var f=t.getItemVisual(i,"symbolKeepAspect");this.Mu(a,t,i,u,f)}else{(c=this.childAt(0)).silent=!1;var h={scaleX:u[0]/2,scaleY:u[1]/2};l?c.attr(h):Ul(c,h,o,i),$l(c)}if(this.ku(t,i,u,r,e),s){var c=this.childAt(0);if(!l){h={scaleX:this.Au,scaleY:this.Nu,style:{opacity:c.style.opacity}};c.scaleX=c.scaleY=0,c.style.opacity=0,jl(c,h,o,i)}}l&&this.childAt(0).stopAnimation("leave")},n.prototype.ku=function(t,n,i,r,e){var a,o,u,s,l,f,h,c,v,d=this.childAt(0),p=t.hostModel;if(r&&(a=r.emphasisItemStyle,o=r.blurItemStyle,u=r.selectItemStyle,s=r.focus,l=r.blurScope,h=r.labelStatesModels,c=r.hoverScale,v=r.cursorStyle,f=r.emphasisDisabled),!r||t.hasItemOption){var m=r&&r.itemModel?r.itemModel:t.getItemModel(n),y=m.getModel("emphasis");a=y.getModel("itemStyle").getItemStyle(),u=m.getModel(["select","itemStyle"]).getItemStyle(),o=m.getModel(["blur","itemStyle"]).getItemStyle(),s=y.get("focus"),l=y.get("blurScope"),f=y.get("disabled"),h=Lf(m),c=y.getShallow("scale"),v=m.getShallow("cursor")}var g=t.getItemVisual(n,"symbolRotate");d.attr("rotation",(g||0)*Math.PI/180||0);var b=gm(t.getItemVisual(n,"symbolOffset"),i);b&&(d.x=b[0],d.y=b[1]),v&&d.attr("cursor",v);var w=t.getItemVisual(n,"style"),x=w.fill;if(d instanceof fu){var M=d.style;d.useStyle(D({image:M.image,x:M.x,y:M.y,width:M.width,height:M.height},w))}else d.Ae?d.useStyle(D({},w)):d.useStyle(w),d.style.decal=null,d.setColor(x,e&&e.symbolInnerColor),d.style.strokeNoScale=!0;var S=t.getItemVisual(n,"liftZ"),k=this.Cu;null!=S?null==k&&(this.Cu=d.z2,d.z2+=S):null!=k&&(d.z2=k,this.Cu=null);var A=e&&e.useNameLabel;zf(d,h,{labelFetcher:p,labelDataIndex:n,defaultText:function(n){return A?t.getName(n):gM(t,n)},inheritColor:x,defaultOpacity:w.opacity}),this.Au=i[0]/2,this.Nu=i[1]/2;var N=d.ensureState("emphasis");N.style=a,d.ensureState("select").style=u,d.ensureState("blur").style=o;var C=null==c||!0===c?Math.max(1.1,3/this.Nu):isFinite(c)&&c>0?+c:1;N.scaleX=this.Au*C,N.scaleY=this.Nu*C,this.setSymbolScale(1),Ms(this,s,l,f)},n.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},n.prototype.fadeOut=function(t,n,i){var r=this.childAt(0),e=Du(this).dataIndex,a=i&&i.animation;if(this.silent=r.silent=!0,i&&i.fadeLabel){var o=r.getTextContent();o&&ql(o,{style:{opacity:0}},n,{dataIndex:e,removeOpt:a,cb:function(){r.removeTextContent()}})}else r.removeTextContent();ql(r,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:e,cb:t,removeOpt:a})},n.getSymbolSize=function(t,n){return ym(t.getItemVisual(n,"symbolSize"))},n}(Se);function xM(t,n){this.parent.drift(t,n)}function MM(t,n,i,r){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(r.isIgnore&&r.isIgnore(i))&&!(r.clipShape&&!r.clipShape.contain(n[0],n[1]))&&"none"!==t.getItemVisual(i,"symbol")}function SM(t){return null==t||K(t)||(t={isIgnore:t}),t||{}}function kM(t){var n=t.hostModel,i=n.getModel("emphasis");return{emphasisItemStyle:i.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:i.get("focus"),blurScope:i.get("blurScope"),emphasisDisabled:i.get("disabled"),hoverScale:i.get("scale"),labelStatesModels:Lf(n),cursorStyle:n.get("cursor")}}var AM=function(){function t(t){this.group=new Se,this.Tu=t||wM}return t.prototype.updateData=function(t,n){this.Iu=null,n=SM(n);var i=this.group,r=t.hostModel,e=this.qi,a=this.Tu,o=n.disableAnimation,u=kM(t),s={disableAnimation:o},l=n.getSymbolPoint||function(n){return t.getItemLayout(n)};e||i.removeAll(),t.diff(e).add((function(r){var e=l(r);if(MM(t,e,r,n)){var o=new a(t,r,u,s);o.setPosition(e),t.setItemGraphicEl(r,o),i.add(o)}})).update((function(f,h){var c=e.getItemGraphicEl(h),v=l(f);if(MM(t,v,f,n)){var d=t.getItemVisual(f,"symbol")||"circle",p=c&&c.getSymbolType&&c.getSymbolType();if(!c||p&&p!==d)i.remove(c),(c=new a(t,f,u,s)).setPosition(v);else{c.updateData(t,f,u,s);var m={x:v[0],y:v[1]};o?c.attr(m):Ul(c,m,r)}i.add(c),t.setItemGraphicEl(f,c)}else i.remove(c)})).remove((function(t){var n=e.getItemGraphicEl(t);n&&n.fadeOut((function(){i.remove(n)}),r)})).execute(),this.zu=l,this.qi=t},t.prototype.updateLayout=function(){var t=this,n=this.qi;n&&n.eachItemGraphicEl((function(n,i){var r=t.zu(i);n.setPosition(r),n.markRedraw()}))},t.prototype.incrementalPrepareUpdate=function(t){this.Lu=kM(t),this.qi=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,n,i){function r(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this.Iu=[],i=SM(i);for(var e=t.start;e<t.end;e++){var a=n.getItemLayout(e);if(MM(n,a,e,i)){var o=new this.Tu(n,e,this.Lu);o.traverse(r),o.setPosition(a),this.group.add(o),n.setItemGraphicEl(e,o),this.Iu.push(o)}}},t.prototype.eachRendered=function(t){Af(this.Iu||this.group,t)},t.prototype.remove=function(t){var n=this.group,i=this.qi;i&&t?i.eachItemGraphicEl((function(t){t.fadeOut((function(){n.remove(t)}),i.hostModel)})):n.removeAll()},t}();function NM(t,n,i){var r=t.getBaseAxis(),e=t.getOtherAxis(r),a=function(t,n){var i=0,r=t.scale.getExtent();"start"===n?i=r[0]:"end"===n?i=r[1]:q(n)&&!isNaN(n)?i=n:r[0]>0?i=r[0]:r[1]<0&&(i=r[1]);return i}(e,i),o=r.dim,u=e.dim,s=n.mapDimension(u),l=n.mapDimension(o),f="x"===u||"radius"===u?1:0,h=P(t.dimensions,(function(t){return n.mapDimension(t)})),c=!1,v=n.getCalculationInfo("stackResultDimension");return Dg(n,h[0])&&(c=!0,h[0]=v),Dg(n,h[1])&&(c=!0,h[1]=v),{dataDimsForPoint:h,valueStart:a,valueAxisDim:u,baseAxisDim:o,stacked:!!c,valueDim:s,baseDim:l,baseDataOffset:f,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function CM(t,n,i,r){var e=NaN;t.stacked&&(e=i.get(i.getCalculationInfo("stackedOverDimension"),r)),isNaN(e)&&(e=t.valueStart);var a=t.baseDataOffset,o=[];return o[a]=i.get(t.baseDim,r),o[1-a]=e,n.dataToPoint(o)}var TM=Math.min,IM=Math.max;function zM(t,n){return isNaN(t)||isNaN(n)}function LM(t,n,i,r,e,a,o,u,s){for(var l,f,h,c,v,d,p=i,m=0;m<r;m++){var y=n[2*p],g=n[2*p+1];if(p>=e||p<0)break;if(zM(y,g)){if(s){p+=a;continue}break}if(p===i)t[a>0?"moveTo":"lineTo"](y,g),h=y,c=g;else{var b=y-l,w=g-f;if(b*b+w*w<.5){p+=a;continue}if(o>0){for(var x=p+a,M=n[2*x],S=n[2*x+1];M===y&&S===g&&m<r;)m++,p+=a,M=n[2*(x+=a)],S=n[2*x+1],b=(y=n[2*p])-l,w=(g=n[2*p+1])-f;var k=m+1;if(s)for(;zM(M,S)&&k<r;)k++,M=n[2*(x+=a)],S=n[2*x+1];var A=.5,N=0,C=0,T=void 0,I=void 0;if(k>=r||zM(M,S))v=y,d=g;else{N=M-l,C=S-f;var z=y-l,L=M-y,O=g-f,D=S-g,R=void 0,F=void 0;if("x"===u){var B=N>0?1:-1;v=y-B*(R=Math.abs(z))*o,d=g,T=y+B*(F=Math.abs(L))*o,I=g}else if("y"===u){var _=C>0?1:-1;v=y,d=g-_*(R=Math.abs(O))*o,T=y,I=g+_*(F=Math.abs(D))*o}else R=Math.sqrt(z*z+O*O),v=y-N*o*(1-(A=(F=Math.sqrt(L*L+D*D))/(F+R))),d=g-C*o*(1-A),I=g+C*o*A,T=TM(T=y+N*o*A,IM(M,y)),I=TM(I,IM(S,g)),T=IM(T,TM(M,y)),d=g-(C=(I=IM(I,TM(S,g)))-g)*R/F,v=TM(v=y-(N=T-y)*R/F,IM(l,y)),d=TM(d,IM(f,g)),T=y+(N=y-(v=IM(v,TM(l,y))))*F/R,I=g+(C=g-(d=IM(d,TM(f,g))))*F/R}t.bezierCurveTo(h,c,v,d,y,g),h=T,c=I}else t.lineTo(y,g)}l=y,f=g,p+=a}return m}var OM=function(){return function(){this.smooth=0,this.smoothConstraint=!0}}(),DM=function(t){function n(n){var i=t.call(this,n)||this;return i.type="ec-polyline",i}return l(n,t),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new OM},n.prototype.buildPath=function(t,n){var i=n.points,r=0,e=i.length/2;if(n.connectNulls){for(;e>0&&zM(i[2*e-2],i[2*e-1]);e--);for(;r<e&&zM(i[2*r],i[2*r+1]);r++);}for(;r<e;)r+=LM(t,i,r,e,e,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},n.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var i,r,e=this.path.data,a=Po.CMD,o="x"===n,u=[],s=0;s<e.length;){var l=void 0,f=void 0,h=void 0,c=void 0,v=void 0,d=void 0,p=void 0;switch(e[s++]){case a.M:i=e[s++],r=e[s++];break;case a.L:if(l=e[s++],f=e[s++],(p=o?(t-i)/(l-i):(t-r)/(f-r))<=1&&p>=0){var m=o?(f-r)*p+r:(l-i)*p+i;return o?[t,m]:[m,t]}i=l,r=f;break;case a.C:l=e[s++],f=e[s++],h=e[s++],c=e[s++],v=e[s++],d=e[s++];var y=o?fi(i,l,h,v,t,u):fi(r,f,c,d,t,u);if(y>0)for(var g=0;g<y;g++){var b=u[g];if(b<=1&&b>=0){m=o?si(r,f,c,d,b):si(i,l,h,v,b);return o?[t,m]:[m,t]}}i=v,r=d}}},n}(au),RM=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n}(OM),FM=function(t){function n(n){var i=t.call(this,n)||this;return i.type="ec-polygon",i}return l(n,t),n.prototype.getDefaultShape=function(){return new RM},n.prototype.buildPath=function(t,n){var i=n.points,r=n.stackedOnPoints,e=0,a=i.length/2,o=n.smoothMonotone;if(n.connectNulls){for(;a>0&&zM(i[2*a-2],i[2*a-1]);a--);for(;e<a&&zM(i[2*e],i[2*e+1]);e++);}for(;e<a;){var u=LM(t,i,e,a,a,1,n.smooth,o,n.connectNulls);LM(t,r,e+u-1,u,a,-1,n.stackedOnSmooth,o,n.connectNulls),e+=u+1,t.closePath()}},n}(au);function BM(t,n,i,r,e){var a=t.getArea(),o=a.x,u=a.y,s=a.width,l=a.height,f=i.get(["lineStyle","width"])||0;o-=f/2,u-=f/2,s+=f,l+=f,s=Math.ceil(s),o!==Math.floor(o)&&(o=Math.floor(o),s++);var h=new yu({shape:{x:o,y:u,width:s,height:l}});if(n){var c=t.getBaseAxis(),v=c.isHorizontal(),d=c.inverse;v?(d&&(h.shape.x+=s),h.shape.width=0):(d||(h.shape.y+=l),h.shape.height=0);var p=U(e)?function(t){e(t,h)}:null;jl(h,{shape:{width:s,height:l,x:o,y:u}},i,null,r,p)}return h}function _M(t,n,i){var r=t.getArea(),e=Le(r.r0,1),a=Le(r.r,1),o=new pl({shape:{cx:Le(t.cx,1),cy:Le(t.cy,1),r0:e,r:a,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});n&&("angle"===t.getBaseAxis().dim?o.shape.endAngle=r.startAngle:o.shape.r=e,jl(o,{shape:{endAngle:r.endAngle,r:a}},i));return o}function EM(t,n,i,r,e){return t?"polar"===t.type?_M(t,n,i):"cartesian2d"===t.type?BM(t,n,i,r,e):null:null}function PM(t,n){return t.type===n}function WM(t,n){if(t.length===n.length){for(var i=0;i<t.length;i++)if(t[i]!==n[i])return;return!0}}function VM(t){for(var n=1/0,i=1/0,r=-1/0,e=-1/0,a=0;a<t.length;){var o=t[a++],u=t[a++];isNaN(o)||(n=Math.min(o,n),r=Math.max(o,r)),isNaN(u)||(i=Math.min(u,i),e=Math.max(u,e))}return[[n,i],[r,e]]}function HM(t,n){var i=VM(t),r=i[0],e=i[1],a=VM(n),o=a[0],u=a[1];return Math.max(Math.abs(r[0]-o[0]),Math.abs(r[1]-o[1]),Math.abs(e[0]-u[0]),Math.abs(e[1]-u[1]))}function YM(t){return q(t)?t:t?.5:0}function GM(t,n,i,r,e){var a=i.getBaseAxis(),o="x"===a.dim||"radius"===a.dim?0:1,u=[],s=0,l=[],f=[],h=[],c=[];if(e){for(s=0;s<t.length;s+=2){var v=n||t;isNaN(v[s])||isNaN(v[s+1])||c.push(t[s],t[s+1])}t=c}for(s=0;s<t.length-2;s+=2)switch(h[0]=t[s+2],h[1]=t[s+3],f[0]=t[s],f[1]=t[s+1],u.push(f[0],f[1]),r){case"end":l[o]=h[o],l[1-o]=f[1-o],u.push(l[0],l[1]);break;case"middle":var d=(f[o]+h[o])/2,p=[];l[o]=p[o]=d,l[1-o]=f[1-o],p[1-o]=h[1-o],u.push(l[0],l[1]),u.push(p[0],p[1]);break;default:l[o]=f[o],l[1-o]=h[1-o],u.push(l[0],l[1])}return u.push(t[s++],t[s++]),u}function XM(t,n){var i,r,e=[],a=t.length;function o(t,n,i){var r=t.coord;return{coord:i,color:function(t,n,i){if(n&&n.length&&t>=0&&t<=1){var r=t*(n.length-1),e=Math.floor(r),a=Math.ceil(r),o=Pi(n[e]),u=Pi(n[a]),s=r-e,l=Xi([Ti(Di(o[0],u[0],s)),Ti(Di(o[1],u[1],s)),Ti(Di(o[2],u[2],s)),Ii(Di(o[3],u[3],s))],"rgba");return i?{color:l,leftIndex:e,rightIndex:a,value:r}:l}}((i-r)/(n.coord-r),[t.color,n.color])}}for(var u=0;u<a;u++){var s=t[u],l=s.coord;if(l<0)i=s;else{if(l>n){r?e.push(o(r,s,n)):i&&e.push(o(i,s,0),o(i,s,n));break}i&&(e.push(o(i,s,0)),i=null),e.push(s),r=s}}return e}function UM(t,n,i){var r=t.get("showAllSymbol"),e="auto"===r;if(!r||e){var a=i.getAxesByScale("ordinal")[0];if(a&&(!e||!function(t,n){var i=t.getExtent(),r=Math.abs(i[1]-i[0])/t.scale.count();isNaN(r)&&(r=0);for(var e=n.count(),a=Math.max(1,Math.round(e/5)),o=0;o<e;o+=a)if(1.5*wM.getSymbolSize(n,o)[t.isHorizontal()?1:0]>r)return!1;return!0}(a,n))){var o=n.mapDimension(a.dim),u={};return E(a.getViewLabels(),(function(t){var n=a.scale.getRawOrdinalNumber(t.tickValue);u[n]=1})),function(t){return!u.hasOwnProperty(n.get(o,t))}}}}function jM(t,n){return[t[2*n],t[2*n+1]]}function ZM(t){if(t.get(["endLabel","show"]))return!0;for(var n=0;n<Pu.length;n++)if(t.get([Pu[n],"endLabel","show"]))return!0;return!1}function qM(t,n,i,r){if(PM(n,"cartesian2d")){var e=r.getModel("endLabel"),a=e.get("valueAnimation"),o=r.getData(),u={lastFrameIndex:0},s=ZM(r)?function(i,r){t.Ou(i,r,o,u,a,e,n)}:null,l=n.getBaseAxis().isHorizontal(),f=BM(n,i,r,(function(){var n=t.Du;n&&i&&null!=u.originalX&&n.attr({x:u.originalX,y:u.originalY})}),s);if(!r.get("clip",!0)){var h=f.shape,c=Math.max(h.width,h.height);l?(h.y-=c,h.height+=2*c):(h.x-=c,h.width+=2*c)}return s&&s(1,f),f}return _M(n,i,r)}var KM=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.init=function(){var t=new Se,n=new AM;this.group.add(n.group),this.Ru=n,this.Fu=t,this.Bu=Y(this.Bu,this)},n.prototype.render=function(t,n,i){var r=t.coordinateSystem,e=this.group,a=t.getData(),o=t.getModel("lineStyle"),u=t.getModel("areaStyle"),s=a.getLayout("points")||[],l="polar"===r.type,f=this._u,h=this.Ru,c=this.Eu,v=this.Pu,d=this.Fu,p=!n.ssr&&t.get("animation"),m=!u.isEmpty(),y=u.get("origin"),g=NM(r,a,y),b=m&&function(t,n,i){if(!i.valueDim)return[];for(var r=n.count(),e=Qg(2*r),a=0;a<r;a++){var o=CM(i,t,n,a);e[2*a]=o[0],e[2*a+1]=o[1]}return e}(r,a,g),w=t.get("showSymbol"),x=t.get("connectNulls"),M=w&&!l&&UM(t,a,r),S=this.qi;S&&S.eachItemGraphicEl((function(t,n){t.Wu&&(e.remove(t),S.setItemGraphicEl(n,null))})),w||h.remove(),e.add(d);var k,A=!l&&t.get("step");r&&r.getArea&&t.get("clip",!0)&&(null!=(k=r.getArea()).width?(k.x-=.1,k.y-=.1,k.width+=.2,k.height+=.2):k.r0&&(k.r0-=.5,k.r+=.5)),this.Vu=k;var N=function(t,n,i){var r=t.getVisual("visualMeta");if(r&&r.length&&t.count()&&"cartesian2d"===n.type){for(var e,a,o=r.length-1;o>=0;o--){var u=t.getDimensionInfo(r[o].dimension);if("x"===(e=u&&u.coordDim)||"y"===e){a=r[o];break}}if(a){var s=n.getAxis(e),l=P(a.stops,(function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}})),f=l.length,h=a.outerColors.slice();f&&l[0].coord>l[f-1].coord&&(l.reverse(),h.reverse());var c=XM(l,"x"===e?i.getWidth():i.getHeight()),v=c.length;if(!v&&f)return l[0].coord<0?h[1]?h[1]:l[f-1].color:h[0]?h[0]:l[0].color;var d=c[0].coord-10,p=c[v-1].coord+10,m=p-d;if(m<.001)return"transparent";E(c,(function(t){t.offset=(t.coord-d)/m})),c.push({offset:v?c[v-1].offset:.5,color:h[1]||"transparent"}),c.unshift({offset:v?c[0].offset:.5,color:h[0]||"transparent"});var y=new Rl(0,0,0,0,c,!0);return y[e]=d,y[e+"2"]=p,y}}}(a,r,i)||a.getVisual("style")[a.getVisual("drawType")];if(c&&f.type===r.type&&A===this.Hu){m&&!v?v=this.Yu(s,b):v&&!m&&(d.remove(v),v=this.Pu=null),l||this.Gu(t,r,qh(N));var C=d.getClipPath();if(C)jl(C,{shape:qM(this,r,!1,t).shape},t);else d.setClipPath(qM(this,r,!0,t));w&&h.updateData(a,{isIgnore:M,clipShape:k,disableAnimation:!0,getSymbolPoint:function(t){return[s[2*t],s[2*t+1]]}}),WM(this.Xu,b)&&WM(this.Uu,s)||(p?this.ju(a,b,r,i,A,y,x):(A&&(b&&(b=GM(b,s,r,A,x)),s=GM(s,null,r,A,x)),c.setShape({points:s}),v&&v.setShape({points:s,stackedOnPoints:b})))}else w&&h.updateData(a,{isIgnore:M,clipShape:k,disableAnimation:!0,getSymbolPoint:function(t){return[s[2*t],s[2*t+1]]}}),p&&this.Zu(a,r,k),A&&(b&&(b=GM(b,s,r,A,x)),s=GM(s,null,r,A,x)),c=this.qu(s),m?v=this.Yu(s,b):v&&(d.remove(v),v=this.Pu=null),l||this.Gu(t,r,qh(N)),d.setClipPath(qM(this,r,!0,t));var T=t.getModel("emphasis"),I=T.get("focus"),z=T.get("blurScope"),L=T.get("disabled");(c.useStyle(R(o.getLineStyle(),{fill:"none",stroke:N,lineJoin:"bevel"})),Ns(c,t,"lineStyle"),c.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"]))&&(c.getState("emphasis").style.lineWidth=+c.style.lineWidth+1);Du(c).seriesIndex=t.seriesIndex,Ms(c,I,z,L);var O=YM(t.get("smooth")),D=t.get("smoothMonotone");if(c.setShape({smooth:O,smoothMonotone:D,connectNulls:x}),v){var F=a.getCalculationInfo("stackedOnSeries"),B=0;v.useStyle(R(u.getAreaStyle(),{fill:N,opacity:.7,lineJoin:"bevel",decal:a.getVisual("style").decal})),F&&(B=YM(F.get("smooth"))),v.setShape({smooth:O,stackedOnSmooth:B,smoothMonotone:D,connectNulls:x}),Ns(v,t,"areaStyle"),Du(v).seriesIndex=t.seriesIndex,Ms(v,I,z,L)}var _=this.Bu;a.eachItemGraphicEl((function(t){t&&(t.onHoverStateChange=_)})),this.Eu.onHoverStateChange=_,this.qi=a,this._u=r,this.Xu=b,this.Uu=s,this.Hu=A,this.Ku=y,t.get("triggerLineEvent")&&(this.packEventData(t,c),v&&this.packEventData(t,v))},n.prototype.packEventData=function(t,n){Du(n).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},n.prototype.highlight=function(t,n,i,r){var e=t.getData(),a=ha(e,r);if(this.Bu("emphasis"),!(a instanceof Array)&&null!=a&&a>=0){var o=e.getLayout("points"),u=e.getItemGraphicEl(a);if(!u){var s=o[2*a],l=o[2*a+1];if(isNaN(s)||isNaN(l))return;if(this.Vu&&!this.Vu.contain(s,l))return;var f=t.get("zlevel")||0,h=t.get("z")||0;(u=new wM(e,a)).x=s,u.y=l,u.setZ(f,h);var c=u.getSymbolPath().getTextContent();c&&(c.zlevel=f,c.z=h,c.z2=this.Eu.z2+1),u.Wu=!0,e.setItemGraphicEl(a,u),u.stopSymbolAnimation(!0),this.group.add(u)}u.highlight()}else ep.prototype.highlight.call(this,t,n,i,r)},n.prototype.downplay=function(t,n,i,r){var e=t.getData(),a=ha(e,r);if(this.Bu("normal"),null!=a&&a>=0){var o=e.getItemGraphicEl(a);o&&(o.Wu?(e.setItemGraphicEl(a,null),this.group.remove(o)):o.downplay())}else ep.prototype.downplay.call(this,t,n,i,r)},n.prototype.Bu=function(t){var n=this.Pu;rs(this.Eu,t),n&&rs(n,t)},n.prototype.qu=function(t){var n=this.Eu;return n&&this.Fu.remove(n),n=new DM({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this.Fu.add(n),this.Eu=n,n},n.prototype.Yu=function(t,n){var i=this.Pu;return i&&this.Fu.remove(i),i=new FM({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this.Fu.add(i),this.Pu=i,i},n.prototype.Zu=function(t,n,i){var r,e,a=n.getBaseAxis(),o=a.inverse;"cartesian2d"===n.type?(r=a.isHorizontal(),e=!1):"polar"===n.type&&(r="angle"===a.dim,e=!0);var u=t.hostModel,s=u.get("animationDuration");U(s)&&(s=s(null));var l=u.get("animationDelay")||0,f=U(l)?l(null):l;t.eachItemGraphicEl((function(t,a){var u=t;if(u){var h=[t.x,t.y],c=void 0,v=void 0,d=void 0;if(i)if(e){var p=i,m=n.pointToCoord(h);r?(c=p.startAngle,v=p.endAngle,d=-m[1]/180*Math.PI):(c=p.r0,v=p.r,d=m[0])}else{var y=i;r?(c=y.x,v=y.x+y.width,d=t.x):(c=y.y+y.height,v=y.y,d=t.y)}var g=v===c?0:(d-c)/(v-c);o&&(g=1-g);var b=U(l)?l(a):s*g+f,w=u.getSymbolPath(),x=w.getTextContent();u.attr({scaleX:0,scaleY:0}),u.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:b}),x&&x.animateFrom({style:{opacity:0}},{duration:300,delay:b}),w.disableLabelAnimation=!0}}))},n.prototype.Gu=function(t,n,i){var r=t.getModel("endLabel");if(ZM(t)){var e=t.getData(),a=this.Eu,o=e.getLayout("points");if(!o)return a.removeTextContent(),void(this.Du=null);var u=this.Du;u||((u=this.Du=new wu({z2:200})).ignoreClip=!0,a.setTextContent(this.Du),a.disableLabelAnimation=!0);var s=function(t){for(var n,i,r=t.length/2;r>0&&(n=t[2*r-2],i=t[2*r-1],isNaN(n)||isNaN(i));r--);return r-1}(o);s>=0&&(zf(a,Lf(t,"endLabel"),{inheritColor:i,labelFetcher:t,labelDataIndex:s,defaultText:function(t,n,i){return null!=i?bM(e,i):gM(e,t)},enableTextSetter:!0},function(t,n){var i=n.getBaseAxis(),r=i.isHorizontal(),e=i.inverse,a=r?e?"right":"left":"center",o=r?"middle":e?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||o}}}(r,n)),a.textConfig.position=null)}else this.Du&&(this.Eu.removeTextContent(),this.Du=null)},n.prototype.Ou=function(t,n,i,r,e,a,o){var u=this.Du,s=this.Eu;if(u){t<1&&null==r.originalX&&(r.originalX=u.x,r.originalY=u.y);var l=i.getLayout("points"),f=i.hostModel,h=f.get("connectNulls"),c=a.get("precision"),v=a.get("distance")||0,d=o.getBaseAxis(),p=d.isHorizontal(),m=d.inverse,y=n.shape,g=m?p?y.x:y.y+y.height:p?y.x+y.width:y.y,b=(p?v:0)*(m?-1:1),w=(p?0:-v)*(m?-1:1),x=p?"x":"y",M=function(t,n,i){for(var r,e,a=t.length/2,o="x"===i?0:1,u=0,s=-1,l=0;l<a;l++)if(e=t[2*l+o],!isNaN(e)&&!isNaN(t[2*l+1-o]))if(0!==l){if(r<=n&&e>=n||r>=n&&e<=n){s=l;break}u=l,r=e}else r=e;return{range:[u,s],t:(n-r)/(e-r)}}(l,g,x),S=M.range,k=S[1]-S[0],A=void 0;if(k>=1){if(k>1&&!h){var N=jM(l,S[0]);u.attr({x:N[0]+b,y:N[1]+w}),e&&(A=f.getRawValue(S[0]))}else{(N=s.getPointOn(g,x))&&u.attr({x:N[0]+b,y:N[1]+w});var C=f.getRawValue(S[0]),T=f.getRawValue(S[1]);e&&(A=xa(i,c,C,T,M.t))}r.lastFrameIndex=S[0]}else{var I=1===t||r.lastFrameIndex>0?S[0]:0;N=jM(l,I);e&&(A=f.getRawValue(I)),u.attr({x:N[0]+b,y:N[1]+w})}if(e){var z=Pf(u);"function"==typeof z.setLabelText&&z.setLabelText(A)}}},n.prototype.ju=function(t,n,i,r,e,a,o){var u=this.Eu,s=this.Pu,l=t.hostModel,f=function(t,n,i,r,e,a,o){for(var u=function(t,n){var i=[];return n.diff(t).add((function(t){i.push({cmd:"+",idx:t})})).update((function(t,n){i.push({cmd:"=",idx:n,idx1:t})})).remove((function(t){i.push({cmd:"-",idx:t})})).execute(),i}(t,n),s=[],l=[],f=[],h=[],c=[],v=[],d=[],p=NM(e,n,o),m=t.getLayout("points")||[],y=n.getLayout("points")||[],g=0;g<u.length;g++){var b=u[g],w=!0,x=void 0,M=void 0;switch(b.cmd){case"=":x=2*b.idx,M=2*b.idx1;var S=m[x],k=m[x+1],A=y[M],N=y[M+1];(isNaN(S)||isNaN(k))&&(S=A,k=N),s.push(S,k),l.push(A,N),f.push(i[x],i[x+1]),h.push(r[M],r[M+1]),d.push(n.getRawIndex(b.idx1));break;case"+":var C=b.idx,T=p.dataDimsForPoint,I=e.dataToPoint([n.get(T[0],C),n.get(T[1],C)]);M=2*C,s.push(I[0],I[1]),l.push(y[M],y[M+1]);var z=CM(p,e,n,C);f.push(z[0],z[1]),h.push(r[M],r[M+1]),d.push(n.getRawIndex(C));break;case"-":w=!1}w&&(c.push(b),v.push(v.length))}v.sort((function(t,n){return d[t]-d[n]}));var L=s.length,O=Qg(L),D=Qg(L),R=Qg(L),F=Qg(L),B=[];for(g=0;g<v.length;g++){var _=v[g],E=2*g,P=2*_;O[E]=s[P],O[E+1]=s[P+1],D[E]=l[P],D[E+1]=l[P+1],R[E]=f[P],R[E+1]=f[P+1],F[E]=h[P],F[E+1]=h[P+1],B[g]=c[_]}return{current:O,next:D,stackedOnCurrent:R,stackedOnNext:F,status:B}}(this.qi,t,this.Xu,n,this._u,0,this.Ku),h=f.current,c=f.stackedOnCurrent,v=f.next,d=f.stackedOnNext;if(e&&(c=GM(f.stackedOnCurrent,f.current,i,e,o),h=GM(f.current,null,i,e,o),d=GM(f.stackedOnNext,f.next,i,e,o),v=GM(f.next,null,i,e,o)),HM(h,v)>3e3||s&&HM(c,d)>3e3)return u.stopAnimation(),u.setShape({points:v}),void(s&&(s.stopAnimation(),s.setShape({points:v,stackedOnPoints:d})));u.shape.Ju=f.current,u.shape.points=h;var p={shape:{points:v}};f.current!==h&&(p.shape.Ju=f.next),u.stopAnimation(),Ul(u,p,l),s&&(s.setShape({points:h,stackedOnPoints:c}),s.stopAnimation(),Ul(s,{shape:{stackedOnPoints:d}},l),u.shape.points!==s.shape.points&&(s.shape.points=u.shape.points));for(var m=[],y=f.status,g=0;g<y.length;g++){if("="===y[g].cmd){var b=t.getItemGraphicEl(y[g].idx1);b&&m.push({el:b,ptIdx:g})}}u.animators&&u.animators.length&&u.animators[0].during((function(){s&&s.dirtyShape();for(var t=u.shape.Ju,n=0;n<m.length;n++){var i=m[n].el,r=2*m[n].ptIdx;i.x=t[r],i.y=t[r+1],i.markRedraw()}}))},n.prototype.remove=function(t){var n=this.group,i=this.qi;this.Fu.removeAll(),this.Ru.remove(!0),i&&i.eachItemGraphicEl((function(t,r){t.Wu&&(n.remove(t),i.setItemGraphicEl(r,null))})),this.Eu=this.Pu=this._u=this.Uu=this.Xu=this.Du=this.qi=null},n.type="line",n}(ep);function JM(t,n){return{seriesType:t,plan:np(),reset:function(t){var i=t.getData(),r=t.coordinateSystem,e=t.pipelineContext,a=n||e.large;if(r){var o=P(r.dimensions,(function(t){return i.mapDimension(t)})).slice(0,2),u=o.length,s=i.getCalculationInfo("stackResultDimension");Dg(i,o[0])&&(o[0]=s),Dg(i,o[1])&&(o[1]=s);var l=i.getStore(),f=i.getDimensionIndex(o[0]),h=i.getDimensionIndex(o[1]);return u&&{progress:function(t,n){for(var i=t.end-t.start,e=a&&Qg(i*u),o=[],s=[],c=t.start,v=0;c<t.end;c++){var d=void 0;if(1===u){var p=l.get(f,c);d=r.dataToPoint(p,null,s)}else o[0]=l.get(f,c),o[1]=l.get(h,c),d=r.dataToPoint(o,null,s);a?(e[v++]=d[0],e[v++]=d[1]):n.setItemLayout(c,d.slice())}a&&n.setLayout("points",e)}}}}}}var $M={average:function(t){for(var n=0,i=0,r=0;r<t.length;r++)isNaN(t[r])||(n+=t[r],i++);return 0===i?NaN:n/i},sum:function(t){for(var n=0,i=0;i<t.length;i++)n+=t[i]||0;return n},max:function(t){for(var n=-1/0,i=0;i<t.length;i++)t[i]>n&&(n=t[i]);return isFinite(n)?n:NaN},min:function(t){for(var n=1/0,i=0;i<t.length;i++)t[i]<n&&(n=t[i]);return isFinite(n)?n:NaN},nearest:function(t){return t[0]}},QM=function(t){return Math.round(t.length/2)};function tS(t){return{seriesType:t,reset:function(t,n,i){var r=t.getData(),e=t.get("sampling"),a=t.coordinateSystem,o=r.count();if(o>10&&"cartesian2d"===a.type&&e){var u=a.getBaseAxis(),s=a.getOtherAxis(u),l=u.getExtent(),f=i.getDevicePixelRatio(),h=Math.abs(l[1]-l[0])*(f||1),c=Math.round(o/h);if(isFinite(c)&&c>1){"lttb"===e?t.setData(r.lttbDownSample(r.mapDimension(s.dim),1/c)):"minmax"===e&&t.setData(r.minmaxDownSample(r.mapDimension(s.dim),1/c));var v=void 0;j(e)?v=$M[e]:U(e)&&(v=e),v&&t.setData(r.downSample(r.mapDimension(s.dim),1/c,v,QM))}}}}}var nS=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.getInitialData=function(t,n){return Fg(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(t,n,i){var r=this.coordinateSystem;if(r&&r.clampData){var e=r.clampData(t),a=r.dataToPoint(e);if(i)E(r.getAxes(),(function(t,i){if("category"===t.type&&null!=n){var r=t.getTicksCoords(),o=t.getTickModel().get("alignWithLabel"),u=e[i],s="x1"===n[i]||"y1"===n[i];if(s&&!o&&(u+=1),r.length<2)return;if(2===r.length)return void(a[i]=t.toGlobalCoord(t.getExtent()[s?1:0]));for(var l=void 0,f=void 0,h=1,c=0;c<r.length;c++){var v=r[c].coord,d=c===r.length-1?r[c-1].tickValue+h:r[c].tickValue;if(d===u){f=v;break}if(d<u)l=v;else if(null!=l&&d>u){f=(v+l)/2;break}1===c&&(h=d-r[0].tickValue)}null==f&&(l?l&&(f=r[r.length-1].coord):f=r[0].coord),a[i]=t.toGlobalCoord(f)}}));else{var o=this.getData(),u=o.getLayout("offset"),s=o.getLayout("size"),l=r.getBaseAxis().isHorizontal()?0:1;a[l]+=u+s/2}return a}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(Ud);Ud.registerClass(nS);var iS=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.getInitialData=function(){return Fg(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},n.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>t&&(t=n),t},n.prototype.brushSelector=function(t,n,i){return i.rect(n.getItemLayout(t))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=rh(nS.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),n}(nS),rS=function(){return function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0}}(),eS=function(t){function n(n){var i=t.call(this,n)||this;return i.type="sausage",i}return l(n,t),n.prototype.getDefaultShape=function(){return new rS},n.prototype.buildPath=function(t,n){var i=n.cx,r=n.cy,e=Math.max(n.r0||0,0),a=Math.max(n.r,0),o=.5*(a-e),u=e+o,s=n.startAngle,l=n.endAngle,f=n.clockwise,h=2*Math.PI,c=f?l-s<h:s-l<h;c||(s=l-(f?h:-h));var v=Math.cos(s),d=Math.sin(s),p=Math.cos(l),m=Math.sin(l);c?(t.moveTo(v*e+i,d*e+r),t.arc(v*u+i,d*u+r,o,-Math.PI+s,s,!f)):t.moveTo(v*a+i,d*a+r),t.arc(i,r,a,s,l,!f),t.arc(p*u+i,m*u+r,o,l-2*Math.PI,l-Math.PI,!f),0!==e&&t.arc(i,r,e,l,s,f)},n}(au);function aS(t,n,i){return n*Math.sin(t)*(i?-1:1)}function oS(t,n,i){return n*Math.cos(t)*(i?1:-1)}function uS(t,n,i){var r=t.get("borderRadius");if(null==r)return i?{cornerRadius:0}:null;X(r)||(r=[r,r,r,r]);var e=Math.abs(n.r||0-n.r0||0);return{cornerRadius:P(r,(function(t){return he(t,e)}))}}var sS=Math.max,lS=Math.min;var fS=function(t){function n(){var i=t.call(this)||this;return i.type=n.type,i.$u=!0,i}return l(n,t),n.prototype.render=function(t,n,i,r){this.Xe=t,this.Qu(i),this.ts(t);var e=t.get("coordinateSystem");"cartesian2d"!==e&&"polar"!==e||(this.Iu=null,this.ns?this.rs(t,n,i):this.es(t,n,i,r))},n.prototype.incrementalPrepareRender=function(t){this.us(),this.ts(t),this.ss(t)},n.prototype.incrementalRender=function(t,n){this.Iu=[],this.ls(t,n)},n.prototype.eachRendered=function(t){Af(this.Iu||this.group,t)},n.prototype.ts=function(t){var n=t.pipelineContext.large;null!=this.ns&&n===this.ns||(this.ns=n,this.us())},n.prototype.es=function(t,n,i,r){var e,a=this.group,o=t.getData(),u=this.qi,s=t.coordinateSystem,l=s.getBaseAxis();"cartesian2d"===s.type?e=l.isHorizontal():"polar"===s.type&&(e="angle"===l.dim);var f=t.isAnimationEnabled()?t:null,h=function(t,n){var i=t.get("realtimeSort",!0),r=n.getBaseAxis();if(i&&"category"===r.type&&"cartesian2d"===n.type)return{baseAxis:r,otherAxis:n.getOtherAxis(r)}}(t,s);h&&this.fs(h,o,i);var c=t.get("clip",!0)||h,v=function(t,n){var i=t.getArea&&t.getArea();if(PM(t,"cartesian2d")){var r=t.getBaseAxis();if("category"!==r.type||!r.onBand){var e=n.getLayout("bandWidth");r.isHorizontal()?(i.x-=e,i.width+=2*e):(i.y-=e,i.height+=2*e)}}return i}(s,o);a.removeClipPath();var d=t.get("roundCap",!0),p=t.get("showBackground",!0),m=t.getModel("backgroundStyle"),y=m.get("borderRadius")||0,g=[],b=this.hs,w=r&&r.isInitSort,x=r&&"changeAxisOrder"===r.type;function M(t){var n=gS[s.type](o,t),i=function(t,n,i){var r="polar"===t.type?pl:yu;return new r({shape:AS(n,i,t),silent:!0,z2:0})}(s,e,n);return i.useStyle(m.getItemStyle()),"cartesian2d"===s.type?i.setShape("r",y):i.setShape("cornerRadius",y),g[t]=i,i}o.diff(u).add((function(n){var i=o.getItemModel(n),r=gS[s.type](o,n,i);if(p&&M(n),o.hasValue(n)&&yS[s.type](r)){var u=!1;c&&(u=hS[s.type](v,r));var m=cS[s.type](t,o,n,r,e,f,l.model,!1,d);h&&(m.forceLabelAnimation=!0),wS(m,o,n,i,r,t,e,"polar"===s.type),w?m.attr({shape:r}):h?vS(h,f,m,r,n,e,!1,!1):jl(m,{shape:r},t,n),o.setItemGraphicEl(n,m),a.add(m),m.ignore=u}})).update((function(n,i){var r=o.getItemModel(n),S=gS[s.type](o,n,r);if(p){var k=void 0;0===b.length?k=M(i):((k=b[i]).useStyle(m.getItemStyle()),"cartesian2d"===s.type?k.setShape("r",y):k.setShape("cornerRadius",y),g[n]=k);var A=gS[s.type](o,n);Ul(k,{shape:AS(e,A,s)},f,n)}var N=u.getItemGraphicEl(i);if(o.hasValue(n)&&yS[s.type](S)){var C=!1;if(c&&(C=hS[s.type](v,S))&&a.remove(N),N?$l(N):N=cS[s.type](t,o,n,S,e,f,l.model,!!N,d),h&&(N.forceLabelAnimation=!0),x){var T=N.getTextContent();if(T){var I=Pf(T);null!=I.prevValue&&(I.prevValue=I.value)}}else wS(N,o,n,r,S,t,e,"polar"===s.type);w?N.attr({shape:S}):h?vS(h,f,N,S,n,e,!0,x):Ul(N,{shape:S},t,n,null),o.setItemGraphicEl(n,N),N.ignore=C,a.add(N)}else a.remove(N)})).remove((function(n){var i=u.getItemGraphicEl(n);i&&Jl(i,t,n)})).execute();var S=this.cs||(this.cs=new Se);S.removeAll();for(var k=0;k<g.length;++k)S.add(g[k]);a.add(S),this.hs=g,this.qi=o},n.prototype.rs=function(t,n,i){this.us(),SS(t,this.group),this.ss(t)},n.prototype.ls=function(t,n){this.vs(),SS(n,this.group,this.Iu,!0)},n.prototype.ss=function(t){var n=t.get("clip",!0)&&EM(t.coordinateSystem,!1,t),i=this.group;n?i.setClipPath(n):i.removeClipPath()},n.prototype.fs=function(t,n,i){var r=this;if(n.count()){var e=t.baseAxis;if(this.$u)this.ds(n,t,i),this.$u=!1;else{var a=function(t){var i=n.getItemGraphicEl(t),r=i&&i.shape;return r&&Math.abs(e.isHorizontal()?r.height:r.width)||0};this.ps=function(){r.ys(n,a,e,i)},i.getZr().on("rendered",this.ps)}}},n.prototype.gs=function(t,n,i){var r=[];return t.each(t.mapDimension(n.dim),(function(t,n){var e=i(n);e=null==e?NaN:e,r.push({dataIndex:n,mappedValue:e,ordinalNumber:t})})),r.sort((function(t,n){return n.mappedValue-t.mappedValue})),{ordinalNumbers:P(r,(function(t){return t.ordinalNumber}))}},n.prototype.bs=function(t,n,i){for(var r=i.scale,e=t.mapDimension(i.dim),a=Number.MAX_VALUE,o=0,u=r.getOrdinalMeta().categories.length;o<u;++o){var s=t.rawIndexOf(e,r.getRawOrdinalNumber(o)),l=s<0?Number.MIN_VALUE:n(t.indexOfRawIndex(s));if(l>a)return!0;a=l}return!1},n.prototype.ws=function(t,n){for(var i=n.scale,r=i.getExtent(),e=Math.max(0,r[0]),a=Math.min(r[1],i.getOrdinalMeta().categories.length-1);e<=a;++e)if(t.ordinalNumbers[e]!==i.getRawOrdinalNumber(e))return!0},n.prototype.ys=function(t,n,i,r){if(this.bs(t,n,i)){var e=this.gs(t,i,n);this.ws(e,i)&&(this.Qu(r),r.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:e}))}},n.prototype.ds=function(t,n,i){var r=n.baseAxis,e=this.gs(t,r,(function(i){return t.get(t.mapDimension(n.otherAxis.dim),i)}));i.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",isInitSort:!0,axisId:r.index,sortInfo:e})},n.prototype.remove=function(t,n){this.us(this.Xe),this.Qu(n)},n.prototype.dispose=function(t,n){this.Qu(n)},n.prototype.Qu=function(t){this.ps&&(t.getZr().off("rendered",this.ps),this.ps=null)},n.prototype.us=function(t){var n=this.group,i=this.qi;t&&t.isAnimationEnabled()&&i&&!this.ns?(this.vs(),this.hs=[],i.eachItemGraphicEl((function(n){Jl(n,t,Du(n).dataIndex)}))):n.removeAll(),this.qi=null,this.$u=!0},n.prototype.vs=function(){this.group.remove(this.cs),this.cs=null},n.type="bar",n}(ep),hS={cartesian2d:function(t,n){var i=n.width<0?-1:1,r=n.height<0?-1:1;i<0&&(n.x+=n.width,n.width=-n.width),r<0&&(n.y+=n.height,n.height=-n.height);var e=t.x+t.width,a=t.y+t.height,o=sS(n.x,t.x),u=lS(n.x+n.width,e),s=sS(n.y,t.y),l=lS(n.y+n.height,a),f=u<o,h=l<s;return n.x=f&&o>e?u:o,n.y=h&&s>a?l:s,n.width=f?0:u-o,n.height=h?0:l-s,i<0&&(n.x+=n.width,n.width=-n.width),r<0&&(n.y+=n.height,n.height=-n.height),f||h},polar:function(t,n){var i=n.r0<=n.r?1:-1;if(i<0){var r=n.r;n.r=n.r0,n.r0=r}var e=lS(n.r,t.r),a=sS(n.r0,t.r0);n.r=e,n.r0=a;var o=e-a<0;if(i<0){r=n.r;n.r=n.r0,n.r0=r}return o}},cS={cartesian2d:function(t,n,i,r,e,a,o,u,s){var l=new yu({shape:D({},r),z2:1});(l.xs=i,l.name="item",a)&&(l.shape[e?"height":"width"]=0);return l},polar:function(t,n,i,r,e,a,o,u,s){var l=!e&&s?eS:pl,f=new l({shape:r,z2:1});f.name="item";var h,c,v=bS(e);if(f.calculateTextPosition=(h=v,c=({isRoundCap:l===eS}||{}).isRoundCap,function(t,n,i){var r=n.position;if(!r||r instanceof Array)return ce(t,n,i);var e=h(r),a=null!=n.distance?n.distance:5,o=this.shape,u=o.cx,s=o.cy,l=o.r,f=o.r0,v=(l+f)/2,d=o.startAngle,p=o.endAngle,m=(d+p)/2,y=c?Math.abs(l-f)/2:0,g=Math.cos,b=Math.sin,w=u+l*g(d),x=s+l*b(d),M="left",S="top";switch(e){case"startArc":w=u+(f-a)*g(m),x=s+(f-a)*b(m),M="center",S="top";break;case"insideStartArc":w=u+(f+a)*g(m),x=s+(f+a)*b(m),M="center",S="bottom";break;case"startAngle":w=u+v*g(d)+aS(d,a+y,!1),x=s+v*b(d)+oS(d,a+y,!1),M="right",S="middle";break;case"insideStartAngle":w=u+v*g(d)+aS(d,-a+y,!1),x=s+v*b(d)+oS(d,-a+y,!1),M="left",S="middle";break;case"middle":w=u+v*g(m),x=s+v*b(m),M="center",S="middle";break;case"endArc":w=u+(l+a)*g(m),x=s+(l+a)*b(m),M="center",S="bottom";break;case"insideEndArc":w=u+(l-a)*g(m),x=s+(l-a)*b(m),M="center",S="top";break;case"endAngle":w=u+v*g(p)+aS(p,a+y,!0),x=s+v*b(p)+oS(p,a+y,!0),M="left",S="middle";break;case"insideEndAngle":w=u+v*g(p)+aS(p,-a+y,!0),x=s+v*b(p)+oS(p,-a+y,!0),M="right",S="middle";break;default:return ce(t,n,i)}return(t=t||{}).x=w,t.y=x,t.align=M,t.verticalAlign=S,t}),a){var d=e?"r":"endAngle",p={};f.shape[d]=e?r.r0:r.startAngle,p[d]=r[d],(u?Ul:jl)(f,{shape:p},a)}return f}};function vS(t,n,i,r,e,a,o,u){var s,l;a?(l={x:r.x,width:r.width},s={y:r.y,height:r.height}):(l={y:r.y,height:r.height},s={x:r.x,width:r.width}),u||(o?Ul:jl)(i,{shape:s},n,e,null),(o?Ul:jl)(i,{shape:l},n?t.baseAxis.model:null,e)}function dS(t,n){for(var i=0;i<n.length;i++)if(!isFinite(t[n[i]]))return!0;return!1}var pS=["x","y","width","height"],mS=["cx","cy","r","startAngle","endAngle"],yS={cartesian2d:function(t){return!dS(t,pS)},polar:function(t){return!dS(t,mS)}},gS={cartesian2d:function(t,n,i){var r=t.getItemLayout(n),e=i?function(t,n){var i=t.get(["itemStyle","borderColor"]);if(!i||"none"===i)return 0;var r=t.get(["itemStyle","borderWidth"])||0,e=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),a=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min(r,e,a)}(i,r):0,a=r.width>0?1:-1,o=r.height>0?1:-1;return{x:r.x+a*e/2,y:r.y+o*e/2,width:r.width-a*e,height:r.height-o*e}},polar:function(t,n,i){var r=t.getItemLayout(n);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function bS(t){return function(t){var n=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+n;default:return t}}}(t)}function wS(t,n,i,r,e,a,o,u){var s=n.getItemVisual(i,"style");if(u){if(!a.get("roundCap")){var l=t.shape;D(l,uS(r.getModel("itemStyle"),l,!0)),t.setShape(l)}}else{var f=r.get(["itemStyle","borderRadius"])||0;t.setShape("r",f)}t.useStyle(s);var h=r.getShallow("cursor");h&&t.attr("cursor",h);var c=u?o?e.r>=e.r0?"endArc":"startArc":e.endAngle>=e.startAngle?"endAngle":"startAngle":o?e.height>=0?"bottom":"top":e.width>=0?"right":"left",v=Lf(r);zf(t,v,{labelFetcher:a,labelDataIndex:i,defaultText:gM(a.getData(),i),inheritColor:s.fill,defaultOpacity:s.opacity,defaultOutsidePosition:c});var d=t.getTextContent();if(u&&d){var p=r.get(["label","position"]);t.textConfig.inside="middle"===p||null,function(t,n,i,r){if(q(r))t.setTextConfig({rotation:r});else if(X(n))t.setTextConfig({rotation:0});else{var e,a=t.shape,o=a.clockwise?a.startAngle:a.endAngle,u=a.clockwise?a.endAngle:a.startAngle,s=(o+u)/2,l=i(n);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":e=s;break;case"startAngle":case"insideStartAngle":e=o;break;case"endAngle":case"insideEndAngle":e=u;break;default:return void t.setTextConfig({rotation:0})}var f=1.5*Math.PI-e;"middle"===l&&f>Math.PI/2&&f<1.5*Math.PI&&(f-=Math.PI),t.setTextConfig({rotation:f})}}(t,"outside"===p?c:p,bS(o),r.get(["label","rotate"]))}Wf(d,v,a.getRawValue(i),(function(t){return bM(n,t)}));var m=r.getModel(["emphasis"]);Ms(t,m.get("focus"),m.get("blurScope"),m.get("disabled")),Ns(t,r),function(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}(e)&&(t.style.fill="none",t.style.stroke="none",E(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}var xS=function(){return function(){}}(),MS=function(t){function n(n){var i=t.call(this,n)||this;return i.type="largeBar",i}return l(n,t),n.prototype.getDefaultShape=function(){return new xS},n.prototype.buildPath=function(t,n){for(var i=n.points,r=this.baseDimIdx,e=1-this.baseDimIdx,a=[],o=[],u=this.barWidth,s=0;s<i.length;s+=3)o[r]=u,o[e]=i[s+2],a[r]=i[s+r],a[e]=i[s+e],t.rect(a[0],a[1],o[0],o[1])},n}(au);function SS(t,n,i,r){var e=t.getData(),a=e.getLayout("valueAxisHorizontal")?1:0,o=e.getLayout("largeDataIndices"),u=e.getLayout("size"),s=t.getModel("backgroundStyle"),l=e.getLayout("largeBackgroundPoints");if(l){var f=new MS({shape:{points:l},incremental:!!r,silent:!0,z2:0});f.baseDimIdx=a,f.largeDataIndices=o,f.barWidth=u,f.useStyle(s.getItemStyle()),n.add(f),i&&i.push(f)}var h=new MS({shape:{points:e.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=a,h.largeDataIndices=o,h.barWidth=u,n.add(h),h.useStyle(e.getVisual("style")),h.style.stroke=null,Du(h).seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",kS),h.on("mousemove",kS)),i&&i.push(h)}var kS=vp((function(t){var n=function(t,n,i){for(var r=t.baseDimIdx,e=1-r,a=t.shape.points,o=t.largeDataIndices,u=[],s=[],l=t.barWidth,f=0,h=a.length/3;f<h;f++){var c=3*f;if(s[r]=l,s[e]=a[c+2],u[r]=a[c+r],u[e]=a[c+e],s[e]<0&&(u[e]+=s[e],s[e]=-s[e]),n>=u[0]&&n<=u[0]+s[0]&&i>=u[1]&&i<=u[1]+s[1])return o[f]}return-1}(this,t.offsetX,t.offsetY);Du(this).dataIndex=n>=0?n:null}),30,!1);function AS(t,n,i){if(PM(i,"cartesian2d")){var r=n,e=i.getArea();return{x:t?r.x:e.x,y:t?e.y:r.y,width:t?r.width:e.width,height:t?e.height:r.height}}var a=n;return{cx:(e=i.getArea()).cx,cy:e.cy,r0:t?e.r0:a.r0,r:t?e.r:a.r,startAngle:t?a.startAngle:0,endAngle:t?a.endAngle:2*Math.PI}}var NS=2*Math.PI,CS=Math.PI/180;function TS(t,n){return ic(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function IS(t,n){var i=TS(t,n),r=t.get("center"),e=t.get("radius");X(e)||(e=[0,e]);var a,o,u=ze(i.width,n.getWidth()),s=ze(i.height,n.getHeight()),l=Math.min(u,s),f=ze(e[0],l/2),h=ze(e[1],l/2),c=t.coordinateSystem;if(c){var v=c.dataToPoint(r);a=v[0]||0,o=v[1]||0}else X(r)||(r=[r,r]),a=ze(r[0],u)+i.x,o=ze(r[1],s)+i.y;return{cx:a,cy:o,r0:f,r:h}}function zS(t,n,i){n.eachSeriesByType(t,(function(t){var n=t.getData(),r=n.mapDimension("value"),e=TS(t,i),a=IS(t,i),o=a.cx,u=a.cy,s=a.r,l=a.r0,f=-t.get("startAngle")*CS,h=t.get("endAngle"),c=t.get("padAngle")*CS;h="auto"===h?f-NS:-h*CS;var v=t.get("minAngle")*CS+c,d=0;n.each(r,(function(t){!isNaN(t)&&d++}));var p=n.getSum(r),m=Math.PI/(p||d)*2,y=t.get("clockwise"),g=t.get("roseType"),b=t.get("stillShowZeroSum"),w=n.getDataExtent(r);w[0]=0;var x=y?1:-1,M=[f,h],S=x*c/2;Eo(M,!y),f=M[0],h=M[1];var k=LS(t);k.startAngle=f,k.endAngle=h,k.clockwise=y;var A=Math.abs(h-f),N=A,C=0,T=f;if(n.setLayout({viewRect:e,r:s}),n.each(r,(function(t,i){var r;if(isNaN(t))n.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:o,cy:u,r0:l,r:g?NaN:s});else{(r="area"!==g?0===p&&b?m:t*m:A/d)<v?(r=v,N-=v):C+=t;var e=T+x*r,a=0,f=0;c>r?f=a=T+x*r/2:(a=T+S,f=e-S),n.setItemLayout(i,{angle:r,startAngle:a,endAngle:f,clockwise:y,cx:o,cy:u,r0:l,r:g?Ie(t,w,[l,s]):s}),T=e}})),N<NS&&d)if(N<=.001){var I=A/d;n.each(r,(function(t,i){if(!isNaN(t)){var r=n.getItemLayout(i);r.angle=I;var e=0,a=0;I<c?a=e=f+x*(i+.5)*I:(e=f+x*i*I+S,a=f+x*(i+1)*I-S),r.startAngle=e,r.endAngle=a}}))}else m=N/C,T=f,n.each(r,(function(t,i){if(!isNaN(t)){var r=n.getItemLayout(i),e=r.angle===v?v:t*m,a=0,o=0;e<c?o=a=T+x*e/2:(a=T+S,o=T+x*e-S),r.startAngle=a,r.endAngle=o,T+=x*e}}))}))}var LS=ca();function OS(t){return{seriesType:t,reset:function(t,n){var i=n.findComponents({mainType:"legend"});if(i&&i.length){var r=t.getData();r.filterSelf((function(t){for(var n=r.getName(t),e=0;e<i.length;e++)if(!i[e].isSelected(n))return!1;return!0}))}}}}var DS=Math.PI/180;function RS(t,n,i,r,e,a,o,u,s,l){if(!(t.length<2)){for(var f=t.length,h=0;h<f;h++)if("outer"===t[h].position&&"labelLine"===t[h].labelAlignTo){var c=t[h].label.x-l;t[h].linePoints[1][0]+=c,t[h].label.x=l}Ww(t,s,s+o)&&function(t){for(var a={list:[],maxY:0},o={list:[],maxY:0},u=0;u<t.length;u++)if("none"===t[u].labelAlignTo){var s=t[u],l=s.label.y>i?o:a,f=Math.abs(s.label.y-i);if(f>=l.maxY){var h=s.label.x-n-s.len2*e,c=r+s.len,d=Math.abs(h)<c?Math.sqrt(f*f/(1-h*h/c/c)):c;l.rB=d,l.maxY=f}l.list.push(s)}v(a),v(o)}(t)}function v(t){for(var a=t.rB,o=a*a,u=0;u<t.list.length;u++){var s=t.list[u],l=Math.abs(s.label.y-i),f=r+s.len,h=f*f,c=Math.sqrt(Math.abs((1-l*l/o)*h)),v=n+(c+s.len2)*e,d=v-s.label.x;FS(s,s.targetTextWidth-d*e,!0),s.label.x=v}}}function FS(t,n,i){if(void 0===i&&(i=!1),null==t.labelStyleWidth){var r=t.label,e=r.style,a=t.rect,o=e.backgroundColor,u=e.padding,s=u?u[1]+u[3]:0,l=e.overflow,f=a.width+(o?0:s);if(n<f||i){var h=a.height;if(l&&l.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",n-s);var c=r.getBoundingRect();r.setStyle("width",Math.ceil(c.width)),r.setStyle("backgroundColor",o)}else{var v=n-s,d=n<f?v:i?v>t.unconstrainedWidth?null:v:null;r.setStyle("width",d)}var p=r.getBoundingRect();a.width=p.width;var m=(r.style.margin||0)+2.1;a.height=p.height+m,a.y-=(a.height-h)/2}}}function BS(t){return"center"===t.position}function _S(t){var n,i,r=t.getData(),e=[],a=!1,o=(t.get("minShowLabelAngle")||0)*DS,u=r.getLayout("viewRect"),s=r.getLayout("r"),l=u.width,f=u.x,h=u.y,c=u.height;function v(t){t.ignore=!0}r.each((function(t){var u=r.getItemGraphicEl(t),h=u.shape,c=u.getTextContent(),d=u.getTextGuideLine(),p=r.getItemModel(t),m=p.getModel("label"),y=m.get("position")||p.get(["emphasis","label","position"]),g=m.get("distanceToLabelLine"),b=m.get("alignTo"),w=ze(m.get("edgeDistance"),l),x=m.get("bleedMargin"),M=p.getModel("labelLine"),S=M.get("length");S=ze(S,l);var k=M.get("length2");if(k=ze(k,l),Math.abs(h.endAngle-h.startAngle)<o)return E(c.states,v),c.ignore=!0,void(d&&(E(d.states,v),d.ignore=!0));if(function(t){if(!t.ignore)return!0;for(var n in t.states)if(!1===t.states[n].ignore)return!0;return!1}(c)){var A,N,C,T,I=(h.startAngle+h.endAngle)/2,z=Math.cos(I),L=Math.sin(I);n=h.cx,i=h.cy;var O="inside"===y||"inner"===y;if("center"===y)A=h.cx,N=h.cy,T="center";else{var D=(O?(h.r+h.r0)/2*z:h.r*z)+n,R=(O?(h.r+h.r0)/2*L:h.r*L)+i;if(A=D+3*z,N=R+3*L,!O){var F=D+z*(S+s-h.r),B=R+L*(S+s-h.r),_=F+(z<0?-1:1)*k;A="edge"===b?z<0?f+w:f+l-w:_+(z<0?-g:g),N=B,C=[[D,R],[F,B],[_,B]]}T=O?"center":"edge"===b?z>0?"right":"left":z>0?"left":"right"}var P=Math.PI,W=0,V=m.get("rotate");if(q(V))W=V*(P/180);else if("center"===y)W=0;else if("radial"===V||!0===V){W=z<0?-I+P:-I}else if("tangential"===V&&"outside"!==y&&"outer"!==y){var H=Math.atan2(z,L);H<0&&(H=2*P+H),L>0&&(H=P+H),W=H-P}if(a=!!W,c.x=A,c.y=N,c.rotation=W,c.setStyle({verticalAlign:"middle"}),O){c.setStyle({align:T});var Y=c.states.select;Y&&(Y.x+=c.x,Y.y+=c.y)}else{var G=c.getBoundingRect().clone();G.applyTransform(c.getComputedTransform());var X=(c.style.margin||0)+2.1;G.y-=X/2,G.height+=X,e.push({label:c,labelLine:d,position:y,len:S,len2:k,minTurnAngle:M.get("minTurnAngle"),maxSurfaceAngle:M.get("maxSurfaceAngle"),surfaceNormal:new wn(z,L),linePoints:C,textAlign:T,labelDistance:g,labelAlignTo:b,edgeDistance:w,bleedMargin:x,rect:G,unconstrainedWidth:G.width,labelStyleWidth:c.style.width})}u.setTextConfig({inside:O})}})),!a&&t.get("avoidLabelOverlap")&&function(t,n,i,r,e,a,o,u){for(var s=[],l=[],f=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=0;c<t.length;c++){var v=t[c].label;BS(t[c])||(v.x<n?(f=Math.min(f,v.x),s.push(t[c])):(h=Math.max(h,v.x),l.push(t[c])))}for(c=0;c<t.length;c++)if(!BS(m=t[c])&&m.linePoints){if(null!=m.labelStyleWidth)continue;v=m.label;var d=m.linePoints,p=void 0;p="edge"===m.labelAlignTo?v.x<n?d[2][0]-m.labelDistance-o-m.edgeDistance:o+e-m.edgeDistance-d[2][0]-m.labelDistance:"labelLine"===m.labelAlignTo?v.x<n?f-o-m.bleedMargin:o+e-h-m.bleedMargin:v.x<n?v.x-o-m.bleedMargin:o+e-v.x-m.bleedMargin,m.targetTextWidth=p,FS(m,p)}for(RS(l,n,i,r,1,0,a,0,u,h),RS(s,n,i,r,-1,0,a,0,u,f),c=0;c<t.length;c++){var m;if(!BS(m=t[c])&&m.linePoints){v=m.label,d=m.linePoints;var y="edge"===m.labelAlignTo,g=v.style.padding,b=g?g[1]+g[3]:0,w=v.style.backgroundColor?0:b,x=m.rect.width+w,M=d[1][0]-d[2][0];y?v.x<n?d[2][0]=o+m.edgeDistance+x+m.labelDistance:d[2][0]=o+e-m.edgeDistance-x-m.labelDistance:(v.x<n?d[2][0]=v.x+m.labelDistance:d[2][0]=v.x-m.labelDistance,d[1][0]=d[2][0]+M),d[1][1]=d[2][1]=v.y}}}(e,n,i,s,l,c,f,h);for(var d=0;d<e.length;d++){var p=e[d],m=p.label,y=p.labelLine,g=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:p.textAlign}),g&&(E(m.states,v),m.ignore=!0);var b=m.states.select;b&&(b.x+=m.x,b.y+=m.y)}if(y){var w=p.linePoints;g||!w?(E(y.states,v),y.ignore=!0):(Ow(w,p.minTurnAngle),Dw(w,p.surfaceNormal,p.maxSurfaceAngle),y.setShape({points:w}),m.S.textGuideLineConfig={anchor:new wn(w[0][0],w[0][1])})}}}var ES=function(t){function n(n,i,r){var e=t.call(this)||this;e.z2=2;var a=new wu;return e.setTextContent(a),e.updateData(n,i,r,!0),e}return l(n,t),n.prototype.updateData=function(t,n,i,r){var e=this,a=t.hostModel,o=t.getItemModel(n),u=o.getModel("emphasis"),s=t.getItemLayout(n),l=D(uS(o.getModel("itemStyle"),s,!0),s);if(isNaN(l.startAngle))e.setShape(l);else{if(r){e.setShape(l);var f=a.getShallow("animationType");a.ecModel.ssr?(jl(e,{scaleX:0,scaleY:0},a,{dataIndex:n,isFrom:!0}),e.originX=l.cx,e.originY=l.cy):"scale"===f?(e.shape.r=s.r0,jl(e,{shape:{r:s.r}},a,n)):null!=i?(e.setShape({startAngle:i,endAngle:i}),jl(e,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},a,n)):(e.shape.endAngle=s.startAngle,Ul(e,{shape:{endAngle:s.endAngle}},a,n))}else $l(e),Ul(e,{shape:l},a,n);e.useStyle(t.getItemVisual(n,"style")),Ns(e,o);var h=(s.startAngle+s.endAngle)/2,c=a.get("selectedOffset"),v=Math.cos(h)*c,d=Math.sin(h)*c,p=o.getShallow("cursor");p&&e.attr("cursor",p),this.Ms(a,t,n),e.ensureState("emphasis").shape=D({r:s.r+(u.get("scale")&&u.get("scaleSize")||0)},uS(u.getModel("itemStyle"),s)),D(e.ensureState("select"),{x:v,y:d,shape:uS(o.getModel(["select","itemStyle"]),s)}),D(e.ensureState("blur"),{shape:uS(o.getModel(["blur","itemStyle"]),s)});var m=e.getTextGuideLine(),y=e.getTextContent();m&&D(m.ensureState("select"),{x:v,y:d}),D(y.ensureState("select"),{x:v,y:d}),Ms(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))}},n.prototype.Ms=function(t,n,i){var r=this,e=n.getItemModel(i),a=e.getModel("labelLine"),o=n.getItemVisual(i,"style"),u=o&&o.fill,s=o&&o.opacity;zf(r,Lf(e),{labelFetcher:n.hostModel,labelDataIndex:i,inheritColor:u,defaultOpacity:s,defaultText:t.getFormattedLabel(i,"normal")||n.getName(i)});var l=r.getTextContent();r.setTextConfig({position:null,rotation:null}),l.attr({z2:10});var f=t.get(["label","position"]);if("outside"!==f&&"outer"!==f)r.removeTextGuideLine();else{var h=this.getTextGuideLine();h||(h=new Ml,this.setTextGuideLine(h)),Bw(this,_w(e),{stroke:u,opacity:et(a.get(["lineStyle","opacity"]),s,1)})}},n}(pl),PS=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return l(n,t),n.prototype.render=function(t,n,i,r){var e,a=t.getData(),o=this.qi,u=this.group;if(!o&&a.count()>0){for(var s=a.getItemLayout(0),l=1;isNaN(s&&s.startAngle)&&l<a.count();++l)s=a.getItemLayout(l);s&&(e=s.startAngle)}if(this.Ss&&u.remove(this.Ss),0===a.count()&&t.get("showEmptyCircle")){var f=LS(t),h=new pl({shape:D(IS(t,i),f)});h.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this.Ss=h,u.add(h)}a.diff(o).add((function(t){var n=new ES(a,t,e);a.setItemGraphicEl(t,n),u.add(n)})).update((function(t,n){var i=o.getItemGraphicEl(n);i.updateData(a,t,e),i.off("click"),u.add(i),a.setItemGraphicEl(t,i)})).remove((function(n){Jl(o.getItemGraphicEl(n),t,n)})).execute(),_S(t),"expansion"!==t.get("animationTypeUpdate")&&(this.qi=a)},n.prototype.dispose=function(){},n.prototype.containPoint=function(t,n){var i=n.getData().getItemLayout(0);if(i){var r=t[0]-i.cx,e=t[1]-i.cy,a=Math.sqrt(r*r+e*e);return a<=i.r&&a>=i.r0}},n.type="pie",n}(ep);function WS(t,n,i){n=X(n)&&{coordDimensions:n}||D({encodeDefine:t.getEncode()},n);var r=t.getSource(),e=Cg(r,n).dimensions,a=new Ng(e,t);return a.initData(r,i),a}var VS=function(){function t(t,n){this.ks=t,this.As=n}return t.prototype.getAllNames=function(){var t=this.As();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this.As().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this.ks().indexOfName(t)},t.prototype.getItemVisual=function(t,n){return this.ks().getItemVisual(t,n)},t}(),HS=ca(),YS=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new VS(Y(this.getData,this),Y(this.getRawData,this)),this.Ns(n)},n.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return WS(this,{coordDimensions:["value"],encodeDefaulter:G(Cc,this)})},n.prototype.getDataParams=function(n){var i=this.getData(),r=HS(i),e=r.seats;if(!e){var a=[];i.each(i.mapDimension("value"),(function(t){a.push(t)})),e=r.seats=function(t,n){var i=W(t,(function(t,n){return t+(isNaN(n)?0:n)}),0);if(0===i)return[];for(var r=Math.pow(10,n),e=P(t,(function(t){return(isNaN(t)?0:t)/i*r*100})),a=100*r,o=P(e,(function(t){return Math.floor(t)})),u=W(o,(function(t,n){return t+n}),0),s=P(e,(function(t,n){return t-o[n]}));u<a;){for(var l=Number.NEGATIVE_INFINITY,f=null,h=0,c=s.length;h<c;++h)s[h]>l&&(l=s[h],f=h);++o[f],s[f]=0,++u}return P(o,(function(t){return t/r}))}(a,i.hostModel.get("percentPrecision"))}var o=t.prototype.getDataParams.call(this,n);return o.percent=e[n]||0,o.$vars.push("percent"),o},n.prototype.Ns=function(t){na(t,"labelLine",["show"]);var n=t.labelLine,i=t.emphasis.labelLine;n.show=n.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(Ud);var GS=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.hasSymbolVisual=!0,i}return l(n,t),n.prototype.getInitialData=function(t,n){return Fg(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},n.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},n.prototype.brushSelector=function(t,n,i){return i.point(n.getItemLayout(t))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},n}(Ud),XS=function(){return function(){}}(),US=function(t){function n(n){var i=t.call(this,n)||this;return i.Cs=0,i.hoverDataIdx=-1,i}return l(n,t),n.prototype.getDefaultShape=function(){return new XS},n.prototype.reset=function(){this.notClear=!1,this.Cs=0},n.prototype.buildPath=function(t,n){var i,r=n.points,e=n.size,a=this.symbolProxy,o=a.shape,u=t.getContext?t.getContext():t,s=u&&e[0]<4,l=this.softClipShape;if(s)this.jn=u;else{for(this.jn=null,i=this.Cs;i<r.length;){var f=r[i++],h=r[i++];isNaN(f)||isNaN(h)||(l&&!l.contain(f,h)||(o.x=f-e[0]/2,o.y=h-e[1]/2,o.width=e[0],o.height=e[1],a.buildPath(t,o,!0)))}this.incremental&&(this.Cs=i,this.notClear=!0)}},n.prototype.afterBrush=function(){var t,n=this.shape,i=n.points,r=n.size,e=this.jn,a=this.softClipShape;if(e){for(t=this.Cs;t<i.length;){var o=i[t++],u=i[t++];isNaN(o)||isNaN(u)||(a&&!a.contain(o,u)||e.fillRect(o-r[0]/2,u-r[1]/2,r[0],r[1]))}this.incremental&&(this.Cs=t,this.notClear=!0)}},n.prototype.findDataIndex=function(t,n){for(var i=this.shape,r=i.points,e=i.size,a=Math.max(e[0],4),o=Math.max(e[1],4),u=r.length/2-1;u>=0;u--){var s=2*u,l=r[s]-a/2,f=r[s+1]-o/2;if(t>=l&&n>=f&&t<=l+a&&n<=f+o)return u}return-1},n.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),r=this.getBoundingRect();return t=i[0],n=i[1],r.contain(t,n)?(this.hoverDataIdx=this.findDataIndex(t,n))>=0:(this.hoverDataIdx=-1,!1)},n.prototype.getBoundingRect=function(){var t=this.Bn;if(!t){for(var n=this.shape,i=n.points,r=n.size,e=r[0],a=r[1],o=1/0,u=1/0,s=-1/0,l=-1/0,f=0;f<i.length;){var h=i[f++],c=i[f++];o=Math.min(h,o),s=Math.max(h,s),u=Math.min(c,u),l=Math.max(c,l)}t=this.Bn=new In(o-e/2,u-a/2,s-o+e,l-u+a)}return t},n}(au),jS=function(){function t(){this.group=new Se}return t.prototype.updateData=function(t,n){this.us();var i=this.Ts();i.setShape({points:t.getLayout("points")}),this.Is(i,t,n)},t.prototype.updateLayout=function(t){var n=t.getLayout("points");this.group.eachChild((function(t){if(null!=t.startIndex){var i=2*(t.endIndex-t.startIndex),r=4*t.startIndex*2;n=new Float32Array(n.buffer,r,i)}t.setShape("points",n),t.reset()}))},t.prototype.incrementalPrepareUpdate=function(t){this.us()},t.prototype.incrementalUpdate=function(t,n,i){var r=this.zs[0],e=n.getLayout("points"),a=r&&r.shape.points;if(a&&a.length<2e4){var o=a.length,u=new Float32Array(o+e.length);u.set(a),u.set(e,o),r.endIndex=t.end,r.setShape({points:u})}else{this.zs=[];var s=this.Ts();s.startIndex=t.start,s.endIndex=t.end,s.incremental=!0,s.setShape({points:e}),this.Is(s,n,i)}},t.prototype.eachRendered=function(t){this.zs[0]&&t(this.zs[0])},t.prototype.Ts=function(){var t=new US({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this.zs.push(t),t},t.prototype.Is=function(t,n,i){var r=n.hostModel;i=i||{};var e=n.getVisual("symbolSize");t.setShape("size",e instanceof Array?e:[e,e]),t.softClipShape=i.clipShape||null,t.symbolProxy=mm(n.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var a=t.shape.size[0]<4;t.useStyle(r.getModel("itemStyle").getItemStyle(a?["color","shadowBlur","shadowColor"]:["color"]));var o=n.getVisual("style"),u=o&&o.fill;u&&t.setColor(u);var s=Du(t);s.seriesIndex=r.seriesIndex,t.on("mousemove",(function(n){s.dataIndex=null;var i=t.hoverDataIdx;i>=0&&(s.dataIndex=i+(t.startIndex||0))}))},t.prototype.remove=function(){this.us()},t.prototype.us=function(){this.zs=[],this.group.removeAll()},t}(),ZS=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){var r=t.getData();this.Ls(r,t).updateData(r,{clipShape:this.Os(t)}),this.Mt=!0},n.prototype.incrementalPrepareRender=function(t,n,i){var r=t.getData();this.Ls(r,t).incrementalPrepareUpdate(r),this.Mt=!1},n.prototype.incrementalRender=function(t,n,i){this.Ru.incrementalUpdate(t,n.getData(),{clipShape:this.Os(n)}),this.Mt=t.end===n.getData().count()},n.prototype.updateTransform=function(t,n,i){var r=t.getData();if(this.group.dirty(),!this.Mt||r.count()>1e4)return{update:!0};var e=JM("").reset(t,n,i);e.progress&&e.progress({start:0,end:r.count(),count:r.count()},r),this.Ru.updateLayout(r)},n.prototype.eachRendered=function(t){this.Ru&&this.Ru.eachRendered(t)},n.prototype.Os=function(t){if(t.get("clip",!0)){var n=t.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},n.prototype.Ls=function(t,n){var i=this.Ru,r=n.pipelineContext.large;return i&&r===this.ns||(i&&i.remove(),i=this.Ru=r?new jS:new AM,this.ns=r,this.group.removeAll()),this.group.add(i.group),i},n.prototype.remove=function(t,n){this.Ru&&this.Ru.remove(!0),this.Ru=null},n.prototype.dispose=function(){},n.type="scatter",n}(ep),qS=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},n}(lc),KS=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",ma).models[0]},n.type="cartesian2dAxis",n}(lc);B(KS,Vb);var JS={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},$S=L({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},JS),QS=L({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},JS);const tk={category:$S,value:QS,time:L({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},QS),log:R({logBase:10},QS)};var nk={value:1,category:1,time:1,log:1};function ik(t,n,i,r){E(nk,(function(e,a){var o=L(L({},tk[a],!0),r,!0),u=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n+"Axis."+a,i}return l(i,t),i.prototype.mergeDefaultAndTheme=function(t,n){var i=ec(this),r=i?oc(t):{};L(t,n.getTheme().get(a+"Axis")),L(t,this.getDefaultOption()),t.type=rk(t),i&&ac(t,r,i)},i.prototype.optionUpdated=function(){"category"===this.option.type&&(this.Ds=Eg.createByAxisModel(this))},i.prototype.getCategories=function(t){var n=this.option;if("category"===n.type)return t?n.data:this.Ds.categories},i.prototype.getOrdinalMeta=function(){return this.Ds},i.type=n+"Axis."+a,i.defaultOption=o,i}(i);t.registerComponentModel(u)})),t.registerSubTypeDefaulter(n+"Axis",rk)}function rk(t){return t.type||(t.data?"category":"value")}var ek=function(){function t(t){this.type="cartesian",this.Rs=[],this.xi={},this.name=t||""}return t.prototype.getAxis=function(t){return this.xi[t]},t.prototype.getAxes=function(){return P(this.Rs,(function(t){return this.xi[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),V(this.getAxes(),(function(n){return n.scale.type===t}))},t.prototype.addAxis=function(t){var n=t.dim;this.xi[n]=t,this.Rs.push(n)},t}(),ak=["x","y"];function ok(t){return"interval"===t.type||"time"===t.type}var uk=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="cartesian2d",n.dimensions=ak,n}return l(n,t),n.prototype.calcAffineTransform=function(){this.Fs=this.Bs=null;var t=this.getAxis("x").scale,n=this.getAxis("y").scale;if(ok(t)&&ok(n)){var i=t.getExtent(),r=n.getExtent(),e=this.dataToPoint([i[0],r[0]]),a=this.dataToPoint([i[1],r[1]]),o=i[1]-i[0],u=r[1]-r[0];if(o&&u){var s=(a[0]-e[0])/o,l=(a[1]-e[1])/u,f=e[0]-i[0]*s,h=e[1]-r[0]*l,c=this.Fs=[s,0,0,l,f,h];this.Bs=bn([],c)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(t){var n=this.getAxis("x"),i=this.getAxis("y");return n.contain(n.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},n.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},n.prototype.containZone=function(t,n){var i=this.dataToPoint(t),r=this.dataToPoint(n),e=this.getArea(),a=new In(i[0],i[1],r[0]-i[0],r[1]-i[1]);return e.intersect(a)},n.prototype.dataToPoint=function(t,n,i){i=i||[];var r=t[0],e=t[1];if(this.Fs&&null!=r&&isFinite(r)&&null!=e&&isFinite(e))return _t(i,t,this.Fs);var a=this.getAxis("x"),o=this.getAxis("y");return i[0]=a.toGlobalCoord(a.dataToCoord(r,n)),i[1]=o.toGlobalCoord(o.dataToCoord(e,n)),i},n.prototype.clampData=function(t,n){var i=this.getAxis("x").scale,r=this.getAxis("y").scale,e=i.getExtent(),a=r.getExtent(),o=i.parse(t[0]),u=r.parse(t[1]);return(n=n||[])[0]=Math.min(Math.max(Math.min(e[0],e[1]),o),Math.max(e[0],e[1])),n[1]=Math.min(Math.max(Math.min(a[0],a[1]),u),Math.max(a[0],a[1])),n},n.prototype.pointToData=function(t,n){var i=[];if(this.Bs)return _t(i,t,this.Bs);var r=this.getAxis("x"),e=this.getAxis("y");return i[0]=r.coordToData(r.toLocalCoord(t[0]),n),i[1]=e.coordToData(e.toLocalCoord(t[1]),n),i},n.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},n.prototype.getArea=function(t){t=t||0;var n=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),r=Math.min(n[0],n[1])-t,e=Math.min(i[0],i[1])-t,a=Math.max(n[0],n[1])-r+t,o=Math.max(i[0],i[1])-e+t;return new In(r,e,a,o)},n}(ek),sk=function(t){function n(n,i,r,e,a){var o=t.call(this,n,i,r)||this;return o.index=0,o.type=e||"value",o.position=a||"bottom",o}return l(n,t),n.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},n.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},n.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),n)},n.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},n}(cw);function lk(t,n,i){i=i||{};var r=t.coordinateSystem,e=n.axis,a={},o=e.getAxesOnZeroOf()[0],u=e.position,s=o?"onZero":u,l=e.dim,f=r.getRect(),h=[f.x,f.x+f.width,f.y,f.y+f.height],c={left:0,right:1,top:0,bottom:1,onZero:2},v=n.get("offset")||0,d="x"===l?[h[2]-v,h[3]+v]:[h[0]-v,h[1]+v];if(o){var p=o.toGlobalCoord(o.dataToCoord(0));d[c.onZero]=Math.max(Math.min(p,d[1]),d[0])}a.position=["y"===l?d[c[s]]:h[0],"x"===l?d[c[s]]:h[3]],a.rotation=Math.PI/2*("x"===l?0:1);a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[u],a.labelOffset=o?d[c[u]]-d[c.onZero]:0,n.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),it(i.labelInside,n.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var m=n.get(["axisLabel","rotate"]);return a.labelRotate="top"===s?-m:m,a.z2=1,a}function fk(t){return"cartesian2d"===t.get("coordinateSystem")}function hk(t){var n={xAxisModel:null,yAxisModel:null};return E(n,(function(i,r){var e=r.replace(/Model$/,""),a=t.getReferringComponents(e,ma).models[0];n[r]=a})),n}var ck=Math.log;function vk(t,n,i){var r=Kg.prototype,e=r.getTicks.call(i),a=r.getTicks.call(i,!0),o=e.length-1,u=r.getInterval.call(i),s=Db(t,n),l=s.extent,f=s.fixMin,h=s.fixMax;if("log"===t.type){var c=ck(t.base);l=[ck(l[0])/c,ck(l[1])/c]}t.setExtent(l[0],l[1]),t.calcNiceExtent({splitNumber:o,fixMin:f,fixMax:h});var v=r.getExtent.call(t);f&&(l[0]=v[0]),h&&(l[1]=v[1]);var d=r.getInterval.call(t),p=l[0],m=l[1];if(f&&h)d=(m-p)/o;else if(f)for(m=l[0]+d*o;m<l[1]&&isFinite(m)&&isFinite(l[1]);)d=Hg(d),m=l[0]+d*o;else if(h)for(p=l[1]-d*o;p>l[0]&&isFinite(p)&&isFinite(l[0]);)d=Hg(d),p=l[1]-d*o;else{t.getTicks().length-1>o&&(d=Hg(d));var y=d*o;(p=Le((m=Math.ceil(l[1]/d)*d)-y))<0&&l[0]>=0?(p=0,m=Le(y)):m>0&&l[1]<=0&&(m=0,p=-Le(y))}var g=(e[0].value-a[0].value)/u,b=(e[o].value-a[o].value)/u;r.setExtent.call(t,p+d*g,m+d*b),r.setInterval.call(t,d),(g||b)&&r.setNiceExtent.call(t,p+d,m-d)}var dk=function(){function t(t,n,i){this.type="grid",this._s={},this.Es=[],this.Ps={},this.Ws=[],this.axisPointerEnabled=!0,this.dimensions=ak,this.Vs(t,n,i),this.model=t}return t.prototype.getRect=function(){return this.Bn},t.prototype.update=function(t,n){var i=this.Ps;function r(t){var n,i=H(t),r=i.length;if(r){for(var e=[],a=r-1;a>=0;a--){var o=t[+i[a]],u=o.model,s=o.scale;Wg(s)&&u.get("alignTicks")&&null==u.get("interval")?e.push(o):(Rb(s,u),Wg(s)&&(n=o))}e.length&&(n||Rb((n=e.pop()).scale,n.model),E(e,(function(t){vk(t.scale,t.model,n.scale)})))}}this.Hs(t,this.model),r(i.x),r(i.y);var e={};E(i.x,(function(t){mk(i,"y",t,e)})),E(i.y,(function(t){mk(i,"x",t,e)})),this.resize(this.model,n)},t.prototype.resize=function(t,n,i){var r=t.getBoxLayoutParams(),e=!i&&t.get("containLabel"),a=ic(r,{width:n.getWidth(),height:n.getHeight()});this.Bn=a;var o=this.Ws;function u(){E(o,(function(t){var n=t.isHorizontal(),i=n?[0,a.width]:[0,a.height],r=t.inverse?1:0;t.setExtent(i[r],i[1-r]),function(t,n){var i=t.getExtent(),r=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+n}:function(t){return r-t+n},t.toLocalCoord="x"===t.dim?function(t){return t-n}:function(t){return r-t+n}}(t,n?a.x:a.y)}))}u(),e&&(E(o,(function(t){if(!t.model.get(["axisLabel","inside"])){var n=function(t){var n=t.model,i=t.scale;if(n.get(["axisLabel","show"])&&!i.isBlank()){var r,e,a=i.getExtent();e=i instanceof Zg?i.count():(r=i.getTicks()).length;var o,u,s,l,f,h,c,v=t.getLabelModel(),d=Bb(t),p=1;e>40&&(p=Math.ceil(e/40));for(var m=0;m<e;m+=p){var y=d(r?r[m]:{value:a[0]+m},m),g=(u=v.getTextRect(y),s=void 0,l=void 0,f=void 0,h=void 0,c=void 0,s=(v.get("rotate")||0)*Math.PI/180,l=u.width,f=u.height,h=l*Math.abs(Math.cos(s))+Math.abs(f*Math.sin(s)),c=l*Math.abs(Math.sin(s))+Math.abs(f*Math.cos(s)),new In(u.x,u.y,h,c));o?o.union(g):o=g}return o}}(t);if(n){var i=t.isHorizontal()?"height":"width",r=t.model.get(["axisLabel","margin"]);a[i]-=n[i]+r,"top"===t.position?a.y+=n.height+r:"left"===t.position&&(a.x+=n.width+r)}}})),u()),E(this.Es,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,n){var i=this.Ps[t];if(null!=i)return i[n||0]},t.prototype.getAxes=function(){return this.Ws.slice()},t.prototype.getCartesian=function(t,n){if(null!=t&&null!=n){var i="x"+t+"y"+n;return this._s[i]}K(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var r=0,e=this.Es;r<e.length;r++)if(e[r].getAxis("x").index===t||e[r].getAxis("y").index===n)return e[r]},t.prototype.getCartesians=function(){return this.Es.slice()},t.prototype.convertToPixel=function(t,n,i){var r=this.Ys(n);return r.cartesian?r.cartesian.dataToPoint(i):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(i)):null},t.prototype.convertFromPixel=function(t,n,i){var r=this.Ys(n);return r.cartesian?r.cartesian.pointToData(i):r.axis?r.axis.coordToData(r.axis.toLocalCoord(i)):null},t.prototype.Ys=function(t){var n,i,r=t.seriesModel,e=t.xAxisModel||r&&r.getReferringComponents("xAxis",ma).models[0],a=t.yAxisModel||r&&r.getReferringComponents("yAxis",ma).models[0],o=t.gridModel,u=this.Es;if(r)F(u,n=r.coordinateSystem)<0&&(n=null);else if(e&&a)n=this.getCartesian(e.componentIndex,a.componentIndex);else if(e)i=this.getAxis("x",e.componentIndex);else if(a)i=this.getAxis("y",a.componentIndex);else if(o){o.coordinateSystem===this&&(n=this.Es[0])}return{cartesian:n,axis:i}},t.prototype.containPoint=function(t){var n=this.Es[0];if(n)return n.containPoint(t)},t.prototype.Vs=function(t,n,i){var r=this,e=this,a={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},u={x:0,y:0};if(n.eachComponent("xAxis",s("x"),this),n.eachComponent("yAxis",s("y"),this),!u.x||!u.y)return this.Ps={},void(this.Ws=[]);function s(n){return function(i,r){if(pk(i,t)){var s=i.get("position");"x"===n?"top"!==s&&"bottom"!==s&&(s=a.bottom?"top":"bottom"):"left"!==s&&"right"!==s&&(s=a.left?"right":"left"),a[s]=!0;var l=new sk(n,Fb(i),[0,0],i.get("type"),s),f="category"===l.type;l.onBand=f&&i.get("boundaryGap"),l.inverse=i.get("inverse"),i.axis=l,l.model=i,l.grid=e,l.index=r,e.Ws.push(l),o[n][r]=l,u[n]++}}}this.Ps=o,E(o.x,(function(n,i){E(o.y,(function(e,a){var o="x"+i+"y"+a,u=new uk(o);u.master=r,u.model=t,r._s[o]=u,r.Es.push(u),u.addAxis(n),u.addAxis(e)}))}))},t.prototype.Hs=function(t,n){function i(t,n){E(Wb(t,n.dim),(function(i){n.scale.unionExtentFromData(t,i)}))}E(this.Ws,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var n=t.model.get("categorySortInfo");t.scale.setSortInfo(n)}})),t.eachSeries((function(t){if(fk(t)){var r=hk(t),e=r.xAxisModel,a=r.yAxisModel;if(!pk(e,n)||!pk(a,n))return;var o=this.getCartesian(e.componentIndex,a.componentIndex),u=t.getData(),s=o.getAxis("x"),l=o.getAxis("y");i(u,s),i(u,l)}}),this)},t.prototype.getTooltipAxes=function(t){var n=[],i=[];return E(this.getCartesians(),(function(r){var e=null!=t&&"auto"!==t?r.getAxis(t):r.getBaseAxis(),a=r.getOtherAxis(e);F(n,e)<0&&n.push(e),F(i,a)<0&&i.push(a)})),{baseAxes:n,otherAxes:i}},t.create=function(n,i){var r=[];return n.eachComponent("grid",(function(e,a){var o=new t(e,n,i);o.name="grid_"+a,o.resize(e,i,!0),e.coordinateSystem=o,r.push(o)})),n.eachSeries((function(t){if(fk(t)){var n=hk(t),i=n.xAxisModel,r=n.yAxisModel,e=i.getCoordSysModel().coordinateSystem;t.coordinateSystem=e.getCartesian(i.componentIndex,r.componentIndex)}})),r},t.dimensions=ak,t}();function pk(t,n){return t.getCoordSysModel()===n}function mk(t,n,i,r){i.getAxesOnZeroOf=function(){return e?[e]:[]};var e,a=t[n],o=i.model,u=o.get(["axisLine","onZero"]),s=o.get(["axisLine","onZeroAxisIndex"]);if(u){if(null!=s)yk(a[s])&&(e=a[s]);else for(var l in a)if(a.hasOwnProperty(l)&&yk(a[l])&&!r[f(a[l])]){e=a[l];break}e&&(r[f(e)]=!0)}function f(t){return t.dim+"_"+t.index}}function yk(t){return t&&"category"!==t.type&&"time"!==t.type&&function(t){var n=t.scale.getExtent(),i=n[0],r=n[1];return!(i>0&&r>0||i<0&&r<0)}(t)}var gk=Math.PI,bk=function(){function t(t,n){this.group=new Se,this.opt=n,this.axisModel=t,R(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new Se({x:n.position[0],y:n.position[1],rotation:n.rotation});i.updateTransform(),this.Gs=i}return t.prototype.hasBuilder=function(t){return!!wk[t]},t.prototype.add=function(t){wk[t](this.opt,this.axisModel,this.group,this.Gs)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,n,i){var r,e,a=_e(n-t);return Ee(a)?(e=i>0?"top":"bottom",r="center"):Ee(a-gk)?(e=i>0?"bottom":"top",r="center"):(e="middle",r=a>0&&a<gk?i>0?"right":"left":i>0?"left":"right"),{rotation:a,textAlign:r,textVerticalAlign:e}},t.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+"Index"]=t.componentIndex,n},t.isLabelSilent=function(t){var n=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||n&&n.show)},t}(),wk={axisLine:function(t,n,i,r){var e=n.get(["axisLine","show"]);if("auto"===e&&t.handleAutoShown&&(e=t.handleAutoShown("axisLine")),e){var a=n.axis.getExtent(),o=r.transform,u=[a[0],0],s=[a[1],0],l=u[0]>s[0];o&&(_t(u,u,o),_t(s,s,o));var f=D({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new Al({shape:{x1:u[0],y1:u[1],x2:s[0],y2:s[1]},style:f,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});hf(h.shape,h.style.lineWidth),h.anid="line",i.add(h);var c=n.get(["axisLine","symbol"]);if(null!=c){var v=n.get(["axisLine","symbolSize"]);j(c)&&(c=[c,c]),(j(v)||q(v))&&(v=[v,v]);var d=gm(n.get(["axisLine","symbolOffset"])||0,v),p=v[0],m=v[1];E([{rotate:t.rotation+Math.PI/2,offset:d[0],r:0},{rotate:t.rotation-Math.PI/2,offset:d[1],r:Math.sqrt((u[0]-s[0])*(u[0]-s[0])+(u[1]-s[1])*(u[1]-s[1]))}],(function(n,r){if("none"!==c[r]&&null!=c[r]){var e=mm(c[r],-p/2,-m/2,p,m,f.stroke,!0),a=n.r+n.offset,o=l?s:u;e.attr({rotation:n.rotate,x:o[0]+a*Math.cos(t.rotation),y:o[1]-a*Math.sin(t.rotation),silent:!0,z2:11}),i.add(e)}}))}}},axisTickLabel:function(t,n,i,r){var e=function(t,n,i,r){var e=i.axis,a=i.getModel("axisTick"),o=a.get("show");"auto"===o&&r.handleAutoShown&&(o=r.handleAutoShown("axisTick"));if(!o||e.scale.isBlank())return;for(var u=a.getModel("lineStyle"),s=r.tickDirection*a.get("length"),l=kk(e.getTicksCoords(),n.transform,s,R(u.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}),"ticks"),f=0;f<l.length;f++)t.add(l[f]);return l}(i,r,n,t),a=function(t,n,i,r){var e=i.axis,a=it(r.axisLabelShow,i.get(["axisLabel","show"]));if(!a||e.scale.isBlank())return;var o=i.getModel("axisLabel"),u=o.get("margin"),s=e.getViewLabels(),l=(it(r.labelRotate,o.get("rotate"))||0)*gk/180,f=bk.innerTextLayout(r.rotation,l,r.labelDirection),h=i.getCategories&&i.getCategories(!0),c=[],v=bk.isLabelSilent(i),d=i.get("triggerEvent");return E(s,(function(a,l){var p="ordinal"===e.scale.type?e.scale.getRawOrdinalNumber(a.tickValue):a.tickValue,m=a.formattedLabel,y=a.rawLabel,g=o;if(h&&h[p]){var b=h[p];K(b)&&b.textStyle&&(g=new th(b.textStyle,o,i.ecModel))}var w=g.getTextColor()||i.get(["axisLine","lineStyle","color"]),x=e.dataToCoord(p),M=g.getShallow("align",!0)||f.textAlign,S=rt(g.getShallow("alignMinLabel",!0),M),k=rt(g.getShallow("alignMaxLabel",!0),M),A=g.getShallow("verticalAlign",!0)||g.getShallow("baseline",!0)||f.textVerticalAlign,N=rt(g.getShallow("verticalAlignMinLabel",!0),A),C=rt(g.getShallow("verticalAlignMaxLabel",!0),A),T=new wu({x:x,y:r.labelOffset+r.labelDirection*u,rotation:f.rotation,silent:v,z2:10+(a.level||0),style:Of(g,{text:m,align:0===l?S:l===s.length-1?k:M,verticalAlign:0===l?N:l===s.length-1?C:A,fill:U(w)?w("category"===e.type?y:"value"===e.type?p+"":p,l):w})});if(T.anid="label_"+p,Sf({el:T,componentModel:i,itemName:m,formatterParamsExtra:{isTruncated:function(){return T.isTruncated},value:y,tickIndex:l}}),d){var I=bk.makeAxisEventDataBase(i);I.targetType="axisLabel",I.value=y,I.tickIndex=l,"category"===e.type&&(I.dataIndex=p),Du(T).eventData=I}n.add(T),T.updateTransform(),c.push(T),t.add(T),T.decomposeTransform()})),c}(i,r,n,t);(function(t,n,i){if(Pb(t.axis))return;var r=t.get(["axisLabel","showMinLabel"]),e=t.get(["axisLabel","showMaxLabel"]);n=n||[],i=i||[];var a=n[0],o=n[1],u=n[n.length-1],s=n[n.length-2],l=i[0],f=i[1],h=i[i.length-1],c=i[i.length-2];!1===r?(xk(a),xk(l)):Mk(a,o)&&(r?(xk(o),xk(f)):(xk(a),xk(l)));!1===e?(xk(u),xk(h)):Mk(s,u)&&(e?(xk(s),xk(c)):(xk(u),xk(h)))}(n,a,e),function(t,n,i,r){var e=i.axis,a=i.getModel("minorTick");if(!a.get("show")||e.scale.isBlank())return;var o=e.getMinorTicksCoords();if(!o.length)return;for(var u=a.getModel("lineStyle"),s=r*a.get("length"),l=R(u.getLineStyle(),R(i.getModel("axisTick").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})),f=0;f<o.length;f++)for(var h=kk(o[f],n.transform,s,l,"minorticks_"+f),c=0;c<h.length;c++)t.add(h[c])}(i,r,n,t.tickDirection),n.get(["axisLabel","hideOverlap"]))&&Vw(Ew(P(a,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}}))))},axisName:function(t,n,i,r){var e=it(t.axisName,n.get("name"));if(e){var a,o,u=n.get("nameLocation"),s=t.nameDirection,l=n.getModel("nameTextStyle"),f=n.get("nameGap")||0,h=n.axis.getExtent(),c=h[0]>h[1]?-1:1,v=["start"===u?h[0]-c*f:"end"===u?h[1]+c*f:(h[0]+h[1])/2,Sk(u)?t.labelOffset+s*f:0],d=n.get("nameRotate");null!=d&&(d=d*gk/180),Sk(u)?a=bk.innerTextLayout(t.rotation,null!=d?d:t.rotation,s):(a=function(t,n,i,r){var e,a,o=_e(i-t),u=r[0]>r[1],s="start"===n&&!u||"start"!==n&&u;Ee(o-gk/2)?(a=s?"bottom":"top",e="center"):Ee(o-1.5*gk)?(a=s?"top":"bottom",e="center"):(a="middle",e=o<1.5*gk&&o>gk/2?s?"left":"right":s?"right":"left");return{rotation:o,textAlign:e,textVerticalAlign:a}}(t.rotation,u,d||0,h),null!=(o=t.axisNameAvailableWidth)&&(o=Math.abs(o/Math.sin(a.rotation)),!isFinite(o)&&(o=null)));var p=l.getFont(),m=n.get("nameTruncate",!0)||{},y=m.ellipsis,g=it(t.nameTruncateMaxWidth,m.maxWidth,o),b=new wu({x:v[0],y:v[1],rotation:a.rotation,silent:bk.isLabelSilent(n),style:Of(l,{text:e,font:p,overflow:"truncate",width:g,ellipsis:y,fill:l.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:l.get("align")||a.textAlign,verticalAlign:l.get("verticalAlign")||a.textVerticalAlign}),z2:1});if(Sf({el:b,componentModel:n,itemName:e}),b.Xs=e,b.anid="name",n.get("triggerEvent")){var w=bk.makeAxisEventDataBase(n);w.targetType="axisName",w.name=e,Du(b).eventData=w}r.add(b),b.updateTransform(),i.add(b),b.decomposeTransform()}}};function xk(t){t&&(t.ignore=!0)}function Mk(t,n){var i=t&&t.getBoundingRect().clone(),r=n&&n.getBoundingRect().clone();if(i&&r){var e=vn([]);return yn(e,e,-t.rotation),i.applyTransform(pn([],e,t.getLocalTransform())),r.applyTransform(pn([],e,n.getLocalTransform())),i.intersect(r)}}function Sk(t){return"middle"===t||"center"===t}function kk(t,n,i,r,e){for(var a=[],o=[],u=[],s=0;s<t.length;s++){var l=t[s].coord;o[0]=l,o[1]=0,u[0]=l,u[1]=i,n&&(_t(o,o,n),_t(u,u,n));var f=new Al({shape:{x1:o[0],y1:o[1],x2:u[0],y2:u[1]},style:r,z2:2,autoBatch:!0,silent:!0});hf(f.shape,f.style.lineWidth),f.anid=e+"_"+t[s].tickValue,a.push(f)}return a}function Ak(t,n){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,n,i){var r=n.getComponent("tooltip"),e=n.getComponent("axisPointer"),a=e.get("link",!0)||[],o=[];E(i.getCoordinateSystems(),(function(i){if(i.axisPointerEnabled){var u=Ik(i.model),s=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=i;var l=i.model.getModel("tooltip",r);if(E(i.getAxes(),G(v,!1,null)),i.getTooltipAxes&&r&&l.get("show")){var f="axis"===l.get("trigger"),h="cross"===l.get(["axisPointer","type"]),c=i.getTooltipAxes(l.get(["axisPointer","axis"]));(f||h)&&E(c.baseAxes,G(v,!h||"cross",f)),h&&E(c.otherAxes,G(v,"cross",!1))}}function v(r,u,f){var h=f.model.getModel("axisPointer",e),c=h.get("show");if(c&&("auto"!==c||r||Tk(h))){null==u&&(u=h.get("triggerTooltip")),h=r?function(t,n,i,r,e,a){var o=n.getModel("axisPointer"),u={};E(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){u[t]=z(o.get(t))})),u.snap="category"!==t.type&&!!a,"cross"===o.get("type")&&(u.type="line");var s=u.label||(u.label={});if(null==s.show&&(s.show=!1),"cross"===e){var l=o.get(["label","show"]);if(s.show=null==l||l,!a){var f=u.lineStyle=o.get("crossStyle");f&&R(s,f.textStyle)}}return t.model.getModel("axisPointer",new th(u,i,r))}(f,l,e,n,r,u):h;var v=h.get("snap"),d=h.get("triggerEmphasis"),p=Ik(f.model),m=u||v||"category"===f.type,y=t.axesInfo[p]={key:p,axis:f,coordSys:i,axisPointerModel:h,triggerTooltip:u,triggerEmphasis:d,involveSeries:m,snap:v,useHandle:Tk(h),seriesModels:[],linkGroup:null};s[p]=y,t.seriesInvolved=t.seriesInvolved||m;var g=function(t,n){for(var i=n.model,r=n.dim,e=0;e<t.length;e++){var a=t[e]||{};if(Nk(a[r+"AxisId"],i.id)||Nk(a[r+"AxisIndex"],i.componentIndex)||Nk(a[r+"AxisName"],i.name))return e}}(a,f);if(null!=g){var b=o[g]||(o[g]={axesInfo:{}});b.axesInfo[p]=y,b.mapper=a[g].mapper,y.linkGroup=b}}}}))}(i,t,n),i.seriesInvolved&&function(t,n){n.eachSeries((function(n){var i=n.coordinateSystem,r=n.get(["tooltip","trigger"],!0),e=n.get(["tooltip","show"],!0);i&&"none"!==r&&!1!==r&&"item"!==r&&!1!==e&&!1!==n.get(["axisPointer","show"],!0)&&E(t.coordSysAxesInfo[Ik(i.model)],(function(t){var r=t.axis;i.getAxis(r.dim)===r&&(t.seriesModels.push(n),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=n.getData().count())}))}))}(i,t),i}function Nk(t,n){return"all"===t||X(t)&&F(t,n)>=0||t===n}function Ck(t){var n=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[Ik(t)]}function Tk(t){return!!t.get(["handle","show"])}function Ik(t){return t.type+"||"+t.id}var zk={},Lk=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(n,i,r,e){this.axisPointerClass&&function(t){var n=Ck(t);if(n){var i=n.axisPointerModel,r=n.axis.scale,e=i.option,a=i.get("status"),o=i.get("value");null!=o&&(o=r.parse(o));var u=Tk(i);null==a&&(e.status=u?"show":"hide");var s=r.getExtent().slice();s[0]>s[1]&&s.reverse(),(null==o||o>s[1])&&(o=s[1]),o<s[0]&&(o=s[0]),e.value=o,u&&(e.status=n.axis.scale.isBlank()?"hide":"show")}}(n),t.prototype.render.apply(this,arguments),this.Us(n,r,!0)},n.prototype.updateAxisPointer=function(t,n,i,r){this.Us(t,i,!1)},n.prototype.remove=function(t,n){var i=this.js;i&&i.remove(n)},n.prototype.dispose=function(n,i){this.Zs(i),t.prototype.dispose.apply(this,arguments)},n.prototype.Us=function(t,i,r){var e=n.getAxisPointerClass(this.axisPointerClass);if(e){var a=function(t){var n=Ck(t);return n&&n.axisPointerModel}(t);a?(this.js||(this.js=new e)).render(t,a,i,r):this.Zs(i)}},n.prototype.Zs=function(t){this.js&&this.js.dispose(t),this.js=null},n.registerAxisPointerClass=function(t,n){zk[t]=n},n.getAxisPointerClass=function(t){return t&&zk[t]},n.type="axis",n}(tp),Ok=ca();function Dk(t,n,i,r){var e=i.axis;if(!e.scale.isBlank()){var a=i.getModel("splitArea"),o=a.getModel("areaStyle"),u=o.get("color"),s=r.coordinateSystem.getRect(),l=e.getTicksCoords({tickModel:a,clamp:!0});if(l.length){var f=u.length,h=Ok(t).splitAreaColors,c=pt(),v=0;if(h)for(var d=0;d<l.length;d++){var p=h.get(l[d].tickValue);if(null!=p){v=(p+(f-1)*d)%f;break}}var m=e.toGlobalCoord(l[0].coord),y=o.getAreaStyle();u=X(u)?u:[u];for(d=1;d<l.length;d++){var g=e.toGlobalCoord(l[d].coord),b=void 0,w=void 0,x=void 0,M=void 0;e.isHorizontal()?(b=m,w=s.y,x=g-b,M=s.height,m=b+x):(b=s.x,w=m,x=s.width,m=w+(M=g-w));var S=l[d-1].tickValue;null!=S&&c.set(S,v),n.add(new yu({anid:null!=S?"area_"+S:null,shape:{x:b,y:w,width:x,height:M},style:R({fill:u[v]},y),autoBatch:!0,silent:!0})),v=(v+1)%f}Ok(t).splitAreaColors=c}}}function Rk(t){Ok(t).splitAreaColors=null}var Fk=["axisLine","axisTickLabel","axisName"],Bk=["splitArea","splitLine","minorSplitLine"],_k=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.axisPointerClass="CartesianAxisPointer",i}return l(n,t),n.prototype.render=function(n,i,r,e){this.group.removeAll();var a=this.qs;if(this.qs=new Se,this.group.add(this.qs),n.get("show")){var o=n.getCoordSysModel(),u=lk(o,n),s=new bk(n,D({handleAutoShown:function(t){for(var i=o.coordinateSystem.getCartesians(),r=0;r<i.length;r++)if(Wg(i[r].getOtherAxis(n.axis).scale))return!0;return!1}},u));E(Fk,s.add,s),this.qs.add(s.getGroup()),E(Bk,(function(t){n.get([t,"show"])&&Ek[t](this,this.qs,n,o)}),this),e&&"changeAxisOrder"===e.type&&e.isInitSort||yf(a,this.qs,n),t.prototype.render.call(this,n,i,r,e)}},n.prototype.remove=function(){Rk(this)},n.type="cartesianAxis",n}(Lk),Ek={splitLine:function(t,n,i,r){var e=i.axis;if(!e.scale.isBlank()){var a=i.getModel("splitLine"),o=a.getModel("lineStyle"),u=o.get("color"),s=!1!==a.get("showMinLine"),l=!1!==a.get("showMaxLine");u=X(u)?u:[u];for(var f=r.coordinateSystem.getRect(),h=e.isHorizontal(),c=0,v=e.getTicksCoords({tickModel:a}),d=[],p=[],m=o.getLineStyle(),y=0;y<v.length;y++){var g=e.toGlobalCoord(v[y].coord);if((0!==y||s)&&(y!==v.length-1||l)){var b=v[y].tickValue;h?(d[0]=g,d[1]=f.y,p[0]=g,p[1]=f.y+f.height):(d[0]=f.x,d[1]=g,p[0]=f.x+f.width,p[1]=g);var w=c++%u.length,x=new Al({anid:null!=b?"line_"+b:null,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},style:R({stroke:u[w]},m),silent:!0});hf(x.shape,m.lineWidth),n.add(x)}}}},minorSplitLine:function(t,n,i,r){var e=i.axis,a=i.getModel("minorSplitLine").getModel("lineStyle"),o=r.coordinateSystem.getRect(),u=e.isHorizontal(),s=e.getMinorTicksCoords();if(s.length)for(var l=[],f=[],h=a.getLineStyle(),c=0;c<s.length;c++)for(var v=0;v<s[c].length;v++){var d=e.toGlobalCoord(s[c][v].coord);u?(l[0]=d,l[1]=o.y,f[0]=d,f[1]=o.y+o.height):(l[0]=o.x,l[1]=d,f[0]=o.x+o.width,f[1]=d);var p=new Al({anid:"minor_line_"+s[c][v].tickValue,autoBatch:!0,shape:{x1:l[0],y1:l[1],x2:f[0],y2:f[1]},style:h,silent:!0});hf(p.shape,h.lineWidth),n.add(p)}},splitArea:function(t,n,i,r){Dk(t,n,i,r)}},Pk=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="xAxis",n}(_k),Wk=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=Pk.type,n}return l(n,t),n.type="yAxis",n}(_k),Vk=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="grid",n}return l(n,t),n.prototype.render=function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new yu({shape:t.coordinateSystem.getRect(),style:R({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n}(tp),Hk={offset:0};function Yk(t){t.registerComponentView(Vk),t.registerComponentModel(qS),t.registerCoordinateSystem("cartesian2d",dk),ik(t,"x",KS,Hk),ik(t,"y",KS,Hk),t.registerComponentView(Pk),t.registerComponentView(Wk),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}function Gk(t){t.eachSeriesByType("radar",(function(t){var n=t.getData(),i=[],r=t.coordinateSystem;if(r){var e=r.getIndicatorAxes();E(e,(function(t,a){n.each(n.mapDimension(e[a].dim),(function(t,n){i[n]=i[n]||[];var e=r.dataToPoint(t,a);i[n][a]=Xk(e)?e:Uk(r)}))})),n.each((function(t){var e=function(t,n,i){if(t&&n)for(var r=0,e=t.length;r<e;r++)if(n.call(i,t[r],r,t))return t[r]}(i[t],(function(t){return Xk(t)}))||Uk(r);i[t].push(e.slice()),n.setItemLayout(t,i[t])}))}}))}function Xk(t){return!isNaN(t[0])&&!isNaN(t[1])}function Uk(t){return[t.cx,t.cy]}function jk(t){var n=t.polar;if(n){X(n)||(n=[n]);var i=[];E(n,(function(n,r){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),t.radar=t.radar||[],X(t.radar)||(t.radar=[t.radar]),t.radar.push(n)):i.push(n)})),t.polar=i}E(t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}var Zk=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){var r=t.coordinateSystem,e=this.group,a=t.getData(),o=this.qi;function u(t,n){var i=t.getItemVisual(n,"symbol")||"circle";if("none"!==i){var r=ym(t.getItemVisual(n,"symbolSize")),e=mm(i,-1,-1,2,2),a=t.getItemVisual(n,"symbolRotate")||0;return e.attr({style:{strokeNoScale:!0},z2:100,scaleX:r[0]/2,scaleY:r[1]/2,rotation:a*Math.PI/180||0}),e}}function s(n,i,r,e,a,o){r.removeAll();for(var s=0;s<i.length-1;s++){var l=u(e,a);l&&(l.Ks=s,n[s]?(l.setPosition(n[s]),Nf[o?"initProps":"updateProps"](l,{x:i[s][0],y:i[s][1]},t,a)):l.setPosition(i[s]),r.add(l))}}function l(t){return P(t,(function(t){return[r.cx,r.cy]}))}a.diff(o).add((function(n){var i=a.getItemLayout(n);if(i){var r=new wl,e=new Ml,o={shape:{points:i}};r.shape.points=l(i),e.shape.points=l(i),jl(r,o,t,n),jl(e,o,t,n);var u=new Se,f=new Se;u.add(e),u.add(r),u.add(f),s(e.shape.points,i,f,a,n,!0),a.setItemGraphicEl(n,u)}})).update((function(n,i){var r=o.getItemGraphicEl(i),e=r.childAt(0),u=r.childAt(1),l=r.childAt(2),f={shape:{points:a.getItemLayout(n)}};f.shape.points&&(s(e.shape.points,f.shape.points,l,a,n,!1),$l(u),$l(e),Ul(e,f,t),Ul(u,f,t),a.setItemGraphicEl(n,r))})).remove((function(t){e.remove(o.getItemGraphicEl(t))})).execute(),a.eachItemGraphicEl((function(t,n){var i=a.getItemModel(n),r=t.childAt(0),o=t.childAt(1),u=t.childAt(2),s=a.getItemVisual(n,"style"),l=s.fill;e.add(t),r.useStyle(R(i.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:l})),Ns(r,i,"lineStyle"),Ns(o,i,"areaStyle");var f=i.getModel("areaStyle"),h=f.isEmpty()&&f.parentModel.isEmpty();o.ignore=h,E(["emphasis","select","blur"],(function(t){var n=i.getModel([t,"areaStyle"]),r=n.isEmpty()&&n.parentModel.isEmpty();o.ensureState(t).ignore=r&&h})),o.useStyle(R(f.getAreaStyle(),{fill:l,opacity:.7,decal:s.decal}));var c=i.getModel("emphasis"),v=c.getModel("itemStyle").getItemStyle();u.eachChild((function(t){if(t instanceof fu){var r=t.style;t.useStyle(D({image:r.image,x:r.x,y:r.y,width:r.width,height:r.height},s))}else t.useStyle(s),t.setColor(l),t.style.strokeNoScale=!0;t.ensureState("emphasis").style=z(v);var e=a.getStore().get(a.getDimensionIndex(t.Ks),n);(null==e||isNaN(e))&&(e=""),zf(t,Lf(i),{labelFetcher:a.hostModel,labelDataIndex:n,labelDimIndex:t.Ks,defaultText:e,inheritColor:l,defaultOpacity:s.opacity})})),Ms(t,c.get("focus"),c.get("blurScope"),c.get("disabled"))})),this.qi=a},n.prototype.remove=function(){this.group.removeAll(),this.qi=null},n.type="radar",n}(ep),qk=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.hasSymbolVisual=!0,i}return l(n,t),n.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new VS(Y(this.getData,this),Y(this.getRawData,this))},n.prototype.getInitialData=function(t,n){return WS(this,{generateCoord:"indicator_",generateCoordCount:1/0})},n.prototype.formatTooltip=function(t,n,i){var r=this.getData(),e=this.coordinateSystem.getIndicatorAxes(),a=this.getData().getName(t),o=""===a?this.name:a,u=Pd(this,t);return zd("section",{header:o,sortBlocks:!0,blocks:P(e,(function(n){var i=r.get(r.mapDimension(n.dim),t);return zd("nameValue",{markerType:"subItem",markerColor:u,name:n.name,value:i,sortParam:i})}))})},n.prototype.getTooltipPosition=function(t){if(null!=t)for(var n=this.getData(),i=this.coordinateSystem,r=n.getValues(P(i.dimensions,(function(t){return n.mapDimension(t)})),t),e=0,a=r.length;e<a;e++)if(!isNaN(r[e])){var o=i.getIndicatorAxes();return i.coordToPoint(o[e].dataToCoord(r[e]),e)}},n.type="series.radar",n.dependencies=["radar"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},n}(Ud),Kk=tk.value;function Jk(t,n){return R({show:n},t)}var $k=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),n=this.get("splitNumber"),i=this.get("scale"),r=this.get("axisLine"),e=this.get("axisTick"),a=this.get("axisLabel"),o=this.get("axisName"),u=this.get(["axisName","show"]),s=this.get(["axisName","formatter"]),l=this.get("axisNameGap"),f=this.get("triggerEvent"),h=P(this.get("indicator")||[],(function(h){null!=h.max&&h.max>0&&!h.min?h.min=0:null!=h.min&&h.min<0&&!h.max&&(h.max=0);var c=o;null!=h.color&&(c=R({color:h.color},o));var v=L(z(h),{boundaryGap:t,splitNumber:n,scale:i,axisLine:r,axisTick:e,axisLabel:a,name:h.text,showName:u,nameLocation:"end",nameGap:l,nameTextStyle:c,triggerEvent:f},!1);if(j(s)){var d=v.name;v.name=s.replace("{value}",null!=d?d:"")}else U(s)&&(v.name=s(v.name,v));var p=new th(v,null,this.ecModel);return B(p,Vb.prototype),p.mainType="radar",p.componentIndex=this.componentIndex,p}),this);this.Js=h},n.prototype.getIndicatorModels=function(){return this.Js},n.type="radar",n.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:L({lineStyle:{color:"#bbb"}},Kk.axisLine),axisLabel:Jk(Kk.axisLabel,!1),axisTick:Jk(Kk.axisTick,!1),splitLine:Jk(Kk.splitLine,!0),splitArea:Jk(Kk.splitArea,!0),indicator:[]},n}(lc),Qk=["axisLine","axisTickLabel","axisName"],tA=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){this.group.removeAll(),this.$s(t),this.Qs(t)},n.prototype.$s=function(t){var n=t.coordinateSystem;E(P(n.getIndicatorAxes(),(function(t){var i=t.model.get("showName")?t.name:"";return new bk(t.model,{axisName:i,position:[n.cx,n.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})})),(function(t){E(Qk,t.add,t),this.group.add(t.getGroup())}),this)},n.prototype.Qs=function(t){var n=t.coordinateSystem,i=n.getIndicatorAxes();if(i.length){var r=t.get("shape"),e=t.getModel("splitLine"),a=t.getModel("splitArea"),o=e.getModel("lineStyle"),u=a.getModel("areaStyle"),s=e.get("show"),l=a.get("show"),f=o.get("color"),h=u.get("color"),c=X(f)?f:[f],v=X(h)?h:[h],d=[],p=[];if("circle"===r)for(var m=i[0].getTicksCoords(),y=n.cx,g=n.cy,b=0;b<m.length;b++){if(s)d[C(d,c,b)].push(new $s({shape:{cx:y,cy:g,r:m[b].coord}}));if(l&&b<m.length-1)p[C(p,v,b)].push(new yl({shape:{cx:y,cy:g,r0:m[b].coord,r:m[b+1].coord}}))}else{var w,x=P(i,(function(t,i){var r=t.getTicksCoords();return w=null==w?r.length-1:Math.min(r.length-1,w),P(r,(function(t){return n.coordToPoint(t.coord,i)}))})),M=[];for(b=0;b<=w;b++){for(var S=[],k=0;k<i.length;k++)S.push(x[k][b]);if(S[0]&&S.push(S[0].slice()),s)d[C(d,c,b)].push(new Ml({shape:{points:S}}));if(l&&M)p[C(p,v,b-1)].push(new wl({shape:{points:S.concat(M)}}));M=S.slice().reverse()}}var A=o.getLineStyle(),N=u.getAreaStyle();E(p,(function(t,n){this.group.add(lf(t,{style:R({stroke:"none",fill:v[n%v.length]},N),silent:!0}))}),this),E(d,(function(t,n){this.group.add(lf(t,{style:R({fill:"none",stroke:c[n%c.length]},A),silent:!0}))}),this)}function C(t,n,i){var r=i%n.length;return t[r]=t[r]||[],r}},n.type="radar",n}(tp),nA=function(t){function n(n,i,r){var e=t.call(this,n,i,r)||this;return e.type="value",e.angle=0,e.name="",e}return l(n,t),n}(cw),iA=function(){function t(t,n,i){this.dimensions=[],this.Xe=t,this.nl=P(t.getIndicatorModels(),(function(t,n){var i="indicator_"+n,r=new nA(i,new Kg);return r.name=t.get("name"),r.model=t,t.axis=r,this.dimensions.push(i),r}),this),this.resize(t,i)}return t.prototype.getIndicatorAxes=function(){return this.nl},t.prototype.dataToPoint=function(t,n){var i=this.nl[n];return this.coordToPoint(i.dataToCoord(t),n)},t.prototype.coordToPoint=function(t,n){var i=this.nl[n].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},t.prototype.pointToData=function(t){var n=t[0]-this.cx,i=t[1]-this.cy,r=Math.sqrt(n*n+i*i);n/=r,i/=r;for(var e,a=Math.atan2(-i,n),o=1/0,u=-1,s=0;s<this.nl.length;s++){var l=this.nl[s],f=Math.abs(a-l.angle);f<o&&(e=l,u=s,o=f)}return[u,+(e&&e.coordToData(r))]},t.prototype.resize=function(t,n){var i=t.get("center"),r=n.getWidth(),e=n.getHeight(),a=Math.min(r,e)/2;this.cx=ze(i[0],r),this.cy=ze(i[1],e),this.startAngle=t.get("startAngle")*Math.PI/180;var o=t.get("radius");(j(o)||q(o))&&(o=[0,o]),this.r0=ze(o[0],a),this.r=ze(o[1],a),E(this.nl,(function(t,n){t.setExtent(this.r0,this.r);var i=this.startAngle+n*Math.PI*2/this.nl.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i}),this)},t.prototype.update=function(t,n){var i=this.nl,r=this.Xe;E(i,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(n,e){if("radar"===n.get("coordinateSystem")&&t.getComponent("radar",n.get("radarIndex"))===r){var a=n.getData();E(i,(function(t){t.scale.unionExtentFromData(a,a.mapDimension(t.dim))}))}}),this);var e=r.get("splitNumber"),a=new Kg;a.setExtent(0,e),a.setInterval(1),E(i,(function(t,n){vk(t.scale,t.model,a)}))},t.prototype.convertToPixel=function(t,n,i){return null},t.prototype.convertFromPixel=function(t,n,i){return null},t.prototype.containPoint=function(t){return!1},t.create=function(n,i){var r=[];return n.eachComponent("radar",(function(e){var a=new t(e,n,i);r.push(a),e.coordinateSystem=a})),n.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=r[t.get("radarIndex")||0])})),r},t.dimensions=[],t}();function rA(t){t.registerCoordinateSystem("radar",iA),t.registerComponentModel($k),t.registerComponentView(tA),t.registerVisual({seriesType:"radar",reset:function(t){var n=t.getData();n.each((function(t){n.setItemVisual(t,"legendIcon","roundRect")})),n.setVisual("legendIcon","roundRect")}})}var eA="\0_ec_interaction_mutex";function aA(t,n){return!!oA(t)[n]}function oA(t){return t[eA]||(t[eA]={})}Xy({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},wt);var uA=function(t){function n(n){var i=t.call(this)||this;i.Be=n;var r=Y(i.il,i),e=Y(i.rl,i),a=Y(i.al,i),o=Y(i.ol,i),u=Y(i.ul,i);return i.enable=function(t,i){this.disable(),this.sl=R(z(i)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(n.on("mousedown",r),n.on("mousemove",e),n.on("mouseup",a)),!0!==t&&"scale"!==t&&"zoom"!==t||(n.on("mousewheel",o),n.on("pinch",u))},i.disable=function(){n.off("mousedown",r),n.off("mousemove",e),n.off("mouseup",a),n.off("mousewheel",o),n.off("pinch",u)},i}return l(n,t),n.prototype.isDragging=function(){return this.ll},n.prototype.isPinching=function(){return this.fl},n.prototype.setPointerChecker=function(t){this.pointerChecker=t},n.prototype.dispose=function(){this.disable()},n.prototype.il=function(t){if(!ln(t)){for(var n=t.target;n;){if(n.draggable)return;n=n.S||n.parent}var i=t.offsetX,r=t.offsetY;this.pointerChecker&&this.pointerChecker(t,i,r)&&(this.T=i,this.I=r,this.ll=!0)}},n.prototype.rl=function(t){if(this.ll&&fA("moveOnMouseMove",t,this.sl)&&"pinch"!==t.gestureEvent&&!aA(this.Be,"globalPan")){var n=t.offsetX,i=t.offsetY,r=this.T,e=this.I,a=n-r,o=i-e;this.T=n,this.I=i,this.sl.preventDefaultMouseMove&&sn(t.event),lA(this,"pan","moveOnMouseMove",t,{dx:a,dy:o,oldX:r,oldY:e,newX:n,newY:i,isAvailableBehavior:null})}},n.prototype.al=function(t){ln(t)||(this.ll=!1)},n.prototype.ol=function(t){var n=fA("zoomOnMouseWheel",t,this.sl),i=fA("moveOnMouseWheel",t,this.sl),r=t.wheelDelta,e=Math.abs(r),a=t.offsetX,o=t.offsetY;if(0!==r&&(n||i)){if(n){var u=e>3?1.4:e>1?1.2:1.1;sA(this,"zoom","zoomOnMouseWheel",t,{scale:r>0?u:1/u,originX:a,originY:o,isAvailableBehavior:null})}if(i){var s=Math.abs(r);sA(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(r>0?1:-1)*(s>3?.4:s>1?.15:.05),originX:a,originY:o,isAvailableBehavior:null})}}},n.prototype.ul=function(t){aA(this.Be,"globalPan")||sA(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},n}(Ht);function sA(t,n,i,r,e){t.pointerChecker&&t.pointerChecker(r,e.originX,e.originY)&&(sn(r.event),lA(t,n,i,r,e))}function lA(t,n,i,r,e){e.isAvailableBehavior=Y(fA,null,i,r),t.trigger(n,e)}function fA(t,n,i){var r=i[t];return!t||r&&(!j(r)||n.event[r+"Key"])}function hA(t,n,i){var r=t.target;r.x+=n,r.y+=i,r.dirty()}function cA(t,n,i,r){var e=t.target,a=t.zoomLimit,o=t.zoom=t.zoom||1;if(o*=n,a){var u=a.min||0,s=a.max||1/0;o=Math.max(Math.min(s,o),u)}var l=o/t.zoom;t.zoom=o,e.x-=(i-e.x)*(l-1),e.y-=(r-e.y)*(l-1),e.scaleX*=l,e.scaleY*=l,e.dirty()}var vA,dA={axisPointer:1,tooltip:1,brush:1};function pA(t,n,i){var r=n.getComponentByElement(t.topTarget),e=r&&r.coordinateSystem;return r&&r!==i&&!dA.hasOwnProperty(r.mainType)&&e&&e.model!==i}function mA(t){j(t)&&(t=(new DOMParser).parseFromString(t,"text/xml"));var n=t;for(9===n.nodeType&&(n=n.firstChild);"svg"!==n.nodeName.toLowerCase()||1!==n.nodeType;)n=n.nextSibling;return n}var yA={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},gA=H(yA),bA={"alignment-baseline":"textBaseline","stop-color":"stopColor"},wA=H(bA),xA=function(){function t(){this.hl={},this.cl=null}return t.prototype.parse=function(t,n){n=n||{};var i=mA(t);this.vl=[];var r=new Se;this.cl=r;var e=[],a=i.getAttribute("viewBox")||"",o=parseFloat(i.getAttribute("width")||n.width),u=parseFloat(i.getAttribute("height")||n.height);isNaN(o)&&(o=null),isNaN(u)&&(u=null),CA(i,r,null,!0,!1);for(var s,l,f=i.firstChild;f;)this.dl(f,r,e,null,!1,!1),f=f.nextSibling;if(function(t,n){for(var i=0;i<n.length;i++){var r=n[i];r[0].style[r[1]]=t[r[2]]}}(this.hl,this.vl),this.vl=[],a){var h=LA(a);h.length>=4&&(s={x:parseFloat(h[0]||0),y:parseFloat(h[1]||0),width:parseFloat(h[2]),height:parseFloat(h[3])})}if(s&&null!=o&&null!=u&&(l=BA(s,{x:0,y:0,width:o,height:u}),!n.ignoreViewBox)){var c=r;(r=new Se).add(c),c.scaleX=c.scaleY=l.scale,c.x=l.x,c.y=l.y}return n.ignoreRootClip||null==o||null==u||r.setClipPath(new yu({shape:{x:0,y:0,width:o,height:u}})),{root:r,width:o,height:u,viewBoxRect:s,viewBoxTransform:l,named:e}},t.prototype.dl=function(t,n,i,r,e,a){var o,u=t.nodeName.toLowerCase(),s=r;if("defs"===u&&(e=!0),"text"===u&&(a=!0),"defs"===u||"switch"===u)o=n;else{if(!e){var l=vA[u];if(l&&bt(vA,u)){o=l.call(this,t,n);var f=t.getAttribute("name");if(f){var h={name:f,namedFrom:null,svgNodeTagLower:u,el:o};i.push(h),"g"===u&&(s=h)}else r&&i.push({name:r.name,namedFrom:r,svgNodeTagLower:u,el:o});n.add(o)}}var c=MA[u];if(c&&bt(MA,u)){var v=c.call(this,t),d=t.getAttribute("id");d&&(this.hl[d]=v)}}if(o&&o.isGroup)for(var p=t.firstChild;p;)1===p.nodeType?this.dl(p,o,i,s,e,a):3===p.nodeType&&a&&this.pl(p,o),p=p.nextSibling},t.prototype.pl=function(t,n){var i=new uu({style:{text:t.textContent},silent:!0,x:this.ml||0,y:this.yl||0});AA(n,i),CA(t,i,this.vl,!1,!1),function(t,n){var i=n.gl;if(i){var r=i.textBaseline,e=r;r&&"auto"!==r?"baseline"===r?e="alphabetic":"before-edge"===r||"text-before-edge"===r?e="top":"after-edge"===r||"text-after-edge"===r?e="bottom":"central"!==r&&"mathematical"!==r||(e="middle"):e="alphabetic",t.style.textBaseline=e}var a=n.wl;if(a){var o=a.textAlign,u=o;o&&("middle"===o&&(u="center"),t.style.textAlign=u)}}(i,n);var r=i.style,e=r.fontSize;e&&e<9&&(r.fontSize=9,i.scaleX*=e/9,i.scaleY*=e/9);var a=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=a;var o=i.getBoundingRect();return this.ml+=o.width,n.add(i),i},t.internalField=void(vA={g:function(t,n){var i=new Se;return AA(n,i),CA(t,i,this.vl,!1,!1),i},rect:function(t,n){var i=new yu;return AA(n,i),CA(t,i,this.vl,!1,!1),i.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(t,n){var i=new $s;return AA(n,i),CA(t,i,this.vl,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),i.silent=!0,i},line:function(t,n){var i=new Al;return AA(n,i),CA(t,i,this.vl,!1,!1),i.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(t,n){var i=new tl;return AA(n,i),CA(t,i,this.vl,!1,!1),i.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(t,n){var i,r=t.getAttribute("points");r&&(i=NA(r));var e=new wl({shape:{points:i||[]},silent:!0});return AA(n,e),CA(t,e,this.vl,!1,!1),e},polyline:function(t,n){var i,r=t.getAttribute("points");r&&(i=NA(r));var e=new Ml({shape:{points:i||[]},silent:!0});return AA(n,e),CA(t,e,this.vl,!1,!1),e},image:function(t,n){var i=new fu;return AA(n,i),CA(t,i,this.vl,!1,!1),i.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),i.silent=!0,i},text:function(t,n){var i=t.getAttribute("x")||"0",r=t.getAttribute("y")||"0",e=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0";this.ml=parseFloat(i)+parseFloat(e),this.yl=parseFloat(r)+parseFloat(a);var o=new Se;return AA(n,o),CA(t,o,this.vl,!1,!0),o},tspan:function(t,n){var i=t.getAttribute("x"),r=t.getAttribute("y");null!=i&&(this.ml=parseFloat(i)),null!=r&&(this.yl=parseFloat(r));var e=t.getAttribute("dx")||"0",a=t.getAttribute("dy")||"0",o=new Se;return AA(n,o),CA(t,o,this.vl,!1,!0),this.ml+=parseFloat(e),this.yl+=parseFloat(a),o},path:function(t,n){var i=qs(t.getAttribute("d")||"");return AA(n,i),CA(t,i,this.vl,!1,!1),i.silent=!0,i}}),t}(),MA={lineargradient:function(t){var n=parseInt(t.getAttribute("x1")||"0",10),i=parseInt(t.getAttribute("y1")||"0",10),r=parseInt(t.getAttribute("x2")||"10",10),e=parseInt(t.getAttribute("y2")||"0",10),a=new Rl(n,i,r,e);return SA(t,a),kA(t,a),a},radialgradient:function(t){var n=parseInt(t.getAttribute("cx")||"0",10),i=parseInt(t.getAttribute("cy")||"0",10),r=parseInt(t.getAttribute("r")||"0",10),e=new Fl(n,i,r);return SA(t,e),kA(t,e),e}};function SA(t,n){"userSpaceOnUse"===t.getAttribute("gradientUnits")&&(n.global=!0)}function kA(t,n){for(var i=t.firstChild;i;){if(1===i.nodeType&&"stop"===i.nodeName.toLocaleLowerCase()){var r=i.getAttribute("offset"),e=void 0;e=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var a={};FA(i,a,a);var o=a.stopColor||i.getAttribute("stop-color")||"#000000";n.colorStops.push({offset:e,color:o})}i=i.nextSibling}}function AA(t,n){t&&t.wl&&(n.wl||(n.wl={}),R(n.wl,t.wl))}function NA(t){for(var n=LA(t),i=[],r=0;r<n.length;r+=2){var e=parseFloat(n[r]),a=parseFloat(n[r+1]);i.push([e,a])}return i}function CA(t,n,i,r,e){var a=n,o=a.wl=a.wl||{},u={};1===t.nodeType&&(function(t,n){var i=t.getAttribute("transform");if(i){i=i.replace(/,/g," ");var r=[],e=null;i.replace(OA,(function(t,n,i){return r.push(n,i),""}));for(var a=r.length-1;a>0;a-=2){var o=r[a],u=r[a-1],s=LA(o);switch(e=e||[1,0,0,1,0,0],u){case"translate":mn(e,e,[parseFloat(s[0]),parseFloat(s[1]||"0")]);break;case"scale":gn(e,e,[parseFloat(s[0]),parseFloat(s[1]||s[0])]);break;case"rotate":yn(e,e,-parseFloat(s[0])*DA,[parseFloat(s[1]||"0"),parseFloat(s[2]||"0")]);break;case"skewX":pn(e,[1,0,Math.tan(parseFloat(s[0])*DA),1,0,0],e);break;case"skewY":pn(e,[1,Math.tan(parseFloat(s[0])*DA),0,1,0,0],e);break;case"matrix":e[0]=parseFloat(s[0]),e[1]=parseFloat(s[1]),e[2]=parseFloat(s[2]),e[3]=parseFloat(s[3]),e[4]=parseFloat(s[4]),e[5]=parseFloat(s[5])}}n.setLocalTransform(e)}}(t,n),FA(t,o,u),r||function(t,n,i){for(var r=0;r<gA.length;r++){var e=gA[r];null!=(a=t.getAttribute(e))&&(n[yA[e]]=a)}for(r=0;r<wA.length;r++){var a;e=wA[r];null!=(a=t.getAttribute(e))&&(i[bA[e]]=a)}}(t,o,u)),a.style=a.style||{},null!=o.fill&&(a.style.fill=IA(a,"fill",o.fill,i)),null!=o.stroke&&(a.style.stroke=IA(a,"stroke",o.stroke,i)),E(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){null!=o[t]&&(a.style[t]=parseFloat(o[t]))})),E(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],(function(t){null!=o[t]&&(a.style[t]=o[t])})),e&&(a.gl=u),o.lineDash&&(a.style.lineDash=P(LA(o.lineDash),(function(t){return parseFloat(t)}))),"hidden"!==o.visibility&&"collapse"!==o.visibility||(a.invisible=!0),"none"===o.display&&(a.ignore=!0)}var TA=/^url\(\s*#(.*?)\)/;function IA(t,n,i,r){var e=i&&i.match(TA);if(!e)return"none"===i&&(i=null),i;var a=st(e[1]);r.push([t,n,a])}var zA=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function LA(t){return t.match(zA)||[]}var OA=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DA=Math.PI/180;var RA=/([^\s:;]+)\s*:\s*([^:;]+)/g;function FA(t,n,i){var r,e=t.getAttribute("style");if(e)for(RA.lastIndex=0;null!=(r=RA.exec(e));){var a=r[1],o=bt(yA,a)?yA[a]:null;o&&(n[o]=r[2]);var u=bt(bA,a)?bA[a]:null;u&&(i[u]=r[2])}}function BA(t,n){var i=n.width/t.width,r=n.height/t.height,e=Math.min(i,r);return{scale:e,x:-(t.x+t.width/2)*e+(n.x+n.width/2),y:-(t.y+t.height/2)*e+(n.y+n.height/2)}}var _A=pt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),EA=function(){function t(t,n){this.type="geoSVG",this.xl=pt(),this.Ml=[],this.Sl=t,this.kl=mA(n)}return t.prototype.load=function(){var t=this.Al;if(!t){t=this.Al=this.Nl(this.kl),this.Ml.push(t),this.Cl=this.Al.boundingRect.clone();var n=function(t){var n=[],i=pt();return E(t,(function(t){if(null==t.namedFrom){var r=new Jb(t.name,t.el);n.push(r),i.set(t.name,r)}})),{regions:n,regionsMap:i}}(t.named),i=n.regions,r=n.regionsMap;this.Tl=i,this.Il=r}return{boundingRect:this.Cl,regions:this.Tl,regionsMap:this.Il}},t.prototype.Nl=function(t){var n,i,r,e;try{ut(null!=(i=(n=t&&(r=t,e={ignoreViewBox:!0,ignoreRootClip:!0},(new xA).parse(r,e))||{}).root))}catch(y){throw new Error("Invalid svg format\n"+y.message)}var a=new Se;a.add(i),a.isGeoSVGGraphicRoot=!0;var o=n.width,u=n.height,s=n.viewBoxRect,l=this.Cl;if(!l){var f=void 0,h=void 0,c=void 0,v=void 0;if(null!=o?(f=0,c=o):s&&(f=s.x,c=s.width),null!=u?(h=0,v=u):s&&(h=s.y,v=s.height),null==f||null==h){var d=i.getBoundingRect();null==f&&(f=d.x,c=d.width),null==h&&(h=d.y,v=d.height)}l=this.Cl=new In(f,h,c,v)}if(s){var p=BA(s,l);i.scaleX=i.scaleY=p.scale,i.x=p.x,i.y=p.y}a.setClipPath(new yu({shape:l.plain()}));var m=[];return E(n.named,(function(t){var n;null!=_A.get(t.svgNodeTagLower)&&(m.push(t),(n=t.el).silent=!1,n.isGroup&&n.traverse((function(t){t.silent=!1})))})),{root:a,boundingRect:l,named:m}},t.prototype.useGraphic=function(t){var n=this.xl,i=n.get(t);return i||(i=this.Ml.pop()||this.Nl(this.kl),n.set(t,i),i)},t.prototype.freeGraphic=function(t){var n=this.xl,i=n.get(t);i&&(n.removeKey(t),this.Ml.push(i))},t}();for(var PA=[126,25],WA="南海诸岛",VA=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],HA=0;HA<VA.length;HA++)for(var YA=0;YA<VA[HA].length;YA++)VA[HA][YA][0]/=10.5,VA[HA][YA][1]/=-14,VA[HA][YA][0]+=PA[0],VA[HA][YA][1]+=PA[1];var GA={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};var XA=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];var UA=function(){function t(t,n,i){var r;this.type="geoJSON",this.zl=pt(),this.Sl=t,this.Ll=i,this.Ol=j(r=n)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(r):new Function("return ("+r+");")():r}return t.prototype.load=function(t,n){n=n||"name";var i=this.zl.get(n);if(!i){var r=this.Dl(n);i=this.zl.set(n,{regions:r,boundingRect:jA(r)})}var e=pt(),a=[];return E(i.regions,(function(n){var i=n.name;t&&bt(t,i)&&(n=n.cloneShallow(i=t[i])),a.push(n),e.set(i,n)})),{regions:a,boundingRect:i.boundingRect||new In(0,0,0,0),regionsMap:e}},t.prototype.Dl=function(t){var n,i=this.Sl,r=this.Ol;try{n=r?tw(r,t):[]}catch(e){throw new Error("Invalid geoJson format\n"+e.message)}return function(t,n){if("china"===t){for(var i=0;i<n.length;i++)if(n[i].name===WA)return;n.push(new Kb(WA,P(VA,(function(t){return{type:"polygon",exterior:t}})),PA))}}(i,n),E(n,(function(t){var n=t.name;!function(t,n){if("china"===t){var i=GA[n.name];if(i){var r=n.getCenter();r[0]+=i[0]/10.5,r[1]+=-i[1]/14,n.setCenter(r)}}}(i,t),function(t,n){"china"===t&&"台湾"===n.name&&n.geometries.push({type:"polygon",exterior:XA[0]})}(i,t);var r=this.Ll&&this.Ll[n];r&&t.transformTo(r.left,r.top,r.width,r.height)}),this),n},t.prototype.getMapForUser=function(){return{geoJson:this.Ol,geoJSON:this.Ol,specialAreas:this.Ll}},t}();function jA(t){for(var n,i=0;i<t.length;i++){var r=t[i].getBoundingRect();(n=n||r.clone()).union(r)}return n}var ZA=pt();const qA=function(t,n,i){if(n.svg){var r=new EA(t,n.svg);ZA.set(t,r)}else{var e=n.geoJson||n.geoJSON;e&&!n.features?i=n.specialAreas:e=n;r=new UA(t,e,i);ZA.set(t,r)}},KA=function(t){return ZA.get(t)},JA=function(t){var n=ZA.get(t);return n&&"geoJSON"===n.type&&n.getMapForUser()},$A=function(t,n,i){var r=ZA.get(t);if(r)return r.load(n,i)};var QA=["rect","circle","line","ellipse","polygon","polyline","path"],tN=pt(QA),nN=pt(QA.concat(["g"])),iN=pt(QA.concat(["g"])),rN=ca();function eN(t){var n=t.getItemStyle(),i=t.get("areaColor");return null!=i&&(n.fill=i),n}function aN(t){var n=t.style;n&&(n.stroke=n.stroke||n.fill,n.fill=null)}var oN=function(){function t(t){var n=new Se;this.uid=ih("ec_map_draw"),this.Rl=new uA(t.getZr()),this.Fl={target:n},this.group=n,n.add(this.Bl=new Se),n.add(this._l=new Se)}return t.prototype.draw=function(t,n,i,r,e){var a="geo"===t.mainType,o=t.getData&&t.getData();a&&n.eachComponent({mainType:"series",subType:"map"},(function(n){o||n.getHostGeoModel()!==t||(o=n.getData())}));var u=t.coordinateSystem,s=this.Bl,l=this.group,f=u.getTransformInfo(),h=f.raw,c=f.roam;!s.childAt(0)||e?(l.x=c.x,l.y=c.y,l.scaleX=c.scaleX,l.scaleY=c.scaleY,l.dirty()):Ul(l,c,t);var v=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,d={api:i,geo:u,mapOrGeoModel:t,data:o,isVisualEncodedByVisualMap:v,isGeo:a,transformInfoRaw:h};"geoJSON"===u.resourceType?this.El(d):"geoSVG"===u.resourceType&&this.Pl(d),this.Wl(t,n,i),this.Vl(t,s,i,r)},t.prototype.El=function(t){var n=this.Hl=pt(),i=pt(),r=this.Bl,e=t.transformInfoRaw,a=t.mapOrGeoModel,o=t.data,u=t.geo.projection,s=u&&u.stream;function l(t,n){return n&&(t=n(t)),t&&[t[0]*e.scaleX+e.x,t[1]*e.scaleY+e.y]}function f(t){for(var n=[],i=!s&&u&&u.project,r=0;r<t.length;++r){var e=l(t[r],i);e&&n.push(e)}return n}function h(t){return{shape:{points:f(t)}}}r.removeAll(),E(t.geo.regions,(function(e){var f=e.name,c=n.get(f),v=i.get(f)||{},d=v.dataIdx,p=v.regionModel;if(!c){c=n.set(f,new Se),r.add(c),d=o?o.indexOfName(f):null;var m=(p=t.isGeo?a.getRegionModel(f):o?o.getItemModel(d):null).get("silent",!0);null!=m&&(c.silent=m),i.set(f,{dataIdx:d,regionModel:p})}var y=[],g=[];E(e.geometries,(function(t){if("polygon"===t.type){var n=[t.exterior].concat(t.interiors||[]);s&&(n=cN(n,s)),E(n,(function(t){y.push(new wl(h(t)))}))}else{var i=t.points;s&&(i=cN(i,s,!0)),E(i,(function(t){g.push(new Ml(h(t)))}))}}));var b=l(e.getCenter(),u&&u.project);function w(n,i){if(n.length){var r=new Ol({culling:!0,segmentIgnoreThreshold:1,shape:{paths:n}});c.add(r),uN(t,r,d,p),sN(t,r,f,p,a,d,b),i&&(aN(r),E(r.states,aN))}}w(y),w(g,!0)})),n.each((function(n,r){var e=i.get(r),o=e.dataIdx,u=e.regionModel;lN(t,n,r,u,a,o),fN(t,n,r,u,a),hN(t,n,r,u,a)}),this)},t.prototype.Pl=function(t){var n=t.geo.map,i=t.transformInfoRaw;this._l.x=i.x,this._l.y=i.y,this._l.scaleX=i.scaleX,this._l.scaleY=i.scaleY,this.Yl(n)&&(this.Gl(),this.Xl(n));var r=this.Ul=pt(),e=!1;E(this.jl.named,(function(n){var i=n.name,a=t.mapOrGeoModel,o=t.data,u=n.svgNodeTagLower,s=n.el,l=o?o.indexOfName(i):null,f=a.getRegionModel(i);null!=tN.get(u)&&s instanceof io&&uN(t,s,l,f),s instanceof io&&(s.culling=!0);var h=f.get("silent",!0);(null!=h&&(s.silent=h),s.z2EmphasisLift=0,n.namedFrom)||(null!=iN.get(u)&&sN(t,s,i,f,a,l,null),lN(t,s,i,f,a,l),fN(t,s,i,f,a),null!=nN.get(u)&&("self"===hN(t,s,i,f,a)&&(e=!0),(r.get(i)||r.set(i,[])).push(s)))}),this),this.Zl(e,t)},t.prototype.Zl=function(t,n){if(t&&n.isGeo){var i=n.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this.jl.root.traverse((function(t){if(!t.isGroup){as(t);var n=t.ensureState("blur").style||{};null==n.opacity&&null!=i&&(n.opacity=i),t.ensureState("emphasis")}}))}},t.prototype.remove=function(){this.Bl.removeAll(),this.Hl=null,this._l.removeAll(),this.Gl(),this.Rl.dispose(),this.Fl=null},t.prototype.findHighDownDispatchers=function(t,n){if(null==t)return[];var i=n.coordinateSystem;if("geoJSON"===i.resourceType){var r=this.Hl;if(r){var e=r.get(t);return e?[e]:[]}}else if("geoSVG"===i.resourceType)return this.Ul&&this.Ul.get(t)||[]},t.prototype.Yl=function(t){return this.ql!==t},t.prototype.Xl=function(t){var n=KA(t);if(n&&"geoSVG"===n.type){var i=n.useGraphic(this.uid);this._l.add(i.root),this.jl=i,this.ql=t}},t.prototype.Gl=function(){var t=this.ql;if(null!=t){var n=KA(t);n&&"geoSVG"===n.type&&n.freeGraphic(this.uid),this.jl=null,this.Ul=null,this._l.removeAll(),this.ql=null}},t.prototype.Wl=function(t,n,i){var r=t.coordinateSystem,e=this.Rl,a=this.Fl;a.zoomLimit=t.get("scaleLimit"),a.zoom=r.getZoom(),e.enable(t.get("roam")||!1);var o=t.mainType;function u(){var n={type:"geoRoam",componentType:o};return n[o+"Id"]=t.id,n}e.off("pan").on("pan",(function(t){this.Kl=!1,hA(a,t.dx,t.dy),i.dispatchAction(D(u(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))}),this),e.off("zoom").on("zoom",(function(t){this.Kl=!1,cA(a,t.scale,t.originX,t.originY),i.dispatchAction(D(u(),{totalZoom:a.zoom,zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))}),this),e.setPointerChecker((function(n,e,a){return r.containPoint([e,a])&&!pA(n,i,t)}))},t.prototype.resetForLabelLayout=function(){this.group.traverse((function(t){var n=t.getTextContent();n&&(n.ignore=rN(n).ignore)}))},t.prototype.Vl=function(t,n,i,r){var e=this;n.off("mousedown"),n.off("click"),t.get("selectedMode")&&(n.on("mousedown",(function(){e.Kl=!0})),n.on("click",(function(t){e.Kl&&(e.Kl=!1)})))},t}();function uN(t,n,i,r){var e=r.getModel("itemStyle"),a=r.getModel(["emphasis","itemStyle"]),o=r.getModel(["blur","itemStyle"]),u=r.getModel(["select","itemStyle"]),s=eN(e),l=eN(a),f=eN(u),h=eN(o),c=t.data;if(c){var v=c.getItemVisual(i,"style"),d=c.getItemVisual(i,"decal");t.isVisualEncodedByVisualMap&&v.fill&&(s.fill=v.fill),d&&(s.decal=Ym(d,t.api))}n.setStyle(s),n.style.strokeNoScale=!0,n.ensureState("emphasis").style=l,n.ensureState("select").style=f,n.ensureState("blur").style=h,as(n)}function sN(t,n,i,r,e,a,o){var u=t.data,s=t.isGeo,l=u&&isNaN(u.get(u.mapDimension("value"),a)),f=u&&u.getItemLayout(a);if(s||l||f&&f.showLabel){var h=s?i:a,c=void 0;(!u||a>=0)&&(c=e);var v=o?{normal:{align:"center",verticalAlign:"middle"}}:null;zf(n,Lf(r),{labelFetcher:c,labelDataIndex:h,defaultText:i},v);var d=n.getTextContent();if(d&&(rN(d).ignore=d.ignore,n.textConfig&&o)){var p=n.getBoundingRect().clone();n.textConfig.layoutRect=p,n.textConfig.position=[(o[0]-p.x)/p.width*100+"%",(o[1]-p.y)/p.height*100+"%"]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function lN(t,n,i,r,e,a){t.data?t.data.setItemGraphicEl(a,n):Du(n).eventData={componentType:"geo",componentIndex:e.componentIndex,geoIndex:e.componentIndex,name:i,region:r&&r.option||{}}}function fN(t,n,i,r,e){t.data||Sf({el:n,componentModel:e,itemName:i,itemTooltipOption:r.get("tooltip")})}function hN(t,n,i,r,e){n.highDownSilentOnTouch=!!e.get("selectedMode");var a=r.getModel("emphasis"),o=a.get("focus");return Ms(n,o,a.get("blurScope"),a.get("disabled")),t.isGeo&&function(t,n,i){var r=Du(t);r.componentMainType=n.mainType,r.componentIndex=n.componentIndex,r.componentHighDownName=i}(n,e,i),o}function cN(t,n,i){var r,e=[];function a(){r=[]}function o(){r.length&&(e.push(r),r=[])}var u=n({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(t,n){isFinite(t)&&isFinite(n)&&r.push([t,n])},sphere:function(){}});return!i&&u.polygonStart(),E(t,(function(t){u.lineStart();for(var n=0;n<t.length;n++)u.point(t[n][0],t[n][1]);u.lineEnd()})),!i&&u.polygonEnd(),e}var vN=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i,r){if(!r||"mapToggleSelect"!==r.type||r.from!==this.uid){var e=this.group;if(e.removeAll(),!t.getHostGeoModel()){if(this.Jl&&r&&"geoRoam"===r.type&&this.Jl.resetForLabelLayout(),r&&"geoRoam"===r.type&&"series"===r.componentType&&r.seriesId===t.id)(a=this.Jl)&&e.add(a.group);else if(t.needsDrawMap){var a=this.Jl||new oN(i);e.add(a.group),a.draw(t,n,i,this,r),this.Jl=a}else this.Jl&&this.Jl.remove(),this.Jl=null;t.get("showLegendSymbol")&&n.getComponent("legend")&&this.$l(t,n,i)}}},n.prototype.remove=function(){this.Jl&&this.Jl.remove(),this.Jl=null,this.group.removeAll()},n.prototype.dispose=function(){this.Jl&&this.Jl.remove(),this.Jl=null},n.prototype.$l=function(t,n,i){var r=t.originalData,e=this.group;r.each(r.mapDimension("value"),(function(n,i){if(!isNaN(n)){var a=r.getItemLayout(i);if(a&&a.point){var o=a.point,u=a.offset,s=new $s({style:{fill:t.getData().getVisual("style").fill},shape:{cx:o[0]+9*u,cy:o[1],r:3},silent:!0,z2:8+(u?0:11)});if(!u){var l=t.mainSeries.getData(),f=r.getName(i),h=l.indexOfName(f),c=r.getItemModel(i),v=c.getModel("label"),d=l.getItemGraphicEl(h);zf(s,Lf(c),{labelFetcher:{getFormattedLabel:function(n,i){return t.getFormattedLabel(h,i)}},defaultText:f}),s.disableLabelAnimation=!0,v.get("position")||s.setTextConfig({position:"bottom"}),d.onHoverStateChange=function(t){rs(s,t)}}e.add(s)}}}))},n.type="map",n}(ep),dN=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.needsDrawMap=!1,i.seriesGroup=[],i.getTooltipPosition=function(t){if(null!=t){var n=this.getData().getName(t),i=this.coordinateSystem,r=i.getRegion(n);return r&&i.dataToPoint(r.getCenter())}},i}return l(n,t),n.prototype.getInitialData=function(t){for(var n=WS(this,{coordDimensions:["value"],encodeDefaulter:G(Cc,this)}),i=pt(),r=[],e=0,a=n.count();e<a;e++){var o=n.getName(e);i.set(o,e)}return E($A(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,(function(t){var e,a=t.name,o=i.get(a),u=t.properties&&t.properties.echartsStyle;null==o?(e={name:a},r.push(e)):e=n.getRawDataItem(o),u&&L(e,u)})),n.appendData(r),n},n.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(t){var n=this.getData();return n.get(n.mapDimension("value"),t)},n.prototype.getRegionModel=function(t){var n=this.getData();return n.getItemModel(n.indexOfName(t))},n.prototype.formatTooltip=function(t,n,i){for(var r=this.getData(),e=this.getRawValue(t),a=r.getName(t),o=this.seriesGroup,u=[],s=0;s<o.length;s++){var l=o[s].originalData.indexOfName(a),f=r.mapDimension("value");isNaN(o[s].originalData.get(f,l))||u.push(o[s].name)}return zd("section",{header:u.join(", "),noHeader:!u.length,blocks:[zd("nameValue",{name:a,value:e})]})},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.getLegendIcon=function(t){var n=t.icon||"roundRect",i=mm(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return i.setStyle(t.itemStyle),i.style.stroke="none",n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},n.type="series.map",n.dependencies=["geo"],n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},n}(Ud);function pN(t){var n={};t.eachSeriesByType("map",(function(t){var i=t.getHostGeoModel(),r=i?"o"+i.id:"i"+t.getMapType();(n[r]=n[r]||[]).push(t)})),E(n,(function(t,n){for(var i,r,e,a=(i=P(t,(function(t){return t.getData()})),r=t[0].get("mapValueCalculation"),e={},E(i,(function(t){t.each(t.mapDimension("value"),(function(n,i){var r="ec-"+t.getName(i);e[r]=e[r]||[],isNaN(n)||e[r].push(n)}))})),i[0].map(i[0].mapDimension("value"),(function(t,n){for(var a="ec-"+i[0].getName(n),o=0,u=1/0,s=-1/0,l=e[a].length,f=0;f<l;f++)u=Math.min(u,e[a][f]),s=Math.max(s,e[a][f]),o+=e[a][f];return 0===l?NaN:"min"===r?u:"max"===r?s:"average"===r?o/l:o}))),o=0;o<t.length;o++)t[o].originalData=t[o].getData();for(o=0;o<t.length;o++)t[o].seriesGroup=t,t[o].needsDrawMap=0===o&&!t[o].getHostGeoModel(),t[o].setData(a.cloneShallow()),t[o].mainSeries=t[0]}))}function mN(t){var n={};t.eachSeriesByType("map",(function(i){var r=i.getMapType();if(!i.getHostGeoModel()&&!n[r]){var e={};E(i.seriesGroup,(function(n){var i=n.coordinateSystem,r=n.originalData;n.get("showLegendSymbol")&&t.getComponent("legend")&&r.each(r.mapDimension("value"),(function(t,n){var a=r.getName(n),o=i.getRegion(a);if(o&&!isNaN(t)){var u=e[a]||0,s=i.dataToPoint(o.getCenter());e[a]=u+1,r.setItemLayout(n,{point:s,offset:u})}}))}));var a=i.getData();a.each((function(t){var n=a.getName(t),i=a.getItemLayout(t)||{};i.showLabel=!e[n],a.setItemLayout(t,i)})),n[r]=!0}}))}var yN=_t,gN=function(t){function n(n){var i=t.call(this)||this;return i.type="view",i.dimensions=["x","y"],i.Ql=new ne,i.tf=new ne,i.name=n,i}return l(n,t),n.prototype.setBoundingRect=function(t,n,i,r){return this.Bn=new In(t,n,i,r),this.Bn},n.prototype.getBoundingRect=function(){return this.Bn},n.prototype.setViewRect=function(t,n,i,r){this.nf(t,n,i,r),this.if=new In(t,n,i,r)},n.prototype.nf=function(t,n,i,r){var e=this.getBoundingRect(),a=this.tf;a.transform=e.calculateTransform(new In(t,n,i,r));var o=a.parent;a.parent=null,a.decomposeTransform(),a.parent=o,this.rf()},n.prototype.setCenter=function(t,n){t&&(this.No=[ze(t[0],n.getWidth()),ze(t[1],n.getHeight())],this.ef())},n.prototype.setZoom=function(t){t=t||1;var n=this.zoomLimit;n&&(null!=n.max&&(t=Math.min(n.max,t)),null!=n.min&&(t=Math.max(n.min,t))),this.af=t,this.ef()},n.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},n.prototype.getCenter=function(){return this.No||this.getDefaultCenter()},n.prototype.getZoom=function(){return this.af||1},n.prototype.getRoamTransform=function(){return this.Ql.getLocalTransform()},n.prototype.ef=function(){var t=this.tf.getLocalTransform(),n=this.Ql,i=this.getDefaultCenter(),r=this.getCenter(),e=this.getZoom();r=_t([],r,t),i=_t([],i,t),n.originX=r[0],n.originY=r[1],n.x=i[0]-r[0],n.y=i[1]-r[1],n.scaleX=n.scaleY=e,this.rf()},n.prototype.rf=function(){var t=this.Ql,n=this.tf;n.parent=t,t.updateTransform(),n.updateTransform(),dn(this.transform||(this.transform=[]),n.transform||[1,0,0,1,0,0]),this.uf=n.getLocalTransform(),this.invTransform=this.invTransform||[],bn(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var t=this.tf,n=this.Ql,i=new ne;return i.transform=n.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},n.prototype.getViewRect=function(){return this.if},n.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},n.prototype.dataToPoint=function(t,n,i){var r=n?this.uf:this.transform;return i=i||[],r?yN(i,t,r):At(i,t)},n.prototype.pointToData=function(t){var n=this.invTransform;return n?yN([],t,n):[t[0],t[1]]},n.prototype.convertToPixel=function(t,n,i){var r=bN(n);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,n,i){var r=bN(n);return r===this?r.pointToData(i):null},n.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},n.dimensions=["x","y"],n}(ne);function bN(t){var n=t.seriesModel;return n?n.coordinateSystem:null}var wN={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},xN=["lng","lat"],MN=function(t){function n(n,i,r){var e=t.call(this,n)||this;e.dimensions=xN,e.type="geo",e.sf=pt(),e.map=i;var a=r.projection,o=$A(i,r.nameMap,r.nameProperty),u=KA(i);e.resourceType=u?u.type:null;var s,l=e.regions=o.regions,f=wN[u.type];if(e.Il=o.regionsMap,e.regions=o.regions,e.projection=a,a)for(var h=0;h<l.length;h++){var c=l[h].getBoundingRect(a);(s=s||c.clone()).union(c)}else s=o.boundingRect;return e.setBoundingRect(s.x,s.y,s.width,s.height),e.aspectScale=a?1:rt(r.aspectScale,f.aspectScale),e.lf=!a&&f.invertLongitute,e}return l(n,t),n.prototype.nf=function(t,n,i,r){var e=this.getBoundingRect(),a=this.lf;e=e.clone(),a&&(e.y=-e.y-e.height);var o=this.tf;o.transform=e.calculateTransform(new In(t,n,i,r));var u=o.parent;o.parent=null,o.decomposeTransform(),o.parent=u,a&&(o.scaleY=-o.scaleY),this.rf()},n.prototype.getRegion=function(t){return this.Il.get(t)},n.prototype.getRegionByCoord=function(t){for(var n=this.regions,i=0;i<n.length;i++){var r=n[i];if("geoJSON"===r.type&&r.contain(t))return n[i]}},n.prototype.addGeoCoord=function(t,n){this.sf.set(t,n)},n.prototype.getGeoCoord=function(t){var n=this.Il.get(t);return this.sf.get(t)||n&&n.getCenter()},n.prototype.dataToPoint=function(t,n,i){if(j(t)&&(t=this.getGeoCoord(t)),t){var r=this.projection;return r&&(t=r.project(t)),t&&this.projectedToPoint(t,n,i)}},n.prototype.pointToData=function(t){var n=this.projection;return n&&(t=n.unproject(t)),t&&this.pointToProjected(t)},n.prototype.pointToProjected=function(n){return t.prototype.pointToData.call(this,n)},n.prototype.projectedToPoint=function(n,i,r){return t.prototype.dataToPoint.call(this,n,i,r)},n.prototype.convertToPixel=function(t,n,i){var r=SN(n);return r===this?r.dataToPoint(i):null},n.prototype.convertFromPixel=function(t,n,i){var r=SN(n);return r===this?r.pointToData(i):null},n}(gN);function SN(t){var n=t.geoModel,i=t.seriesModel;return n?n.coordinateSystem:i?i.coordinateSystem||(i.getReferringComponents("geo",ma).models[0]||{}).coordinateSystem:null}function kN(t,n){var i=t.get("boundingCoords");if(null!=i){var r=i[0],e=i[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(e[0])&&isFinite(e[1])){var a=this.projection;if(a){var o=r[0],u=r[1],s=e[0],l=e[1];r=[1/0,1/0],e=[-1/0,-1/0];var f=function(t,n,i,o){for(var u=i-t,s=o-n,l=0;l<=100;l++){var f=l/100,h=a.project([t+u*f,n+s*f]);Et(r,r,h),Pt(e,e,h)}};f(o,u,s,u),f(s,u,s,l),f(s,l,o,l),f(o,l,s,u)}this.setBoundingRect(r[0],r[1],e[0]-r[0],e[1]-r[1])}else;}var h,c,v,d=this.getBoundingRect(),p=t.get("layoutCenter"),m=t.get("layoutSize"),y=n.getWidth(),g=n.getHeight(),b=d.width/d.height*this.aspectScale,w=!1;if(p&&m&&(h=[ze(p[0],y),ze(p[1],g)],c=ze(m,Math.min(y,g)),isNaN(h[0])||isNaN(h[1])||isNaN(c)||(w=!0)),w)v={},b>1?(v.width=c,v.height=c/b):(v.height=c,v.width=c*b),v.y=h[1]-v.height/2,v.x=h[0]-v.width/2;else{var x=t.getBoxLayoutParams();x.aspect=b,v=ic(x,{width:y,height:g})}this.setViewRect(v.x,v.y,v.width,v.height),this.setCenter(t.get("center"),n),this.setZoom(t.get("zoom"))}B(MN,gN);var AN=function(){function t(){this.dimensions=xN}return t.prototype.create=function(t,n){var i=[];function r(t){return{nameProperty:t.get("nameProperty"),aspectScale:t.get("aspectScale"),projection:t.get("projection")}}t.eachComponent("geo",(function(t,e){var a=t.get("map"),o=new MN(a+e,a,D({nameMap:t.get("nameMap")},r(t)));o.zoomLimit=t.get("scaleLimit"),i.push(o),t.coordinateSystem=o,o.model=t,o.resize=kN,o.resize(t,n)})),t.eachSeries((function(t){if("geo"===t.get("coordinateSystem")){var n=t.get("geoIndex")||0;t.coordinateSystem=i[n]}}));var e={};return t.eachSeriesByType("map",(function(t){if(!t.getHostGeoModel()){var n=t.getMapType();e[n]=e[n]||[],e[n].push(t)}})),E(e,(function(t,e){var a=P(t,(function(t){return t.get("nameMap")})),o=new MN(e,e,D({nameMap:O(a)},r(t[0])));o.zoomLimit=it.apply(null,P(t,(function(t){return t.get("scaleLimit")}))),i.push(o),o.resize=kN,o.resize(t[0],n),E(t,(function(t){t.coordinateSystem=o,function(t,n){E(n.get("geoCoord"),(function(n,i){t.addGeoCoord(i,n)}))}(o,t)}))})),i},t.prototype.getFilledRegions=function(t,n,i,r){for(var e=(t||[]).slice(),a=pt(),o=0;o<e.length;o++)a.set(e[o].name,e[o]);return E($A(n,i,r).regions,(function(t){var n=t.name,i=a.get(n),r=t.properties&&t.properties.echartsStyle;i||(i={name:n},e.push(i)),r&&L(i,r)})),e},t}(),NN=new AN,CN=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(t,n,i){var r=KA(t.map);if(r&&"geoJSON"===r.type){var e=t.itemStyle=t.itemStyle||{};"color"in e||(e.color="#eee")}this.mergeDefaultAndTheme(t,i),na(t,"label",["show"])},n.prototype.optionUpdated=function(){var t=this,n=this.option;n.regions=NN.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var i={};this.ff=W(n.regions||[],(function(n,r){var e=r.name;return e&&(n.set(e,new th(r,t,t.ecModel)),r.selected&&(i[e]=!0)),n}),pt()),n.selectedMap||(n.selectedMap=i)},n.prototype.getRegionModel=function(t){return this.ff.get(t)||new th(null,this,this.ecModel)},n.prototype.getFormattedLabel=function(t,n){var i=this.getRegionModel(t),r="normal"===n?i.get(["label","formatter"]):i.get(["emphasis","label","formatter"]),e={name:t};return U(r)?(e.status=n,r(e)):j(r)?r.replace("{a}",null!=t?t:""):void 0},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.select=function(t){var n=this.option,i=n.selectedMode;i&&("multiple"!==i&&(n.selectedMap=null),(n.selectedMap||(n.selectedMap={}))[t]=!0)},n.prototype.unSelect=function(t){var n=this.option.selectedMap;n&&(n[t]=!1)},n.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},n.prototype.isSelected=function(t){var n=this.option.selectedMap;return!(!n||!n[t])},n.type="geo",n.layoutMode="box",n.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},n}(lc);function TN(t,n){return t.pointToProjected?t.pointToProjected(n):t.pointToData(n)}function IN(t,n,i,r){var e=t.getZoom(),a=t.getCenter(),o=n.zoom,u=t.projectedToPoint?t.projectedToPoint(a):t.dataToPoint(a);if(null!=n.dx&&null!=n.dy&&(u[0]-=n.dx,u[1]-=n.dy,t.setCenter(TN(t,u),r)),null!=o){if(i){var s=i.min||0,l=i.max||1/0;o=Math.max(Math.min(e*o,l),s)/e}t.scaleX*=o,t.scaleY*=o;var f=(n.originX-t.x)*(o-1),h=(n.originY-t.y)*(o-1);t.x-=f,t.y-=h,t.updateTransform(),t.setCenter(TN(t,u),r),t.setZoom(o*e)}return{center:t.getCenter(),zoom:t.getZoom()}}var zN=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.focusBlurEnabled=!0,i}return l(n,t),n.prototype.init=function(t,n){this.Gi=n},n.prototype.render=function(t,n,i,r){if(this.Xe=t,!t.get("show"))return this.Jl&&this.Jl.remove(),void(this.Jl=null);this.Jl||(this.Jl=new oN(i));var e=this.Jl;e.draw(t,n,i,this,r),e.group.on("click",this.hf,this),e.group.silent=t.get("silent"),this.group.add(e.group),this.updateSelectStatus(t,n,i)},n.prototype.hf=function(t){var n;em(t.target,(function(t){return null!=(n=Du(t).eventData)}),!0),n&&this.Gi.dispatchAction({type:"geoToggleSelect",geoId:this.Xe.id,name:n.name})},n.prototype.updateSelectStatus=function(t,n,i){var r=this;this.Jl.group.traverse((function(t){var n=Du(t).eventData;if(n)return r.Xe.isSelected(n.name)?i.enterSelect(t):i.leaveSelect(t),!0}))},n.prototype.findHighDownDispatchers=function(t){return this.Jl&&this.Jl.findHighDownDispatchers(t,this.Xe)},n.prototype.dispose=function(){this.Jl&&this.Jl.remove()},n.type="geo",n}(tp);function LN(t,n,i){qA(t,n,i)}function ON(t){function n(n,i){i.update="geo:updateSelectStatus",t.registerAction(i,(function(t,i){var r={},e=[];return i.eachComponent({mainType:"geo",query:t},(function(i){i[n](t.name),E(i.coordinateSystem.regions,(function(t){r[t.name]=i.isSelected(t.name)||!1}));var a=[];E(r,(function(t,n){r[n]&&a.push(n)})),e.push({geoIndex:i.componentIndex,name:a})})),{selected:r,allSelected:e,name:t.name}}))}t.registerCoordinateSystem("geo",NN),t.registerComponentModel(CN),t.registerComponentView(zN),t.registerImpl("registerMap",LN),t.registerImpl("getMap",(function(t){return JA(t)})),n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},(function(t,n,i){var r=t.componentType||"series";n.eachComponent({mainType:r,query:t},(function(n){var e=n.coordinateSystem;if("geo"===e.type){var a=IN(e,t,n.get("scaleLimit"),i);n.setCenter&&n.setCenter(a.center),n.setZoom&&n.setZoom(a.zoom),"series"===r&&E(n.seriesGroup,(function(t){t.setCenter(a.center),t.setZoom(a.zoom)}))}}))}))}function DN(t,n){var i=t.isExpand?t.children:[],r=t.parentNode.children,e=t.hierNode.i?r[t.hierNode.i-1]:null;if(i.length){!function(t){var n=t.children,i=n.length,r=0,e=0;for(;--i>=0;){var a=n[i];a.hierNode.prelim+=r,a.hierNode.modifier+=r,e+=a.hierNode.change,r+=a.hierNode.shift+e}}(t);var a=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;e?(t.hierNode.prelim=e.hierNode.prelim+n(t,e),t.hierNode.modifier=t.hierNode.prelim-a):t.hierNode.prelim=a}else e&&(t.hierNode.prelim=e.hierNode.prelim+n(t,e));t.parentNode.hierNode.defaultAncestor=function(t,n,i,r){if(n){for(var e=t,a=t,o=a.parentNode.children[0],u=n,s=e.hierNode.modifier,l=a.hierNode.modifier,f=o.hierNode.modifier,h=u.hierNode.modifier;u=_N(u),a=EN(a),u&&a;){e=_N(e),o=EN(o),e.hierNode.ancestor=t;var c=u.hierNode.prelim+h-a.hierNode.prelim-l+r(u,a);c>0&&(WN(PN(u,t,i),t,c),l+=c,s+=c),h+=u.hierNode.modifier,l+=a.hierNode.modifier,s+=e.hierNode.modifier,f+=o.hierNode.modifier}u&&!_N(e)&&(e.hierNode.thread=u,e.hierNode.modifier+=h-s),a&&!EN(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=l-f,i=t)}return i}(t,e,t.parentNode.hierNode.defaultAncestor||r[0],n)}function RN(t){var n=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:n},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function FN(t){return arguments.length?t:VN}function BN(t,n){return t-=Math.PI/2,{x:n*Math.cos(t),y:n*Math.sin(t)}}function _N(t){var n=t.children;return n.length&&t.isExpand?n[n.length-1]:t.hierNode.thread}function EN(t){var n=t.children;return n.length&&t.isExpand?n[0]:t.hierNode.thread}function PN(t,n,i){return t.hierNode.ancestor.parentNode===n.parentNode?t.hierNode.ancestor:i}function WN(t,n,i){var r=i/(n.hierNode.i-t.hierNode.i);n.hierNode.change-=r,n.hierNode.shift+=i,n.hierNode.modifier+=i,n.hierNode.prelim+=i,t.hierNode.change+=r}function VN(t,n){return t.parentNode===n.parentNode?1:2}var HN=function(){return function(){this.parentPoint=[],this.childPoints=[]}}(),YN=function(t){function n(n){return t.call(this,n)||this}return l(n,t),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new HN},n.prototype.buildPath=function(t,n){var i=n.childPoints,r=i.length,e=n.parentPoint,a=i[0],o=i[r-1];if(1===r)return t.moveTo(e[0],e[1]),void t.lineTo(a[0],a[1]);var u=n.orient,s="TB"===u||"BT"===u?0:1,l=1-s,f=ze(n.forkPosition,1),h=[];h[s]=e[s],h[l]=e[l]+(o[l]-e[l])*f,t.moveTo(e[0],e[1]),t.lineTo(h[0],h[1]),t.moveTo(a[0],a[1]),h[s]=a[s],t.lineTo(h[0],h[1]),h[s]=o[s],t.lineTo(h[0],h[1]),t.lineTo(o[0],o[1]);for(var c=1;c<r-1;c++){var v=i[c];t.moveTo(v[0],v[1]),h[s]=v[s],t.lineTo(h[0],h[1])}},n}(au),GN=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.cf=new Se,i}return l(n,t),n.prototype.init=function(t,n){this.Rl=new uA(n.getZr()),this.Fl={target:this.group},this.group.add(this.cf)},n.prototype.render=function(t,n,i){var r=t.getData(),e=t.layoutInfo,a=this.cf;"radial"===t.get("layout")?(a.x=e.x+e.width/2,a.y=e.y+e.height/2):(a.x=e.x,a.y=e.y),this.vf(t,i),this.Wl(t,n,i);var o=this.qi;r.diff(o).add((function(n){XN(r,n)&&UN(r,n,null,a,t)})).update((function(n,i){var e=o.getItemGraphicEl(i);XN(r,n)?UN(r,n,e,a,t):e&&qN(o,i,e,a,t)})).remove((function(n){var i=o.getItemGraphicEl(n);i&&qN(o,n,i,a,t)})).execute(),this.df=t.get("nodeScaleRatio"),this.pf(t),!0===t.get("expandAndCollapse")&&r.eachItemGraphicEl((function(n,r){n.off("click").on("click",(function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:r})}))})),this.qi=r},n.prototype.vf=function(t,n){var i=t.getData(),r=[];i.each((function(t){var n=i.getItemLayout(t);!n||isNaN(n.x)||isNaN(n.y)||r.push([+n.x,+n.y])}));var e=[],a=[];vo(r,e,a);var o=this.mf,u=this.yf;a[0]-e[0]==0&&(e[0]=o?o[0]:e[0]-1,a[0]=u?u[0]:a[0]+1),a[1]-e[1]==0&&(e[1]=o?o[1]:e[1]-1,a[1]=u?u[1]:a[1]+1);var s=t.coordinateSystem=new gN;s.zoomLimit=t.get("scaleLimit"),s.setBoundingRect(e[0],e[1],a[0]-e[0],a[1]-e[1]),s.setCenter(t.get("center"),n),s.setZoom(t.get("zoom")),this.group.attr({x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY}),this.mf=e,this.yf=a},n.prototype.Wl=function(t,n,i){var r=this,e=this.Rl,a=this.Fl,o=this.group;e.setPointerChecker((function(n,r,e){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(r,e)&&!pA(n,i,t)})),e.enable(t.get("roam")),a.zoomLimit=t.get("scaleLimit"),a.zoom=t.coordinateSystem.getZoom(),e.off("pan").off("zoom").on("pan",(function(n){hA(a,n.dx,n.dy),i.dispatchAction({seriesId:t.id,type:"treeRoam",dx:n.dx,dy:n.dy})})).on("zoom",(function(n){cA(a,n.scale,n.originX,n.originY),i.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:n.scale,originX:n.originX,originY:n.originY}),r.pf(t),i.updateLabelLayout()}))},n.prototype.pf=function(t){var n=t.getData(),i=this.gf(t);n.eachItemGraphicEl((function(t,n){t.setSymbolScale(i)}))},n.prototype.gf=function(t){var n=t.coordinateSystem;if("view"!==n.type)return 1;var i=this.df,r=n.scaleX||1;return((n.getZoom()-1)*i+1)/r},n.prototype.dispose=function(){this.Rl&&this.Rl.dispose(),this.Fl=null},n.prototype.remove=function(){this.cf.removeAll(),this.qi=null},n.type="tree",n}(ep);function XN(t,n){var i=t.getItemLayout(n);return i&&!isNaN(i.x)&&!isNaN(i.y)}function UN(t,n,i,r,e){var a=!i,o=t.tree.getNodeByDataIndex(n),u=o.getModel(),s=o.getVisual("style").fill,l=!1===o.isExpand&&0!==o.children.length?s:"#fff",f=t.tree.root,h=o.parentNode===f?o:o.parentNode||o,c=t.getItemGraphicEl(h.dataIndex),v=h.getLayout(),d=c?{x:c.bf,y:c.wf,rawX:c.xf,rawY:c.Mf}:v,p=o.getLayout();a?((i=new wM(t,n,null,{symbolInnerColor:l,useNameLabel:!0})).x=d.x,i.y=d.y):i.updateData(t,n,null,{symbolInnerColor:l,useNameLabel:!0}),i.xf=i.Sf,i.Mf=i.kf,i.Sf=p.rawX,i.kf=p.rawY,r.add(i),t.setItemGraphicEl(n,i),i.bf=i.x,i.wf=i.y,Ul(i,{x:p.x,y:p.y},e);var m=i.getSymbolPath();if("radial"===e.get("layout")){var y=f.children[0],g=y.getLayout(),b=y.children.length,w=void 0,x=void 0;if(p.x===g.x&&!0===o.isExpand&&y.children.length){var M={x:(y.children[0].getLayout().x+y.children[b-1].getLayout().x)/2,y:(y.children[0].getLayout().y+y.children[b-1].getLayout().y)/2};(w=Math.atan2(M.y-g.y,M.x-g.x))<0&&(w=2*Math.PI+w),(x=M.x<g.x)&&(w-=Math.PI)}else(w=Math.atan2(p.y-g.y,p.x-g.x))<0&&(w=2*Math.PI+w),0===o.children.length||0!==o.children.length&&!1===o.isExpand?(x=p.x<g.x)&&(w-=Math.PI):(x=p.x>g.x)||(w-=Math.PI);var S=x?"left":"right",k=u.getModel("label"),A=k.get("rotate"),N=A*(Math.PI/180),C=m.getTextContent();C&&(m.setTextConfig({position:k.get("position")||S,rotation:null==A?-w:N,origin:"center"}),C.setStyle("verticalAlign","middle"))}var T=u.get(["emphasis","focus"]),I="relative"===T?mt(o.getAncestorsIndices(),o.getDescendantIndices()):"ancestor"===T?o.getAncestorsIndices():"descendant"===T?o.getDescendantIndices():null;I&&(Du(i).focus=I),function(t,n,i,r,e,a,o,u){var s=n.getModel(),l=t.get("edgeShape"),f=t.get("layout"),h=t.getOrient(),c=t.get(["lineStyle","curveness"]),v=t.get("edgeForkPosition"),d=s.getModel("lineStyle").getLineStyle(),p=r.Af;if("curve"===l)n.parentNode&&n.parentNode!==i&&(p||(p=r.Af=new Il({shape:KN(f,h,c,e,e)})),Ul(p,{shape:KN(f,h,c,a,o)},t));else if("polyline"===l&&"orthogonal"===f&&n!==i&&n.children&&0!==n.children.length&&!0===n.isExpand){for(var m=n.children,y=[],g=0;g<m.length;g++){var b=m[g].getLayout();y.push([b.x,b.y])}p||(p=r.Af=new YN({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:h,forkPosition:v}})),Ul(p,{shape:{parentPoint:[o.x,o.y],childPoints:y}},t)}p&&("polyline"!==l||n.isExpand)&&(p.useStyle(R({strokeNoScale:!0,fill:null},d)),Ns(p,s,"lineStyle"),as(p),u.add(p))}(e,o,f,i,d,v,p,r),i.Af&&(i.onHoverStateChange=function(n){if("blur"!==n){var r=o.parentNode&&t.getItemGraphicEl(o.parentNode.dataIndex);r&&1===r.hoverState||rs(i.Af,n)}})}function jN(t,n,i,r,e){var a=ZN(n.tree.root,t),o=a.source,u=a.sourceLayout,s=n.getItemGraphicEl(t.dataIndex);if(s){var l=n.getItemGraphicEl(o.dataIndex).Af,f=s.Af||(!1===o.isExpand||1===o.children.length?l:void 0),h=r.get("edgeShape"),c=r.get("layout"),v=r.get("orient"),d=r.get(["lineStyle","curveness"]);f&&("curve"===h?ql(f,{shape:KN(c,v,d,u,u),style:{opacity:0}},r,{cb:function(){i.remove(f)},removeOpt:e}):"polyline"===h&&"orthogonal"===r.get("layout")&&ql(f,{shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]]},style:{opacity:0}},r,{cb:function(){i.remove(f)},removeOpt:e}))}}function ZN(t,n){for(var i,r=n.parentNode===t?n:n.parentNode||n;null==(i=r.getLayout());)r=r.parentNode===t?r:r.parentNode||r;return{source:r,sourceLayout:i}}function qN(t,n,i,r,e){var a=t.tree.getNodeByDataIndex(n),o=ZN(t.tree.root,a).sourceLayout,u={duration:e.get("animationDurationUpdate"),easing:e.get("animationEasingUpdate")};ql(i,{x:o.x+1,y:o.y+1},e,{cb:function(){r.remove(i),t.setItemGraphicEl(n,null)},removeOpt:u}),i.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:u}),a.children.forEach((function(n){jN(n,t,r,e,u)})),jN(a,t,r,e,u)}function KN(t,n,i,r,e){var a,o,u,s,l,f,h,c;if("radial"===t){l=r.rawX,h=r.rawY,f=e.rawX,c=e.rawY;var v=BN(l,h),d=BN(l,h+(c-h)*i),p=BN(f,c+(h-c)*i),m=BN(f,c);return{x1:v.x||0,y1:v.y||0,x2:m.x||0,y2:m.y||0,cpx1:d.x||0,cpy1:d.y||0,cpx2:p.x||0,cpy2:p.y||0}}return l=r.x,h=r.y,f=e.x,c=e.y,"LR"!==n&&"RL"!==n||(a=l+(f-l)*i,o=h,u=f+(l-f)*i,s=c),"TB"!==n&&"BT"!==n||(a=l,o=h+(c-h)*i,u=f,s=c+(h-c)*i),{x1:l,y1:h,x2:f,y2:c,cpx1:a,cpy1:o,cpx2:u,cpy2:s}}var JN=ca();function $N(t){var n=t.mainData,i=t.datas;i||(i={main:n},t.datasAttr={main:"data"}),t.datas=t.mainData=null,eC(n,i,t),E(i,(function(i){E(n.TRANSFERABLE_METHODS,(function(n){i.wrapMethod(n,G(QN,t))}))})),n.wrapMethod("cloneShallow",G(nC,t)),E(n.CHANGABLE_METHODS,(function(i){n.wrapMethod(i,G(tC,t))})),ut(i[n.dataType]===n)}function QN(t,n){if(JN(r=this).mainData===r){var i=D({},JN(this).datas);i[this.dataType]=n,eC(n,i,t)}else aC(n,this.dataType,JN(this).mainData,t);var r;return n}function tC(t,n){return t.struct&&t.struct.update(),n}function nC(t,n){return E(JN(n).datas,(function(i,r){i!==n&&aC(i.cloneShallow(),r,n,t)})),n}function iC(t){var n=JN(this).mainData;return null==t||null==n?n:JN(n).datas[t]}function rC(){var t=JN(this).mainData;return null==t?[{data:t}]:P(H(JN(t).datas),(function(n){return{type:n,data:JN(t).datas[n]}}))}function eC(t,n,i){JN(t).datas={},E(n,(function(n,r){aC(n,r,t,i)}))}function aC(t,n,i,r){JN(i).datas[n]=t,JN(t).mainData=i,t.dataType=n,r.struct&&(t[r.structAttr]=r.struct,r.struct[r.datasAttr[n]]=t),t.getLinkedData=iC,t.getLinkedDataAll=rC}var oC=function(){function t(t,n){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=n}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,n,i){U(t)&&(i=n,n=t,t=null),j(t=t||{})&&(t={order:t});var r,e=t.order||"preorder",a=this[t.attr||"children"];"preorder"===e&&(r=n.call(i,this));for(var o=0;!r&&o<a.length;o++)a[o].eachNode(t,n,i);"postorder"===e&&n.call(i,this)},t.prototype.updateDepthAndHeight=function(t){var n=0;this.depth=t;for(var i=0;i<this.children.length;i++){var r=this.children[i];r.updateDepthAndHeight(t+1),r.height>n&&(n=r.height)}this.height=n+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var n=0,i=this.children,r=i.length;n<r;n++){var e=i[n].getNodeById(t);if(e)return e}},t.prototype.contains=function(t){if(t===this)return!0;for(var n=0,i=this.children,r=i.length;n<r;n++){var e=i[n].contains(t);if(e)return e}},t.prototype.getAncestors=function(t){for(var n=[],i=t?this:this.parentNode;i;)n.push(i),i=i.parentNode;return n.reverse(),n},t.prototype.getAncestorsIndices=function(){for(var t=[],n=this;n;)t.push(n.dataIndex),n=n.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode((function(n){t.push(n.dataIndex)})),t},t.prototype.getValue=function(t){var n=this.hostTree.data;return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},t.prototype.setLayout=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,n)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,n)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,n=0;n<t.length;++n)if(t[n]===this)return n;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var n=t.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),uC=function(){function t(t){this.type="tree",this.Nf=[],this.hostModel=t}return t.prototype.eachNode=function(t,n,i){this.root.eachNode(t,n,i)},t.prototype.getNodeByDataIndex=function(t){var n=this.data.getRawIndex(t);return this.Nf[n]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,n=this.Nf,i=0,r=n.length;i<r;i++)n[i].dataIndex=-1;for(i=0,r=t.count();i<r;i++)n[t.getRawIndex(i)].dataIndex=i},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(n,i,r){var e=new t(i),a=[],o=1;!function t(n,i){var r=n.value;o=Math.max(o,X(r)?r.length:1),a.push(n);var u=new oC(sa(n.name,""),e);i?function(t,n){var i=n.children;if(t.parentNode===n)return;i.push(t),t.parentNode=n}(u,i):e.root=u,e.Nf.push(u);var s=n.children;if(s)for(var l=0;l<s.length;l++)t(s[l],u)}(n),e.root.updateDepthAndHeight(0);var u=Cg(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,s=new Ng(u,i);return s.initData(a),r&&r(s),$N({mainData:s,struct:e,structAttr:"tree"}),e.update(),e},t}();function sC(t,n,i){if(t&&F(n,t.type)>=0){var r=i.getData().tree.root,e=t.targetNode;if(j(e)&&(e=r.getNodeById(e)),e&&r.contains(e))return{node:e};var a=t.targetNodeId;if(null!=a&&(e=r.getNodeById(a)))return{node:e}}}function lC(t){for(var n=[];t;)(t=t.parentNode)&&n.push(t);return n.reverse()}function fC(t,n){return F(lC(t),n)>=0}function hC(t,n){for(var i=[];t;){var r=t.dataIndex;i.push({name:t.name,dataIndex:r,value:n.getRawValue(r)}),t=t.parentNode}return i.reverse(),i}var cC=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.hasSymbolVisual=!0,n.ignoreStyleOnData=!0,n}return l(n,t),n.prototype.getInitialData=function(t){var n={name:t.name,children:t.data},i=t.leaves||{},r=new th(i,this,this.ecModel),e=uC.createTree(n,this,(function(t){t.wrapMethod("getItemModel",(function(t,n){var i=e.getNodeByDataIndex(n);return i&&i.children.length&&i.isExpand||(t.parentModel=r),t}))}));var a=0;e.eachNode("preorder",(function(t){t.depth>a&&(a=t.depth)}));var o=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:a;return e.root.eachNode("preorder",(function(t){var n=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=n&&null!=n.collapsed?!n.collapsed:t.depth<=o})),e.data},n.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.formatTooltip=function(t,n,i){for(var r=this.getData().tree,e=r.root.children[0],a=r.getNodeByDataIndex(t),o=a.getValue(),u=a.name;a&&a!==e;)u=a.parentNode.name+"."+u,a=a.parentNode;return zd("nameValue",{name:u,value:o,noValue:isNaN(o)||null==o})},n.prototype.getDataParams=function(n){var i=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(n);return i.treeAncestors=hC(r,this),i.collapsed=!r.isExpand,i},n.type="series.tree",n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},n}(Ud);function vC(t,n){for(var i,r=[t];i=r.pop();)if(n(i),i.isExpand){var e=i.children;if(e.length)for(var a=e.length-1;a>=0;a--)r.push(e[a])}}function dC(t,n){t.eachSeriesByType("tree",(function(t){!function(t,n){var i=function(t,n){return ic(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}(t,n);t.layoutInfo=i;var r=t.get("layout"),e=0,a=0,o=null;"radial"===r?(e=2*Math.PI,a=Math.min(i.height,i.width)/2,o=FN((function(t,n){return(t.parentNode===n.parentNode?1:2)/t.depth}))):(e=i.width,a=i.height,o=FN());var u=t.getData().tree.root,s=u.children[0];if(s){!function(t){var n=t;n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var i,r,e=[n];i=e.pop();)if(r=i.children,i.isExpand&&r.length)for(var a=r.length-1;a>=0;a--){var o=r[a];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},e.push(o)}}(u),function(t,n,i){for(var r,e=[t],a=[];r=e.pop();)if(a.push(r),r.isExpand){var o=r.children;if(o.length)for(var u=0;u<o.length;u++)e.push(o[u])}for(;r=a.pop();)n(r,i)}(s,DN,o),u.hierNode.modifier=-s.hierNode.prelim,vC(s,RN);var l=s,f=s,h=s;vC(s,(function(t){var n=t.getLayout().x;n<l.getLayout().x&&(l=t),n>f.getLayout().x&&(f=t),t.depth>h.depth&&(h=t)}));var c=l===f?1:o(l,f)/2,v=c-l.getLayout().x,d=0,p=0,m=0,y=0;if("radial"===r)d=e/(f.getLayout().x+c+v),p=a/(h.depth-1||1),vC(s,(function(t){m=(t.getLayout().x+v)*d,y=(t.depth-1)*p;var n=BN(m,y);t.setLayout({x:n.x,y:n.y,rawX:m,rawY:y},!0)}));else{var g=t.getOrient();"RL"===g||"LR"===g?(p=a/(f.getLayout().x+c+v),d=e/(h.depth-1||1),vC(s,(function(t){y=(t.getLayout().x+v)*p,m="LR"===g?(t.depth-1)*d:e-(t.depth-1)*d,t.setLayout({x:m,y:y},!0)}))):"TB"!==g&&"BT"!==g||(d=e/(f.getLayout().x+c+v),p=a/(h.depth-1||1),vC(s,(function(t){m=(t.getLayout().x+v)*d,y="TB"===g?(t.depth-1)*p:a-(t.depth-1)*p,t.setLayout({x:m,y:y},!0)})))}}}(t,n)}))}function pC(t){t.eachSeriesByType("tree",(function(t){var n=t.getData();n.tree.eachNode((function(t){var i=t.getModel().getModel("itemStyle").getItemStyle();D(n.ensureUniqueItemVisual(t.dataIndex,"style"),i)}))}))}var mC=["treemapZoomToNode","treemapRender","treemapMove"];function yC(t){var n=t.getData().tree,i={};n.eachNode((function(n){for(var r=n;r&&r.depth>1;)r=r.parentNode;var e=Ec(t.ecModel,r.name||r.dataIndex+"",i);n.setVisual("decal",e)}))}var gC=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.preventUsingHoverLayer=!0,i}return l(n,t),n.prototype.getInitialData=function(t,n){var i={name:t.name,children:t.data};bC(i);var r=t.levels||[],e=this.designatedVisualItemStyle={},a=new th({itemStyle:e},this,n);r=t.levels=function(t,n){var i,r,e=ta(n.get("color")),a=ta(n.get(["aria","decal","decals"]));if(!e)return;t=t||[],E(t,(function(t){var n=new th(t),e=n.get("color"),a=n.get("decal");(n.get(["itemStyle","color"])||e&&"none"!==e)&&(i=!0),(n.get(["itemStyle","decal"])||a&&"none"!==a)&&(r=!0)}));var o=t[0]||(t[0]={});i||(o.color=e.slice());!r&&a&&(o.decal=a.slice());return t}(r,n);var o=P(r||[],(function(t){return new th(t,a,n)}),this),u=uC.createTree(i,this,(function(t){t.wrapMethod("getItemModel",(function(t,n){var i=u.getNodeByDataIndex(n),r=i?o[i.depth]:null;return t.parentModel=r||a,t}))}));return u.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(t,n,i){var r=this.getData(),e=this.getRawValue(t);return zd("nameValue",{name:r.getName(t),value:e})},n.prototype.getDataParams=function(n){var i=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(n);return i.treeAncestors=hC(r,this),i.treePathInfo=i.treeAncestors,i},n.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},D(this.layoutInfo,t)},n.prototype.mapIdToIndex=function(t){var n=this.Cf;n||(n=this.Cf=pt(),this.Tf=0);var i=n.get(t);return null==i&&n.set(t,i=this.Tf++),i},n.prototype.getViewRoot=function(){return this.If},n.prototype.resetViewRoot=function(t){t?this.If=t:t=this.If;var n=this.getRawData().tree.root;t&&(t===n||n.contains(t))||(this.If=n)},n.prototype.enableAriaDecal=function(){yC(this)},n.type="series.treemap",n.layoutMode="box",n.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},n}(Ud);function bC(t){var n=0;E(t.children,(function(t){bC(t);var i=t.value;X(i)&&(i=i[0]),n+=i}));var i=t.value;X(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=n),i<0&&(i=0),X(t.value)?t.value[0]=i:t.value=i}var wC=function(){function t(t){this.group=new Se,t.add(this.group)}return t.prototype.render=function(t,n,i,r){var e=t.getModel("breadcrumb"),a=this.group;if(a.removeAll(),e.get("show")&&i){var o=e.getModel("itemStyle"),u=e.getModel("emphasis"),s=o.getModel("textStyle"),l=u.getModel(["itemStyle","textStyle"]),f={pos:{left:e.get("left"),right:e.get("right"),top:e.get("top"),bottom:e.get("bottom")},box:{width:n.getWidth(),height:n.getHeight()},emptyItemWidth:e.get("emptyItemWidth"),totalWidth:0,renderList:[]};this.zf(i,f,s),this.Lf(t,f,o,u,s,l,r),rc(a,f.pos,f.box)}},t.prototype.zf=function(t,n,i){for(var r=t;r;r=r.parentNode){var e=sa(r.getModel().get("name"),""),a=i.getTextRect(e),o=Math.max(a.width+16,n.emptyItemWidth);n.totalWidth+=o+8,n.renderList.push({node:r,text:e,width:o})}},t.prototype.Lf=function(t,n,i,r,e,a,o){for(var u,s,l,f,h,c,v,d,p,m=0,y=n.emptyItemWidth,g=t.get(["breadcrumb","height"]),b=(u=n.pos,s=n.box,f=s.width,h=s.height,c=ze(u.left,f),v=ze(u.top,h),d=ze(u.right,f),p=ze(u.bottom,h),(isNaN(c)||isNaN(parseFloat(u.left)))&&(c=0),(isNaN(d)||isNaN(parseFloat(u.right)))&&(d=f),(isNaN(v)||isNaN(parseFloat(u.top)))&&(v=0),(isNaN(p)||isNaN(parseFloat(u.bottom)))&&(p=h),l=Gh(l||0),{width:Math.max(d-c-l[1]-l[3],0),height:Math.max(p-v-l[0]-l[2],0)}),w=n.totalWidth,x=n.renderList,M=r.getModel("itemStyle").getItemStyle(),S=x.length-1;S>=0;S--){var k=x[S],A=k.node,N=k.width,C=k.text;w>b.width&&(w-=N-y,N=y,C=null);var T=new wl({shape:{points:xC(m,0,N,g,S===x.length-1,0===S)},style:R(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new wu({style:Of(e,{text:C})}),textConfig:{position:"inside"},z2:1e5,onclick:G(o,A)});T.disableLabelAnimation=!0,T.getTextContent().ensureState("emphasis").style=Of(a,{text:C}),T.ensureState("emphasis").style=M,Ms(T,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(T),MC(T,t,A),m+=N+8}},t.prototype.remove=function(){this.group.removeAll()},t}();function xC(t,n,i,r,e,a){var o=[[e?t:t-5,n],[t+i,n],[t+i,n+r],[e?t:t-5,n+r]];return!a&&o.splice(2,0,[t+i+5,n+r/2]),!e&&o.push([t,n+r/2]),o}function MC(t,n,i){Du(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&hC(i,n)}}var SC=function(){function t(){this.Of=[],this.Df={}}return t.prototype.add=function(t,n,i,r,e){return!this.Df[t.id]&&(this.Df[t.id]=!0,this.Of.push({el:t,target:n,duration:i,delay:r,easing:e}),!0)},t.prototype.finished=function(t){return this.Rf=t,this},t.prototype.start=function(){for(var t=this,n=this.Of.length,i=function(){--n<=0&&(t.Of.length=0,t.Df={},t.Rf&&t.Rf())},r=0,e=this.Of.length;r<e;r++){var a=this.Of[r];a.el.animateTo(a.target,{duration:a.duration,delay:a.delay,easing:a.easing,setToFinal:!0,done:i,aborted:i})}return this},t}();var kC=Se,AC=yu,NC="label",CC="upperLabel",TC=La([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),IC=function(t){var n=TC(t);return n.stroke=n.fill=n.lineWidth=null,n},zC=ca(),LC=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.Ff="ready",i.Of={nodeGroup:[],background:[],content:[]},i}return l(n,t),n.prototype.render=function(t,n,i,r){if(!(F(n.findComponents({mainType:"series",subType:"treemap",query:r}),t)<0)){this.seriesModel=t,this.api=i,this.ecModel=n;var e=sC(r,["treemapZoomToNode","treemapRootToNode"],t),a=r&&r.type,o=t.layoutInfo,u=!this.Bf,s=this.Of,l="treemapRootToNode"===a&&e&&s?{rootNodeGroup:s.nodeGroup[e.node.getRawIndex()],direction:r.direction}:null,f=this._f(o),h=t.get("animation"),c=this.Ef(f,t,l);!h||u||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?c.renderFinally():this.Pf(f,c,t,l),this.Wf(i),this.Vf(t,i,e)}},n.prototype._f=function(t){var n=this.Hf;return n||(n=this.Hf=new kC,this.Ye(n),this.group.add(n)),n.x=t.x,n.y=t.y,n},n.prototype.Ef=function(t,n,i){var r=n.getData().tree,e=this.Bf,a={nodeGroup:[],background:[],content:[]},o={nodeGroup:[],background:[],content:[]},u=this.Of,s=[];function l(t,r,e,l){return function(t,n,i,r,e,a,o,u,s,l){if(!o)return;var f=o.getLayout(),h=t.getData(),c=o.getModel();if(h.setItemGraphicEl(o.dataIndex,null),!f||!f.isInView)return;var v=f.width,d=f.height,p=f.borderWidth,m=f.invisible,y=o.getRawIndex(),g=u&&u.getRawIndex(),b=o.viewChildren,w=f.upperHeight,x=b&&b.length,M=c.getModel("itemStyle"),S=c.getModel(["emphasis","itemStyle"]),k=c.getModel(["blur","itemStyle"]),A=c.getModel(["select","itemStyle"]),N=M.get("borderRadius")||0,C=H("nodeGroup",kC);if(!C)return;if(s.add(C),C.x=f.x||0,C.y=f.y||0,C.markRedraw(),zC(C).nodeWidth=v,zC(C).nodeHeight=d,f.isAboveViewRoot)return C;var T=H("background",AC,l,20);T&&_(C,T,x&&f.upperLabelHeight);var I=c.getModel("emphasis"),z=I.get("focus"),L=I.get("blurScope"),O=I.get("disabled"),R="ancestor"===z?o.getAncestorsIndices():"descendant"===z?o.getDescendantIndices():z;if(x)Ts(C)&&Cs(C,!1),T&&(Cs(T,!O),h.setItemGraphicEl(o.dataIndex,T),Ss(T,R,L));else{var F=H("content",AC,l,30);F&&E(C,F),T.disableMorphing=!0,T&&Ts(T)&&Cs(T,!1),Cs(C,!O),h.setItemGraphicEl(o.dataIndex,C);var B=c.getShallow("cursor");B&&F.attr("cursor",B),Ss(C,R,L)}return C;function _(n,i,r){var e=Du(i);if(e.dataIndex=o.dataIndex,e.seriesIndex=t.seriesIndex,i.setShape({x:0,y:0,width:v,height:d,r:N}),m)P(i);else{i.invisible=!1;var a=o.getVisual("style"),u=a.stroke,s=IC(M);s.fill=u;var l=TC(S);l.fill=S.get("borderColor");var f=TC(k);f.fill=k.get("borderColor");var h=TC(A);if(h.fill=A.get("borderColor"),r){var c=v-2*p;W(i,u,a.opacity,{x:p,y:0,width:c,height:w})}else i.removeTextContent();i.setStyle(s),i.ensureState("emphasis").style=l,i.ensureState("blur").style=f,i.ensureState("select").style=h,as(i)}n.add(i)}function E(n,i){var r=Du(i);r.dataIndex=o.dataIndex,r.seriesIndex=t.seriesIndex;var e=Math.max(v-2*p,0),a=Math.max(d-2*p,0);if(i.culling=!0,i.setShape({x:p,y:p,width:e,height:a,r:N}),m)P(i);else{i.invisible=!1;var u=o.getVisual("style"),s=u.fill,l=IC(M);l.fill=s,l.decal=u.decal;var f=TC(S),h=TC(k),c=TC(A);W(i,s,u.opacity,null),i.setStyle(l),i.ensureState("emphasis").style=f,i.ensureState("blur").style=h,i.ensureState("select").style=c,as(i)}n.add(i)}function P(t){!t.invisible&&a.push(t)}function W(n,i,r,e){var a=c.getModel(e?CC:NC),u=sa(c.get("name"),null),s=a.getShallow("show");zf(n,Lf(c,e?CC:NC),{defaultText:s?u:null,inheritColor:i,defaultOpacity:r,labelFetcher:t,labelDataIndex:o.dataIndex});var l=n.getTextContent();if(l){var h=l.style,v=ot(h.padding||0);e&&(n.setTextConfig({layoutRect:e}),l.disableLabelLayout=!0),l.beforeUpdate=function(){var t=Math.max((e?e.width:n.shape.width)-v[1]-v[3],0),i=Math.max((e?e.height:n.shape.height)-v[0]-v[2],0);h.width===t&&h.height===i||l.setStyle({width:t,height:i})},h.truncateMinChar=2,h.lineOverflow="truncate",V(h,e,f);var d=l.getState("emphasis");V(d?d.style:null,e,f)}}function V(n,i,r){var e=n?n.text:null;if(!i&&r.isLeafRoot&&null!=e){var a=t.get("drillDownIcon",!0);n.text=a?a+" "+e:e}}function H(t,r,a,o){var u=null!=g&&i[t][g],s=e[t];return u?(i[t][g]=null,Y(s,u)):m||((u=new r)instanceof io&&(u.z2=function(t,n){return 100*t+n}(a,o)),G(s,u)),n[t][y]=u}function Y(t,n){var i=t[y]={};n instanceof kC?(i.oldX=n.x,i.oldY=n.y):i.oldShape=D({},n.shape)}function G(t,n){var i=t[y]={},a=o.parentNode,u=n instanceof Se;if(a&&(!r||"drillDown"===r.direction)){var s=0,l=0,f=e.background[a.getRawIndex()];!r&&f&&f.oldShape&&(s=f.oldShape.width,l=f.oldShape.height),u?(i.oldX=0,i.oldY=l):i.oldShape={x:s,y:l,width:0,height:0}}i.fadein=!u}}(n,o,u,i,a,s,t,r,e,l)}!function t(n,i,r,e,a){e?(i=n,E(n,(function(t,n){!t.isRemoved()&&u(n,n)}))):new ig(i,n,o,o).add(u).update(u).remove(G(u,null)).execute();function o(t){return t.getId()}function u(o,u){var s=null!=o?n[o]:null,f=null!=u?i[u]:null,h=l(s,f,r,a);h&&t(s&&s.viewChildren||[],f&&f.viewChildren||[],h,e,a+1)}}(r.root?[r.root]:[],e&&e.root?[e.root]:[],t,r===e||!e,0);var f,h,c=(h={nodeGroup:[],background:[],content:[]},(f=u)&&E(f,(function(t,n){var i=h[n];E(t,(function(t){t&&(i.push(t),zC(t).willDelete=!0)}))})),h);if(this.Bf=r,this.Of=o,this.Fl){var v=this.seriesModel.layoutInfo,d=r.root.getLayout();d.width===v.width&&d.height===v.height&&(this.Fl.zoom=1)}return{lastsForAnimation:a,willDeleteEls:c,renderFinally:function(){E(c,(function(t){E(t,(function(t){t.parent&&t.parent.remove(t)}))})),E(s,(function(t){t.invisible=!0,t.dirty()}))}}},n.prototype.Pf=function(t,n,i,r){var e=i.get("animationDurationUpdate"),a=i.get("animationEasing"),o=(U(e)?0:e)||0,u=(U(a)?null:a)||"cubicOut",s=new SC;E(n.willDeleteEls,(function(t,n){E(t,(function(t,i){if(!t.invisible){var e,a=t.parent,l=zC(a);if(r&&"drillDown"===r.direction)e=a===r.rootNodeGroup?{shape:{x:0,y:0,width:l.nodeWidth,height:l.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var f=0,h=0;l.willDelete||(f=l.nodeWidth/2,h=l.nodeHeight/2),e="nodeGroup"===n?{x:f,y:h,style:{opacity:0}}:{shape:{x:f,y:h,width:0,height:0},style:{opacity:0}}}e&&s.add(t,e,o,0,u)}}))})),E(this.Of,(function(t,i){E(t,(function(t,r){var e=n.lastsForAnimation[i][r],a={};e&&(t instanceof Se?null!=e.oldX&&(a.x=t.x,a.y=t.y,t.x=e.oldX,t.y=e.oldY):(e.oldShape&&(a.shape=D({},t.shape),t.setShape(e.oldShape)),e.fadein?(t.setStyle("opacity",0),a.style={opacity:1}):1!==t.style.opacity&&(a.style={opacity:1})),s.add(t,a,o,0,u))}))}),this),this.Ff="animating",s.finished(Y((function(){this.Ff="ready",n.renderFinally()}),this)).start()},n.prototype.Wf=function(t){var n=this.Rl,i=this.Fl;i||(this.Fl={target:this.group},i=this.Fl),n||((n=this.Rl=new uA(t.getZr())).enable(this.seriesModel.get("roam")),i.zoomLimit=this.seriesModel.get("scaleLimit"),i.zoom=this.seriesModel.get("zoom"),n.on("pan",Y(this.Yf,this)),n.on("zoom",Y(this.Gf,this)));var r=new In(0,0,t.getWidth(),t.getHeight());n.setPointerChecker((function(t,n,i){return r.contain(n,i)}))},n.prototype.Xf=function(){var t=this.Rl;this.Fl=null,t&&(t.dispose(),t=null)},n.prototype.Yf=function(t){if("animating"!==this.Ff&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+t.dx,y:i.y+t.dy,width:i.width,height:i.height}})}},n.prototype.Gf=function(t){var n=t.originX,i=t.originY,r=t.scale;if("animating"!==this.Ff){var e=this.seriesModel.getData().tree.root;if(!e)return;var a=e.getLayout();if(!a)return;var o,u=new In(a.x,a.y,a.width,a.height),s=this.Fl;o=s.zoomLimit;var l=s.zoom=s.zoom||1;if(l*=r,o){var f=o.min||0,h=o.max||1/0;l=Math.max(Math.min(h,l),f)}var c=l/s.zoom;s.zoom=l;var v=this.seriesModel.layoutInfo,d=[1,0,0,1,0,0];mn(d,d,[-(n-=v.x),-(i-=v.y)]),gn(d,d,[c,c]),mn(d,d,[n,i]),u.applyTransform(d),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:u.x,y:u.y,width:u.width,height:u.height}})}},n.prototype.Ye=function(t){var n=this;t.on("click",(function(t){if("ready"===n.Ff){var i=n.seriesModel.get("nodeClick",!0);if(i){var r=n.findTarget(t.offsetX,t.offsetY);if(r){var e=r.node;if(e.getLayout().isLeafRoot)n.Uf(r);else if("zoomToNode"===i)n.jf(r);else if("link"===i){var a=e.hostTree.data.getItemModel(e.dataIndex),o=a.get("link",!0),u=a.get("target",!0)||"blank";o&&Kh(o,u)}}}}}),this)},n.prototype.Vf=function(t,n,i){var r=this;i||(i=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2))||(i={node:t.getData().tree.root}),(this.Zf||(this.Zf=new wC(this.group))).render(t,n,i.node,(function(n){"animating"!==r.Ff&&(fC(t.getViewRoot(),n)?r.Uf({node:n}):r.jf({node:n}))}))},n.prototype.remove=function(){this.Xf(),this.Hf&&this.Hf.removeAll(),this.Of={nodeGroup:[],background:[],content:[]},this.Ff="ready",this.Zf&&this.Zf.remove()},n.prototype.dispose=function(){this.Xf()},n.prototype.jf=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},n.prototype.Uf=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},n.prototype.findTarget=function(t,n){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},(function(r){var e=this.Of.background[r.getRawIndex()];if(e){var a=e.transformCoordToLocal(t,n),o=e.shape;if(!(o.x<=a[0]&&a[0]<=o.x+o.width&&o.y<=a[1]&&a[1]<=o.y+o.height))return!1;i={node:r,offsetX:a[0],offsetY:a[1]}}}),this),i},n.type="treemap",n}(ep);var OC=E,DC=K,RC=-1,FC=function(){function t(n){var i=n.mappingMethod,r=n.type,e=this.option=z(n);this.type=r,this.mappingMethod=i,this.qf=XC[i];var a=t.visualHandlers[r];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this.Kf=a.Kf[i],"piecewise"===i?(BC(e),function(t){var n=t.pieceList;t.hasSpecialVisual=!1,E(n,(function(n,i){n.originIndex=i,null!=n.visual&&(t.hasSpecialVisual=!0)}))}(e)):"category"===i?e.categories?function(t){var n=t.categories,i=t.categoryMap={},r=t.visual;if(OC(n,(function(t,n){i[t]=n})),!X(r)){var e=[];K(r)?OC(r,(function(t,n){var r=i[n];e[null!=r?r:RC]=t})):e[-1]=r,r=GC(t,e)}for(var a=n.length-1;a>=0;a--)null==r[a]&&(delete i[n[a]],n.pop())}(e):BC(e,!0):(ut("linear"!==i||e.dataExtent),BC(e))}return t.prototype.mapValueToVisual=function(t){var n=this.qf(t);return this.Kf(n,t)},t.prototype.getNormalizer=function(){return Y(this.qf,this)},t.listVisualTypes=function(){return H(t.visualHandlers)},t.isValidType=function(n){return t.visualHandlers.hasOwnProperty(n)},t.eachVisual=function(t,n,i){K(t)?E(t,n,i):n.call(i,t)},t.mapVisual=function(n,i,r){var e,a=X(n)?[]:K(n)?{}:(e=!0,null);return t.eachVisual(n,(function(t,n){var o=i.call(r,t,n);e?a=o:a[n]=o})),a},t.retrieveVisuals=function(n){var i,r={};return n&&OC(t.visualHandlers,(function(t,e){n.hasOwnProperty(e)&&(r[e]=n[e],i=!0)})),i?r:null},t.prepareVisualTypes=function(t){if(X(t))t=t.slice();else{if(!DC(t))return[];var n=[];OC(t,(function(t,i){n.push(i)})),t=n}return t.sort((function(t,n){return"color"===n&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},t.dependsOn=function(t,n){return"color"===n?!(!t||0!==t.indexOf(n)):t===n},t.findPieceIndex=function(t,n,i){for(var r,e=1/0,a=0,o=n.length;a<o;a++){var u=n[a].value;if(null!=u){if(u===t||j(u)&&u===t+"")return a;i&&h(u,a)}}for(a=0,o=n.length;a<o;a++){var s=n[a],l=s.interval,f=s.close;if(l){if(l[0]===-1/0){if(UC(f[1],t,l[1]))return a}else if(l[1]===1/0){if(UC(f[0],l[0],t))return a}else if(UC(f[0],l[0],t)&&UC(f[1],t,l[1]))return a;i&&h(l[0],a),i&&h(l[1],a)}}if(i)return t===1/0?n.length-1:t===-1/0?0:r;function h(n,i){var a=Math.abs(n-t);a<e&&(e=a,r=i)}},t.visualHandlers={color:{applyVisual:PC("color"),getColorMapper:function(){var t=this.option;return Y("category"===t.mappingMethod?function(t,n){return!n&&(t=this.qf(t)),WC.call(this,t)}:function(n,i,r){var e=!!r;return!i&&(n=this.qf(n)),r=Hi(n,t.parsedVisual,r),e?r:Xi(r,"rgba")},this)},Kf:{linear:function(t){return Xi(Hi(t,this.option.parsedVisual),"rgba")},category:WC,piecewise:function(t,n){var i=YC.call(this,n);return null==i&&(i=Xi(Hi(t,this.option.parsedVisual),"rgba")),i},fixed:VC}},colorHue:_C((function(t,n){return Yi(t,n)})),colorSaturation:_C((function(t,n){return Yi(t,null,n)})),colorLightness:_C((function(t,n){return Yi(t,null,null,n)})),colorAlpha:_C((function(t,n){return Gi(t,n)})),decal:{applyVisual:PC("decal"),Kf:{linear:null,category:WC,piecewise:null,fixed:null}},opacity:{applyVisual:PC("opacity"),Kf:HC([0,1])},liftZ:{applyVisual:PC("liftZ"),Kf:{linear:VC,category:VC,piecewise:VC,fixed:VC}},symbol:{applyVisual:function(t,n,i){i("symbol",this.mapValueToVisual(t))},Kf:{linear:EC,category:WC,piecewise:function(t,n){var i=YC.call(this,n);return null==i&&(i=EC.call(this,t)),i},fixed:VC}},symbolSize:{applyVisual:PC("symbolSize"),Kf:HC([0,1])}},t}();function BC(t,n){var i=t.visual,r=[];K(i)?OC(i,(function(t){r.push(t)})):null!=i&&r.push(i);n||1!==r.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(r[1]=r[0]),GC(t,r)}function _C(t){return{applyVisual:function(n,i,r){var e=this.mapValueToVisual(n);r("color",t(i("color"),e))},Kf:HC([0,1])}}function EC(t){var n=this.option.visual;return n[Math.round(Ie(t,[0,1],[0,n.length-1],!0))]||{}}function PC(t){return function(n,i,r){r(t,this.mapValueToVisual(n))}}function WC(t){var n=this.option.visual;return n[this.option.loop&&t!==RC?t%n.length:t]}function VC(){return this.option.visual[0]}function HC(t){return{linear:function(n){return Ie(n,t,this.option.visual,!0)},category:WC,piecewise:function(n,i){var r=YC.call(this,i);return null==r&&(r=Ie(n,t,this.option.visual,!0)),r},fixed:VC}}function YC(t){var n=this.option,i=n.pieceList;if(n.hasSpecialVisual){var r=i[FC.findPieceIndex(t,i)];if(r&&r.visual)return r.visual[this.type]}}function GC(t,n){return t.visual=n,"color"===t.type&&(t.parsedVisual=P(n,(function(t){return Pi(t)||[0,0,0,1]}))),n}var XC={linear:function(t){return Ie(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var n=this.option.pieceList,i=FC.findPieceIndex(t,n,!0);if(null!=i)return Ie(i,[0,n.length-1],[0,1],!0)},category:function(t){var n=this.option.categories?this.option.categoryMap[t]:t;return null==n?RC:n},fixed:wt};function UC(t,n,i){return t?n<=i:n<i}var jC=ca();const ZC={seriesType:"treemap",reset:function(t){var n=t.getData().tree.root;n.isRemoved()||qC(n,{},t.getViewRoot().getAncestors(),t)}};function qC(t,n,i,r){var e=t.getModel(),a=t.getLayout(),o=t.hostTree.data;if(a&&!a.invisible&&a.isInView){var u,s=e.getModel("itemStyle"),l=function(t,n,i){var r=D({},n),e=i.designatedVisualItemStyle;return E(["color","colorAlpha","colorSaturation"],(function(i){e[i]=n[i];var a=t.get(i);e[i]=null,null!=a&&(r[i]=a)})),r}(s,n,r),f=o.ensureUniqueItemVisual(t.dataIndex,"style"),h=s.get("borderColor"),c=s.get("borderColorSaturation");null!=c&&(h=function(t,n){return null!=n?Yi(n,null,null,t):null}(c,u=KC(l))),f.stroke=h;var v=t.viewChildren;if(v&&v.length){var d=function(t,n,i,r,e,a){if(!a||!a.length)return;var o=$C(n,"color")||null!=e.color&&"none"!==e.color&&($C(n,"colorAlpha")||$C(n,"colorSaturation"));if(!o)return;var u=n.get("visualMin"),s=n.get("visualMax"),l=i.dataExtent.slice();null!=u&&u<l[0]&&(l[0]=u),null!=s&&s>l[1]&&(l[1]=s);var f=n.get("colorMappingBy"),h={type:o.name,dataExtent:l,visual:o.range};"color"!==h.type||"index"!==f&&"id"!==f?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var c=new FC(h);return jC(c).drColorMappingBy=f,c}(0,e,a,0,l,v);E(v,(function(t,n){if(t.depth>=i.length||t===i[t.depth]){var a=function(t,n,i,r,e,a){var o=D({},n);if(e){var u=e.type,s="color"===u&&jC(e).drColorMappingBy,l="index"===s?r:"id"===s?a.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));o[u]=e.mapValueToVisual(l)}return o}(e,l,t,n,d,r);qC(t,a,i,r)}}))}else u=KC(l),f.fill=u}}function KC(t){var n=JC(t,"color");if(n){var i=JC(t,"colorAlpha"),r=JC(t,"colorSaturation");return r&&(n=Yi(n,null,null,r)),i&&(n=Gi(n,i)),n}}function JC(t,n){var i=t[n];if(null!=i&&"none"!==i)return i}function $C(t,n){var i=t.get(n);return X(i)&&i.length?{name:n,range:i}:null}var QC=Math.max,tT=Math.min,nT=it,iT=E,rT=["itemStyle","borderWidth"],eT=["itemStyle","gapWidth"],aT=["upperLabel","show"],oT=["upperLabel","height"];const uT={seriesType:"treemap",reset:function(t,n,i,r){var e=i.getWidth(),a=i.getHeight(),o=t.option,u=ic(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),s=o.size||[],l=ze(nT(u.width,s[0]),e),f=ze(nT(u.height,s[1]),a),h=r&&r.type,c=sC(r,["treemapZoomToNode","treemapRootToNode"],t),v="treemapRender"===h||"treemapMove"===h?r.rootRect:null,d=t.getViewRoot(),p=lC(d);if("treemapMove"!==h){var m="treemapZoomToNode"===h?function(t,n,i,r,e){var a,o=(n||{}).node,u=[r,e];if(!o||o===i)return u;var s=r*e,l=s*t.option.zoomToNodeRatio;for(;a=o.parentNode;){for(var f=0,h=a.children,c=0,v=h.length;c<v;c++)f+=h[c].getValue();var d=o.getValue();if(0===d)return u;l*=f/d;var p=a.getModel(),m=p.get(rT);(l+=4*m*m+(3*m+Math.max(m,cT(p)))*Math.pow(l,.5))>Be&&(l=Be),o=a}l<s&&(l=s);var y=Math.pow(l/s,.5);return[r*y,e*y]}(t,c,d,l,f):v?[v.width,v.height]:[l,f],y=o.sort;y&&"asc"!==y&&"desc"!==y&&(y="desc");var g={squareRatio:o.squareRatio,sort:y,leafDepth:o.leafDepth};d.hostTree.clearLayouts();var b={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};d.setLayout(b),sT(d,g,!1,0),b=d.getLayout(),iT(p,(function(t,n){var i=(p[n+1]||d).getValue();t.setLayout(D({dataExtent:[i,i],borderWidth:0,upperHeight:0},b))}))}var w=t.getData().tree.root;w.setLayout(function(t,n,i){if(n)return{x:n.x,y:n.y};var r={x:0,y:0};if(!i)return r;var e=i.node,a=e.getLayout();if(!a)return r;var o=[a.width/2,a.height/2],u=e;for(;u;){var s=u.getLayout();o[0]+=s.x,o[1]+=s.y,u=u.parentNode}return{x:t.width/2-o[0],y:t.height/2-o[1]}}(u,v,c),!0),t.setLayoutInfo(u),hT(w,new In(-u.x,-u.y,e,a),p,d,0)}};function sT(t,n,i,r){var e,a;if(!t.isRemoved()){var o=t.getLayout();e=o.width,a=o.height;var u=t.getModel(),s=u.get(rT),l=u.get(eT)/2,f=cT(u),h=Math.max(s,f),c=s-l,v=h-l;t.setLayout({borderWidth:s,upperHeight:h,upperLabelHeight:f},!0);var d=(e=QC(e-2*c,0))*(a=QC(a-c-v,0)),p=function(t,n,i,r,e,a){var o=t.children||[],u=r.sort;"asc"!==u&&"desc"!==u&&(u=null);var s=null!=r.leafDepth&&r.leafDepth<=a;if(e&&!s)return t.viewChildren=[];o=V(o,(function(t){return!t.isRemoved()})),function(t,n){n&&t.sort((function(t,i){var r="asc"===n?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===r?"asc"===n?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:r}))}(o,u);var l=function(t,n,i){for(var r=0,e=0,a=n.length;e<a;e++)r+=n[e].getValue();var o,u=t.get("visualDimension");n&&n.length?"value"===u&&i?(o=[n[n.length-1].getValue(),n[0].getValue()],"asc"===i&&o.reverse()):(o=[1/0,-1/0],iT(n,(function(t){var n=t.getValue(u);n<o[0]&&(o[0]=n),n>o[1]&&(o[1]=n)}))):o=[NaN,NaN];return{sum:r,dataExtent:o}}(n,o,u);if(0===l.sum)return t.viewChildren=[];if(l.sum=function(t,n,i,r,e){if(!r)return i;for(var a=t.get("visibleMin"),o=e.length,u=o,s=o-1;s>=0;s--){var l=e["asc"===r?o-s-1:s].getValue();l/i*n<a&&(u=s,i-=l)}return"asc"===r?e.splice(0,o-u):e.splice(u,o-u),i}(n,i,l.sum,u,o),0===l.sum)return t.viewChildren=[];for(var f=0,h=o.length;f<h;f++){var c=o[f].getValue()/l.sum*i;o[f].setLayout({area:c})}s&&(o.length&&t.setLayout({isLeafRoot:!0},!0),o.length=0);return t.viewChildren=o,t.setLayout({dataExtent:l.dataExtent},!0),o}(t,u,d,n,i,r);if(p.length){var m={x:c,y:v,width:e,height:a},y=tT(e,a),g=1/0,b=[];b.area=0;for(var w=0,x=p.length;w<x;){var M=p[w];b.push(M),b.area+=M.getLayout().area;var S=lT(b,y,n.squareRatio);S<=g?(w++,g=S):(b.area-=b.pop().getLayout().area,fT(b,y,m,l,!1),y=tT(m.width,m.height),b.length=b.area=0,g=1/0)}if(b.length&&fT(b,y,m,l,!0),!i){var k=u.get("childrenVisibleMin");null!=k&&d<k&&(i=!0)}for(w=0,x=p.length;w<x;w++)sT(p[w],n,i,r+1)}}}function lT(t,n,i){for(var r=0,e=1/0,a=0,o=void 0,u=t.length;a<u;a++)(o=t[a].getLayout().area)&&(o<e&&(e=o),o>r&&(r=o));var s=t.area*t.area,l=n*n*i;return s?QC(l*r/s,s/(l*e)):1/0}function fT(t,n,i,r,e){var a=n===i.width?0:1,o=1-a,u=["x","y"],s=["width","height"],l=i[u[a]],f=n?t.area/n:0;(e||f>i[s[o]])&&(f=i[s[o]]);for(var h=0,c=t.length;h<c;h++){var v=t[h],d={},p=f?v.getLayout().area/f:0,m=d[s[o]]=QC(f-2*r,0),y=i[u[a]]+i[s[a]]-l,g=h===c-1||y<p?y:p,b=d[s[a]]=QC(g-2*r,0);d[u[o]]=i[u[o]]+tT(r,m/2),d[u[a]]=l+tT(r,b/2),l+=g,v.setLayout(d,!0)}i[u[o]]+=f,i[s[o]]-=f}function hT(t,n,i,r,e){var a=t.getLayout(),o=i[e],u=o&&o===t;if(!(o&&!u||e===i.length&&t!==r)){t.setLayout({isInView:!0,invisible:!u&&!n.intersect(a),isAboveViewRoot:u},!0);var s=new In(n.x-a.x,n.y-a.y,n.width,n.height);iT(t.viewChildren||[],(function(t){hT(t,s,i,r,e+1)}))}}function cT(t){return t.get(aT)?t.get(oT):0}function vT(t){var n=t.findComponents({mainType:"legend"});n&&n.length&&t.eachSeriesByType("graph",(function(t){var i=t.getCategoriesData(),r=t.getGraph().data,e=i.mapArray(i.getName);r.filterSelf((function(t){var i=r.getItemModel(t).getShallow("category");if(null!=i){q(i)&&(i=e[i]);for(var a=0;a<n.length;a++)if(!n[a].isSelected(i))return!1}return!0}))}))}function dT(t){var n={};t.eachSeriesByType("graph",(function(t){var i=t.getCategoriesData(),r=t.getData(),e={};i.each((function(r){var a=i.getName(r);e["ec-"+a]=r;var o=i.getItemModel(r),u=o.getModel("itemStyle").getItemStyle();u.fill||(u.fill=t.getColorFromPalette(a,n)),i.setItemVisual(r,"style",u);for(var s=["symbol","symbolSize","symbolKeepAspect"],l=0;l<s.length;l++){var f=o.getShallow(s[l],!0);null!=f&&i.setItemVisual(r,s[l],f)}})),i.count()&&r.each((function(t){var n=r.getItemModel(t).getShallow("category");if(null!=n){j(n)&&(n=e["ec-"+n]);var a=i.getItemVisual(n,"style");D(r.ensureUniqueItemVisual(t,"style"),a);for(var o=["symbol","symbolSize","symbolKeepAspect"],u=0;u<o.length;u++)r.setItemVisual(t,o[u],i.getItemVisual(n,o[u]))}}))}))}function pT(t){return t instanceof Array||(t=[t,t]),t}function mT(t){t.eachSeriesByType("graph",(function(t){var n=t.getGraph(),i=t.getEdgeData(),r=pT(t.get("edgeSymbol")),e=pT(t.get("edgeSymbolSize"));i.setVisual("fromSymbol",r&&r[0]),i.setVisual("toSymbol",r&&r[1]),i.setVisual("fromSymbolSize",e&&e[0]),i.setVisual("toSymbolSize",e&&e[1]),i.setVisual("style",t.getModel("lineStyle").getLineStyle()),i.each((function(t){var r=i.getItemModel(t),e=n.getEdgeByIndex(t),a=pT(r.getShallow("symbol",!0)),o=pT(r.getShallow("symbolSize",!0)),u=r.getModel("lineStyle").getLineStyle(),s=i.ensureUniqueItemVisual(t,"style");switch(D(s,u),s.stroke){case"source":var l=e.node1.getVisual("style");s.stroke=l&&l.fill;break;case"target":l=e.node2.getVisual("style");s.stroke=l&&l.fill}a[0]&&e.setVisual("fromSymbol",a[0]),a[1]&&e.setVisual("toSymbol",a[1]),o[0]&&e.setVisual("fromSymbolSize",o[0]),o[1]&&e.setVisual("toSymbolSize",o[1])}))}))}var yT="--\x3e",gT=function(t){return t.get("autoCurveness")||null},bT=function(t,n){var i=gT(t),r=20,e=[];if(q(i))r=i;else if(X(i))return void(t.Jf=i);n>r&&(r=n);var a=r%2?r+2:r+3;e=[];for(var o=0;o<a;o++)e.push((o%2?o+1:o)/10*(o%2?-1:1));t.Jf=e},wT=function(t,n,i){var r=[t.id,t.dataIndex].join("."),e=[n.id,n.dataIndex].join(".");return[i.uid,r,e].join(yT)},xT=function(t){var n=t.split(yT);return[n[0],n[2],n[1]].join(yT)},MT=function(t,n){var i=n.$f;return i[t]?i[t].length:0};function ST(t,n,i,r){var e=gT(n),a=X(e);if(!e)return null;var o=function(t,n){var i=wT(t.node1,t.node2,n);return n.$f[i]}(t,n);if(!o)return null;for(var u=-1,s=0;s<o.length;s++)if(o[s]===i){u=s;break}var l=function(t,n){return MT(wT(t.node1,t.node2,n),n)+MT(wT(t.node2,t.node1,n),n)}(t,n);bT(n,l),t.lineStyle=t.lineStyle||{};var f=wT(t.node1,t.node2,n),h=n.Jf,c=a||l%2?0:1;if(o.isForward)return h[c+u];var v=xT(f),d=MT(v,n),p=h[u+d+c];return r?a?e&&0===e[0]?(d+c)%2?p:-p:((d%2?0:1)+c)%2?p:-p:(d+c)%2?p:-p:h[u+d+c]}function kT(t){var n=t.coordinateSystem;if(!n||"view"===n.type){var i=t.getGraph();i.eachNode((function(t){var n=t.getModel();t.setLayout([+n.get("x"),+n.get("y")])})),AT(i,t)}}function AT(t,n){t.eachEdge((function(t,i){var r=et(t.getModel().get(["lineStyle","curveness"]),-ST(t,n,i,!0),0),e=Nt(t.node1.getLayout()),a=Nt(t.node2.getLayout()),o=[e,a];+r&&o.push([(e[0]+a[0])/2-(e[1]-a[1])*r,(e[1]+a[1])/2-(a[0]-e[0])*r]),t.setLayout(o)}))}function NT(t,n){t.eachSeriesByType("graph",(function(t){var n=t.get("layout"),i=t.coordinateSystem;if(i&&"view"!==i.type){var r=t.getData(),e=[];E(i.dimensions,(function(t){e=e.concat(r.mapDimensionsAll(t))}));for(var a=0;a<r.count();a++){for(var o=[],u=!1,s=0;s<e.length;s++){var l=r.get(e[s],a);isNaN(l)||(u=!0),o.push(l)}u?r.setItemLayout(a,i.dataToPoint(o)):r.setItemLayout(a,[NaN,NaN])}AT(r.graph,t)}else n&&"none"!==n||kT(t)}))}function CT(t){var n=t.coordinateSystem;if("view"!==n.type)return 1;var i=t.option.nodeScaleRatio,r=n.scaleX;return((n.getZoom()-1)*i+1)/r}function TT(t){var n=t.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var IT=Math.PI,zT=[];function LT(t,n,i,r){var e=t.coordinateSystem;if(!e||"view"===e.type){var a=e.getBoundingRect(),o=t.getData(),u=o.graph,s=a.width/2+a.x,l=a.height/2+a.y,f=Math.min(a.width,a.height)/2,h=o.count();if(o.setLayout({cx:s,cy:l}),h){if(i){var c=e.pointToData(r),v=c[0],d=c[1],p=[v-s,d-l];Ot(p,p),Lt(p,p,f),i.setLayout([s+p[0],l+p[1]],!0),DT(i,t.get(["circular","rotateLabel"]),s,l)}OT[n](t,u,o,f,s,l,h),u.eachEdge((function(n,i){var r,e=et(n.getModel().get(["lineStyle","curveness"]),ST(n,t,i),0),a=Nt(n.node1.getLayout()),o=Nt(n.node2.getLayout()),u=(a[0]+o[0])/2,f=(a[1]+o[1])/2;+e&&(r=[s*(e*=3)+u*(1-e),l*e+f*(1-e)]),n.setLayout([a,o,r])}))}}}var OT={value:function(t,n,i,r,e,a,o){var u=0,s=i.getSum("value"),l=2*Math.PI/(s||o);n.eachNode((function(t){var n=t.getValue("value"),i=l*(s?n:1)/2;u+=i,t.setLayout([r*Math.cos(u)+e,r*Math.sin(u)+a]),u+=i}))},symbolSize:function(t,n,i,r,e,a,o){var u=0;zT.length=o;var s=CT(t);n.eachNode((function(t){var n=TT(t);isNaN(n)&&(n=2),n<0&&(n=0),n*=s;var i=Math.asin(n/2/r);isNaN(i)&&(i=IT/2),zT[t.dataIndex]=i,u+=2*i}));var l=(2*IT-u)/o/2,f=0;n.eachNode((function(t){var n=l+zT[t.dataIndex];f+=n,(!t.getLayout()||!t.getLayout().fixed)&&t.setLayout([r*Math.cos(f)+e,r*Math.sin(f)+a]),f+=n}))}};function DT(t,n,i,r){var e=t.getGraphicEl();if(e){var a=t.getModel().get(["label","rotate"])||0,o=e.getSymbolPath();if(n){var u=t.getLayout(),s=Math.atan2(u[1]-r,u[0]-i);s<0&&(s=2*Math.PI+s);var l=u[0]<i;l&&(s-=Math.PI);var f=l?"left":"right";o.setTextConfig({rotation:-s,position:f,origin:"center"});var h=o.ensureState("emphasis");D(h.textConfig||(h.textConfig={}),{position:f})}else o.setTextConfig({rotation:a*=Math.PI/180})}}function RT(t){t.eachSeriesByType("graph",(function(t){"circular"===t.get("layout")&&LT(t,"symbolSize")}))}var FT=Tt;function BT(t){t.eachSeriesByType("graph",(function(t){var n=t.coordinateSystem;if(!n||"view"===n.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},r=t.getGraph(),e=r.data,a=r.edgeData,o=t.getModel("force"),u=o.get("initLayout");t.preservedPoints?e.each((function(t){var n=e.getId(t);e.setItemLayout(t,i[n]||[NaN,NaN])})):u&&"none"!==u?"circular"===u&&LT(t,"value"):kT(t);var s=e.getDataExtent("value"),l=a.getDataExtent("value"),f=o.get("repulsion"),h=o.get("edgeLength"),c=X(f)?f:[f,f],v=X(h)?h:[h,h];v=[v[1],v[0]];var d=e.mapArray("value",(function(t,n){var i=e.getItemLayout(n),r=Ie(t,s,c);return isNaN(r)&&(r=(c[0]+c[1])/2),{w:r,rep:r,fixed:e.getItemModel(n).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}})),p=a.mapArray("value",(function(n,i){var e=r.getEdgeByIndex(i),a=Ie(n,l,v);isNaN(a)&&(a=(v[0]+v[1])/2);var o=e.getModel(),u=et(e.getModel().get(["lineStyle","curveness"]),-ST(e,t,i,!0),0);return{n1:d[e.node1.dataIndex],n2:d[e.node2.dataIndex],d:a,curveness:u,ignoreForceLayout:o.get("ignoreForceLayout")}})),m=n.getBoundingRect(),y=function(t,n,i){for(var r=t,e=n,a=i.rect,o=a.width,u=a.height,s=[a.x+o/2,a.y+u/2],l=null==i.gravity?.1:i.gravity,f=0;f<r.length;f++){var h=r[f];h.p||(h.p=kt(o*(Math.random()-.5)+s[0],u*(Math.random()-.5)+s[1])),h.pp=Nt(h.p),h.edges=null}var c,v,d=null==i.friction?.6:i.friction,p=d;return{warmUp:function(){p=.8*d},setFixed:function(t){r[t].fixed=!0},setUnfixed:function(t){r[t].fixed=!1},beforeStep:function(t){c=t},afterStep:function(t){v=t},step:function(t){c&&c(r,e);for(var n,i,a,o=[],u=r.length,f=0;f<e.length;f++){var h=e[f];if(!h.ignoreForceLayout){var d=h.n1;It(o,(b=h.n2).p,d.p);var m=zt(o)-h.d,y=b.w/(d.w+b.w);isNaN(y)&&(y=0),Ot(o,o),!d.fixed&&FT(d.p,d.p,o,y*m*p),!b.fixed&&FT(b.p,b.p,o,-(1-y)*m*p)}}for(f=0;f<u;f++)(M=r[f]).fixed||(It(o,s,M.p),FT(M.p,M.p,o,l*p));for(f=0;f<u;f++){d=r[f];for(var g=f+1;g<u;g++){var b;It(o,(b=r[g]).p,d.p),0===(m=zt(o))&&(n=o,i=Math.random()-.5,a=Math.random()-.5,n[0]=i,n[1]=a,m=1);var w=(d.rep+b.rep)/m/m;!d.fixed&&FT(d.pp,d.pp,o,w),!b.fixed&&FT(b.pp,b.pp,o,-w)}}var x=[];for(f=0;f<u;f++){var M;(M=r[f]).fixed||(It(x,M.p,M.pp),FT(M.p,M.p,x,p),At(M.pp,M.p))}var S=(p*=.992)<.01;v&&v(r,e,S),t&&t(S)}}}(d,p,{rect:m,gravity:o.get("gravity"),friction:o.get("friction")});y.beforeStep((function(t,n){for(var i=0,e=t.length;i<e;i++)t[i].fixed&&At(t[i].p,r.getNodeByIndex(i).getLayout())})),y.afterStep((function(t,n,a){for(var o=0,u=t.length;o<u;o++)t[o].fixed||r.getNodeByIndex(o).setLayout(t[o].p),i[e.getId(o)]=t[o].p;for(o=0,u=n.length;o<u;o++){var s=n[o],l=r.getEdgeByIndex(o),f=s.n1.p,h=s.n2.p,c=l.getLayout();(c=c?c.slice():[])[0]=c[0]||[],c[1]=c[1]||[],At(c[0],f),At(c[1],h),+s.curveness&&(c[2]=[(f[0]+h[0])/2-(f[1]-h[1])*s.curveness,(f[1]+h[1])/2-(h[0]-f[0])*s.curveness]),l.setLayout(c)}})),t.forceLayout=y,t.preservedPoints=i,y.step()}else t.forceLayout=null}))}function _T(t,n){var i=[];return t.eachSeriesByType("graph",(function(t){var r=t.get("coordinateSystem");if(!r||"view"===r){var e=t.getData(),a=[],o=[];vo(e.mapArray((function(t){var n=e.getItemModel(t);return[+n.get("x"),+n.get("y")]})),a,o),o[0]-a[0]==0&&(o[0]+=1,a[0]-=1),o[1]-a[1]==0&&(o[1]+=1,a[1]-=1);var u=(o[0]-a[0])/(o[1]-a[1]),s=function(t,n,i){return ic(D(t.getBoxLayoutParams(),{aspect:i}),{width:n.getWidth(),height:n.getHeight()})}(t,n,u);isNaN(u)&&(a=[s.x,s.y],o=[s.x+s.width,s.y+s.height]);var l=o[0]-a[0],f=o[1]-a[1],h=s.width,c=s.height,v=t.coordinateSystem=new gN;v.zoomLimit=t.get("scaleLimit"),v.setBoundingRect(a[0],a[1],l,f),v.setViewRect(s.x,s.y,h,c),v.setCenter(t.get("center"),n),v.setZoom(t.get("zoom")),i.push(v)}})),i}var ET=Al.prototype,PT=Il.prototype,WT=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}}();function VT(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}!function(t){function n(){return null!==t&&t.apply(this,arguments)||this}l(n,t)}(WT);var HT=function(t){function n(n){var i=t.call(this,n)||this;return i.type="ec-line",i}return l(n,t),n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new WT},n.prototype.buildPath=function(t,n){VT(n)?ET.buildPath.call(this,t,n):PT.buildPath.call(this,t,n)},n.prototype.pointAt=function(t){return VT(this.shape)?ET.pointAt.call(this,t):PT.pointAt.call(this,t)},n.prototype.tangentAt=function(t){var n=this.shape,i=VT(n)?[n.x2-n.x1,n.y2-n.y1]:PT.tangentAt.call(this,t);return Ot(i,i)},n}(au),YT=["fromSymbol","toSymbol"];function GT(t){return"_"+t+"Type"}function XT(t,n,i){var r=n.getItemVisual(i,t);if(!r||"none"===r)return r;var e=n.getItemVisual(i,t+"Size"),a=n.getItemVisual(i,t+"Rotate"),o=n.getItemVisual(i,t+"Offset"),u=n.getItemVisual(i,t+"KeepAspect"),s=ym(e);return r+s+gm(o||0,s)+(a||"")+(u||"")}function UT(t,n,i){var r=n.getItemVisual(i,t);if(r&&"none"!==r){var e=n.getItemVisual(i,t+"Size"),a=n.getItemVisual(i,t+"Rotate"),o=n.getItemVisual(i,t+"Offset"),u=n.getItemVisual(i,t+"KeepAspect"),s=ym(e),l=gm(o||0,s),f=mm(r,-s[0]/2+l[0],-s[1]/2+l[1],s[0],s[1],null,u);return f.Qf=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,f.name=t,f}}function jT(t,n){t.x1=n[0][0],t.y1=n[0][1],t.x2=n[1][0],t.y2=n[1][1],t.percent=1;var i=n[2];i?(t.cpx1=i[0],t.cpy1=i[1]):(t.cpx1=NaN,t.cpy1=NaN)}var ZT=function(t){function n(n,i,r){var e=t.call(this)||this;return e.th(n,i,r),e}return l(n,t),n.prototype.th=function(t,n,i){var r=t.hostModel,e=function(t){var n=new HT({name:"line",subPixelOptimize:!0});return jT(n.shape,t),n}(t.getItemLayout(n));e.shape.percent=0,jl(e,{shape:{percent:1}},r,n),this.add(e),E(YT,(function(i){var r=UT(i,t,n);this.add(r),this[GT(i)]=XT(i,t,n)}),this),this.nh(t,n,i)},n.prototype.updateData=function(t,n,i){var r=t.hostModel,e=this.childOfName("line"),a=t.getItemLayout(n),o={shape:{}};jT(o.shape,a),Ul(e,o,r,n),E(YT,(function(i){var r=XT(i,t,n),e=GT(i);if(this[e]!==r){this.remove(this.childOfName(i));var a=UT(i,t,n);this.add(a)}this[e]=r}),this),this.nh(t,n,i)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype.nh=function(t,n,i){var r=t.hostModel,e=this.childOfName("line"),a=i&&i.emphasisLineStyle,o=i&&i.blurLineStyle,u=i&&i.selectLineStyle,s=i&&i.labelStatesModels,l=i&&i.emphasisDisabled,f=i&&i.focus,h=i&&i.blurScope;if(!i||t.hasItemOption){var c=t.getItemModel(n),v=c.getModel("emphasis");a=v.getModel("lineStyle").getLineStyle(),o=c.getModel(["blur","lineStyle"]).getLineStyle(),u=c.getModel(["select","lineStyle"]).getLineStyle(),l=v.get("disabled"),f=v.get("focus"),h=v.get("blurScope"),s=Lf(c)}var d=t.getItemVisual(n,"style"),p=d.stroke;e.useStyle(d),e.style.fill=null,e.style.strokeNoScale=!0,e.ensureState("emphasis").style=a,e.ensureState("blur").style=o,e.ensureState("select").style=u,E(YT,(function(t){var n=this.childOfName(t);if(n){n.setColor(p),n.style.opacity=d.opacity;for(var i=0;i<Pu.length;i++){var r=Pu[i],a=e.getState(r);if(a){var o=a.style||{},u=n.ensureState(r),s=u.style||(u.style={});null!=o.stroke&&(s[n.Ae?"stroke":"fill"]=o.stroke),null!=o.opacity&&(s.opacity=o.opacity)}}n.markRedraw()}}),this);var m=r.getRawValue(n);zf(this,s,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(n,i){return r.getFormattedLabel(n,i,t.dataType)}},inheritColor:p||"#000",defaultOpacity:d.opacity,defaultText:(null==m?t.getName(n):isFinite(m)?Le(m):m)+""});var y=this.getTextContent();if(y){var g=s.normal;y.ih=y.style.align,y.rh=y.style.verticalAlign,y.eh=g.get("position")||"middle";var b=g.get("distance");X(b)||(b=[b,b]),y.ah=b}this.setTextConfig({position:null,local:!0,inside:!1}),Ms(this,f,h,l)},n.prototype.highlight=function(){ss(this)},n.prototype.downplay=function(){ls(this)},n.prototype.updateLayout=function(t,n){this.setLinePoints(t.getItemLayout(n))},n.prototype.setLinePoints=function(t){var n=this.childOfName("line");jT(n.shape,t),n.dirty()},n.prototype.beforeUpdate=function(){var t=this,n=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),r=t.getTextContent();if(n||i||r&&!r.ignore){for(var e=1,a=this.parent;a;)a.scaleX&&(e/=a.scaleX),a=a.parent;var o=t.childOfName("line");if(this.tt||o.tt){var u=o.shape.percent,s=o.pointAt(0),l=o.pointAt(u),f=It([],l,s);if(Ot(f,f),n&&(n.setPosition(s),S(n,0),n.scaleX=n.scaleY=e*u,n.markRedraw()),i&&(i.setPosition(l),S(i,1),i.scaleX=i.scaleY=e*u,i.markRedraw()),r&&!r.ignore){r.x=r.y=0,r.originX=r.originY=0;var h=void 0,c=void 0,v=r.ah,d=v[0]*e,p=v[1]*e,m=u/2,y=o.tangentAt(m),g=[y[1],-y[0]],b=o.pointAt(m);g[1]>0&&(g[0]=-g[0],g[1]=-g[1]);var w=y[0]<0?-1:1;if("start"!==r.eh&&"end"!==r.eh){var x=-Math.atan2(y[1],y[0]);l[0]<s[0]&&(x=Math.PI+x),r.rotation=x}var M=void 0;switch(r.eh){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":M=-p,c="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":M=p,c="top";break;default:M=0,c="middle"}switch(r.eh){case"end":r.x=f[0]*d+l[0],r.y=f[1]*p+l[1],h=f[0]>.8?"left":f[0]<-.8?"right":"center",c=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":r.x=-f[0]*d+s[0],r.y=-f[1]*p+s[1],h=f[0]>.8?"right":f[0]<-.8?"left":"center",c=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":r.x=d*w+s[0],r.y=s[1]+M,h=y[0]<0?"right":"left",r.originX=-d*w,r.originY=-M;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":r.x=b[0],r.y=b[1]+M,h="center",r.originY=-M;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":r.x=-d*w+l[0],r.y=l[1]+M,h=y[0]>=0?"right":"left",r.originX=d*w,r.originY=-M}r.scaleX=r.scaleY=e,r.setStyle({verticalAlign:r.rh||c,align:r.ih||h})}}}function S(t,n){var i=t.Qf;if(null==i){var r=o.tangentAt(n);t.attr("rotation",(1===n?-1:1)*Math.PI/2-Math.atan2(r[1],r[0]))}else t.attr("rotation",i)}},n}(Se),qT=function(){function t(t){this.group=new Se,this.oh=t||ZT}return t.prototype.updateData=function(t){var n=this;this.Iu=null;var i=this,r=i.group,e=i.uh;i.uh=t,e||r.removeAll();var a=KT(t);t.diff(e).add((function(i){n.Sn(t,i,a)})).update((function(i,r){n.sh(e,t,r,i,a)})).remove((function(t){r.remove(e.getItemGraphicEl(t))})).execute()},t.prototype.updateLayout=function(){var t=this.uh;t&&t.eachItemGraphicEl((function(n,i){n.updateLayout(t,i)}),this)},t.prototype.incrementalPrepareUpdate=function(t){this.Lu=KT(t),this.uh=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,n){function i(t){t.isGroup||function(t){return t.animators&&t.animators.length>0}(t)||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}this.Iu=[];for(var r=t.start;r<t.end;r++){if($T(n.getItemLayout(r))){var e=new this.oh(n,r,this.Lu);e.traverse(i),this.group.add(e),n.setItemGraphicEl(r,e),this.Iu.push(e)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){Af(this.Iu||this.group,t)},t.prototype.Sn=function(t,n,i){if($T(t.getItemLayout(n))){var r=new this.oh(t,n,i);t.setItemGraphicEl(n,r),this.group.add(r)}},t.prototype.sh=function(t,n,i,r,e){var a=t.getItemGraphicEl(i);$T(n.getItemLayout(r))?(a?a.updateData(n,r,e):a=new this.oh(n,r,e),n.setItemGraphicEl(r,a),this.group.add(a)):this.group.remove(a)},t}();function KT(t){var n=t.hostModel,i=n.getModel("emphasis");return{lineStyle:n.getModel("lineStyle").getLineStyle(),emphasisLineStyle:i.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:n.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:n.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:i.get("disabled"),blurScope:i.get("blurScope"),focus:i.get("focus"),labelStatesModels:Lf(n)}}function JT(t){return isNaN(t[0])||isNaN(t[1])}function $T(t){return t&&!JT(t[0])&&!JT(t[1])}var QT=[],tI=[],nI=[],iI=pi,rI=Ft,eI=Math.abs;function aI(t,n,i){for(var r,e=t[0],a=t[1],o=t[2],u=1/0,s=i*i,l=.1,f=.1;f<=.9;f+=.1){QT[0]=iI(e[0],a[0],o[0],f),QT[1]=iI(e[1],a[1],o[1],f),(v=eI(rI(QT,n)-s))<u&&(u=v,r=f)}for(var h=0;h<32;h++){var c=r+l;tI[0]=iI(e[0],a[0],o[0],r),tI[1]=iI(e[1],a[1],o[1],r),nI[0]=iI(e[0],a[0],o[0],c),nI[1]=iI(e[1],a[1],o[1],c);var v=rI(tI,n)-s;if(eI(v)<.01)break;var d=rI(nI,n)-s;l/=2,v<0?d>=0?r+=l:r-=l:d>=0?r-=l:r+=l}return r}function oI(t,n){var i=[],r=gi,e=[[],[],[]],a=[[],[]],o=[];n/=2,t.eachEdge((function(t,u){var s=t.getLayout(),l=t.getVisual("fromSymbol"),f=t.getVisual("toSymbol");s.fh||(s.fh=[Nt(s[0]),Nt(s[1])],s[2]&&s.fh.push(Nt(s[2])));var h=s.fh;if(null!=s[2]){if(At(e[0],h[0]),At(e[1],h[2]),At(e[2],h[1]),l&&"none"!==l){var c=TT(t.node1),v=aI(e,h[0],c*n);r(e[0][0],e[1][0],e[2][0],v,i),e[0][0]=i[3],e[1][0]=i[4],r(e[0][1],e[1][1],e[2][1],v,i),e[0][1]=i[3],e[1][1]=i[4]}if(f&&"none"!==f){c=TT(t.node2),v=aI(e,h[1],c*n);r(e[0][0],e[1][0],e[2][0],v,i),e[1][0]=i[1],e[2][0]=i[2],r(e[0][1],e[1][1],e[2][1],v,i),e[1][1]=i[1],e[2][1]=i[2]}At(s[0],e[0]),At(s[1],e[2]),At(s[2],e[1])}else{if(At(a[0],h[0]),At(a[1],h[1]),It(o,a[1],a[0]),Ot(o,o),l&&"none"!==l){c=TT(t.node1);Tt(a[0],a[0],o,c*n)}if(f&&"none"!==f){c=TT(t.node2);Tt(a[1],a[1],o,-c*n)}At(s[0],a[0]),At(s[1],a[1])}}))}function uI(t){return"view"===t.type}var sI=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(t,n){var i=new AM,r=new qT,e=this.group;this.Rl=new uA(n.getZr()),this.Fl={target:e},e.add(i.group),e.add(r.group),this.Ru=i,this.hh=r,this.dh=!0},n.prototype.render=function(t,n,i){var r=this,e=t.coordinateSystem;this.Xe=t;var a=this.Ru,o=this.hh,u=this.group;if(uI(e)){var s={x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY};this.dh?u.attr(s):Ul(u,s,t)}oI(t.getGraph(),CT(t));var l=t.getData();a.updateData(l);var f=t.getEdgeData();o.updateData(f),this.pf(),this.Wl(t,n,i),clearTimeout(this.ph);var h=t.forceLayout,c=t.get(["force","layoutAnimation"]);h&&this.mh(h,c);var v=t.get("layout");l.graph.eachNode((function(n){var i=n.dataIndex,e=n.getGraphicEl(),a=n.getModel();if(e){e.off("drag").off("dragend");var o=a.get("draggable");o&&e.on("drag",(function(a){switch(v){case"force":h.warmUp(),!r.yh&&r.mh(h,c),h.setFixed(i),l.setItemLayout(i,[e.x,e.y]);break;case"circular":l.setItemLayout(i,[e.x,e.y]),n.setLayout({fixed:!0},!0),LT(t,"symbolSize",n,[a.offsetX,a.offsetY]),r.updateLayout(t);break;default:l.setItemLayout(i,[e.x,e.y]),AT(t.getGraph(),t),r.updateLayout(t)}})).on("dragend",(function(){h&&h.setUnfixed(i)})),e.setDraggable(o,!!a.get("cursor")),"adjacency"===a.get(["emphasis","focus"])&&(Du(e).focus=n.getAdjacentDataIndices())}})),l.graph.eachEdge((function(t){var n=t.getGraphicEl(),i=t.getModel().get(["emphasis","focus"]);n&&"adjacency"===i&&(Du(n).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})}));var d="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),p=l.getLayout("cx"),m=l.getLayout("cy");l.graph.eachNode((function(t){DT(t,d,p,m)})),this.dh=!1},n.prototype.dispose=function(){this.remove(),this.Rl&&this.Rl.dispose(),this.Fl=null},n.prototype.mh=function(t,n){var i=this;!function r(){t.step((function(t){i.updateLayout(i.Xe),(i.yh=!t)&&(n?i.ph=setTimeout(r,16):r())}))}()},n.prototype.Wl=function(t,n,i){var r=this,e=this.Rl,a=this.Fl,o=this.group;e.setPointerChecker((function(n,r,e){var a=o.getBoundingRect();return a.applyTransform(o.transform),a.contain(r,e)&&!pA(n,i,t)})),uI(t.coordinateSystem)?(e.enable(t.get("roam")),a.zoomLimit=t.get("scaleLimit"),a.zoom=t.coordinateSystem.getZoom(),e.off("pan").off("zoom").on("pan",(function(n){hA(a,n.dx,n.dy),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:n.dx,dy:n.dy})})).on("zoom",(function(n){cA(a,n.scale,n.originX,n.originY),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:n.scale,originX:n.originX,originY:n.originY}),r.pf(),oI(t.getGraph(),CT(t)),r.hh.updateLayout(),i.updateLabelLayout()}))):e.disable()},n.prototype.pf=function(){var t=this.Xe,n=t.getData(),i=CT(t);n.eachItemGraphicEl((function(t,n){t&&t.setSymbolScale(i)}))},n.prototype.updateLayout=function(t){oI(t.getGraph(),CT(t)),this.Ru.updateLayout(),this.hh.updateLayout()},n.prototype.remove=function(){clearTimeout(this.ph),this.yh=!1,this.ph=null,this.Ru&&this.Ru.remove(),this.hh&&this.hh.remove()},n.type="graph",n}(ep);function lI(t){return"_EC_"+t}var fI=function(){function t(t){this.type="graph",this.nodes=[],this.edges=[],this.gh={},this.bh={},this.xh=t||!1}return t.prototype.isDirected=function(){return this.xh},t.prototype.addNode=function(t,n){t=null==t?""+n:""+t;var i=this.gh;if(!i[lI(t)]){var r=new hI(t,n);return r.hostGraph=this,this.nodes.push(r),i[lI(t)]=r,r}},t.prototype.getNodeByIndex=function(t){var n=this.data.getRawIndex(t);return this.nodes[n]},t.prototype.getNodeById=function(t){return this.gh[lI(t)]},t.prototype.addEdge=function(t,n,i){var r=this.gh,e=this.bh;if(q(t)&&(t=this.nodes[t]),q(n)&&(n=this.nodes[n]),t instanceof hI||(t=r[lI(t)]),n instanceof hI||(n=r[lI(n)]),t&&n){var a=t.id+"-"+n.id,o=new cI(t,n,i);return o.hostGraph=this,this.xh&&(t.outEdges.push(o),n.inEdges.push(o)),t.edges.push(o),t!==n&&n.edges.push(o),this.edges.push(o),e[a]=o,o}},t.prototype.getEdgeByIndex=function(t){var n=this.edgeData.getRawIndex(t);return this.edges[n]},t.prototype.getEdge=function(t,n){t instanceof hI&&(t=t.id),n instanceof hI&&(n=n.id);var i=this.bh;return this.xh?i[t+"-"+n]:i[t+"-"+n]||i[n+"-"+t]},t.prototype.eachNode=function(t,n){for(var i=this.nodes,r=i.length,e=0;e<r;e++)i[e].dataIndex>=0&&t.call(n,i[e],e)},t.prototype.eachEdge=function(t,n){for(var i=this.edges,r=i.length,e=0;e<r;e++)i[e].dataIndex>=0&&i[e].node1.dataIndex>=0&&i[e].node2.dataIndex>=0&&t.call(n,i[e],e)},t.prototype.breadthFirstTraverse=function(t,n,i,r){if(n instanceof hI||(n=this.gh[lI(n)]),n){for(var e="out"===i?"outEdges":"in"===i?"inEdges":"edges",a=0;a<this.nodes.length;a++)this.nodes[a].Mh=!1;if(!t.call(r,n,null))for(var o=[n];o.length;){var u=o.shift(),s=u[e];for(a=0;a<s.length;a++){var l=s[a],f=l.node1===u?l.node2:l.node1;if(!f.Mh){if(t.call(r,f,u))return;o.push(f),f.Mh=!0}}}}},t.prototype.update=function(){for(var t=this.data,n=this.edgeData,i=this.nodes,r=this.edges,e=0,a=i.length;e<a;e++)i[e].dataIndex=-1;for(e=0,a=t.count();e<a;e++)i[t.getRawIndex(e)].dataIndex=e;n.filterSelf((function(t){var i=r[n.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0}));for(e=0,a=r.length;e<a;e++)r[e].dataIndex=-1;for(e=0,a=n.count();e<a;e++)r[n.getRawIndex(e)].dataIndex=e},t.prototype.clone=function(){for(var n=new t(this.xh),i=this.nodes,r=this.edges,e=0;e<i.length;e++)n.addNode(i[e].id,i[e].dataIndex);for(e=0;e<r.length;e++){var a=r[e];n.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return n},t}(),hI=function(){function t(t,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=null==t?"":t,this.dataIndex=null==n?-1:n}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},n=0;n<this.edges.length;n++){var i=this.edges[n];i.dataIndex<0||(t.edge.push(i.dataIndex),t.node.push(i.node1.dataIndex,i.node2.dataIndex))}return t},t.prototype.getTrajectoryDataIndices=function(){for(var t=pt(),n=pt(),i=0;i<this.edges.length;i++){var r=this.edges[i];if(!(r.dataIndex<0)){t.set(r.dataIndex,!0);for(var e=[r.node1],a=[r.node2],o=0;o<e.length;){var u=e[o];o++,n.set(u.dataIndex,!0);for(var s=0;s<u.inEdges.length;s++)t.set(u.inEdges[s].dataIndex,!0),e.push(u.inEdges[s].node1)}for(o=0;o<a.length;){var l=a[o];o++,n.set(l.dataIndex,!0);for(s=0;s<l.outEdges.length;s++)t.set(l.outEdges[s].dataIndex,!0),a.push(l.outEdges[s].node2)}}}return{edge:t.keys(),node:n.keys()}},t}(),cI=function(){function t(t,n,i){this.dataIndex=-1,this.node1=t,this.node2=n,this.dataIndex=null==i?-1:i}return t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var t=pt(),n=pt();t.set(this.dataIndex,!0);for(var i=[this.node1],r=[this.node2],e=0;e<i.length;){var a=i[e];e++,n.set(a.dataIndex,!0);for(var o=0;o<a.inEdges.length;o++)t.set(a.inEdges[o].dataIndex,!0),i.push(a.inEdges[o].node1)}for(e=0;e<r.length;){var u=r[e];e++,n.set(u.dataIndex,!0);for(o=0;o<u.outEdges.length;o++)t.set(u.outEdges[o].dataIndex,!0),r.push(u.outEdges[o].node2)}return{edge:t.keys(),node:n.keys()}},t}();function vI(t,n){return{getValue:function(i){var r=this[t][n];return r.getStore().get(r.getDimensionIndex(i||"value"),this.dataIndex)},setVisual:function(i,r){this.dataIndex>=0&&this[t][n].setItemVisual(this.dataIndex,i,r)},getVisual:function(i){return this[t][n].getItemVisual(this.dataIndex,i)},setLayout:function(i,r){this.dataIndex>=0&&this[t][n].setItemLayout(this.dataIndex,i,r)},getLayout:function(){return this[t][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][n].getRawIndex(this.dataIndex)}}}function dI(t,n,i,r,e){for(var a=new fI(r),o=0;o<t.length;o++)a.addNode(it(t[o].id,t[o].name,o),o);var u=[],s=[],l=0;for(o=0;o<n.length;o++){var f=n[o],h=f.source,c=f.target;a.addEdge(h,c,l)&&(s.push(f),u.push(it(sa(f.id,null),h+" > "+c)),l++)}var v,d=i.get("coordinateSystem");if("cartesian2d"===d||"polar"===d)v=Fg(t,i);else{var p=Zc.get(d),m=p&&p.dimensions||[];F(m,"value")<0&&m.concat(["value"]);var y=Cg(t,{coordDimensions:m,encodeDefine:i.getEncode()}).dimensions;(v=new Ng(y,i)).initData(t)}var g=new Ng(["value"],i);return g.initData(s,u),e&&e(v,g),$N({mainData:v,struct:a,structAttr:"graph",datas:{node:v,edge:g},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}B(hI,vI("hostGraph","data")),B(cI,vI("hostGraph","edgeData"));var pI=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.hasSymbolVisual=!0,i}return l(n,t),n.prototype.init=function(n){t.prototype.init.apply(this,arguments);var i=this;function r(){return i.Sh}this.legendVisualProvider=new VS(r,r),this.fillDataTextStyle(n.edges||n.links),this.kh()},n.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(n.edges||n.links),this.kh()},n.prototype.mergeDefaultAndTheme=function(n){t.prototype.mergeDefaultAndTheme.apply(this,arguments),na(n,"edgeLabel",["show"])},n.prototype.getInitialData=function(t,n){var i,r=t.edges||t.links||[],e=t.data||t.nodes||[],a=this;if(e&&r){gT(i=this)&&(i.Jf=[],i.$f={},bT(i));var o=dI(e,r,this,!0,(function(t,n){t.wrapMethod("getItemModel",(function(t){var n=a.Ah[t.getShallow("category")];return n&&(n.parentModel=t.parentModel,t.parentModel=n),t}));var i=th.prototype.getModel;function r(t,n){var r=i.call(this,t,n);return r.resolveParentPath=e,r}function e(t){if(t&&("label"===t[0]||"label"===t[1])){var n=t.slice();return"label"===t[0]?n[0]="edgeLabel":"label"===t[1]&&(n[1]="edgeLabel"),n}return t}n.wrapMethod("getItemModel",(function(t){return t.resolveParentPath=e,t.getModel=r,t}))}));return E(o.edges,(function(t){!function(t,n,i,r){if(gT(i)){var e=wT(t,n,i),a=i.$f,o=a[xT(e)];a[e]&&!o?a[e].isForward=!0:o&&a[e]&&(o.isForward=!0,a[e].isForward=!1),a[e]=a[e]||[],a[e].push(r)}}(t.node1,t.node2,this,t.dataIndex)}),this),o.data}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this.Sh},n.prototype.formatTooltip=function(t,n,i){if("edge"===i){var r=this.getData(),e=this.getDataParams(t,i),a=r.graph.getEdgeByIndex(t),o=r.getName(a.node1.dataIndex),u=r.getName(a.node2.dataIndex),s=[];return null!=o&&s.push(o),null!=u&&s.push(u),zd("nameValue",{name:s.join(" > "),value:e.value,noValue:null==e.value})}return Hd({series:this,dataIndex:t,multipleSeries:n})},n.prototype.kh=function(){var t=P(this.option.categories||[],(function(t){return null!=t.value?t:D({value:0},t)})),n=new Ng(["value"],this);n.initData(t),this.Sh=n,this.Ah=n.mapArray((function(t){return n.getItemModel(t)}))},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},n.type="series.graph",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(Ud),mI={type:"graphRoam",event:"graphRoam",update:"none"};var yI=function(){return function(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}}(),gI=function(t){function n(n){var i=t.call(this,n)||this;return i.type="pointer",i}return l(n,t),n.prototype.getDefaultShape=function(){return new yI},n.prototype.buildPath=function(t,n){var i=Math.cos,r=Math.sin,e=n.r,a=n.width,o=n.angle,u=n.x-i(o)*a*(a>=e/3?1:2),s=n.y-r(o)*a*(a>=e/3?1:2);o=n.angle-Math.PI/2,t.moveTo(u,s),t.lineTo(n.x+i(o)*a,n.y+r(o)*a),t.lineTo(n.x+i(n.angle)*e,n.y+r(n.angle)*e),t.lineTo(n.x-i(o)*a,n.y-r(o)*a),t.lineTo(u,s)},n}(au);function bI(t,n){var i=null==t?"":t+"";return n&&(j(n)?i=n.replace("{value}",i):U(n)&&(i=n(t))),i}var wI=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){this.group.removeAll();var r=t.get(["axisLine","lineStyle","color"]),e=function(t,n){var i=t.get("center"),r=n.getWidth(),e=n.getHeight(),a=Math.min(r,e);return{cx:ze(i[0],n.getWidth()),cy:ze(i[1],n.getHeight()),r:ze(t.get("radius"),a/2)}}(t,i);this.Nh(t,n,i,r,e),this.qi=t.getData()},n.prototype.dispose=function(){},n.prototype.Nh=function(t,n,i,r,e){var a=this.group,o=t.get("clockwise"),u=-t.get("startAngle")/180*Math.PI,s=-t.get("endAngle")/180*Math.PI,l=t.getModel("axisLine"),f=l.get("roundCap")?eS:pl,h=l.get("show"),c=l.getModel("lineStyle"),v=c.get("width"),d=[u,s];Eo(d,!o);for(var p=(s=d[1])-(u=d[0]),m=u,y=[],g=0;h&&g<r.length;g++){var b=new f({shape:{startAngle:m,endAngle:s=u+p*Math.min(Math.max(r[g][0],0),1),cx:e.cx,cy:e.cy,clockwise:o,r0:e.r-v,r:e.r},silent:!0});b.setStyle({fill:r[g][1]}),b.setStyle(c.getLineStyle(["color","width"])),y.push(b),m=s}y.reverse(),E(y,(function(t){return a.add(t)}));var w=function(t){if(t<=0)return r[0][1];var n;for(n=0;n<r.length;n++)if(r[n][0]>=t&&(0===n?0:r[n-1][0])<t)return r[n][1];return r[n-1][1]};this.Ch(t,n,i,w,e,u,s,o,v),this.Th(t,n,i,w,e),this.Ih(t,e),this.zh(t,n,i,w,e,u,s,o,v)},n.prototype.Ch=function(t,n,i,r,e,a,o,u,s){for(var l,f,h=this.group,c=e.cx,v=e.cy,d=e.r,p=+t.get("min"),m=+t.get("max"),y=t.getModel("splitLine"),g=t.getModel("axisTick"),b=t.getModel("axisLabel"),w=t.get("splitNumber"),x=g.get("splitNumber"),M=ze(y.get("length"),d),S=ze(g.get("length"),d),k=a,A=(o-a)/w,N=A/x,C=y.getModel("lineStyle").getLineStyle(),T=g.getModel("lineStyle").getLineStyle(),I=y.get("distance"),z=0;z<=w;z++){if(l=Math.cos(k),f=Math.sin(k),y.get("show")){var L=new Al({shape:{x1:l*(d-(O=I?I+s:s))+c,y1:f*(d-O)+v,x2:l*(d-M-O)+c,y2:f*(d-M-O)+v},style:C,silent:!0});"auto"===C.stroke&&L.setStyle({stroke:r(z/w)}),h.add(L)}if(b.get("show")){var O=b.get("distance")+I,D=bI(Le(z/w*(m-p)+p),b.get("formatter")),R=r(z/w),F=l*(d-M-O)+c,B=f*(d-M-O)+v,_=b.get("rotate"),E=0;"radial"===_?(E=-k+2*Math.PI)>Math.PI/2&&(E+=Math.PI):"tangential"===_?E=-k-Math.PI/2:q(_)&&(E=_*Math.PI/180),0===E?h.add(new wu({style:Of(b,{text:D,x:F,y:B,verticalAlign:f<-.8?"top":f>.8?"bottom":"middle",align:l<-.4?"left":l>.4?"right":"center"},{inheritColor:R}),silent:!0})):h.add(new wu({style:Of(b,{text:D,x:F,y:B,verticalAlign:"middle",align:"center"},{inheritColor:R}),silent:!0,originX:F,originY:B,rotation:E}))}if(g.get("show")&&z!==w){O=(O=g.get("distance"))?O+s:s;for(var P=0;P<=x;P++){l=Math.cos(k),f=Math.sin(k);var W=new Al({shape:{x1:l*(d-O)+c,y1:f*(d-O)+v,x2:l*(d-S-O)+c,y2:f*(d-S-O)+v},silent:!0,style:T});"auto"===T.stroke&&W.setStyle({stroke:r((z+P/x)/w)}),h.add(W),k+=N}k-=N}else k+=A}},n.prototype.zh=function(t,n,i,r,e,a,o,u,s){var l=this.group,f=this.qi,h=this.Lh,c=[],v=t.get(["pointer","show"]),d=t.getModel("progress"),p=d.get("show"),m=t.getData(),y=m.mapDimension("value"),g=+t.get("min"),b=+t.get("max"),w=[g,b],x=[a,o];function M(n,i){var r,a=m.getItemModel(n).getModel("pointer"),o=ze(a.get("width"),e.r),u=ze(a.get("length"),e.r),s=t.get(["pointer","icon"]),l=a.get("offsetCenter"),f=ze(l[0],e.r),h=ze(l[1],e.r),c=a.get("keepAspect");return(r=s?mm(s,f-o/2,h-u,o,u,null,c):new gI({shape:{angle:-Math.PI/2,width:o,r:u,x:f,y:h}})).rotation=-(i+Math.PI/2),r.x=e.cx,r.y=e.cy,r}function S(t,n){var i=d.get("roundCap")?eS:pl,r=d.get("overlap"),o=r?d.get("width"):s/m.count(),l=r?e.r-o:e.r-(t+1)*o,f=r?e.r:e.r-t*o,h=new i({shape:{startAngle:a,endAngle:n,cx:e.cx,cy:e.cy,clockwise:u,r0:l,r:f}});return r&&(h.z2=Ie(m.get(y,t),[g,b],[100,0],!0)),h}(p||v)&&(m.diff(f).add((function(n){var i=m.get(y,n);if(v){var r=M(n,a);jl(r,{rotation:-((isNaN(+i)?x[0]:Ie(i,w,x,!0))+Math.PI/2)},t),l.add(r),m.setItemGraphicEl(n,r)}if(p){var e=S(n,a),o=d.get("clip");jl(e,{shape:{endAngle:Ie(i,w,x,o)}},t),l.add(e),Ru(t.seriesIndex,m.dataType,n,e),c[n]=e}})).update((function(n,i){var r=m.get(y,n);if(v){var e=f.getItemGraphicEl(i),o=e?e.rotation:a,u=M(n,o);u.rotation=o,Ul(u,{rotation:-((isNaN(+r)?x[0]:Ie(r,w,x,!0))+Math.PI/2)},t),l.add(u),m.setItemGraphicEl(n,u)}if(p){var s=h[i],g=S(n,s?s.shape.endAngle:a),b=d.get("clip");Ul(g,{shape:{endAngle:Ie(r,w,x,b)}},t),l.add(g),Ru(t.seriesIndex,m.dataType,n,g),c[n]=g}})).execute(),m.each((function(t){var n=m.getItemModel(t),i=n.getModel("emphasis"),e=i.get("focus"),a=i.get("blurScope"),o=i.get("disabled");if(v){var u=m.getItemGraphicEl(t),s=m.getItemVisual(t,"style"),l=s.fill;if(u instanceof fu){var f=u.style;u.useStyle(D({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},s))}else u.useStyle(s),"pointer"!==u.type&&u.setColor(l);u.setStyle(n.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===u.style.fill&&u.setStyle("fill",r(Ie(m.get(y,t),w,[0,1],!0))),u.z2EmphasisLift=0,Ns(u,n),Ms(u,e,a,o)}if(p){var h=c[t];h.useStyle(m.getItemVisual(t,"style")),h.setStyle(n.getModel(["progress","itemStyle"]).getItemStyle()),h.z2EmphasisLift=0,Ns(h,n),Ms(h,e,a,o)}})),this.Lh=c)},n.prototype.Ih=function(t,n){var i=t.getModel("anchor");if(i.get("show")){var r=i.get("size"),e=i.get("icon"),a=i.get("offsetCenter"),o=i.get("keepAspect"),u=mm(e,n.cx-r/2+ze(a[0],n.r),n.cy-r/2+ze(a[1],n.r),r,r,null,o);u.z2=i.get("showAbove")?1:0,u.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(u)}},n.prototype.Th=function(t,n,i,r,e){var a=this,o=t.getData(),u=o.mapDimension("value"),s=+t.get("min"),l=+t.get("max"),f=new Se,h=[],c=[],v=t.isAnimationEnabled(),d=t.get(["pointer","showAbove"]);o.diff(this.qi).add((function(t){h[t]=new wu({silent:!0}),c[t]=new wu({silent:!0})})).update((function(t,n){h[t]=a.Oh[n],c[t]=a.Dh[n]})).execute(),o.each((function(n){var i=o.getItemModel(n),a=o.get(u,n),p=new Se,m=r(Ie(a,[s,l],[0,1],!0)),y=i.getModel("title");if(y.get("show")){var g=y.get("offsetCenter"),b=e.cx+ze(g[0],e.r),w=e.cy+ze(g[1],e.r);(T=h[n]).attr({z2:d?0:2,style:Of(y,{x:b,y:w,text:o.getName(n),align:"center",verticalAlign:"middle"},{inheritColor:m})}),p.add(T)}var x=i.getModel("detail");if(x.get("show")){var M=x.get("offsetCenter"),S=e.cx+ze(M[0],e.r),k=e.cy+ze(M[1],e.r),A=ze(x.get("width"),e.r),N=ze(x.get("height"),e.r),C=t.get(["progress","show"])?o.getItemVisual(n,"style").fill:m,T=c[n],I=x.get("formatter");T.attr({z2:d?0:2,style:Of(x,{x:S,y:k,text:bI(a,I),width:isNaN(A)?null:A,height:isNaN(N)?null:N,align:"center",verticalAlign:"middle"},{inheritColor:C})}),Wf(T,{normal:x},a,(function(t){return bI(t,I)})),v&&Vf(T,n,o,t,{getFormattedLabel:function(t,n,i,r,e,o){return bI(o?o.interpolatedValue:a,I)}}),p.add(T)}f.add(p)})),this.group.add(f),this.Oh=h,this.Dh=c},n.type="gauge",n}(ep),xI=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.visualStyleAccessPath="itemStyle",i}return l(n,t),n.prototype.getInitialData=function(t,n){return WS(this,["value"])},n.type="series.gauge",n.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},n}(Ud);var MI=["itemStyle","opacity"],SI=function(t){function n(n,i){var r=t.call(this)||this,e=r,a=new Ml,o=new wu;return e.setTextContent(o),r.setTextGuideLine(a),r.updateData(n,i,!0),r}return l(n,t),n.prototype.updateData=function(t,n,i){var r=this,e=t.hostModel,a=t.getItemModel(n),o=t.getItemLayout(n),u=a.getModel("emphasis"),s=a.get(MI);s=null==s?1:s,i||$l(r),r.useStyle(t.getItemVisual(n,"style")),r.style.lineJoin="round",i?(r.setShape({points:o.points}),r.style.opacity=0,jl(r,{style:{opacity:s}},e,n)):Ul(r,{style:{opacity:s},shape:{points:o.points}},e,n),Ns(r,a),this.Ms(t,n),Ms(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},n.prototype.Ms=function(t,n){var i=this,r=this.getTextGuideLine(),e=i.getTextContent(),a=t.hostModel,o=t.getItemModel(n),u=t.getItemLayout(n).label,s=t.getItemVisual(n,"style"),l=s.fill;zf(e,Lf(o),{labelFetcher:t.hostModel,labelDataIndex:n,defaultOpacity:s.opacity,defaultText:t.getName(n)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}}),i.setTextConfig({local:!0,inside:!!u.inside,insideStroke:l,outsideFill:l});var f=u.linePoints;r.setShape({points:f}),i.textGuideLineConfig={anchor:f?new wn(f[0][0],f[0][1]):null},Ul(e,{style:{x:u.x,y:u.y}},a,n),e.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),Bw(i,_w(o),{stroke:l})},n}(wl),kI=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.ignoreLabelLineUpdate=!0,i}return l(n,t),n.prototype.render=function(t,n,i){var r=t.getData(),e=this.qi,a=this.group;r.diff(e).add((function(t){var n=new SI(r,t);r.setItemGraphicEl(t,n),a.add(n)})).update((function(t,n){var i=e.getItemGraphicEl(n);i.updateData(r,t),a.add(i),r.setItemGraphicEl(t,i)})).remove((function(n){Jl(e.getItemGraphicEl(n),t,n)})).execute(),this.qi=r},n.prototype.remove=function(){this.group.removeAll(),this.qi=null},n.prototype.dispose=function(){},n.type="funnel",n}(ep),AI=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new VS(Y(this.getData,this),Y(this.getRawData,this)),this.Ns(n)},n.prototype.getInitialData=function(t,n){return WS(this,{coordDimensions:["value"],encodeDefaulter:G(Cc,this)})},n.prototype.Ns=function(t){na(t,"labelLine",["show"]);var n=t.labelLine,i=t.emphasis.labelLine;n.show=n.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},n.prototype.getDataParams=function(n){var i=this.getData(),r=t.prototype.getDataParams.call(this,n),e=i.mapDimension("value"),a=i.getSum(e);return r.percent=a?+(i.get(e,n)/a*100).toFixed(2):0,r.$vars.push("percent"),r},n.type="series.funnel",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(Ud);function NI(t,n){t.eachSeriesByType("funnel",(function(t){var i=t.getData(),r=i.mapDimension("value"),e=t.get("sort"),a=function(t,n){return ic(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}(t,n),o=t.get("orient"),u=a.width,s=a.height,l=function(t,n){for(var i=t.mapDimension("value"),r=t.mapArray(i,(function(t){return t})),e=[],a="ascending"===n,o=0,u=t.count();o<u;o++)e[o]=o;return U(n)?e.sort(n):"none"!==n&&e.sort((function(t,n){return a?r[t]-r[n]:r[n]-r[t]})),e}(i,e),f=a.x,h=a.y,c="horizontal"===o?[ze(t.get("minSize"),s),ze(t.get("maxSize"),s)]:[ze(t.get("minSize"),u),ze(t.get("maxSize"),u)],v=i.getDataExtent(r),d=t.get("min"),p=t.get("max");null==d&&(d=Math.min(v[0],0)),null==p&&(p=v[1]);var m=t.get("funnelAlign"),y=t.get("gap"),g=(("horizontal"===o?u:s)-y*(i.count()-1))/i.count(),b=function(t,n){if("horizontal"===o){var e=Ie(i.get(r,t)||0,[d,p],c,!0),a=void 0;switch(m){case"top":a=h;break;case"center":a=h+(s-e)/2;break;case"bottom":a=h+(s-e)}return[[n,a],[n,a+e]]}var l,v=Ie(i.get(r,t)||0,[d,p],c,!0);switch(m){case"left":l=f;break;case"center":l=f+(u-v)/2;break;case"right":l=f+u-v}return[[l,n],[l+v,n]]};"ascending"===e&&(g=-g,y=-y,"horizontal"===o?f+=u:h+=s,l=l.reverse());for(var w=0;w<l.length;w++){var x=l[w],M=l[w+1],S=i.getItemModel(x);if("horizontal"===o){var k=S.get(["itemStyle","width"]);null==k?k=g:(k=ze(k,u),"ascending"===e&&(k=-k));var A=b(x,f),N=b(M,f+k);f+=k+y,i.setItemLayout(x,{points:A.concat(N.slice().reverse())})}else{var C=S.get(["itemStyle","height"]);null==C?C=g:(C=ze(C,s),"ascending"===e&&(C=-C));A=b(x,h),N=b(M,h+C);h+=C+y,i.setItemLayout(x,{points:A.concat(N.slice().reverse())})}}!function(t){var n=t.hostModel.get("orient");t.each((function(i){var r,e,a,o,u=t.getItemModel(i),s=u.getModel("label").get("position"),l=u.getModel("labelLine"),f=t.getItemLayout(i),h=f.points,c="inner"===s||"inside"===s||"center"===s||"insideLeft"===s||"insideRight"===s;if(c)"insideLeft"===s?(e=(h[0][0]+h[3][0])/2+5,a=(h[0][1]+h[3][1])/2,r="left"):"insideRight"===s?(e=(h[1][0]+h[2][0])/2-5,a=(h[1][1]+h[2][1])/2,r="right"):(e=(h[0][0]+h[1][0]+h[2][0]+h[3][0])/4,a=(h[0][1]+h[1][1]+h[2][1]+h[3][1])/4,r="center"),o=[[e,a],[e,a]];else{var v=void 0,d=void 0,p=void 0,m=void 0,y=l.get("length");"left"===s?(v=(h[3][0]+h[0][0])/2,d=(h[3][1]+h[0][1])/2,e=(p=v-y)-5,r="right"):"right"===s?(v=(h[1][0]+h[2][0])/2,d=(h[1][1]+h[2][1])/2,e=(p=v+y)+5,r="left"):"top"===s?(v=(h[3][0]+h[0][0])/2,a=(m=(d=(h[3][1]+h[0][1])/2)-y)-5,r="center"):"bottom"===s?(v=(h[1][0]+h[2][0])/2,a=(m=(d=(h[1][1]+h[2][1])/2)+y)+5,r="center"):"rightTop"===s?(v="horizontal"===n?h[3][0]:h[1][0],d="horizontal"===n?h[3][1]:h[1][1],"horizontal"===n?(a=(m=d-y)-5,r="center"):(e=(p=v+y)+5,r="top")):"rightBottom"===s?(v=h[2][0],d=h[2][1],"horizontal"===n?(a=(m=d+y)+5,r="center"):(e=(p=v+y)+5,r="bottom")):"leftTop"===s?(v=h[0][0],d="horizontal"===n?h[0][1]:h[1][1],"horizontal"===n?(a=(m=d-y)-5,r="center"):(e=(p=v-y)-5,r="right")):"leftBottom"===s?(v="horizontal"===n?h[1][0]:h[3][0],d="horizontal"===n?h[1][1]:h[2][1],"horizontal"===n?(a=(m=d+y)+5,r="center"):(e=(p=v-y)-5,r="right")):(v=(h[1][0]+h[2][0])/2,d=(h[1][1]+h[2][1])/2,"horizontal"===n?(a=(m=d+y)+5,r="center"):(e=(p=v+y)+5,r="left")),"horizontal"===n?e=p=v:a=m=d,o=[[v,d],[p,m]]}f.label={linePoints:o,x:e,y:a,verticalAlign:"middle",textAlign:r,inside:c}}))}(i)}))}var CI=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.Rh=new Se,i.Fh=!1,i}return l(n,t),n.prototype.init=function(){this.group.add(this.Rh)},n.prototype.render=function(t,n,i,r){this.Iu=null;var e=this.Rh,a=t.getData(),o=this.qi,u=t.coordinateSystem,s=u.dimensions,l=zI(t);if(a.diff(o).add((function(t){LI(II(a,e,t,s,u),a,t,l)})).update((function(n,i){var r=o.getItemGraphicEl(i),e=TI(a,n,s,u);a.setItemGraphicEl(n,r),Ul(r,{shape:{points:e}},t,n),$l(r),LI(r,a,n,l)})).remove((function(t){var n=o.getItemGraphicEl(t);e.remove(n)})).execute(),!this.Fh){this.Fh=!0;var f=function(t,n,i){var r=t.model,e=t.getRect(),a=new yu({shape:{x:e.x,y:e.y,width:e.width,height:e.height}}),o="horizontal"===r.get("layout")?"width":"height";return a.setShape(o,0),jl(a,{shape:{width:e.width,height:e.height}},n,i),a}(u,t,(function(){setTimeout((function(){e.removeClipPath()}))}));e.setClipPath(f)}this.qi=a},n.prototype.incrementalPrepareRender=function(t,n,i){this.Fh=!0,this.qi=null,this.Rh.removeAll()},n.prototype.incrementalRender=function(t,n,i){for(var r=n.getData(),e=n.coordinateSystem,a=e.dimensions,o=zI(n),u=this.Iu=[],s=t.start;s<t.end;s++){var l=II(r,this.Rh,s,a,e);l.incremental=!0,LI(l,r,s,o),u.push(l)}},n.prototype.remove=function(){this.Rh&&this.Rh.removeAll(),this.qi=null},n.type="parallel",n}(ep);function TI(t,n,i,r){for(var e,a=[],o=0;o<i.length;o++){var u=i[o],s=t.get(t.mapDimension(u),n);e=s,("category"===r.getAxis(u).type?null==e:null==e||isNaN(e))||a.push(r.dataToPoint(s,u))}return a}function II(t,n,i,r,e){var a=TI(t,i,r,e),o=new Ml({shape:{points:a},z2:10});return n.add(o),t.setItemGraphicEl(i,o),o}function zI(t){var n=t.get("smooth",!0);return!0===n&&(n=.3),nt(n=Xe(n))&&(n=0),{smooth:n}}function LI(t,n,i,r){t.useStyle(n.getItemVisual(i,"style")),t.style.fill=null,t.setShape("smooth",r.smooth);var e=n.getItemModel(i),a=e.getModel("emphasis");Ns(t,e,"lineStyle"),Ms(t,a.get("focus"),a.get("blurScope"),a.get("disabled"))}var OI=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return l(n,t),n.prototype.getInitialData=function(t,n){return Fg(null,this,{useEncodeDefaulter:Y(DI,null,this)})},n.prototype.getRawIndicesByActiveState=function(t){var n=this.coordinateSystem,i=this.getData(),r=[];return n.eachActiveState(i,(function(n,e){t===n&&r.push(i.getRawIndex(e))})),r},n.type="series.parallel",n.dependencies=["parallel"],n.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},n}(Ud);function DI(t){var n=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(n){var i={};return E(n.dimensions,(function(t){var n=+t.replace("dim","");i[t]=n})),i}}var RI=["lineStyle","opacity"],FI={seriesType:"parallel",reset:function(t,n){var i=t.coordinateSystem,r={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(t,n){i.eachActiveState(n,(function(t,i){var e=r[t];if("normal"===t&&n.hasItemOption){var a=n.getItemModel(i).get(RI,!0);null!=a&&(e=a)}n.ensureUniqueItemVisual(i,"style").opacity=e}),t.start,t.end)}}}};function BI(t){!function(t){if(t.parallel)return;var n=!1;E(t.series,(function(t){t&&"parallel"===t.type&&(n=!0)})),n&&(t.parallel=[{}])}(t),function(t){var n=ta(t.parallelAxis);E(n,(function(n){if(K(n)){var i=n.parallelIndex||0,r=ta(t.parallel)[i];r&&r.parallelAxisDefault&&L(n,r.parallelAxisDefault,!1)}}))}(t)}var _I=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){this.Xe=t,this.Gi=i,this.Bh||(this.Bh={},E(EI,(function(t,n){i.getZr().on(n,this.Bh[n]=Y(t,this))}),this)),dp(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},n.prototype.dispose=function(t,n){pp(this,"_throttledDispatchExpand"),E(this.Bh,(function(t,i){n.getZr().off(i,t)})),this.Bh=null},n.prototype._h=function(t){this.Eh(t)},n.prototype.Eh=function(t){t&&this.Gi.dispatchAction(D({type:"parallelAxisExpand"},t))},n.type="parallel",n}(tp),EI={mousedown:function(t){PI(this,"click")&&(this.Ph=[t.offsetX,t.offsetY])},mouseup:function(t){var n=this.Ph;if(PI(this,"click")&&n){var i=[t.offsetX,t.offsetY];if(Math.pow(n[0]-i[0],2)+Math.pow(n[1]-i[1],2)>5)return;var r=this.Xe.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==r.behavior&&this.Eh({axisExpandWindow:r.axisExpandWindow})}this.Ph=null},mousemove:function(t){if(!this.Ph&&PI(this,"mousemove")){var n=this.Xe,i=n.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),r=i.behavior;"jump"===r&&this._h.debounceNextCall(n.get("axisExpandDebounce")),this._h("none"===r?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function PI(t,n){var i=t.Xe;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===n}var WI=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},n.prototype.mergeOption=function(t){var n=this.option;t&&L(n,t,!0),this.Wh()},n.prototype.contains=function(t,n){var i=t.get("parallelIndex");return null!=i&&n.getComponent("parallel",i)===this},n.prototype.setAxisExpand=function(t){E(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],(function(n){t.hasOwnProperty(n)&&(this.option[n]=t[n])}),this)},n.prototype.Wh=function(){var t=this.dimensions=[],n=this.parallelAxisIndex=[];E(V(this.ecModel.queryComponents({mainType:"parallelAxis"}),(function(t){return(t.get("parallelIndex")||0)===this.componentIndex}),this),(function(i){t.push("dim"+i.get("dim")),n.push(i.componentIndex)}))},n.type="parallel",n.dependencies=["parallelAxis"],n.layoutMode="box",n.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},n}(lc),VI=function(t){function n(n,i,r,e,a){var o=t.call(this,n,i,r)||this;return o.type=e||"value",o.axisIndex=a,o}return l(n,t),n.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},n}(cw);function HI(t,n,i,r,e,a){t=t||0;var o=i[1]-i[0];if(null!=e&&(e=GI(e,[0,o])),null!=a&&(a=Math.max(a,null!=e?e:0)),"all"===r){var u=Math.abs(n[1]-n[0]);u=GI(u,[0,o]),e=a=GI(u,[e,a]),r=0}n[0]=GI(n[0],i),n[1]=GI(n[1],i);var s=YI(n,r);n[r]+=t;var l,f=e||0,h=i.slice();return s.sign<0?h[0]+=f:h[1]-=f,n[r]=GI(n[r],h),l=YI(n,r),null!=e&&(l.sign!==s.sign||l.span<e)&&(n[1-r]=n[r]+s.sign*e),l=YI(n,r),null!=a&&l.span>a&&(n[1-r]=n[r]+l.sign*a),n}function YI(t,n){var i=t[n]-t[1-n];return{span:Math.abs(i),sign:i>0?-1:i<0?1:n?-1:1}}function GI(t,n){return Math.min(null!=n[1]?n[1]:1/0,Math.max(null!=n[0]?n[0]:-1/0,t))}var XI=E,UI=Math.min,jI=Math.max,ZI=Math.floor,qI=Math.ceil,KI=Le,JI=Math.PI,$I=function(){function t(t,n,i){this.type="parallel",this.Ps=pt(),this.Vh={},this.dimensions=t.dimensions,this.Xe=t,this.en(t,n,i)}return t.prototype.en=function(t,n,i){var r=t.dimensions,e=t.parallelAxisIndex;XI(r,(function(t,i){var r=e[i],a=n.getComponent("parallelAxis",r),o=this.Ps.set(t,new VI(t,Fb(a),[0,0],a.get("type"),r)),u="category"===o.type;o.onBand=u&&a.get("boundaryGap"),o.inverse=a.get("inverse"),a.axis=o,o.model=a,o.coordinateSystem=a.coordinateSystem=this}),this)},t.prototype.update=function(t,n){this.Hh(this.Xe,t)},t.prototype.containPoint=function(t){var n=this.Yh(),i=n.axisBase,r=n.layoutBase,e=n.pixelDimIndex,a=t[1-e],o=t[e];return a>=i&&a<=i+n.axisLength&&o>=r&&o<=r+n.layoutLength},t.prototype.getModel=function(){return this.Xe},t.prototype.Hh=function(t,n){n.eachSeries((function(i){if(t.contains(i,n)){var r=i.getData();XI(this.dimensions,(function(t){var n=this.Ps.get(t);n.scale.unionExtentFromData(r,r.mapDimension(t)),Rb(n.scale,n.model)}),this)}}),this)},t.prototype.resize=function(t,n){this.Bn=ic(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),this.Gh()},t.prototype.getRect=function(){return this.Bn},t.prototype.Yh=function(){var t,n=this.Xe,i=this.Bn,r=["x","y"],e=["width","height"],a=n.get("layout"),o="horizontal"===a?0:1,u=i[e[o]],s=[0,u],l=this.dimensions.length,f=QI(n.get("axisExpandWidth"),s),h=QI(n.get("axisExpandCount")||0,[0,l]),c=n.get("axisExpandable")&&l>3&&l>h&&h>1&&f>0&&u>0,v=n.get("axisExpandWindow");v?(t=QI(v[1]-v[0],s),v[1]=v[0]+t):(t=QI(f*(h-1),s),(v=[f*(n.get("axisExpandCenter")||ZI(l/2))-t/2])[1]=v[0]+t);var d=(u-t)/(l-h);d<3&&(d=0);var p=[ZI(KI(v[0]/f,1))+1,qI(KI(v[1]/f,1))-1],m=d/f*v[0];return{layout:a,pixelDimIndex:o,layoutBase:i[r[o]],layoutLength:u,axisBase:i[r[1-o]],axisLength:i[e[1-o]],axisExpandable:c,axisExpandWidth:f,axisCollapseWidth:d,axisExpandWindow:v,axisCount:l,winInnerIndices:p,axisExpandWindow0Pos:m}},t.prototype.Gh=function(){var t=this.Bn,n=this.Ps,i=this.dimensions,r=this.Yh(),e=r.layout;n.each((function(t){var n=[0,r.axisLength],i=t.inverse?1:0;t.setExtent(n[i],n[1-i])})),XI(i,(function(n,i){var a=(r.axisExpandable?nz:tz)(i,r),o={horizontal:{x:a.position,y:r.axisLength},vertical:{x:0,y:a.position}},u={horizontal:JI/2,vertical:0},s=[o[e].x+t.x,o[e].y+t.y],l=u[e],f=[1,0,0,1,0,0];yn(f,f,l),mn(f,f,s),this.Vh[n]={position:s,rotation:l,transform:f,axisNameAvailableWidth:a.axisNameAvailableWidth,axisLabelShow:a.axisLabelShow,nameTruncateMaxWidth:a.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}}),this)},t.prototype.getAxis=function(t){return this.Ps.get(t)},t.prototype.dataToPoint=function(t,n){return this.axisCoordToPoint(this.Ps.get(n).dataToCoord(t),n)},t.prototype.eachActiveState=function(t,n,i,r){null==i&&(i=0),null==r&&(r=t.count());var e=this.Ps,a=this.dimensions,o=[],u=[];E(a,(function(n){o.push(t.mapDimension(n)),u.push(e.get(n).model)}));for(var s=this.hasAxisBrushed(),l=i;l<r;l++){var f=void 0;if(s){f="active";for(var h=t.getValues(o,l),c=0,v=a.length;c<v;c++){if("inactive"===u[c].getActiveState(h[c])){f="inactive";break}}}else f="normal";n(f,l)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,n=this.Ps,i=!1,r=0,e=t.length;r<e;r++)"normal"!==n.get(t[r]).model.getActiveState()&&(i=!0);return i},t.prototype.axisCoordToPoint=function(t,n){return df([t,0],this.Vh[n].transform)},t.prototype.getAxisLayout=function(t){return z(this.Vh[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var n=this.Yh(),i=n.pixelDimIndex,r=n.axisExpandWindow.slice(),e=r[1]-r[0],a=[0,n.axisExpandWidth*(n.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:r};var o,u=t[i]-n.layoutBase-n.axisExpandWindow0Pos,s="slide",l=n.axisCollapseWidth,f=this.Xe.get("axisExpandSlideTriggerArea"),h=null!=f[0];if(l)h&&l&&u<e*f[0]?(s="jump",o=u-e*f[2]):h&&l&&u>e*(1-f[0])?(s="jump",o=u-e*(1-f[2])):(o=u-e*f[1])>=0&&(o=u-e*(1-f[1]))<=0&&(o=0),(o*=n.axisExpandWidth/l)?HI(o,r,a,"all"):s="none";else{var c=r[1]-r[0];(r=[jI(0,a[1]*u/c-c/2)])[1]=UI(a[1],r[0]+c),r[0]=r[1]-c}return{axisExpandWindow:r,behavior:s}},t}();function QI(t,n){return UI(jI(t,n[0]),n[1])}function tz(t,n){var i=n.layoutLength/(n.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0}}function nz(t,n){var i,r,e=n.layoutLength,a=n.axisExpandWidth,o=n.axisCount,u=n.axisCollapseWidth,s=n.winInnerIndices,l=u,f=!1;return t<s[0]?(i=t*u,r=u):t<=s[1]?(i=n.axisExpandWindow0Pos+t*a-n.axisExpandWindow[0],l=a,f=!0):(i=e-(o-1-t)*u,r=u),{position:i,axisNameAvailableWidth:l,axisLabelShow:f,nameTruncateMaxWidth:r}}var iz={create:function(t,n){var i=[];return t.eachComponent("parallel",(function(r,e){var a=new $I(r,t,n);a.name="parallel_"+e,a.resize(r,n),r.coordinateSystem=a,a.model=r,i.push(a)})),t.eachSeries((function(t){if("parallel"===t.get("coordinateSystem")){var n=t.getReferringComponents("parallel",ma).models[0];t.coordinateSystem=n.coordinateSystem}})),i}},rz=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.activeIntervals=[],i}return l(n,t),n.prototype.getAreaSelectStyle=function(){return La([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},n.prototype.setActiveIntervals=function(t){var n=this.activeIntervals=z(t);if(n)for(var i=n.length-1;i>=0;i--)Oe(n[i])},n.prototype.getActiveState=function(t){var n=this.activeIntervals;if(!n.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===n.length){var i=n[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var r=0,e=n.length;r<e;r++)if(n[r][0]<=t&&t<=n[r][1])return"active";return"inactive"},n}(lc);B(rz,Vb);var ez=!0,az=Math.min,oz=Math.max,uz=Math.pow,sz="globalPan",lz={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},fz={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},hz={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},cz=0,vz=function(t){function n(n){var i=t.call(this)||this;return i.B=[],i.Xh=[],i.Bh={},i.Be=n,i.group=new Se,i.Uh="brushController_"+cz++,E(Wz,(function(t,n){this.Bh[n]=Y(t,this)}),i),i}return l(n,t),n.prototype.enableBrush=function(t){return this.jh&&this.Zh(),t.brushType&&this.qh(t),this},n.prototype.qh=function(t){var n=this.Be;this.Kh||function(t,n,i){oA(t)[n]=i}(n,sz,this.Uh),E(this.Bh,(function(t,i){n.on(i,t)})),this.jh=t.brushType,this.Jh=L(z(hz),t,!0)},n.prototype.Zh=function(){var t=this.Be;!function(t,n,i){var r=oA(t);r[n]===i&&(r[n]=null)}(t,sz,this.Uh),E(this.Bh,(function(n,i){t.off(i,n)})),this.jh=this.Jh=null},n.prototype.setPanels=function(t){if(t&&t.length){var n=this.$h={};E(t,(function(t){n[t.panelId]=z(t)}))}else this.$h=null;return this},n.prototype.mount=function(t){t=t||{},this.Kh=t.enableGlobalPan;var n=this.group;return this.Be.add(n),n.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this.Fs=n.getLocalTransform(),this},n.prototype.updateCovers=function(t){t=P(t,(function(t){return L(z(hz),t,!0)}));var n=this.Xh,i=this.Xh=[],r=this,e=this.Qh;return new ig(n,t,(function(t,n){return a(t.tc,n)}),a).add(o).update(o).remove((function(t){n[t]!==e&&r.group.remove(n[t])})).execute(),this;function a(t,n){return(null!=t.id?t.id:"\0-brush-index-"+n)+"-"+t.brushType}function o(a,o){var u=t[a];if(null!=o&&n[o]===e)i[a]=n[o];else{var s=i[a]=null!=o?(n[o].tc=u,n[o]):pz(r,dz(r,u));gz(r,s)}}},n.prototype.unmount=function(){return this.enableBrush(!1),Mz(this),this.Be.remove(this.group),this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(Ht);function dz(t,n){var i=Hz[n.brushType].createCover(t,n);return i.tc=n,yz(i,n),t.group.add(i),i}function pz(t,n){var i=bz(n);return i.endCreating&&(i.endCreating(t,n),yz(n,n.tc)),n}function mz(t,n){var i=n.tc;bz(n).updateCoverShape(t,n,i.range,i)}function yz(t,n){var i=n.z;null==i&&(i=1e4),t.traverse((function(t){t.z=i,t.z2=i}))}function gz(t,n){bz(n).updateCommon(t,n),mz(t,n)}function bz(t){return Hz[t.tc.brushType]}function wz(t,n,i){var r,e=t.$h;if(!e)return ez;var a=t.Fs;return E(e,(function(t){t.isTargetByCursor(n,i,a)&&(r=t)})),r}function xz(t,n){var i=t.$h;if(!i)return ez;var r=n.tc.panelId;return null!=r?i[r]:ez}function Mz(t){var n=t.Xh,i=n.length;return E(n,(function(n){t.group.remove(n)}),t),n.length=0,!!i}function Sz(t,n){var i=P(t.Xh,(function(t){var n=t.tc,i=z(n.range);return{brushType:n.brushType,panelId:n.panelId,range:i}}));t.trigger("brush",{areas:i,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function kz(t){var n=t.length-1;return n<0&&(n=0),[t[0],t[n]]}function Az(t,n,i,r){var e=new Se;return e.add(new yu({name:"main",style:Iz(i),silent:!0,draggable:!0,cursor:"move",drift:G(Oz,t,n,e,["n","s","w","e"]),ondragend:G(Sz,n,{isEnd:!0})})),E(r,(function(i){e.add(new yu({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:G(Oz,t,n,e,i),ondragend:G(Sz,n,{isEnd:!0})}))})),e}function Nz(t,n,i,r){var e=r.brushStyle.lineWidth||0,a=oz(e,6),o=i[0][0],u=i[1][0],s=o-e/2,l=u-e/2,f=i[0][1],h=i[1][1],c=f-a+e/2,v=h-a+e/2,d=f-o,p=h-u,m=d+e,y=p+e;Tz(t,n,"main",o,u,d,p),r.transformable&&(Tz(t,n,"w",s,l,a,y),Tz(t,n,"e",c,l,a,y),Tz(t,n,"n",s,l,m,a),Tz(t,n,"s",s,v,m,a),Tz(t,n,"nw",s,l,a,a),Tz(t,n,"ne",c,l,a,a),Tz(t,n,"sw",s,v,a,a),Tz(t,n,"se",c,v,a,a))}function Cz(t,n){var i=n.tc,r=i.transformable,e=n.childAt(0);e.useStyle(Iz(i)),e.attr({silent:!r,cursor:r?"move":"default"}),E([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],(function(i){var e=n.childOfName(i.join("")),a=1===i.length?Lz(t,i[0]):function(t,n){var i=[Lz(t,n[0]),Lz(t,n[1])];return("e"===i[0]||"w"===i[0])&&i.reverse(),i.join("")}(t,i);e&&e.attr({silent:!r,invisible:!r,cursor:r?fz[a]+"-resize":null})}))}function Tz(t,n,i,r,e,a,o){var u,s,l,f,h,c=n.childOfName(i);c&&c.setShape((u=Fz(t,n,[[r,e],[r+a,e+o]]),s=az(u[0][0],u[1][0]),l=az(u[0][1],u[1][1]),f=oz(u[0][0],u[1][0]),h=oz(u[0][1],u[1][1]),{x:s,y:l,width:f-s,height:h-l}))}function Iz(t){return R({strokeNoScale:!0},t.brushStyle)}function zz(t,n,i,r){var e=[az(t,i),az(n,r)],a=[oz(t,i),oz(n,r)];return[[e[0],a[0]],[e[1],a[1]]]}function Lz(t,n){var i=pf({w:"left",e:"right",n:"top",s:"bottom"}[n],function(t){return vf(t.group)}(t));return{left:"w",right:"e",top:"n",bottom:"s"}[i]}function Oz(t,n,i,r,e,a){var o=i.tc,u=t.toRectRange(o.range),s=Rz(n,e,a);E(r,(function(t){var n=lz[t];u[n[0]][n[1]]+=s[n[0]]})),o.range=t.fromRectRange(zz(u[0][0],u[1][0],u[0][1],u[1][1])),gz(n,i),Sz(n,{isEnd:!1})}function Dz(t,n,i,r){var e=n.tc.range,a=Rz(t,i,r);E(e,(function(t){t[0]+=a[0],t[1]+=a[1]})),gz(t,n),Sz(t,{isEnd:!1})}function Rz(t,n,i){var r=t.group,e=r.transformCoordToLocal(n,i),a=r.transformCoordToLocal(0,0);return[e[0]-a[0],e[1]-a[1]]}function Fz(t,n,i){var r=xz(t,n);return r&&r!==ez?r.clipPath(i,t.Fs):z(i)}function Bz(t){var n=t.event;n.preventDefault&&n.preventDefault()}function _z(t,n,i){return t.childOfName("main").contain(n,i)}function Ez(t,n,i,r){var e,a=t.Qh,o=t.nc,u=t.Jh;if(t.B.push(i.slice()),function(t){var n=t.B;if(!n.length)return!1;var i=n[n.length-1],r=n[0],e=i[0]-r[0],a=i[1]-r[1];return uz(e*e+a*a,.5)>6}(t)||a){if(o&&!a){"single"===u.brushMode&&Mz(t);var s=z(u);s.brushType=Pz(s.brushType,o),s.panelId=o===ez?null:o.panelId,a=t.Qh=dz(t,s),t.Xh.push(a)}if(a){var l=Hz[Pz(t.jh,o)];a.tc.range=l.getCreatingRange(Fz(t,a,t.B)),r&&(pz(t,a),l.updateCommon(t,a)),mz(t,a),e={isEnd:r}}}else r&&"single"===u.brushMode&&u.removeOnClick&&wz(t,n,i)&&Mz(t)&&(e={isEnd:r,removeOnClick:!0});return e}function Pz(t,n){return"auto"===t?n.defaultBrushType:t}var Wz={mousedown:function(t){if(this.ll)Vz(this,t);else if(!t.target||!t.target.draggable){Bz(t);var n=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this.Qh=null,(this.nc=wz(this,t,n))&&(this.ll=!0,this.B=[n.slice()])}},mousemove:function(t){var n=t.offsetX,i=t.offsetY,r=this.group.transformCoordToLocal(n,i);if(function(t,n,i){if(t.jh&&!function(t,n,i){var r=t.Be;return n<0||n>r.getWidth()||i<0||i>r.getHeight()}(t,n.offsetX,n.offsetY)){var r=t.Be,e=t.Xh,a=wz(t,n,i);if(!t.ll)for(var o=0;o<e.length;o++){var u=e[o].tc;if(a&&(a===ez||u.panelId===a.panelId)&&Hz[u.brushType].contain(e[o],i[0],i[1]))return}a&&r.setCursorStyle("crosshair")}}(this,t,r),this.ll){Bz(t);var e=Ez(this,t,r,!1);e&&Sz(this,e)}},mouseup:function(t){Vz(this,t)}};function Vz(t,n){if(t.ll){Bz(n);var i=n.offsetX,r=n.offsetY,e=t.group.transformCoordToLocal(i,r),a=Ez(t,n,e,!0);t.ll=!1,t.B=[],t.Qh=null,a&&Sz(t,a)}}var Hz={lineX:Yz(0),lineY:Yz(1),rect:{createCover:function(t,n){function i(t){return t}return Az({toRectRange:i,fromRectRange:i},t,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var n=kz(t);return zz(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(t,n,i,r){Nz(t,n,i,r)},updateCommon:Cz,contain:_z},polygon:{createCover:function(t,n){var i=new Se;return i.add(new Ml({name:"main",style:Iz(n),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,n){n.remove(n.childAt(0)),n.add(new wl({name:"main",draggable:!0,drift:G(Dz,t,n),ondragend:G(Sz,t,{isEnd:!0})}))},updateCoverShape:function(t,n,i,r){n.childAt(0).setShape({points:Fz(t,n,i)})},updateCommon:Cz,contain:_z}};function Yz(t){return{createCover:function(n,i){return Az({toRectRange:function(n){var i=[n,[0,100]];return t&&i.reverse(),i},fromRectRange:function(n){return n[t]}},n,i,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(n){var i=kz(n);return[az(i[0][t],i[1][t]),oz(i[0][t],i[1][t])]},updateCoverShape:function(n,i,r,e){var a,o=xz(n,i);if(o!==ez&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(t);else{var u=n.Be;a=[0,[u.getWidth(),u.getHeight()][1-t]]}var s=[r,a];t&&s.reverse(),Nz(n,i,s,e)},updateCommon:Cz,contain:_z}}function Gz(t){return t=jz(t),function(n){return gf(n,t)}}function Xz(t,n){return t=jz(t),function(i){var r=null!=n?n:i,e=r?t.width:t.height,a=r?t.x:t.y;return[a,a+(e||0)]}}function Uz(t,n,i){var r=jz(t);return function(t,e){return r.contain(e[0],e[1])&&!pA(t,n,i)}}function jz(t){return In.create(t)}var Zz=["axisLine","axisTickLabel","axisName"],qz=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(n,i){t.prototype.init.apply(this,arguments),(this.rc=new vz(i.getZr())).on("brush",Y(this.ec,this))},n.prototype.render=function(t,n,i,r){if(!function(t,n,i){return i&&"axisAreaSelect"===i.type&&n.findComponents({mainType:"parallelAxis",query:i})[0]===t}(t,n,r)){this.axisModel=t,this.api=i,this.group.removeAll();var e=this.qs;if(this.qs=new Se,this.group.add(this.qs),t.get("show")){var a=function(t,n){return n.getComponent("parallel",t.get("parallelIndex"))}(t,n),o=a.coordinateSystem,u=t.getAreaSelectStyle(),s=u.width,l=t.axis.dim,f=D({strokeContainThreshold:s},o.getAxisLayout(l)),h=new bk(t,f);E(Zz,h.add,h),this.qs.add(h.getGroup()),this.ac(f,u,t,a,s,i),yf(e,this.qs,t)}}},n.prototype.ac=function(t,n,i,r,e,a){var o=i.axis.getExtent(),u=o[1]-o[0],s=Math.min(30,.1*Math.abs(u)),l=In.create({x:o[0],y:-e/2,width:u,height:e});l.x-=s,l.width+=2*s,this.rc.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:Gz(l),isTargetByCursor:Uz(l,a,r),getLinearBrushOtherExtent:Xz(l,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(function(t){var n=t.axis;return P(t.activeIntervals,(function(t){return{brushType:"lineX",panelId:"pl",range:[n.dataToCoord(t[0],!0),n.dataToCoord(t[1],!0)]}}))}(i))},n.prototype.ec=function(t){var n=t.areas,i=this.axisModel,r=i.axis,e=P(n,(function(t){return[r.coordToData(t.range[0],!0),r.coordToData(t.range[1],!0)]}));(!i.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:e})},n.prototype.dispose=function(){this.rc.dispose()},n.type="parallelAxis",n}(tp);var Kz={type:"axisAreaSelect",event:"axisAreaSelected"};var Jz={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function $z(t){t.registerComponentView(_I),t.registerComponentModel(WI),t.registerCoordinateSystem("parallel",iz),t.registerPreprocessor(BI),t.registerComponentModel(rz),t.registerComponentView(qz),ik(t,"parallel",rz,Jz),function(t){t.registerAction(Kz,(function(t,n){n.eachComponent({mainType:"parallelAxis",query:t},(function(n){n.axis.model.setActiveIntervals(t.intervals)}))})),t.registerAction("parallelAxisExpand",(function(t,n){n.eachComponent({mainType:"parallel",query:t},(function(n){n.setAxisExpand(t)}))}))}(t)}var Qz=function(){return function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}}(),tL=function(t){function n(n){return t.call(this,n)||this}return l(n,t),n.prototype.getDefaultShape=function(){return new Qz},n.prototype.buildPath=function(t,n){var i=n.extent;t.moveTo(n.x1,n.y1),t.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),"vertical"===n.orient?(t.lineTo(n.x2+i,n.y2),t.bezierCurveTo(n.cpx2+i,n.cpy2,n.cpx1+i,n.cpy1,n.x1+i,n.y1)):(t.lineTo(n.x2,n.y2+i),t.bezierCurveTo(n.cpx2,n.cpy2+i,n.cpx1,n.cpy1+i,n.x1,n.y1+i)),t.closePath()},n.prototype.highlight=function(){ss(this)},n.prototype.downplay=function(){ls(this)},n}(au),nL=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.oc=!1,i}return l(n,t),n.prototype.render=function(t,n,i){var r=this,e=t.getGraph(),a=this.group,o=t.layoutInfo,u=o.width,s=o.height,l=t.getData(),f=t.getData("edge"),h=t.get("orient");this.Xe=t,a.removeAll(),a.x=o.x,a.y=o.y,e.eachEdge((function(n){var i=new tL,r=Du(i);r.dataIndex=n.dataIndex,r.seriesIndex=t.seriesIndex,r.dataType="edge";var e,o,l,c,v,d,p,m,y=n.getModel(),g=y.getModel("lineStyle"),b=g.get("curveness"),w=n.node1.getLayout(),x=n.node1.getModel(),M=x.get("localX"),S=x.get("localY"),k=n.node2.getLayout(),A=n.node2.getModel(),N=A.get("localX"),C=A.get("localY"),T=n.getLayout();i.shape.extent=Math.max(1,T.dy),i.shape.orient=h,"vertical"===h?(e=(null!=M?M*u:w.x)+T.sy,o=(null!=S?S*s:w.y)+w.dy,l=(null!=N?N*u:k.x)+T.ty,v=e,d=o*(1-b)+(c=null!=C?C*s:k.y)*b,p=l,m=o*b+c*(1-b)):(e=(null!=M?M*u:w.x)+w.dx,o=(null!=S?S*s:w.y)+T.sy,v=e*(1-b)+(l=null!=N?N*u:k.x)*b,d=o,p=e*b+l*(1-b),m=c=(null!=C?C*s:k.y)+T.ty),i.setShape({x1:e,y1:o,x2:l,y2:c,cpx1:v,cpy1:d,cpx2:p,cpy2:m}),i.useStyle(g.getItemStyle()),iL(i.style,h,n);var I=""+y.get("value"),z=Lf(y,"edgeLabel");zf(i,z,{labelFetcher:{getFormattedLabel:function(n,i,r,e,a,o){return t.getFormattedLabel(n,i,"edge",e,et(a,z.normal&&z.normal.get("formatter"),I),o)}},labelDataIndex:n.dataIndex,defaultText:I}),i.setTextConfig({position:"inside"});var L=y.getModel("emphasis");Ns(i,y,"lineStyle",(function(t){var i=t.getItemStyle();return iL(i,h,n),i})),a.add(i),f.setItemGraphicEl(n.dataIndex,i);var O=L.get("focus");Ms(i,"adjacency"===O?n.getAdjacentDataIndices():"trajectory"===O?n.getTrajectoryDataIndices():O,L.get("blurScope"),L.get("disabled"))})),e.eachNode((function(n){var i=n.getLayout(),r=n.getModel(),e=r.get("localX"),o=r.get("localY"),f=r.getModel("emphasis"),h=r.get(["itemStyle","borderRadius"])||0,c=new yu({shape:{x:null!=e?e*u:i.x,y:null!=o?o*s:i.y,width:i.dx,height:i.dy,r:h},style:r.getModel("itemStyle").getItemStyle(),z2:10});zf(c,Lf(r),{labelFetcher:{getFormattedLabel:function(n,i){return t.getFormattedLabel(n,i,"node")}},labelDataIndex:n.dataIndex,defaultText:n.id}),c.disableLabelAnimation=!0,c.setStyle("fill",n.getVisual("color")),c.setStyle("decal",n.getVisual("style").decal),Ns(c,r),a.add(c),l.setItemGraphicEl(n.dataIndex,c),Du(c).dataType="node";var v=f.get("focus");Ms(c,"adjacency"===v?n.getAdjacentDataIndices():"trajectory"===v?n.getTrajectoryDataIndices():v,f.get("blurScope"),f.get("disabled"))})),l.eachItemGraphicEl((function(n,e){l.getItemModel(e).get("draggable")&&(n.drift=function(n,a){r.oc=!0,this.shape.x+=n,this.shape.y+=a,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:l.getRawIndex(e),localX:this.shape.x/u,localY:this.shape.y/s})},n.ondragend=function(){r.oc=!1},n.draggable=!0,n.cursor="move")})),!this.qi&&t.isAnimationEnabled()&&a.setClipPath(function(t,n,i){var r=new yu({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return jl(r,{shape:{width:t.width+20}},n,i),r}(a.getBoundingRect(),t,(function(){a.removeClipPath()}))),this.qi=t.getData()},n.prototype.dispose=function(){},n.type="sankey",n}(ep);function iL(t,n,i){switch(t.fill){case"source":t.fill=i.node1.getVisual("color"),t.decal=i.node1.getVisual("style").decal;break;case"target":t.fill=i.node2.getVisual("color"),t.decal=i.node2.getVisual("style").decal;break;case"gradient":var r=i.node1.getVisual("color"),e=i.node2.getVisual("color");j(r)&&j(e)&&(t.fill=new Rl(0,0,+("horizontal"===n),+("vertical"===n),[{color:r,offset:0},{color:e,offset:1}]))}}var rL=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.getInitialData=function(t,n){var i=t.edges||t.links||[],r=t.data||t.nodes||[],e=t.levels||[];this.levelModels=[];for(var a=this.levelModels,o=0;o<e.length;o++)null!=e[o].depth&&e[o].depth>=0&&(a[e[o].depth]=new th(e[o],this,n));return dI(r,i,this,!0,(function(t,n){t.wrapMethod("getItemModel",(function(t,n){var i=t.parentModel,r=i.getData().getItemLayout(n);if(r){var e=r.depth,a=i.levelModels[e];a&&(t.parentModel=a)}return t})),n.wrapMethod("getItemModel",(function(t,n){var i=t.parentModel,r=i.getGraph().getEdgeByIndex(n).node1.getLayout();if(r){var e=r.depth,a=i.levelModels[e];a&&(t.parentModel=a)}return t}))})).data},n.prototype.setNodePosition=function(t,n){var i=(this.option.data||this.option.nodes)[t];i.localX=n[0],i.localY=n[1]},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(t,n,i){function r(t){return isNaN(t)||null==t}if("edge"===i){var e=this.getDataParams(t,i),a=e.data,o=e.value;return zd("nameValue",{name:a.source+" -- "+a.target,value:o,noValue:r(o)})}var u=this.getGraph().getNodeByIndex(t).getLayout().value,s=this.getDataParams(t,i).data.name;return zd("nameValue",{name:null!=s?s+"":null,value:u,noValue:r(u)})},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(n,i){var r=t.prototype.getDataParams.call(this,n,i);if(null==r.value&&"node"===i){var e=this.getGraph().getNodeByIndex(n).getLayout().value;r.value=e}return r},n.type="series.sankey",n.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},n}(Ud);function eL(t,n){t.eachSeriesByType("sankey",(function(t){var i=t.get("nodeWidth"),r=t.get("nodeGap"),e=function(t,n){return ic(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}(t,n);t.layoutInfo=e;var a=e.width,o=e.height,u=t.getGraph(),s=u.nodes,l=u.edges;!function(t){E(t,(function(t){var n=dL(t.outEdges,vL),i=dL(t.inEdges,vL),r=t.getValue()||0,e=Math.max(n,i,r);t.setLayout({value:e},!0)}))}(s),function(t,n,i,r,e,a,o,u,s){(function(t,n,i,r,e,a,o){for(var u=[],s=[],l=[],f=[],h=0,c=0;c<n.length;c++)u[c]=1;for(c=0;c<t.length;c++)s[c]=t[c].inEdges.length,0===s[c]&&l.push(t[c]);var v=-1;for(;l.length;){for(var d=0;d<l.length;d++){var p=l[d],m=p.hostGraph.data.getRawDataItem(p.dataIndex),y=null!=m.depth&&m.depth>=0;y&&m.depth>v&&(v=m.depth),p.setLayout({depth:y?m.depth:h},!0),"vertical"===a?p.setLayout({dy:i},!0):p.setLayout({dx:i},!0);for(var g=0;g<p.outEdges.length;g++){var b=p.outEdges[g];u[n.indexOf(b)]=0;var w=b.node2;0==--s[t.indexOf(w)]&&f.indexOf(w)<0&&f.push(w)}}++h,l=f,f=[]}for(c=0;c<u.length;c++)if(1===u[c])throw new Error("Sankey is a DAG, the original data has cycle!");var x=v>h-1?v:h-1;o&&"left"!==o&&function(t,n,i,r){if("right"===n){for(var e=[],a=t,o=0;a.length;){for(var u=0;u<a.length;u++){var s=a[u];s.setLayout({skNodeHeight:o},!0);for(var l=0;l<s.inEdges.length;l++){var f=s.inEdges[l];e.indexOf(f.node1)<0&&e.push(f.node1)}}a=e,e=[],++o}E(t,(function(t){aL(t)||t.setLayout({depth:Math.max(0,r-t.getLayout().skNodeHeight)},!0)}))}else"justify"===n&&function(t,n){E(t,(function(t){aL(t)||t.outEdges.length||t.setLayout({depth:n},!0)}))}(t,r)}(t,o,0,x);var M="vertical"===a?(e-i)/x:(r-i)/x;!function(t,n,i){E(t,(function(t){var r=t.getLayout().depth*n;"vertical"===i?t.setLayout({y:r},!0):t.setLayout({x:r},!0)}))}(t,M,a)})(t,n,i,e,a,u,s),function(t,n,i,r,e,a,o){var u=function(t,n){var i=[],r="vertical"===n?"y":"x",e=wa(t,(function(t){return t.getLayout()[r]}));return e.keys.sort((function(t,n){return t-n})),E(e.keys,(function(t){i.push(e.buckets.get(t))})),i}(t,o);(function(t,n,i,r,e,a){var o=1/0;E(t,(function(t){var n=t.length,u=0;E(t,(function(t){u+=t.getLayout().value}));var s="vertical"===a?(r-(n-1)*e)/u:(i-(n-1)*e)/u;s<o&&(o=s)})),E(t,(function(t){E(t,(function(t,n){var i=t.getLayout().value*o;"vertical"===a?(t.setLayout({x:n},!0),t.setLayout({dx:i},!0)):(t.setLayout({y:n},!0),t.setLayout({dy:i},!0))}))})),E(n,(function(t){var n=+t.getValue()*o;t.setLayout({dy:n},!0)}))})(u,n,i,r,e,o),oL(u,e,i,r,o);for(var s=1;a>0;a--)uL(u,s*=.99,o),oL(u,e,i,r,o),pL(u,s,o),oL(u,e,i,r,o)}(t,n,a,e,r,o,u),function(t,n){var i="vertical"===n?"x":"y";E(t,(function(t){t.outEdges.sort((function(t,n){return t.node2.getLayout()[i]-n.node2.getLayout()[i]})),t.inEdges.sort((function(t,n){return t.node1.getLayout()[i]-n.node1.getLayout()[i]}))})),E(t,(function(t){var n=0,i=0;E(t.outEdges,(function(t){t.setLayout({sy:n},!0),n+=t.getLayout().dy})),E(t.inEdges,(function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy}))}))}(t,u)}(s,l,i,r,a,o,0!==V(s,(function(t){return 0===t.getLayout().value})).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))}))}function aL(t){var n=t.hostGraph.data.getRawDataItem(t.dataIndex);return null!=n.depth&&n.depth>=0}function oL(t,n,i,r,e){var a="vertical"===e?"x":"y";E(t,(function(t){var o,u,s;t.sort((function(t,n){return t.getLayout()[a]-n.getLayout()[a]}));for(var l=0,f=t.length,h="vertical"===e?"dx":"dy",c=0;c<f;c++)(s=l-(u=t[c]).getLayout()[a])>0&&(o=u.getLayout()[a]+s,"vertical"===e?u.setLayout({x:o},!0):u.setLayout({y:o},!0)),l=u.getLayout()[a]+u.getLayout()[h]+n;if((s=l-n-("vertical"===e?r:i))>0){o=u.getLayout()[a]-s,"vertical"===e?u.setLayout({x:o},!0):u.setLayout({y:o},!0),l=o;for(c=f-2;c>=0;--c)(s=(u=t[c]).getLayout()[a]+u.getLayout()[h]+n-l)>0&&(o=u.getLayout()[a]-s,"vertical"===e?u.setLayout({x:o},!0):u.setLayout({y:o},!0)),l=u.getLayout()[a]}}))}function uL(t,n,i){E(t.slice().reverse(),(function(t){E(t,(function(t){if(t.outEdges.length){var r=dL(t.outEdges,sL,i)/dL(t.outEdges,vL);if(isNaN(r)){var e=t.outEdges.length;r=e?dL(t.outEdges,lL,i)/e:0}if("vertical"===i){var a=t.getLayout().x+(r-cL(t,i))*n;t.setLayout({x:a},!0)}else{var o=t.getLayout().y+(r-cL(t,i))*n;t.setLayout({y:o},!0)}}}))}))}function sL(t,n){return cL(t.node2,n)*t.getValue()}function lL(t,n){return cL(t.node2,n)}function fL(t,n){return cL(t.node1,n)*t.getValue()}function hL(t,n){return cL(t.node1,n)}function cL(t,n){return"vertical"===n?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function vL(t){return t.getValue()}function dL(t,n,i){for(var r=0,e=t.length,a=-1;++a<e;){var o=+n(t[a],i);isNaN(o)||(r+=o)}return r}function pL(t,n,i){E(t,(function(t){E(t,(function(t){if(t.inEdges.length){var r=dL(t.inEdges,fL,i)/dL(t.inEdges,vL);if(isNaN(r)){var e=t.inEdges.length;r=e?dL(t.inEdges,hL,i)/e:0}if("vertical"===i){var a=t.getLayout().x+(r-cL(t,i))*n;t.setLayout({x:a},!0)}else{var o=t.getLayout().y+(r-cL(t,i))*n;t.setLayout({y:o},!0)}}}))}))}function mL(t){t.eachSeriesByType("sankey",(function(t){var n=t.getGraph(),i=n.nodes,r=n.edges;if(i.length){var e=1/0,a=-1/0;E(i,(function(t){var n=t.getLayout().value;n<e&&(e=n),n>a&&(a=n)})),E(i,(function(n){var i=new FC({type:"color",mappingMethod:"linear",dataExtent:[e,a],visual:t.get("color")}).mapValueToVisual(n.getLayout().value),r=n.getModel().get(["itemStyle","color"]);null!=r?(n.setVisual("color",r),n.setVisual("style",{fill:r})):(n.setVisual("color",i),n.setVisual("style",{fill:i}))}))}r.length&&E(r,(function(t){var n=t.getModel().get("lineStyle");t.setVisual("style",n)}))}))}var yL=function(){function t(){}return t.prototype.uc=function(t){var n=this.getEncode();return n&&null!=n.get(t)},t.prototype.getInitialData=function(t,n){var i,r,e=n.getComponent("xAxis",this.get("xAxisIndex")),a=n.getComponent("yAxis",this.get("yAxisIndex")),o=e.get("type"),u=a.get("type");"category"===o?(t.layout="horizontal",i=e.getOrdinalMeta(),r=!this.uc("x")):"category"===u?(t.layout="vertical",i=a.getOrdinalMeta(),r=!this.uc("y")):t.layout=t.layout||"horizontal";var s=["x","y"],l="horizontal"===t.layout?0:1,f=this.sc=s[l],h=s[1-l],c=[e,a],v=c[l].get("type"),d=c[1-l].get("type"),p=t.data;if(p&&r){var m=[];E(p,(function(t,n){var i;X(t)?(i=t.slice(),t.unshift(n)):X(t.value)?((i=D({},t)).value=i.value.slice(),t.value.unshift(n)):i=t,m.push(i)})),t.data=m}var y=this.defaultValueDimensions,g=[{name:f,type:ag(v),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:h,type:ag(d),dimsDef:y.slice()}];return WS(this,{coordDimensions:g,dimensionsCount:y.length+1,encodeDefaulter:G(Nc,g,this)})},t.prototype.getBaseAxis=function(){var t=this.sc;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},t}(),gL=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],i.visualDrawType="stroke",i}return l(n,t),n.type="series.boxplot",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},n}(Ud);B(gL,yL,!0);var bL=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){var r=t.getData(),e=this.group,a=this.qi;this.qi||e.removeAll();var o="horizontal"===t.get("layout")?1:0;r.diff(a).add((function(t){if(r.hasValue(t)){var n=ML(r.getItemLayout(t),r,t,o,!0);r.setItemGraphicEl(t,n),e.add(n)}})).update((function(t,n){var i=a.getItemGraphicEl(n);if(r.hasValue(t)){var u=r.getItemLayout(t);i?($l(i),SL(u,i,r,t)):i=ML(u,r,t,o),e.add(i),r.setItemGraphicEl(t,i)}else e.remove(i)})).remove((function(t){var n=a.getItemGraphicEl(t);n&&e.remove(n)})).execute(),this.qi=r},n.prototype.remove=function(t){var n=this.group,i=this.qi;this.qi=null,i&&i.eachItemGraphicEl((function(t){t&&n.remove(t)}))},n.type="boxplot",n}(ep),wL=function(){return function(){}}(),xL=function(t){function n(n){var i=t.call(this,n)||this;return i.type="boxplotBoxPath",i}return l(n,t),n.prototype.getDefaultShape=function(){return new wL},n.prototype.buildPath=function(t,n){var i=n.points,r=0;for(t.moveTo(i[r][0],i[r][1]),r++;r<4;r++)t.lineTo(i[r][0],i[r][1]);for(t.closePath();r<i.length;r++)t.moveTo(i[r][0],i[r][1]),r++,t.lineTo(i[r][0],i[r][1])},n}(au);function ML(t,n,i,r,e){var a=t.ends,o=new xL({shape:{points:e?kL(a,r,t):a}});return SL(t,o,n,i,e),o}function SL(t,n,i,r,e){var a=i.hostModel;(0,Nf[e?"initProps":"updateProps"])(n,{shape:{points:t.ends}},a,r),n.useStyle(i.getItemVisual(r,"style")),n.style.strokeNoScale=!0,n.z2=100;var o=i.getItemModel(r),u=o.getModel("emphasis");Ns(n,o),Ms(n,u.get("focus"),u.get("blurScope"),u.get("disabled"))}function kL(t,n,i){return P(t,(function(t){return(t=t.slice())[n]=i.initBaseline,t}))}var AL=E;function NL(t){var n=function(t){var n=[],i=[];return t.eachSeriesByType("boxplot",(function(t){var r=t.getBaseAxis(),e=F(i,r);e<0&&(e=i.length,i[e]=r,n[e]={axis:r,seriesModels:[]}),n[e].seriesModels.push(t)})),n}(t);AL(n,(function(t){var n=t.seriesModels;n.length&&(!function(t){var n,i=t.axis,r=t.seriesModels,e=r.length,a=t.boxWidthList=[],o=t.boxOffsetList=[],u=[];if("category"===i.type)n=i.getBandWidth();else{var s=0;AL(r,(function(t){s=Math.max(s,t.getData().count())}));var l=i.getExtent();n=Math.abs(l[1]-l[0])/s}AL(r,(function(t){var i=t.get("boxWidth");X(i)||(i=[i,i]),u.push([ze(i[0],n)||0,ze(i[1],n)||0])}));var f=.8*n-2,h=f/e*.3,c=(f-h*(e-1))/e,v=c/2-f/2;AL(r,(function(t,n){o.push(v),v+=h+c,a.push(Math.min(Math.max(c,u[n][0]),u[n][1]))}))}(t),AL(n,(function(n,i){!function(t,n,i){var r=t.coordinateSystem,e=t.getData(),a=i/2,o="horizontal"===t.get("layout")?0:1,u=1-o,s=["x","y"],l=e.mapDimension(s[o]),f=e.mapDimensionsAll(s[u]);if(null==l||f.length<5)return;for(var h=0;h<e.count();h++){var c=e.get(l,h),v=b(c,f[2],h),d=b(c,f[0],h),p=b(c,f[1],h),m=b(c,f[3],h),y=b(c,f[4],h),g=[];w(g,p,!1),w(g,m,!0),g.push(d,p,y,m),x(g,d),x(g,y),x(g,v),e.setItemLayout(h,{initBaseline:v[u],ends:g})}function b(t,i,a){var s,l=e.get(i,a),f=[];return f[o]=t,f[u]=l,isNaN(t)||isNaN(l)?s=[NaN,NaN]:(s=r.dataToPoint(f))[o]+=n,s}function w(t,n,i){var r=n.slice(),e=n.slice();r[o]+=a,e[o]-=a,i?t.push(r,e):t.push(e,r)}function x(t,n){var i=n.slice(),r=n.slice();i[o]-=a,r[o]+=a,t.push(i,r)}}(n,t.boxOffsetList[i],t.boxWidthList[i])})))}))}var CL={type:"echarts:boxplot",transform:function(t){var n=t.upstream;if(n.sourceFormat!==pc){Ke("")}var i=function(t,n){for(var i=[],r=[],e=(n=n||{}).boundIQR,a="none"===e||0===e,o=0;o<t.length;o++){var u=Oe(t[o].slice()),s=Ye(u,.25),l=Ye(u,.5),f=Ye(u,.75),h=u[0],c=u[u.length-1],v=(null==e?1.5:e)*(f-s),d=a?h:Math.max(h,s-v),p=a?c:Math.min(c,f+v),m=n.itemNameFormatter,y=U(m)?m({value:o}):j(m)?m.replace("{value}",o+""):o+"";i.push([y,d,s,l,f,p]);for(var g=0;g<u.length;g++){var b=u[g];if(b<d||b>p){var w=[y,b];r.push(w)}}}return{boxData:i,outliers:r}}(n.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}};var TL=["itemStyle","borderColor"],IL=["itemStyle","borderColor0"],zL=["itemStyle","borderColorDoji"],LL=["itemStyle","color"],OL=["itemStyle","color0"];function DL(t,n){return n.get(t>0?LL:OL)}function RL(t,n){return n.get(0===t?zL:t>0?TL:IL)}var FL={seriesType:"candlestick",plan:np(),performRawSeries:!0,reset:function(t,n){if(!n.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,n){for(var i;null!=(i=t.next());){var r=n.getItemModel(i),e=n.getItemLayout(i).sign,a=r.getItemStyle();a.fill=DL(e,r),a.stroke=RL(e,r)||a.fill,D(n.ensureUniqueItemVisual(i,"style"),a)}}}}},BL=["color","borderColor"],_L=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){this.group.removeClipPath(),this.Iu=null,this.ts(t),this.ns?this.rs(t):this.es(t)},n.prototype.incrementalPrepareRender=function(t,n,i){this.us(),this.ts(t)},n.prototype.incrementalRender=function(t,n,i,r){this.Iu=[],this.ns?this.ls(t,n):this.lc(t,n)},n.prototype.eachRendered=function(t){Af(this.Iu||this.group,t)},n.prototype.ts=function(t){var n=t.pipelineContext.large;null!=this.ns&&n===this.ns||(this.ns=n,this.us())},n.prototype.es=function(t){var n=t.getData(),i=this.qi,r=this.group,e=n.getLayout("isSimpleBox"),a=t.get("clip",!0),o=t.coordinateSystem,u=o.getArea&&o.getArea();this.qi||r.removeAll(),n.diff(i).add((function(i){if(n.hasValue(i)){var o=n.getItemLayout(i);if(a&&VL(u,o))return;var s=WL(o,i,!0);jl(s,{shape:{points:o.ends}},t,i),HL(s,n,i,e),r.add(s),n.setItemGraphicEl(i,s)}})).update((function(o,s){var l=i.getItemGraphicEl(s);if(n.hasValue(o)){var f=n.getItemLayout(o);a&&VL(u,f)?r.remove(l):(l?(Ul(l,{shape:{points:f.ends}},t,o),$l(l)):l=WL(f),HL(l,n,o,e),r.add(l),n.setItemGraphicEl(o,l))}else r.remove(l)})).remove((function(t){var n=i.getItemGraphicEl(t);n&&r.remove(n)})).execute(),this.qi=n},n.prototype.rs=function(t){this.us(),UL(t,this.group);var n=t.get("clip",!0)?EM(t.coordinateSystem,!1,t):null;n?this.group.setClipPath(n):this.group.removeClipPath()},n.prototype.lc=function(t,n){for(var i,r=n.getData(),e=r.getLayout("isSimpleBox");null!=(i=t.next());){var a=WL(r.getItemLayout(i));HL(a,r,i,e),a.incremental=!0,this.group.add(a),this.Iu.push(a)}},n.prototype.ls=function(t,n){UL(n,this.group,this.Iu,!0)},n.prototype.remove=function(t){this.us()},n.prototype.us=function(){this.group.removeAll(),this.qi=null},n.type="candlestick",n}(ep),EL=function(){return function(){}}(),PL=function(t){function n(n){var i=t.call(this,n)||this;return i.type="normalCandlestickBox",i}return l(n,t),n.prototype.getDefaultShape=function(){return new EL},n.prototype.buildPath=function(t,n){var i=n.points;this.fc?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))},n}(au);function WL(t,n,i){var r=t.ends;return new PL({shape:{points:i?YL(r,t):r},z2:100})}function VL(t,n){for(var i=!0,r=0;r<n.ends.length;r++)if(t.contain(n.ends[r][0],n.ends[r][1])){i=!1;break}return i}function HL(t,n,i,r){var e=n.getItemModel(i);t.useStyle(n.getItemVisual(i,"style")),t.style.strokeNoScale=!0,t.fc=r,Ns(t,e);var a=n.getItemLayout(i).sign;E(t.states,(function(t,n){var i=e.getModel(n),r=DL(a,i),o=RL(a,i)||r,u=t.style||(t.style={});r&&(u.fill=r),o&&(u.stroke=o)}));var o=e.getModel("emphasis");Ms(t,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function YL(t,n){return P(t,(function(t){return(t=t.slice())[1]=n.initBaseline,t}))}var GL=function(){return function(){}}(),XL=function(t){function n(n){var i=t.call(this,n)||this;return i.type="largeCandlestickBox",i}return l(n,t),n.prototype.getDefaultShape=function(){return new GL},n.prototype.buildPath=function(t,n){for(var i=n.points,r=0;r<i.length;)if(this.hc===i[r++]){var e=i[r++];t.moveTo(e,i[r++]),t.lineTo(e,i[r++])}else r+=3},n}(au);function UL(t,n,i,r){var e=t.getData().getLayout("largePoints"),a=new XL({shape:{points:e},hc:1,ignoreCoarsePointer:!0});n.add(a);var o=new XL({shape:{points:e},hc:-1,ignoreCoarsePointer:!0});n.add(o);var u=new XL({shape:{points:e},hc:0,ignoreCoarsePointer:!0});n.add(u),jL(1,a,t),jL(-1,o,t),jL(0,u,t),r&&(a.incremental=!0,o.incremental=!0),i&&i.push(a,o)}function jL(t,n,i,r){var e=RL(t,i)||DL(t,i),a=i.getModel("itemStyle").getItemStyle(BL);n.useStyle(a),n.style.fill=null,n.style.stroke=e}var ZL=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],i}return l(n,t),n.prototype.getShadowDim=function(){return"open"},n.prototype.brushSelector=function(t,n,i){var r=n.getItemLayout(t);return r&&i.rect(r.brushRect)},n.type="series.candlestick",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},n}(Ud);function qL(t){t&&X(t.series)&&E(t.series,(function(t){K(t)&&"k"===t.type&&(t.type="candlestick")}))}B(ZL,yL,!0);var KL={seriesType:"candlestick",plan:np(),reset:function(t){var n=t.coordinateSystem,i=t.getData(),r=function(t,n){var i,r=t.getBaseAxis(),e="category"===r.type?r.getBandWidth():(i=r.getExtent(),Math.abs(i[1]-i[0])/n.count()),a=ze(rt(t.get("barMaxWidth"),e),e),o=ze(rt(t.get("barMinWidth"),1),e),u=t.get("barWidth");return null!=u?ze(u,e):Math.max(Math.min(e/2,a),o)}(t,i),e=["x","y"],a=i.getDimensionIndex(i.mapDimension(e[0])),o=P(i.mapDimensionsAll(e[1]),i.getDimensionIndex,i),u=o[0],s=o[1],l=o[2],f=o[3];if(i.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(a<0||o.length<4))return{progress:t.pipelineContext.large?function(i,r){var e,o,h=Qg(4*i.count),c=0,v=[],d=[],p=r.getStore(),m=!!t.get(["itemStyle","borderColorDoji"]);for(;null!=(o=i.next());){var y=p.get(a,o),g=p.get(u,o),b=p.get(s,o),w=p.get(l,o),x=p.get(f,o);isNaN(y)||isNaN(w)||isNaN(x)?(h[c++]=NaN,c+=3):(h[c++]=JL(p,o,g,b,s,m),v[0]=y,v[1]=w,e=n.dataToPoint(v,null,d),h[c++]=e?e[0]:NaN,h[c++]=e?e[1]:NaN,v[1]=x,e=n.dataToPoint(v,null,d),h[c++]=e?e[1]:NaN)}r.setLayout("largePoints",h)}:function(t,i){var e,o=i.getStore();for(;null!=(e=t.next());){var h=o.get(a,e),c=o.get(u,e),v=o.get(s,e),d=o.get(l,e),p=o.get(f,e),m=Math.min(c,v),y=Math.max(c,v),g=k(m,h),b=k(y,h),w=k(d,h),x=k(p,h),M=[];A(M,b,0),A(M,g,1),M.push(C(x),C(b),C(w),C(g));var S=!!i.getItemModel(e).get(["itemStyle","borderColorDoji"]);i.setItemLayout(e,{sign:JL(o,e,c,v,s,S),initBaseline:c>v?b[1]:g[1],ends:M,brushRect:N(d,p,h)})}function k(t,i){var r=[];return r[0]=i,r[1]=t,isNaN(i)||isNaN(t)?[NaN,NaN]:n.dataToPoint(r)}function A(t,n,i){var e=n.slice(),a=n.slice();e[0]=cf(e[0]+r/2,1,!1),a[0]=cf(a[0]-r/2,1,!0),i?t.push(e,a):t.push(a,e)}function N(t,n,i){var e=k(t,i),a=k(n,i);return e[0]-=r/2,a[0]-=r/2,{x:e[0],y:e[1],width:r,height:a[1]-e[1]}}function C(t){return t[0]=cf(t[0],1),t}}}}};function JL(t,n,i,r,e,a){return i>r?-1:i<r?1:a?0:n>0?t.get(e,n-1)<=r?1:-1:1}function $L(t,n){var i=n.rippleEffectColor||n.color;t.eachChild((function(t){t.attr({z:n.z,zlevel:n.zlevel,style:{stroke:"stroke"===n.brushType?i:null,fill:"fill"===n.brushType?i:null}})}))}var QL=function(t){function n(n,i){var r=t.call(this)||this,e=new wM(n,i),a=new Se;return r.add(e),r.add(a),r.updateData(n,i),r}return l(n,t),n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(t){for(var n=t.symbolType,i=t.color,r=t.rippleNumber,e=this.childAt(1),a=0;a<r;a++){var o=mm(n,-1,-1,2,2,i);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var u=-a/r*t.period+t.effectOffset;o.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(u).start(),o.animateStyle(!0).when(t.period,{opacity:0}).delay(u).start(),e.add(o)}$L(e,t)},n.prototype.updateEffectAnimation=function(t){for(var n=this.cc,i=this.childAt(1),r=["symbolType","period","rippleScale","rippleNumber"],e=0;e<r.length;e++){var a=r[e];if(n[a]!==t[a])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}$L(i,t)},n.prototype.highlight=function(){ss(this)},n.prototype.downplay=function(){ls(this)},n.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},n.prototype.updateData=function(t,n){var i=this,r=t.hostModel;this.childAt(0).updateData(t,n);var e=this.childAt(1),a=t.getItemModel(n),o=t.getItemVisual(n,"symbol"),u=ym(t.getItemVisual(n,"symbolSize")),s=t.getItemVisual(n,"style"),l=s&&s.fill,f=a.getModel("emphasis");e.setScale(u),e.traverse((function(t){t.setStyle("fill",l)}));var h=gm(t.getItemVisual(n,"symbolOffset"),u);h&&(e.x=h[0],e.y=h[1]);var c=t.getItemVisual(n,"symbolRotate");e.rotation=(c||0)*Math.PI/180||0;var v={};v.showEffectOn=r.get("showEffectOn"),v.rippleScale=a.get(["rippleEffect","scale"]),v.brushType=a.get(["rippleEffect","brushType"]),v.period=1e3*a.get(["rippleEffect","period"]),v.effectOffset=n/t.count(),v.z=r.getShallow("z")||0,v.zlevel=r.getShallow("zlevel")||0,v.symbolType=o,v.color=l,v.rippleEffectColor=a.get(["rippleEffect","color"]),v.rippleNumber=a.get(["rippleEffect","number"]),"render"===v.showEffectOn?(this.cc?this.updateEffectAnimation(v):this.startEffectAnimation(v),this.cc=v):(this.cc=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){"emphasis"===t?"render"!==v.showEffectOn&&i.startEffectAnimation(v):"normal"===t&&"render"!==v.showEffectOn&&i.stopEffectAnimation()}),this.cc=v,Ms(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},n.prototype.fadeOut=function(t){t&&t()},n}(Se),tO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(){this.Ru=new AM(QL)},n.prototype.render=function(t,n,i){var r=t.getData(),e=this.Ru;e.updateData(r,{clipShape:this.Os(t)}),this.group.add(e.group)},n.prototype.Os=function(t){var n=t.coordinateSystem,i=n&&n.getArea&&n.getArea();return t.get("clip",!0)?i:null},n.prototype.updateTransform=function(t,n,i){var r=t.getData();this.group.dirty();var e=JM("").reset(t,n,i);e.progress&&e.progress({start:0,end:r.count(),count:r.count()},r),this.Ru.updateLayout()},n.prototype.vc=function(t){var n,i,r=t.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=(n=r.getRoamTransform(),dn(i=[1,0,0,1,0,0],n),i),this.group.decomposeTransform())},n.prototype.remove=function(t,n){this.Ru&&this.Ru.remove(!0)},n.type="effectScatter",n}(ep),nO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.hasSymbolVisual=!0,i}return l(n,t),n.prototype.getInitialData=function(t,n){return Fg(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(t,n,i){return i.point(n.getItemLayout(t))},n.type="series.effectScatter",n.dependencies=["grid","polar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},n}(Ud);var iO=function(t){function n(n,i,r){var e=t.call(this)||this;return e.add(e.createLine(n,i,r)),e.dc(n,i),e}return l(n,t),n.prototype.createLine=function(t,n,i){return new ZT(t,n,i)},n.prototype.dc=function(t,n){var i=t.getItemModel(n).getModel("effect"),r=i.get("symbolSize"),e=i.get("symbol");X(r)||(r=[r,r]);var a=t.getItemVisual(n,"style"),o=i.get("color")||a&&a.stroke,u=this.childAt(1);this.Su!==e&&(this.remove(u),(u=mm(e,-.5,-.5,1,1,o)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",o),u.setStyle(i.getItemStyle(["color"])),u.scaleX=r[0],u.scaleY=r[1],u.setColor(o),this.Su=e,this.mc=r,this.yc(t,i,n))},n.prototype.yc=function(t,n,i){var r=this.childAt(1);if(r){var e=t.getItemLayout(i),a=1e3*n.get("period"),o=n.get("loop"),u=n.get("roundTrip"),s=n.get("constantSpeed"),l=it(n.get("delay"),(function(n){return n/t.count()*a/3}));if(r.ignore=!0,this.gc(r,e),s>0&&(a=this.bc(r)/s*1e3),a!==this.wc||o!==this.Ot||u!==this.xc){r.stopAnimation();var f=void 0;f=U(l)?l(i):l,r.Mc>0&&(f=-a*r.Mc),this.Sc(r,a,f,o,u)}this.wc=a,this.Ot=o,this.xc=u}},n.prototype.Sc=function(t,n,i,r,e){if(n>0){t.Mc=0;var a=this,o=t.animate("",r).when(e?2*n:n,{Mc:e?2:1}).delay(i).during((function(){a.kc(t)}));r||o.done((function(){a.remove(t)})),o.start()}},n.prototype.bc=function(t){return Rt(t.Ac,t.Nc)+Rt(t.Nc,t.Cc)},n.prototype.gc=function(t,n){t.Ac=n[0],t.Cc=n[1],t.Nc=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},n.prototype.updateData=function(t,n,i){this.childAt(0).updateData(t,n,i),this.dc(t,n)},n.prototype.kc=function(t){var n=t.Ac,i=t.Cc,r=t.Nc,e=t.Mc<1?t.Mc:2-t.Mc,a=[t.x,t.y],o=a.slice(),u=pi,s=mi;a[0]=u(n[0],r[0],i[0],e),a[1]=u(n[1],r[1],i[1],e);var l=t.Mc<1?s(n[0],r[0],i[0],e):s(i[0],r[0],n[0],1-e),f=t.Mc<1?s(n[1],r[1],i[1],e):s(i[1],r[1],n[1],1-e);t.rotation=-Math.atan2(f,l)-Math.PI/2,"line"!==this.Su&&"rect"!==this.Su&&"roundRect"!==this.Su||(void 0!==t.Tc&&t.Tc<t.Mc?(t.scaleY=1.05*Rt(o,a),1===e&&(a[0]=o[0]+(a[0]-o[0])/2,a[1]=o[1]+(a[1]-o[1])/2)):1===t.Tc?t.scaleY=2*Rt(n,a):t.scaleY=this.mc[1]),t.Tc=t.Mc,t.ignore=!1,t.x=a[0],t.y=a[1]},n.prototype.updateLayout=function(t,n){this.childAt(0).updateLayout(t,n);var i=t.getItemModel(n).getModel("effect");this.yc(t,i,n)},n}(Se),rO=function(t){function n(n,i,r){var e=t.call(this)||this;return e.Ic(n,i,r),e}return l(n,t),n.prototype.Ic=function(t,n,i){var r=t.getItemLayout(n),e=new Ml({shape:{points:r}});this.add(e),this.nh(t,n,i)},n.prototype.updateData=function(t,n,i){var r=t.hostModel;Ul(this.childAt(0),{shape:{points:t.getItemLayout(n)}},r,n),this.nh(t,n,i)},n.prototype.nh=function(t,n,i){var r=this.childAt(0),e=t.getItemModel(n),a=i&&i.emphasisLineStyle,o=i&&i.focus,u=i&&i.blurScope,s=i&&i.emphasisDisabled;if(!i||t.hasItemOption){var l=e.getModel("emphasis");a=l.getModel("lineStyle").getLineStyle(),s=l.get("disabled"),o=l.get("focus"),u=l.get("blurScope")}r.useStyle(t.getItemVisual(n,"style")),r.style.fill=null,r.style.strokeNoScale=!0,r.ensureState("emphasis").style=a,Ms(this,o,u,s)},n.prototype.updateLayout=function(t,n){this.childAt(0).setShape("points",t.getItemLayout(n))},n}(Se),eO=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.zc=0,n.Lc=0,n}return l(n,t),n.prototype.createLine=function(t,n,i){return new rO(t,n,i)},n.prototype.gc=function(t,n){this.Uu=n;for(var i=[0],r=0,e=1;e<n.length;e++){var a=n[e-1],o=n[e];r+=Rt(a,o),i.push(r)}if(0!==r){for(e=0;e<i.length;e++)i[e]/=r;this.Oc=i,this.Dc=r}else this.Dc=0},n.prototype.bc=function(){return this.Dc},n.prototype.kc=function(t){var n=t.Mc<1?t.Mc:2-t.Mc,i=this.Uu,r=this.Oc,e=i.length;if(r){var a,o=this.zc;if(n<this.Lc){for(a=Math.min(o+1,e-1);a>=0&&!(r[a]<=n);a--);a=Math.min(a,e-2)}else{for(a=o;a<e&&!(r[a]>n);a++);a=Math.min(a-1,e-2)}var u=(n-r[a])/(r[a+1]-r[a]),s=i[a],l=i[a+1];t.x=s[0]*(1-u)+u*l[0],t.y=s[1]*(1-u)+u*l[1];var f=t.Mc<1?l[0]-s[0]:s[0]-l[0],h=t.Mc<1?l[1]-s[1]:s[1]-l[1];t.rotation=-Math.atan2(h,f)-Math.PI/2,this.zc=a,this.Lc=n,t.ignore=!1}},n}(iO),aO=function(){return function(){this.polyline=!1,this.curveness=0,this.segs=[]}}(),oO=function(t){function n(n){var i=t.call(this,n)||this;return i.Cs=0,i.hoverDataIdx=-1,i}return l(n,t),n.prototype.reset=function(){this.notClear=!1,this.Cs=0},n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new aO},n.prototype.buildPath=function(t,n){var i,r=n.segs,e=n.curveness;if(n.polyline)for(i=this.Cs;i<r.length;){var a=r[i++];if(a>0){t.moveTo(r[i++],r[i++]);for(var o=1;o<a;o++)t.lineTo(r[i++],r[i++])}}else for(i=this.Cs;i<r.length;){var u=r[i++],s=r[i++],l=r[i++],f=r[i++];if(t.moveTo(u,s),e>0){var h=(u+l)/2-(s-f)*e,c=(s+f)/2-(l-u)*e;t.quadraticCurveTo(h,c,l,f)}else t.lineTo(l,f)}this.incremental&&(this.Cs=i,this.notClear=!0)},n.prototype.findDataIndex=function(t,n){var i=this.shape,r=i.segs,e=i.curveness,a=this.style.lineWidth;if(i.polyline)for(var o=0,u=0;u<r.length;){var s=r[u++];if(s>0)for(var l=r[u++],f=r[u++],h=1;h<s;h++){if(Wo(l,f,c=r[u++],v=r[u++],a,t,n))return o}o++}else for(o=0,u=0;u<r.length;){l=r[u++],f=r[u++];var c=r[u++],v=r[u++];if(e>0){if(Ho(l,f,(l+c)/2-(f-v)*e,(f+v)/2-(c-l)*e,c,v,a,t,n))return o}else if(Wo(l,f,c,v,a,t,n))return o;o++}return-1},n.prototype.contain=function(t,n){var i=this.transformCoordToLocal(t,n),r=this.getBoundingRect();return t=i[0],n=i[1],r.contain(t,n)?(this.hoverDataIdx=this.findDataIndex(t,n))>=0:(this.hoverDataIdx=-1,!1)},n.prototype.getBoundingRect=function(){var t=this.Bn;if(!t){for(var n=this.shape.segs,i=1/0,r=1/0,e=-1/0,a=-1/0,o=0;o<n.length;){var u=n[o++],s=n[o++];i=Math.min(u,i),e=Math.max(u,e),r=Math.min(s,r),a=Math.max(s,a)}t=this.Bn=new In(i,r,e,a)}return t},n}(au),uO=function(){function t(){this.group=new Se}return t.prototype.updateData=function(t){this.us();var n=this.Ts();n.setShape({segs:t.getLayout("linesPoints")}),this.Is(n,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this.us()},t.prototype.incrementalUpdate=function(t,n){var i=this.zs[0],r=n.getLayout("linesPoints"),e=i&&i.shape.segs;if(e&&e.length<2e4){var a=e.length,o=new Float32Array(a+r.length);o.set(e),o.set(r,a),i.setShape({segs:o})}else{this.zs=[];var u=this.Ts();u.incremental=!0,u.setShape({segs:r}),this.Is(u,n),u.$o=t.start}},t.prototype.remove=function(){this.us()},t.prototype.eachRendered=function(t){this.zs[0]&&t(this.zs[0])},t.prototype.Ts=function(){var t=new oO({cursor:"default",ignoreCoarsePointer:!0});return this.zs.push(t),this.group.add(t),t},t.prototype.Is=function(t,n,i){var r=n.hostModel;t.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),t.useStyle(r.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var e=n.getVisual("style");e&&e.stroke&&t.setStyle("stroke",e.stroke),t.setStyle("fill",null);var a=Du(t);a.seriesIndex=r.seriesIndex,t.on("mousemove",(function(n){a.dataIndex=null;var i=t.hoverDataIdx;i>0&&(a.dataIndex=i+t.$o)}))},t.prototype.us=function(){this.zs=[],this.group.removeAll()},t}(),sO={seriesType:"lines",plan:np(),reset:function(t){var n=t.coordinateSystem;if(n){var i=t.get("polyline"),r=t.pipelineContext.large;return{progress:function(e,a){var o=[];if(r){var u=void 0,s=e.end-e.start;if(i){for(var l=0,f=e.start;f<e.end;f++)l+=t.getLineCoordsCount(f);u=new Float32Array(s+2*l)}else u=new Float32Array(4*s);var h=0,c=[];for(f=e.start;f<e.end;f++){var v=t.getLineCoords(f,o);i&&(u[h++]=v);for(var d=0;d<v;d++)c=n.dataToPoint(o[d],!1,c),u[h++]=c[0],u[h++]=c[1]}a.setLayout("linesPoints",u)}else for(f=e.start;f<e.end;f++){var p=a.getItemModel(f),m=(v=t.getLineCoords(f,o),[]);if(i)for(var y=0;y<v;y++)m.push(n.dataToPoint(o[y]));else{m[0]=n.dataToPoint(o[0]),m[1]=n.dataToPoint(o[1]);var g=p.get(["lineStyle","curveness"]);+g&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*g,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*g])}a.setItemLayout(f,m)}}}}}},lO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){var r=t.getData(),e=this.Rc(r,t),a=t.get("zlevel"),o=t.get(["effect","trailLength"]),u=i.getZr(),s="svg"===u.painter.getType();s||u.painter.getLayer(a).clear(!0),null==this.Fc||s||u.configLayer(this.Fc,{motionBlur:!1}),this.Bc(t)&&o>0&&(s||u.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(o/10+.9,1),0)})),e.updateData(r);var l=t.get("clip",!0)&&EM(t.coordinateSystem,!1,t);l?this.group.setClipPath(l):this.group.removeClipPath(),this.Fc=a,this.Mt=!0},n.prototype.incrementalPrepareRender=function(t,n,i){var r=t.getData();this.Rc(r,t).incrementalPrepareUpdate(r),this.xu(i),this.Mt=!1},n.prototype.incrementalRender=function(t,n,i){this.hh.incrementalUpdate(t,n.getData()),this.Mt=t.end===n.getData().count()},n.prototype.eachRendered=function(t){this.hh&&this.hh.eachRendered(t)},n.prototype.updateTransform=function(t,n,i){var r=t.getData(),e=t.pipelineContext;if(!this.Mt||e.large||e.progressiveRender)return{update:!0};var a=sO.reset(t,n,i);a.progress&&a.progress({start:0,end:r.count(),count:r.count()},r),this.hh.updateLayout(),this.xu(i)},n.prototype.Rc=function(t,n){var i=this.hh,r=this.Bc(n),e=!!n.get("polyline"),a=n.pipelineContext.large;return i&&r===this._c&&e===this.Ec&&a===this.ns||(i&&i.remove(),i=this.hh=a?new uO:new qT(e?r?eO:rO:r?iO:ZT),this._c=r,this.Ec=e,this.ns=a),this.group.add(i.group),i},n.prototype.Bc=function(t){return!!t.get(["effect","show"])},n.prototype.xu=function(t){var n=t.getZr();"svg"===n.painter.getType()||null==this.Fc||n.painter.getLayer(this.Fc).clear(!0)},n.prototype.remove=function(t,n){this.hh&&this.hh.remove(),this.hh=null,this.xu(n)},n.prototype.dispose=function(t,n){this.remove(t,n)},n.type="lines",n}(ep),fO="undefined"==typeof Uint32Array?Array:Uint32Array,hO="undefined"==typeof Float64Array?Array:Float64Array;function cO(t){var n=t.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(t.data=P(n,(function(t){var n={coords:[t[0].coord,t[1].coord]};return t[0].name&&(n.fromName=t[0].name),t[1].name&&(n.toName=t[1].name),O([n,t[0],t[1]])})))}var vO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.visualStyleAccessPath="lineStyle",i.visualDrawType="stroke",i}return l(n,t),n.prototype.init=function(n){n.data=n.data||[],cO(n);var i=this.Pc(n.data);this.Wc=i.flatCoords,this.Vc=i.flatCoordsOffset,i.flatCoords&&(n.data=new Float32Array(i.count)),t.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(n){if(cO(n),n.data){var i=this.Pc(n.data);this.Wc=i.flatCoords,this.Vc=i.flatCoordsOffset,i.flatCoords&&(n.data=new Float32Array(i.count))}t.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(t){var n=this.Pc(t.data);n.flatCoords&&(this.Wc?(this.Wc=mt(this.Wc,n.flatCoords),this.Vc=mt(this.Vc,n.flatCoordsOffset)):(this.Wc=n.flatCoords,this.Vc=n.flatCoordsOffset),t.data=new Float32Array(n.count)),this.getRawData().appendData(t.data)},n.prototype.Hc=function(t){var n=this.getData().getItemModel(t);return n.option instanceof Array?n.option:n.getShallow("coords")},n.prototype.getLineCoordsCount=function(t){return this.Vc?this.Vc[2*t+1]:this.Hc(t).length},n.prototype.getLineCoords=function(t,n){if(this.Vc){for(var i=this.Vc[2*t],r=this.Vc[2*t+1],e=0;e<r;e++)n[e]=n[e]||[],n[e][0]=this.Wc[i+2*e],n[e][1]=this.Wc[i+2*e+1];return r}var a=this.Hc(t);for(e=0;e<a.length;e++)n[e]=n[e]||[],n[e][0]=a[e][0],n[e][1]=a[e][1];return a.length},n.prototype.Pc=function(t){var n=0;if(this.Wc&&(n=this.Wc.length),q(t[0])){for(var i=t.length,r=new fO(i),e=new hO(i),a=0,o=0,u=0,s=0;s<i;){u++;var l=t[s++];r[o++]=a+n,r[o++]=l;for(var f=0;f<l;f++){var h=t[s++],c=t[s++];e[a++]=h,e[a++]=c}}return{flatCoordsOffset:new Uint32Array(r.buffer,0,o),flatCoords:e,count:u}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},n.prototype.getInitialData=function(t,n){var i=new Ng(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],(function(t,n,r,e){if(t instanceof Array)return NaN;i.hasItemOption=!0;var a=t.value;return null!=a?a instanceof Array?a[e]:a:void 0})),i},n.prototype.formatTooltip=function(t,n,i){var r=this.getData().getItemModel(t),e=r.get("name");if(e)return e;var a=r.get("fromName"),o=r.get("toName"),u=[];return null!=a&&u.push(a),null!=o&&u.push(o),zd("nameValue",{name:u.join(" > ")})},n.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},n.prototype.getProgressive=function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},n.prototype.getProgressiveThreshold=function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},n.prototype.getZLevelKey=function(){var t=this.getModel("effect"),n=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&n>0?n+"":""},n.type="series.lines",n.dependencies=["grid","polar","geo","calendar"],n.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},n}(Ud);function dO(t){return t instanceof Array||(t=[t,t]),t}var pO={seriesType:"lines",reset:function(t){var n=dO(t.get("symbol")),i=dO(t.get("symbolSize")),r=t.getData();return r.setVisual("fromSymbol",n&&n[0]),r.setVisual("toSymbol",n&&n[1]),r.setVisual("fromSymbolSize",i&&i[0]),r.setVisual("toSymbolSize",i&&i[1]),{dataEach:r.hasItemOption?function(t,n){var i=t.getItemModel(n),r=dO(i.getShallow("symbol",!0)),e=dO(i.getShallow("symbolSize",!0));r[0]&&t.setItemVisual(n,"fromSymbol",r[0]),r[1]&&t.setItemVisual(n,"toSymbol",r[1]),e[0]&&t.setItemVisual(n,"fromSymbolSize",e[0]),e[1]&&t.setItemVisual(n,"toSymbolSize",e[1])}:null}}};var mO=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this.Yc={inRange:null,outOfRange:null};var t=p.createCanvas();this.canvas=t}return t.prototype.update=function(t,n,i,r,e,a){var o=this.Gc(),u=this.Xc(e,"inRange"),s=this.Xc(e,"outOfRange"),l=this.pointSize+this.blurSize,f=this.canvas,h=f.getContext("2d"),c=t.length;f.width=n,f.height=i;for(var v=0;v<c;++v){var d=t[v],p=d[0],m=d[1],y=r(d[2]);h.globalAlpha=y,h.drawImage(o,p-l,m-l)}if(!f.width||!f.height)return f;for(var g=h.getImageData(0,0,f.width,f.height),b=g.data,w=0,x=b.length,M=this.minOpacity,S=this.maxOpacity-M;w<x;){y=b[w+3]/256;var k=4*Math.floor(255*y);if(y>0){var A=a(y)?u:s;y>0&&(y=y*S+M),b[w++]=A[k],b[w++]=A[k+1],b[w++]=A[k+2],b[w++]=A[k+3]*y*256}else w+=4}return h.putImageData(g,0,0),f},t.prototype.Gc=function(){var t=this.Uc||(this.Uc=p.createCanvas()),n=this.pointSize+this.blurSize,i=2*n;t.width=i,t.height=i;var r=t.getContext("2d");return r.clearRect(0,0,i,i),r.shadowOffsetX=i,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-n,n,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),t},t.prototype.Xc=function(t,n){for(var i=this.Yc,r=i[n]||(i[n]=new Uint8ClampedArray(1024)),e=[0,0,0,0],a=0,o=0;o<256;o++)t[n](o/255,!0,e),r[a++]=e[0],r[a++]=e[1],r[a++]=e[2],r[a++]=e[3];return r},t}();function yO(t){var n=t.dimensions;return"lng"===n[0]&&"lat"===n[1]}var gO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){var r;n.eachComponent("visualMap",(function(n){n.eachTargetSeries((function(i){i===t&&(r=n)}))})),this.Iu=null,this.group.removeAll();var e=t.coordinateSystem;"cartesian2d"===e.type||"calendar"===e.type?this.jc(t,i,0,t.getData().count()):yO(e)&&this.Zc(e,t,r,i)},n.prototype.incrementalPrepareRender=function(t,n,i){this.group.removeAll()},n.prototype.incrementalRender=function(t,n,i,r){var e=n.coordinateSystem;e&&(yO(e)?this.render(n,i,r):(this.Iu=[],this.jc(n,r,t.start,t.end,!0)))},n.prototype.eachRendered=function(t){Af(this.Iu||this.group,t)},n.prototype.jc=function(t,n,i,r,e){var a,o,u,s,l=t.coordinateSystem,f=PM(l,"cartesian2d");if(f){var h=l.getAxis("x"),c=l.getAxis("y");a=h.getBandWidth()+.5,o=c.getBandWidth()+.5,u=h.scale.getExtent(),s=c.scale.getExtent()}for(var v=this.group,d=t.getData(),p=t.getModel(["emphasis","itemStyle"]).getItemStyle(),m=t.getModel(["blur","itemStyle"]).getItemStyle(),y=t.getModel(["select","itemStyle"]).getItemStyle(),g=t.get(["itemStyle","borderRadius"]),b=Lf(t),w=t.getModel("emphasis"),x=w.get("focus"),M=w.get("blurScope"),S=w.get("disabled"),k=f?[d.mapDimension("x"),d.mapDimension("y"),d.mapDimension("value")]:[d.mapDimension("time"),d.mapDimension("value")],A=i;A<r;A++){var N=void 0,C=d.getItemVisual(A,"style");if(f){var T=d.get(k[0],A),I=d.get(k[1],A);if(isNaN(d.get(k[2],A))||isNaN(T)||isNaN(I)||T<u[0]||T>u[1]||I<s[0]||I>s[1])continue;var z=l.dataToPoint([T,I]);N=new yu({shape:{x:z[0]-a/2,y:z[1]-o/2,width:a,height:o},style:C})}else{if(isNaN(d.get(k[1],A)))continue;N=new yu({z2:1,shape:l.dataToRect([d.get(k[0],A)]).contentShape,style:C})}if(d.hasItemOption){var L=d.getItemModel(A),O=L.getModel("emphasis");p=O.getModel("itemStyle").getItemStyle(),m=L.getModel(["blur","itemStyle"]).getItemStyle(),y=L.getModel(["select","itemStyle"]).getItemStyle(),g=L.get(["itemStyle","borderRadius"]),x=O.get("focus"),M=O.get("blurScope"),S=O.get("disabled"),b=Lf(L)}N.shape.r=g;var D=t.getRawValue(A),R="-";D&&null!=D[2]&&(R=D[2]+""),zf(N,b,{labelFetcher:t,labelDataIndex:A,defaultOpacity:C.opacity,defaultText:R}),N.ensureState("emphasis").style=p,N.ensureState("blur").style=m,N.ensureState("select").style=y,Ms(N,x,M,S),N.incremental=e,e&&(N.states.emphasis.hoverLayer=!0),v.add(N),d.setItemGraphicEl(A,N),this.Iu&&this.Iu.push(N)}},n.prototype.Zc=function(t,n,i,r){var e=i.targetVisuals.inRange,a=i.targetVisuals.outOfRange,o=n.getData(),u=this.qc||this.qc||new mO;u.blurSize=n.get("blurSize"),u.pointSize=n.get("pointSize"),u.minOpacity=n.get("minOpacity"),u.maxOpacity=n.get("maxOpacity");var s=t.getViewRect().clone(),l=t.getRoamTransform();s.applyTransform(l);var f=Math.max(s.x,0),h=Math.max(s.y,0),c=Math.min(s.width+s.x,r.getWidth()),v=Math.min(s.height+s.y,r.getHeight()),d=c-f,p=v-h,m=[o.mapDimension("lng"),o.mapDimension("lat"),o.mapDimension("value")],y=o.mapArray(m,(function(n,i,r){var e=t.dataToPoint([n,i]);return e[0]-=f,e[1]-=h,e.push(r),e})),g=i.getExtent(),b="visualMap.continuous"===i.type?function(t,n){var i=t[1]-t[0];return n=[(n[0]-t[0])/i,(n[1]-t[0])/i],function(t){return t>=n[0]&&t<=n[1]}}(g,i.option.range):function(t,n,i){var r=t[1]-t[0],e=(n=P(n,(function(n){return{interval:[(n.interval[0]-t[0])/r,(n.interval[1]-t[0])/r]}}))).length,a=0;return function(t){var r;for(r=a;r<e;r++)if((o=n[r].interval)[0]<=t&&t<=o[1]){a=r;break}if(r===e)for(r=a-1;r>=0;r--){var o;if((o=n[r].interval)[0]<=t&&t<=o[1]){a=r;break}}return r>=0&&r<e&&i[r]}}(g,i.getPieceList(),i.option.selected);u.update(y,d,p,e.color.getNormalizer(),{inRange:e.color.getColorMapper(),outOfRange:a.color.getColorMapper()},b);var w=new fu({style:{width:d,height:p,x:f,y:h,image:u.canvas},silent:!0});this.group.add(w)},n.type="heatmap",n}(ep),bO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.getInitialData=function(t,n){return Fg(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var t=Zc.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},n.type="series.heatmap",n.dependencies=["grid","geo","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},n}(Ud);var wO=["itemStyle","borderWidth"],xO=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],MO=new $s,SO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){var r=this.group,e=t.getData(),a=this.qi,o=t.coordinateSystem,u=o.getBaseAxis().isHorizontal(),s=o.master.getRect(),l={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:o,coordSysExtent:[[s.x,s.x+s.width],[s.y,s.y+s.height]],isHorizontal:u,valueDim:xO[+u],categoryDim:xO[1-+u]};e.diff(a).add((function(t){if(e.hasValue(t)){var n=LO(e,t),i=kO(e,t,n,l),a=RO(e,l,i);e.setItemGraphicEl(t,a),r.add(a),PO(a,l,i)}})).update((function(t,n){var i=a.getItemGraphicEl(n);if(e.hasValue(t)){var o=LO(e,t),u=kO(e,t,o,l),s=BO(e,u);i&&s!==i.Kc&&(r.remove(i),e.setItemGraphicEl(t,null),i=null),i?function(t,n,i){var r=i.animationModel,e=i.dataIndex,a=t.Jc;Ul(a,{x:i.bundlePosition[0],y:i.bundlePosition[1]},r,e),i.symbolRepeat?CO(t,n,i,!0):TO(t,n,i,!0);IO(t,i,!0),zO(t,n,i,!0)}(i,l,u):i=RO(e,l,u,!0),e.setItemGraphicEl(t,i),i.$c=u,r.add(i),PO(i,l,u)}else r.remove(i)})).remove((function(t){var n=a.getItemGraphicEl(t);n&&FO(a,t,n.$c.animationModel,n)})).execute();var f=t.get("clip",!0)?EM(t.coordinateSystem,!1,t):null;return f?r.setClipPath(f):r.removeClipPath(),this.qi=e,this.group},n.prototype.remove=function(t,n){var i=this.group,r=this.qi;t.get("animation")?r&&r.eachItemGraphicEl((function(n){FO(r,Du(n).dataIndex,t,n)})):i.removeAll()},n.type="pictorialBar",n}(ep);function kO(t,n,i,r){var e=t.getItemLayout(n),a=i.get("symbolRepeat"),o=i.get("symbolClip"),u=i.get("symbolPosition")||"start",s=(i.get("symbolRotate")||0)*Math.PI/180||0,l=i.get("symbolPatternSize")||2,f=i.isAnimationEnabled(),h={dataIndex:n,layout:e,itemModel:i,symbolType:t.getItemVisual(n,"symbol")||"circle",style:t.getItemVisual(n,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:l,rotation:s,animationModel:f?i:null,hoverScale:f&&i.get(["emphasis","scale"]),z2:i.getShallow("z",!0)||0};!function(t,n,i,r,e){var a,o=r.valueDim,u=t.get("symbolBoundingData"),s=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),f=1-+(i[o.wh]<=0);if(X(u)){var h=[AO(s,u[0])-l,AO(s,u[1])-l];h[1]<h[0]&&h.reverse(),a=h[f]}else a=null!=u?AO(s,u)-l:n?r.coordSysExtent[o.index][f]-l:i[o.wh];e.boundingLength=a,n&&(e.repeatCutLength=i[o.wh]);var c="x"===o.xy,v=s.inverse;e.pxSign=c&&!v||!c&&v?a>=0?1:-1:a>0?1:-1}(i,a,e,r,h),function(t,n,i,r,e,a,o,u,s,l){var f,h=s.valueDim,c=s.categoryDim,v=Math.abs(i[c.wh]),d=t.getItemVisual(n,"symbolSize");f=X(d)?d.slice():null==d?["100%","100%"]:[d,d];f[c.index]=ze(f[c.index],v),f[h.index]=ze(f[h.index],r?v:Math.abs(a)),l.symbolSize=f;var p=l.symbolScale=[f[0]/u,f[1]/u];p[h.index]*=(s.isHorizontal?-1:1)*o}(t,n,e,a,0,h.boundingLength,h.pxSign,l,r,h),function(t,n,i,r,e){var a=t.get(wO)||0;a&&(MO.attr({scaleX:n[0],scaleY:n[1],rotation:i}),MO.updateTransform(),a/=MO.getLineScale(),a*=n[r.valueDim.index]);e.valueLineWidth=a||0}(i,h.symbolScale,s,r,h);var c=h.symbolSize,v=gm(i.get("symbolOffset"),c);return function(t,n,i,r,e,a,o,u,s,l,f,h){var c=f.categoryDim,v=f.valueDim,d=h.pxSign,p=Math.max(n[v.index]+u,0),m=p;if(r){var y=Math.abs(s),g=it(t.get("symbolMargin"),"15%")+"",b=!1;g.lastIndexOf("!")===g.length-1&&(b=!0,g=g.slice(0,g.length-1));var w=ze(g,n[v.index]),x=Math.max(p+2*w,0),M=b?0:2*w,S=Ue(r),k=S?r:WO((y+M)/x);x=p+2*(w=(y-k*p)/2/(b?k:Math.max(k-1,1))),M=b?0:2*w,S||"fixed"===r||(k=l?WO((Math.abs(l)+M)/x):0),m=k*x-M,h.repeatTimes=k,h.symbolMargin=w}var A=d*(m/2),N=h.pathPosition=[];N[c.index]=i[c.wh]/2,N[v.index]="start"===o?A:"end"===o?s-A:s/2,a&&(N[0]+=a[0],N[1]+=a[1]);var C=h.bundlePosition=[];C[c.index]=i[c.xy],C[v.index]=i[v.xy];var T=h.barRectShape=D({},i);T[v.wh]=d*Math.max(Math.abs(i[v.wh]),Math.abs(N[v.index]+A)),T[c.wh]=i[c.wh];var I=h.clipShape={};I[c.xy]=-i[c.xy],I[c.wh]=f.ecSize[c.wh],I[v.xy]=0,I[v.wh]=i[v.wh]}(i,c,e,a,0,v,u,h.valueLineWidth,h.boundingLength,h.repeatCutLength,r,h),h}function AO(t,n){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(n)))}function NO(t){var n=t.symbolPatternSize,i=mm(t.symbolType,-n/2,-n/2,n,n);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function CO(t,n,i,r){var e=t.Jc,a=i.symbolSize,o=i.valueLineWidth,u=i.pathPosition,s=n.valueDim,l=i.repeatTimes||0,f=0,h=a[n.valueDim.index]+o+2*i.symbolMargin;for(_O(t,(function(t){t.Qc=f,t.tv=l,f<l?EO(t,null,d(f),i,r):EO(t,null,{scaleX:0,scaleY:0},i,r,(function(){e.remove(t)})),f++}));f<l;f++){var c=NO(i);c.Qc=f,c.tv=l,e.add(c);var v=d(f);EO(c,{x:v.x,y:v.y,scaleX:0,scaleY:0},{scaleX:v.scaleX,scaleY:v.scaleY,rotation:v.rotation},i,r)}function d(t){var n=u.slice(),r=i.pxSign,e=t;return("start"===i.symbolRepeatDirection?r>0:r<0)&&(e=l-1-t),n[s.index]=h*(e-l/2+.5)+u[s.index],{x:n[0],y:n[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation}}}function TO(t,n,i,r){var e=t.Jc,a=t.nv;a?EO(a,null,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:i.symbolScale[0],scaleY:i.symbolScale[1],rotation:i.rotation},i,r):(a=t.nv=NO(i),e.add(a),EO(a,{x:i.pathPosition[0],y:i.pathPosition[1],scaleX:0,scaleY:0,rotation:i.rotation},{scaleX:i.symbolScale[0],scaleY:i.symbolScale[1]},i,r))}function IO(t,n,i){var r=D({},n.barRectShape),e=t.iv;e?EO(e,null,{shape:r},n,i):((e=t.iv=new yu({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,t.add(e))}function zO(t,n,i,r){if(i.symbolClip){var e=t.rv,a=D({},i.clipShape),o=n.valueDim,u=i.animationModel,s=i.dataIndex;if(e)Ul(e,{shape:a},u,s);else{a[o.wh]=0,e=new yu({shape:a}),t.Jc.setClipPath(e),t.rv=e;var l={};l[o.wh]=i.clipShape[o.wh],Nf[r?"updateProps":"initProps"](e,{shape:l},u,s)}}}function LO(t,n){var i=t.getItemModel(n);return i.getAnimationDelayParams=OO,i.isAnimationEnabled=DO,i}function OO(t){return{index:t.Qc,count:t.tv}}function DO(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function RO(t,n,i,r){var e=new Se,a=new Se;return e.add(a),e.Jc=a,a.x=i.bundlePosition[0],a.y=i.bundlePosition[1],i.symbolRepeat?CO(e,n,i):TO(e,0,i),IO(e,i,r),zO(e,n,i,r),e.Kc=BO(t,i),e.$c=i,e}function FO(t,n,i,r){var e=r.iv;e&&e.removeTextContent();var a=[];_O(r,(function(t){a.push(t)})),r.nv&&a.push(r.nv),r.rv&&(i=null),E(a,(function(t){ql(t,{scaleX:0,scaleY:0},i,n,(function(){r.parent&&r.parent.remove(r)}))})),t.setItemGraphicEl(n,null)}function BO(t,n){return[t.getItemVisual(n.dataIndex,"symbol")||"none",!!n.symbolRepeat,!!n.symbolClip].join(":")}function _O(t,n,i){E(t.Jc.children(),(function(r){r!==t.iv&&n.call(i,r)}))}function EO(t,n,i,r,e,a){n&&t.attr(n),r.symbolClip&&!e?i&&t.attr(i):i&&Nf[e?"updateProps":"initProps"](t,i,r.animationModel,r.dataIndex,a)}function PO(t,n,i){var r=i.dataIndex,e=i.itemModel,a=e.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),u=e.getModel(["blur","itemStyle"]).getItemStyle(),s=e.getModel(["select","itemStyle"]).getItemStyle(),l=e.getShallow("cursor"),f=a.get("focus"),h=a.get("blurScope"),c=a.get("scale");_O(t,(function(t){if(t instanceof fu){var n=t.style;t.useStyle(D({image:n.image,x:n.x,y:n.y,width:n.width,height:n.height},i.style))}else t.useStyle(i.style);var r=t.ensureState("emphasis");r.style=o,c&&(r.scaleX=1.1*t.scaleX,r.scaleY=1.1*t.scaleY),t.ensureState("blur").style=u,t.ensureState("select").style=s,l&&(t.cursor=l),t.z2=i.z2}));var v=n.valueDim.posDesc[+(i.boundingLength>0)],d=t.iv;d.ignoreClip=!0,zf(d,Lf(e),{labelFetcher:n.seriesModel,labelDataIndex:r,defaultText:gM(n.seriesModel.getData(),r),inheritColor:i.style.fill,defaultOpacity:i.style.opacity,defaultOutsidePosition:v}),Ms(t,f,h,a.get("disabled"))}function WO(t){var n=Math.round(t);return Math.abs(t-n)<1e-4?n:Math.ceil(t)}var VO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.hasSymbolVisual=!0,i.defaultSymbol="roundRect",i}return l(n,t),n.prototype.getInitialData=function(n){return n.stack=null,t.prototype.getInitialData.apply(this,arguments)},n.type="series.pictorialBar",n.dependencies=["grid"],n.defaultOption=rh(nS.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),n}(nS);var HO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.su=[],i}return l(n,t),n.prototype.render=function(t,n,i){var r=t.getData(),e=this,a=this.group,o=t.getLayerSeries(),u=r.getLayout("layoutInfo"),s=u.rect,l=u.boundaryGap;function f(t){return t.name}a.x=0,a.y=s.y+l[0];var h=new ig(this.ev||[],o,f,f),c=[];function v(n,i,u){var s=e.su;if("remove"!==n){for(var l,f,h=[],v=[],d=o[i].indices,p=0;p<d.length;p++){var m=r.getItemLayout(d[p]),y=m.x,g=m.y0,b=m.y;h.push(y,g),v.push(y,g+b),l=r.getItemVisual(d[p],"style")}var w=r.getItemLayout(d[0]),x=t.getModel("label").get("margin"),M=t.getModel("emphasis");if("add"===n){var S=c[i]=new Se;f=new FM({shape:{points:h,stackedOnPoints:v,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),S.add(f),a.add(S),t.isAnimationEnabled()&&f.setClipPath(function(t,n,i){var r=new yu({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return jl(r,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},n,i),r}(f.getBoundingRect(),t,(function(){f.removeClipPath()})))}else{S=s[u];f=S.childAt(0),a.add(S),c[i]=S,Ul(f,{shape:{points:h,stackedOnPoints:v}},t),$l(f)}zf(f,Lf(t),{labelDataIndex:d[p-1],defaultText:r.getName(d[p-1]),inheritColor:l.fill},{normal:{verticalAlign:"middle"}}),f.setTextConfig({position:null,local:!0});var k=f.getTextContent();k&&(k.x=w.x-x,k.y=w.y0+w.y/2),f.useStyle(l),r.setItemGraphicEl(i,f),Ns(f,t),Ms(f,M.get("focus"),M.get("blurScope"),M.get("disabled"))}else a.remove(s[i])}h.add(Y(v,this,"add")).update(Y(v,this,"update")).remove(Y(v,this,"remove")).execute(),this.ev=o,this.su=c},n.type="themeRiver",n}(ep);var YO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new VS(Y(this.getData,this),Y(this.getRawData,this))},n.prototype.fixData=function(t){var n=t.length,i={},r=wa(t,(function(t){return i.hasOwnProperty(t[0]+"")||(i[t[0]+""]=-1),t[2]})),e=[];r.buckets.each((function(t,n){e.push({name:n,dataList:t})}));for(var a=e.length,o=0;o<a;++o){for(var u=e[o].name,s=0;s<e[o].dataList.length;++s){var l=e[o].dataList[s][0]+"";i[l]=o}for(var l in i)i.hasOwnProperty(l)&&i[l]!==o&&(i[l]=o,t[n]=[l,0,u],n++)}return t},n.prototype.getInitialData=function(t,n){for(var i=this.getReferringComponents("singleAxis",ma).models[0].get("type"),r=V(t.data,(function(t){return void 0!==t[2]})),e=this.fixData(r||[]),a=[],o=this.nameMap=pt(),u=0,s=0;s<e.length;++s)a.push(e[s][2]),o.get(e[s][2])||(o.set(e[s][2],u),u++);var l=Cg(e,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:ag(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,f=new Ng(l,this);return f.initData(e),f},n.prototype.getLayerSeries=function(){for(var t=this.getData(),n=t.count(),i=[],r=0;r<n;++r)i[r]=r;var e=t.mapDimension("single"),a=wa(i,(function(n){return t.get("name",n)})),o=[];return a.buckets.each((function(n,i){n.sort((function(n,i){return t.get(e,n)-t.get(e,i)})),o.push({name:i,indices:n})})),o},n.prototype.getAxisTooltipData=function(t,n,i){X(t)||(t=t?[t]:[]);for(var r,e=this.getData(),a=this.getLayerSeries(),o=[],u=a.length,s=0;s<u;++s){for(var l=Number.MAX_VALUE,f=-1,h=a[s].indices.length,c=0;c<h;++c){var v=e.get(t[0],a[s].indices[c]),d=Math.abs(v-n);d<=l&&(r=v,l=d,f=a[s].indices[c])}o.push(f)}return{dataIndices:o,nestestValue:r}},n.prototype.formatTooltip=function(t,n,i){var r=this.getData();return zd("nameValue",{name:r.getName(t),value:r.get(r.mapDimension("value"),t)})},n.type="series.themeRiver",n.dependencies=["singleAxis"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},n}(Ud);function GO(t,n){t.eachSeriesByType("themeRiver",(function(t){var n=t.getData(),i=t.coordinateSystem,r={},e=i.getRect();r.rect=e;var a=t.get("boundaryGap"),o=i.getAxis();(r.boundaryGap=a,"horizontal"===o.orient)?(a[0]=ze(a[0],e.height),a[1]=ze(a[1],e.height),XO(n,t,e.height-a[0]-a[1])):(a[0]=ze(a[0],e.width),a[1]=ze(a[1],e.width),XO(n,t,e.width-a[0]-a[1]));n.setLayout("layoutInfo",r)}))}function XO(t,n,i){if(t.count())for(var r,e=n.coordinateSystem,a=n.getLayerSeries(),o=t.mapDimension("single"),u=t.mapDimension("value"),s=P(a,(function(n){return P(n.indices,(function(n){var i=e.dataToPoint(t.get(o,n));return i[1]=t.get(u,n),i}))})),l=function(t){for(var n=t.length,i=t[0].length,r=[],e=[],a=0,o=0;o<i;++o){for(var u=0,s=0;s<n;++s)u+=t[s][o][1];u>a&&(a=u),r.push(u)}for(var l=0;l<i;++l)e[l]=(a-r[l])/2;a=0;for(var f=0;f<i;++f){var h=r[f]+e[f];h>a&&(a=h)}return{y0:e,max:a}}(s),f=l.y0,h=i/l.max,c=a.length,v=a[0].indices.length,d=0;d<v;++d){r=f[d]*h,t.setItemLayout(a[0].indices[d],{layerIndex:0,x:s[0][d][0],y0:r,y:s[0][d][1]*h});for(var p=1;p<c;++p)r+=s[p-1][d][1]*h,t.setItemLayout(a[p].indices[d],{layerIndex:p,x:s[p][d][0],y0:r,y:s[p][d][1]*h})}}var UO=function(t){function n(n,i,r,e){var a=t.call(this)||this;a.z2=2,a.textConfig={inside:!0},Du(a).seriesIndex=i.seriesIndex;var o=new wu({z2:4,silent:n.getModel().get(["label","silent"])});return a.setTextContent(o),a.updateData(!0,n,i,r,e),a}return l(n,t),n.prototype.updateData=function(t,n,i,r,e){this.node=n,n.piece=this,i=i||this.av,r=r||this.ov;var a=this;Du(a).dataIndex=n.dataIndex;var o=n.getModel(),u=o.getModel("emphasis"),s=n.getLayout(),l=D({},s);l.label=null;var f=n.getVisual("style");f.lineJoin="bevel";var h=n.getVisual("decal");h&&(f.decal=Ym(h,e));var c=uS(o.getModel("itemStyle"),l,!0);D(l,c),E(Pu,(function(t){var n=a.ensureState(t),i=o.getModel([t,"itemStyle"]);n.style=i.getItemStyle();var r=uS(i,l);r&&(n.shape=r)})),t?(a.setShape(l),a.shape.r=s.r0,jl(a,{shape:{r:s.r}},i,n.dataIndex)):(Ul(a,{shape:l},i),$l(a)),a.useStyle(f),this.Ms(i);var v=o.getShallow("cursor");v&&a.attr("cursor",v),this.av=i||this.av,this.ov=r||this.ov;var d=u.get("focus");Ms(this,"relative"===d?mt(n.getAncestorsIndices(),n.getDescendantIndices()):"ancestor"===d?n.getAncestorsIndices():"descendant"===d?n.getDescendantIndices():d,u.get("blurScope"),u.get("disabled"))},n.prototype.Ms=function(t){var n=this,i=this.node.getModel(),r=i.getModel("label"),e=this.node.getLayout(),a=e.endAngle-e.startAngle,o=(e.startAngle+e.endAngle)/2,u=Math.cos(o),s=Math.sin(o),l=this,f=l.getTextContent(),h=this.node.dataIndex,c=r.get("minAngle")/180*Math.PI,v=r.get("show")&&!(null!=c&&Math.abs(a)<c);function d(t,n){var i=t.get(n);return null==i?r.get(n):i}f.ignore=!v,E(Wu,(function(r){var c="normal"===r?i.getModel("label"):i.getModel([r,"label"]),v="normal"===r,p=v?f:f.ensureState(r),m=t.getFormattedLabel(h,r);v&&(m=m||n.node.name),p.style=Of(c,{},null,"normal"!==r,!0),m&&(p.style.text=m);var y=c.get("show");null==y||v||(p.ignore=!y);var g,b=d(c,"position"),w=v?l:l.states[r],x=w.style.fill;w.textConfig={outsideFill:"inherit"===c.get("color")?x:null,inside:"outside"!==b};var M=d(c,"distance")||0,S=d(c,"align"),k=d(c,"rotate"),A=.5*Math.PI,N=1.5*Math.PI,C=Go("tangential"===k?Math.PI/2-o:o),T=C>A&&!Ee(C-A)&&C<N;"outside"===b?(g=e.r+M,S=T?"right":"left"):S&&"center"!==S?"left"===S?(g=e.r0+M,S=T?"right":"left"):"right"===S&&(g=e.r-M,S=T?"left":"right"):(g=a===2*Math.PI&&0===e.r0?0:(e.r+e.r0)/2,S="center"),p.style.align=S,p.style.verticalAlign=d(c,"verticalAlign")||"middle",p.x=g*u+e.cx,p.y=g*s+e.cy;var I=0;"radial"===k?I=Go(-o)+(T?Math.PI:0):"tangential"===k?I=Go(Math.PI/2-o)+(T?Math.PI:0):q(k)&&(I=k*Math.PI/180),p.rotation=Go(I)})),f.dirtyStyle()},n}(pl),jO="sunburstRootToNode",ZO="sunburstHighlight";var qO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i,r){var e=this;this.seriesModel=t,this.api=i,this.ecModel=n;var a=t.getData(),o=a.tree.root,u=t.getViewRoot(),s=this.group,l=t.get("renderLabelForZeroData"),f=[];u.eachNode((function(t){f.push(t)}));var h,c,v=this.uv||[];!function(r,e){if(0===r.length&&0===e.length)return;function u(t){return t.getId()}function f(u,f){!function(r,e){l||!r||r.getValue()||(r=null);if(r!==o&&e!==o)if(e&&e.piece)r?(e.piece.updateData(!1,r,t,n,i),a.setItemGraphicEl(r.dataIndex,e.piece)):function(t){if(!t)return;t.piece&&(s.remove(t.piece),t.piece=null)}(e);else if(r){var u=new UO(r,t,n,i);s.add(u),a.setItemGraphicEl(r.dataIndex,u)}}(null==u?null:r[u],null==f?null:e[f])}new ig(e,r,u,u).add(f).update(f).remove(G(f,null)).execute()}(f,v),h=o,(c=u).depth>0?(e.virtualPiece?e.virtualPiece.updateData(!1,h,t,n,i):(e.virtualPiece=new UO(h,t,n,i),s.add(e.virtualPiece)),c.piece.off("click"),e.virtualPiece.on("click",(function(t){e.Uf(c.parentNode)}))):e.virtualPiece&&(s.remove(e.virtualPiece),e.virtualPiece=null),this.Ye(),this.uv=f},n.prototype.Ye=function(){var t=this;this.group.off("click"),this.group.on("click",(function(n){var i=!1;t.seriesModel.getViewRoot().eachNode((function(r){if(!i&&r.piece&&r.piece===n.target){var e=r.getModel().get("nodeClick");if("rootToNode"===e)t.Uf(r);else if("link"===e){var a=r.getModel(),o=a.get("link");if(o)Kh(o,a.get("target",!0)||"_blank")}i=!0}}))}))},n.prototype.Uf=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:jO,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},n.prototype.containPoint=function(t,n){var i=n.getData().getItemLayout(0);if(i){var r=t[0]-i.cx,e=t[1]-i.cy,a=Math.sqrt(r*r+e*e);return a<=i.r&&a>=i.r0}},n.type="sunburst",n}(ep),KO=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.ignoreStyleOnData=!0,i}return l(n,t),n.prototype.getInitialData=function(t,n){var i={name:t.name,children:t.data};JO(i);var r=this.sv=P(t.levels||[],(function(t){return new th(t,this,n)}),this),e=uC.createTree(i,this,(function(t){t.wrapMethod("getItemModel",(function(t,n){var i=e.getNodeByDataIndex(n),a=r[i.depth];return a&&(t.parentModel=a),t}))}));return e.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(n){var i=t.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(n);return i.treePathInfo=hC(r,this),i},n.prototype.getLevelModel=function(t){return this.sv&&this.sv[t.depth]},n.prototype.getViewRoot=function(){return this.If},n.prototype.resetViewRoot=function(t){t?this.If=t:t=this.If;var n=this.getRawData().tree.root;t&&(t===n||n.contains(t))||(this.If=n)},n.prototype.enableAriaDecal=function(){yC(this)},n.type="series.sunburst",n.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},n}(Ud);function JO(t){var n=0;E(t.children,(function(t){JO(t);var i=t.value;X(i)&&(i=i[0]),n+=i}));var i=t.value;X(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=n),i<0&&(i=0),X(t.value)?t.value[0]=i:t.value=i}var $O=Math.PI/180;function QO(t,n,i){n.eachSeriesByType(t,(function(t){var n=t.get("center"),r=t.get("radius");X(r)||(r=[0,r]),X(n)||(n=[n,n]);var e=i.getWidth(),a=i.getHeight(),o=Math.min(e,a),u=ze(n[0],e),s=ze(n[1],a),l=ze(r[0],o/2),f=ze(r[1],o/2),h=-t.get("startAngle")*$O,c=t.get("minAngle")*$O,v=t.getData().tree.root,d=t.getViewRoot(),p=d.depth,m=t.get("sort");null!=m&&tD(d,m);var y=0;E(d.children,(function(t){!isNaN(t.getValue())&&y++}));var g=d.getValue(),b=Math.PI/(g||y)*2,w=d.depth>0,x=d.height-(w?-1:1),M=(f-l)/(x||1),S=t.get("clockwise"),k=t.get("stillShowZeroSum"),A=S?1:-1,N=function(n,i){if(n){var r=i;if(n!==v){var e=n.getValue(),a=0===g&&k?b:e*b;a<c&&(a=c),r=i+A*a;var f=n.depth-p-(w?-1:1),h=l+M*f,d=l+M*(f+1),m=t.getLevelModel(n);if(m){var y=m.get("r0",!0),x=m.get("r",!0),C=m.get("radius",!0);null!=C&&(y=C[0],x=C[1]),null!=y&&(h=ze(y,o/2)),null!=x&&(d=ze(x,o/2))}n.setLayout({angle:a,startAngle:i,endAngle:r,clockwise:S,cx:u,cy:s,r0:h,r:d})}if(n.children&&n.children.length){var T=0;E(n.children,(function(t){T+=N(t,i+T)}))}return r-i}};if(w){var C=l,T=l+M,I=2*Math.PI;v.setLayout({angle:I,startAngle:h,endAngle:h+I,clockwise:S,cx:u,cy:s,r0:C,r:T})}N(d,h)}))}function tD(t,n){var i=t.children||[];t.children=function(t,n){if(U(n)){var i=P(t,(function(t,n){var i=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return i}},index:n}}));return i.sort((function(t,i){return n(t.params,i.params)})),P(i,(function(n){return t[n.index]}))}var r="asc"===n;return t.sort((function(t,n){var i=(t.getValue()-n.getValue())*(r?1:-1);return 0===i?(t.dataIndex-n.dataIndex)*(r?-1:1):i}))}(i,n),i.length&&E(t.children,(function(t){tD(t,n)}))}function nD(t){var n={};t.eachSeriesByType("sunburst",(function(t){var i=t.getData(),r=i.tree;r.eachNode((function(e){var a=e.getModel().getModel("itemStyle").getItemStyle();a.fill||(a.fill=function(t,i,r){for(var e=t;e&&e.depth>1;)e=e.parentNode;var a=i.getColorFromPalette(e.name||e.dataIndex+"",n);return t.depth>1&&j(a)&&(a=Vi(a,(t.depth-1)/(r-1)*.5)),a}(e,t,r.root.height)),D(i.ensureUniqueItemVisual(e.dataIndex,"style"),a)}))}))}var iD={color:"fill",borderColor:"stroke"},rD={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},eD=ca(),aD=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},n.prototype.getInitialData=function(t,n){return Fg(null,this)},n.prototype.getDataParams=function(n,i,r){var e=t.prototype.getDataParams.call(this,n,i);return r&&(e.info=eD(r).info),e},n.type="series.custom",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},n}(Ud);function oD(t,n){return n=n||[0,0],P(["x","y"],(function(i,r){var e=this.getAxis(i),a=n[r],o=t[r]/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(a-o)-e.dataToCoord(a+o))}),this)}function uD(t,n){return n=n||[0,0],P([0,1],(function(i){var r=n[i],e=t[i]/2,a=[],o=[];return a[i]=r-e,o[i]=r+e,a[1-i]=o[1-i]=n[1-i],Math.abs(this.dataToPoint(a)[i]-this.dataToPoint(o)[i])}),this)}function sD(t,n){var i=this.getAxis(),r=n instanceof Array?n[0]:n,e=(t instanceof Array?t[0]:t)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(r-e)-i.dataToCoord(r+e))}function lD(t,n){return n=n||[0,0],P(["Radius","Angle"],(function(i,r){var e=this["get"+i+"Axis"](),a=n[r],o=t[r]/2,u="category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(a-o)-e.dataToCoord(a+o));return"Angle"===i&&(u=u*Math.PI/180),u}),this)}function fD(t,n,i,r){return t&&(t.legacy||!1!==t.legacy&&!i&&!r&&"tspan"!==n&&("text"===n||bt(t,"text")))}function hD(t,n,i){var r,e,a,o=t;if("text"===n)a=o;else{a={},bt(o,"text")&&(a.text=o.text),bt(o,"rich")&&(a.rich=o.rich),bt(o,"textFill")&&(a.fill=o.textFill),bt(o,"textStroke")&&(a.stroke=o.textStroke),bt(o,"fontFamily")&&(a.fontFamily=o.fontFamily),bt(o,"fontSize")&&(a.fontSize=o.fontSize),bt(o,"fontStyle")&&(a.fontStyle=o.fontStyle),bt(o,"fontWeight")&&(a.fontWeight=o.fontWeight),e={type:"text",style:a,silent:!0},r={};var u=bt(o,"textPosition");i?r.position=u?o.textPosition:"inside":u&&(r.position=o.textPosition),bt(o,"textPosition")&&(r.position=o.textPosition),bt(o,"textOffset")&&(r.offset=o.textOffset),bt(o,"textRotation")&&(r.rotation=o.textRotation),bt(o,"textDistance")&&(r.distance=o.textDistance)}return cD(a,t),E(a.rich,(function(t){cD(t,t)})),{textConfig:r,textContent:e}}function cD(t,n){n&&(n.font=n.textFont||n.font,bt(n,"textStrokeWidth")&&(t.lineWidth=n.textStrokeWidth),bt(n,"textAlign")&&(t.align=n.textAlign),bt(n,"textVerticalAlign")&&(t.verticalAlign=n.textVerticalAlign),bt(n,"textLineHeight")&&(t.lineHeight=n.textLineHeight),bt(n,"textWidth")&&(t.width=n.textWidth),bt(n,"textHeight")&&(t.height=n.textHeight),bt(n,"textBackgroundColor")&&(t.backgroundColor=n.textBackgroundColor),bt(n,"textPadding")&&(t.padding=n.textPadding),bt(n,"textBorderColor")&&(t.borderColor=n.textBorderColor),bt(n,"textBorderWidth")&&(t.borderWidth=n.textBorderWidth),bt(n,"textBorderRadius")&&(t.borderRadius=n.textBorderRadius),bt(n,"textBoxShadowColor")&&(t.shadowColor=n.textBoxShadowColor),bt(n,"textBoxShadowBlur")&&(t.shadowBlur=n.textBoxShadowBlur),bt(n,"textBoxShadowOffsetX")&&(t.shadowOffsetX=n.textBoxShadowOffsetX),bt(n,"textBoxShadowOffsetY")&&(t.shadowOffsetY=n.textBoxShadowOffsetY))}function vD(t,n,i){var r=t;r.textPosition=r.textPosition||i.position||"inside",null!=i.offset&&(r.textOffset=i.offset),null!=i.rotation&&(r.textRotation=i.rotation),null!=i.distance&&(r.textDistance=i.distance);var e=r.textPosition.indexOf("inside")>=0,a=t.fill||"#000";dD(r,n);var o=null==r.textFill;return e?o&&(r.textFill=i.insideFill||"#fff",!r.textStroke&&i.insideStroke&&(r.textStroke=i.insideStroke),!r.textStroke&&(r.textStroke=a),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(o&&(r.textFill=t.fill||i.outsideFill||"#000"),!r.textStroke&&i.outsideStroke&&(r.textStroke=i.outsideStroke)),r.text=n.text,r.rich=n.rich,E(n.rich,(function(t){dD(t,t)})),r}function dD(t,n){n&&(bt(n,"fill")&&(t.textFill=n.fill),bt(n,"stroke")&&(t.textStroke=n.fill),bt(n,"lineWidth")&&(t.textStrokeWidth=n.lineWidth),bt(n,"font")&&(t.font=n.font),bt(n,"fontStyle")&&(t.fontStyle=n.fontStyle),bt(n,"fontWeight")&&(t.fontWeight=n.fontWeight),bt(n,"fontSize")&&(t.fontSize=n.fontSize),bt(n,"fontFamily")&&(t.fontFamily=n.fontFamily),bt(n,"align")&&(t.textAlign=n.align),bt(n,"verticalAlign")&&(t.textVerticalAlign=n.verticalAlign),bt(n,"lineHeight")&&(t.textLineHeight=n.lineHeight),bt(n,"width")&&(t.textWidth=n.width),bt(n,"height")&&(t.textHeight=n.height),bt(n,"backgroundColor")&&(t.textBackgroundColor=n.backgroundColor),bt(n,"padding")&&(t.textPadding=n.padding),bt(n,"borderColor")&&(t.textBorderColor=n.borderColor),bt(n,"borderWidth")&&(t.textBorderWidth=n.borderWidth),bt(n,"borderRadius")&&(t.textBorderRadius=n.borderRadius),bt(n,"shadowColor")&&(t.textBoxShadowColor=n.shadowColor),bt(n,"shadowBlur")&&(t.textBoxShadowBlur=n.shadowBlur),bt(n,"shadowOffsetX")&&(t.textBoxShadowOffsetX=n.shadowOffsetX),bt(n,"shadowOffsetY")&&(t.textBoxShadowOffsetY=n.shadowOffsetY),bt(n,"textShadowColor")&&(t.textShadowColor=n.textShadowColor),bt(n,"textShadowBlur")&&(t.textShadowBlur=n.textShadowBlur),bt(n,"textShadowOffsetX")&&(t.textShadowOffsetX=n.textShadowOffsetX),bt(n,"textShadowOffsetY")&&(t.textShadowOffsetY=n.textShadowOffsetY))}var pD={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},mD=H(pD);W(ie,(function(t,n){return t[n]=1,t}),{}),ie.join(", ");var yD=["","style","shape","extra"],gD=ca();function bD(t,n,i,r,e){var a=t+"Animation",o=Gl(t,r,e)||{},u=gD(n).userDuring;return o.duration>0&&(o.during=u?Y(ND,{el:n,userDuring:u}):null,o.setToFinal=!0,o.scope=t),D(o,i[a]),o}function wD(t,n,i,r){var e=(r=r||{}).dataIndex,a=r.isInit,o=r.clearStyle,u=i.isAnimationEnabled(),s=gD(t),l=n.style;s.userDuring=n.during;var f={},h={};if(function(t,n,i){for(var r=0;r<mD.length;r++){var e=mD[r],a=pD[e],o=n[e];o&&(i[a[0]]=o[0],i[a[1]]=o[1])}for(r=0;r<ie.length;r++){var u=ie[r];null!=n[u]&&(i[u]=n[u])}}(0,n,h),TD("shape",n,h),TD("extra",n,h),!a&&u&&(function(t,n,i){for(var r=n.transition,e=SD(r)?ie:ta(r||[]),a=0;a<e.length;a++){var o=e[a];if("style"!==o&&"shape"!==o&&"extra"!==o){var u=t[o];i[o]=u}}}(t,n,f),CD("shape",t,n,f),CD("extra",t,n,f),function(t,n,i,r){if(!i)return;var e,a=t.style;if(a){var o=i.transition,u=n.transition;if(o&&!SD(o)){var s=ta(o);!e&&(e=r.style={});for(var l=0;l<s.length;l++){var f=a[d=s[l]];e[d]=f}}else if(t.getAnimationStyleProps&&(SD(u)||SD(o)||F(u,"style")>=0)){var h=t.getAnimationStyleProps(),c=h?h.style:null;if(c){!e&&(e=r.style={});var v=H(i);for(l=0;l<v.length;l++){var d;if(c[d=v[l]]){f=a[d];e[d]=f}}}}}}(t,n,l,f)),h.style=l,function(t,n,i){var r=n.style;if(!t.isGroup&&r){if(i){t.useStyle({});for(var e=t.animators,a=0;a<e.length;a++){var o=e[a];"style"===o.targetName&&o.changeTarget(t.style)}}t.setStyle(r)}n&&(n.style=null,n&&t.attr(n),n.style=r)}(t,h,o),function(t,n){bt(n,"silent")&&(t.silent=n.silent),bt(n,"ignore")&&(t.ignore=n.ignore),t instanceof io&&bt(n,"invisible")&&(t.invisible=n.invisible);t instanceof au&&bt(n,"autoBatch")&&(t.autoBatch=n.autoBatch)}(t,n),u)if(a){var c={};E(yD,(function(t){var i=t?n[t]:n;i&&i.enterFrom&&(t&&(c[t]=c[t]||{}),D(t?c[t]:c,i.enterFrom))}));var v=bD("enter",t,n,i,e);v.duration>0&&t.animateFrom(c,v)}else!function(t,n,i,r,e){if(e){var a=bD("update",t,n,r,i);a.duration>0&&t.animateFrom(e,a)}}(t,n,e||0,i,f);xD(t,n),l?t.dirty():t.markRedraw()}function xD(t,n){for(var i=gD(t).leaveToProps,r=0;r<yD.length;r++){var e=yD[r],a=e?n[e]:n;a&&a.leaveTo&&(i||(i=gD(t).leaveToProps={}),e&&(i[e]=i[e]||{}),D(e?i[e]:i,a.leaveTo))}}function MD(t,n,i,r){if(t){var e=t.parent,a=gD(t).leaveToProps;if(a){var o=bD("update",t,n,i,0);o.done=function(){e.remove(t)},t.animateTo(a,o)}else e.remove(t)}}function SD(t){return"all"===t}var kD={},AD={setTransform:function(t,n){return kD.el[t]=n,this},getTransform:function(t){return kD.el[t]},setShape:function(t,n){var i=kD.el;return(i.shape||(i.shape={}))[t]=n,i.dirtyShape&&i.dirtyShape(),this},getShape:function(t){var n=kD.el.shape;if(n)return n[t]},setStyle:function(t,n){var i=kD.el,r=i.style;return r&&(r[t]=n,i.dirtyStyle&&i.dirtyStyle()),this},getStyle:function(t){var n=kD.el.style;if(n)return n[t]},setExtra:function(t,n){return(kD.el.extra||(kD.el.extra={}))[t]=n,this},getExtra:function(t){var n=kD.el.extra;if(n)return n[t]}};function ND(){var t=this,n=t.el;if(n){var i=gD(n).userDuring,r=t.userDuring;i===r?(kD.el=n,r(AD)):t.el=t.userDuring=null}}function CD(t,n,i,r){var e=i[t];if(e){var a,o=n[t];if(o){var u=i.transition,s=e.transition;if(s)if(!a&&(a=r[t]={}),SD(s))D(a,o);else for(var l=ta(s),f=0;f<l.length;f++){var h=o[v=l[f]];a[v]=h}else if(SD(u)||F(u,t)>=0){!a&&(a=r[t]={});var c=H(o);for(f=0;f<c.length;f++){var v;h=o[v=c[f]];ID(e[v],h)&&(a[v]=h)}}}}}function TD(t,n,i){var r=n[t];if(r)for(var e=i[t]={},a=H(r),o=0;o<a.length;o++){var u=a[o];e[u]=yr(r[u])}}function ID(t,n){return _(t)?t!==n:null!=t&&isFinite(t)}var zD=ca(),LD=["percent","easing","shape","style","extra"];function OD(t){t.stopAnimation("keyframe"),t.attr(zD(t))}function DD(t,n,i){if(i.isAnimationEnabled()&&n)if(X(n))E(n,(function(n){DD(t,n,i)}));else{var r=n.keyframes,e=n.duration;if(i&&null==e){var a=Gl("enter",i,0);e=a&&a.duration}if(r&&e){var o=zD(t);E(yD,(function(i){var a;i&&!t[i]||(r.sort((function(t,n){return t.percent-n.percent})),E(r,(function(r){var u=t.animators,s=i?r[i]:r;if(s){var l=H(s);if(i||(l=V(l,(function(t){return F(LD,t)<0}))),l.length){a||((a=t.animate(i,n.loop,!0)).scope="keyframe");for(var f=0;f<u.length;f++)u[f]!==a&&u[f].targetName===a.targetName&&u[f].stopTracks(l);i&&(o[i]=o[i]||{});var h=i?o[i]:o;E(l,(function(n){h[n]=((i?t[i]:t)||{})[n]})),a.whenWithKeys(e*r.percent,s,l,r.easing)}}})),a&&a.delay(n.delay||0).duration(e).start(n.easing))}))}}}var RD="emphasis",FD="normal",BD="blur",_D="select",ED=[FD,RD,BD,_D],PD={normal:["itemStyle"],emphasis:[RD,"itemStyle"],blur:[BD,"itemStyle"],select:[_D,"itemStyle"]},WD={normal:["label"],emphasis:[RD,"label"],blur:[BD,"label"],select:[_D,"label"]},VD=["x","y"],HD={normal:{},emphasis:{},blur:{},select:{}},YD={cartesian2d:function(t){var n=t.master.getRect();return{coordSys:{type:"cartesian2d",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(n){return t.dataToPoint(n)},size:Y(oD,t)}}},geo:function(t){var n=t.getBoundingRect();return{coordSys:{type:"geo",x:n.x,y:n.y,width:n.width,height:n.height,zoom:t.getZoom()},api:{coord:function(n){return t.dataToPoint(n)},size:Y(uD,t)}}},single:function(t){var n=t.getRect();return{coordSys:{type:"singleAxis",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(n){return t.dataToPoint(n)},size:Y(sD,t)}}},polar:function(t){var n=t.getRadiusAxis(),i=t.getAngleAxis(),r=n.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:r[1],r0:r[0]},api:{coord:function(r){var e=n.dataToRadius(r[0]),a=i.dataToAngle(r[1]),o=t.coordToPoint([e,a]);return o.push(e,a*Math.PI/180),o},size:Y(lD,t)}}},calendar:function(t){var n=t.getRect(),i=t.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(n,i){return t.dataToPoint(n,i)}}}}};function GD(t){return t instanceof au}function XD(t){return t instanceof io}var UD=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i,r){this.Iu=null;var e=this.qi,a=t.getData(),o=this.group,u=JD(t,a,n,i);e||o.removeAll(),a.diff(e).add((function(n){QD(i,null,n,u(n,r),t,o,a)})).remove((function(n){var i=e.getItemGraphicEl(n);i&&MD(i,eD(i).option,t)})).update((function(n,s){var l=e.getItemGraphicEl(s);QD(i,l,n,u(n,r),t,o,a)})).execute();var s=t.get("clip",!0)?EM(t.coordinateSystem,!1,t):null;s?o.setClipPath(s):o.removeClipPath(),this.qi=a},n.prototype.incrementalPrepareRender=function(t,n,i){this.group.removeAll(),this.qi=null},n.prototype.incrementalRender=function(t,n,i,r,e){var a=n.getData(),o=JD(n,a,i,r),u=this.Iu=[];function s(t){t.isGroup||(t.incremental=!0,t.ensureState("emphasis").hoverLayer=!0)}for(var l=t.start;l<t.end;l++){var f=QD(null,null,l,o(l,e),n,this.group,a);f&&(f.traverse(s),u.push(f))}},n.prototype.eachRendered=function(t){Af(this.Iu||this.group,t)},n.prototype.filterForExposedEvent=function(t,n,i,r){var e=n.element;if(null==e||i.name===e)return!0;for(;(i=i.S||i.parent)&&i!==this.group;)if(i.name===e)return!0;return!1},n.type="custom",n}(ep);function jD(t){var n,i=t.type;if("path"===i){var r=t.shape,e=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,a=lR(r);n=of(a,null,e,r.layout||"center"),eD(n).customPathData=a}else if("image"===i)n=new fu({}),eD(n).customImagePath=t.style.image;else if("text"===i)n=new wu({});else if("group"===i)n=new Se;else{if("compoundPath"===i)throw new Error('"compoundPath" is not supported yet.');var o=af(i);if(!o){Ke("")}n=new o}return eD(n).customGraphicType=i,n.name=t.name,n.z2EmphasisLift=1,n.z2SelectLift=1,n}function ZD(t,n,i,r,e,a,o){OD(n);var u=e&&e.normal.cfg;u&&n.setTextConfig(u),r&&null==r.transition&&(r.transition=VD);var s=r&&r.style;if(s){if("text"===n.type){var l=s;bt(l,"textFill")&&(l.fill=l.textFill),bt(l,"textStroke")&&(l.stroke=l.textStroke)}var f=void 0,h=GD(n)?s.decal:null;t&&h&&(h.dirty=!0,f=Ym(h,t)),s.lv=f}XD(n)&&(s&&(f=s.lv)&&(s.decal=f));wD(n,r,a,{dataIndex:i,isInit:o,clearStyle:!0}),DD(n,r.keyframeAnimation,a)}function qD(t,n,i,r,e){var a=n.isGroup?null:n,o=e&&e[t].cfg;if(a){var u=a.ensureState(t);if(!1===r){var s=a.getState(t);s&&(s.style=null)}else u.style=r||null;o&&(u.textConfig=o),as(a)}}function KD(t,n,i){var r=i===FD,e=r?n:rR(n,i),a=e?e.z2:null;null!=a&&((r?t:t.ensureState(i)).z2=a||0)}function JD(t,n,i,r){var e=t.get("renderItem"),a=t.coordinateSystem,o={};a&&(o=a.prepareCustoms?a.prepareCustoms(a):YD[a.type](a));for(var u,s,l=R({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function(t,i){return null==i&&(i=u),n.getStore().get(n.getDimensionIndex(t||0),i)},style:function(i,r){null==r&&(r=u);var e=n.getItemVisual(r,"style"),a=e&&e.fill,o=e&&e.opacity,s=g(r,FD).getItemStyle();null!=a&&(s.fill=a),null!=o&&(s.opacity=o);var l={inheritColor:j(a)?a:"#000"},f=b(r,FD),h=Of(f,null,l,!1,!0);h.text=f.getShallow("show")?rt(t.getFormattedLabel(r,FD),gM(n,r)):null;var c=Df(f,l,!1);return x(i,s),s=vD(s,h,c),i&&w(s,i),s.legacy=!0,s},ordinalRawValue:function(t,i){null==i&&(i=u),t=t||0;var r=n.getDimensionInfo(t);if(!r){var e=n.getDimensionIndex(t);return e>=0?n.getStore().get(e,i):void 0}var a=n.get(r.name,i),o=r&&r.ordinalMeta;return o?o.categories[a]:a},styleEmphasis:function(i,r){null==r&&(r=u);var e=g(r,RD).getItemStyle(),a=b(r,RD),o=Of(a,null,null,!0,!0);o.text=a.getShallow("show")?et(t.getFormattedLabel(r,RD),t.getFormattedLabel(r,FD),gM(n,r)):null;var s=Df(a,null,!0);return x(i,e),e=vD(e,o,s),i&&w(e,i),e.legacy=!0,e},visual:function(t,i){if(null==i&&(i=u),bt(iD,t)){var r=n.getItemVisual(i,"style");return r?r[iD[t]]:null}if(bt(rD,t))return n.getItemVisual(i,t)},barLayout:function(t){if("cartesian2d"===a.type){return function(t){var n=[],i=t.axis,r="axis0";if("category"===i.type){for(var e=i.getBandWidth(),a=0;a<t.count;a++)n.push(R({bandWidth:e,axisKey:r,stackId:tb+a},t));var o=ab(n),u=[];for(a=0;a<t.count;a++){var s=o[r][tb+a];s.offsetCenter=s.offset+s.width/2,u.push(s)}return u}}(R({axis:a.getBaseAxis()},t))}},currentSeriesIndices:function(){return i.getCurrentSeriesIndices()},font:function(t){return Ef(t,i)}},o.api||{}),f={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:o.coordSys,dataInsideLength:n.count(),encode:$D(t.getData())},h={},c={},v={},d={},p=0;p<ED.length;p++){var m=ED[p];v[m]=t.getModel(PD[m]),d[m]=t.getModel(WD[m])}function y(t){return t===u?s||(s=n.getItemModel(t)):n.getItemModel(t)}function g(t,i){return n.hasItemOption?t===u?h[i]||(h[i]=y(t).getModel(PD[i])):y(t).getModel(PD[i]):v[i]}function b(t,i){return n.hasItemOption?t===u?c[i]||(c[i]=y(t).getModel(WD[i])):y(t).getModel(WD[i]):d[i]}return function(t,i){return u=t,s=null,h={},c={},e&&e(R({dataIndexInside:t,dataIndex:n.getRawIndex(t),actionType:i?i.type:null},f),l)};function w(t,n){for(var i in n)bt(n,i)&&(t[i]=n[i])}function x(t,n){t&&(t.textFill&&(n.textFill=t.textFill),t.textPosition&&(n.textPosition=t.textPosition))}}function $D(t){var n={};return E(t.dimensions,(function(i){var r=t.getDimensionInfo(i);if(!r.isExtraCoord){var e=r.coordDim;(n[e]=n[e]||[])[r.coordDimIndex]=t.getDimensionIndex(i)}})),n}function QD(t,n,i,r,e,a,o){if(r){var u=tR(t,n,i,r,e,a);return u&&o.setItemGraphicEl(i,u),u&&Ms(u,r.focus,r.blurScope,r.emphasisDisabled),u}a.remove(n)}function tR(t,n,i,r,e,a){var o=-1,u=n;n&&nR(n,r,e)&&(o=F(a.childrenRef(),n),n=null);var s,l,f=!n,h=n;h?h.clearStates():(h=jD(r),u&&(s=u,(l=h).copyTransform(s),XD(l)&&XD(s)&&(l.setStyle(s.style),l.z=s.z,l.z2=s.z2,l.zlevel=s.zlevel,l.invisible=s.invisible,l.ignore=s.ignore,GD(l)&&GD(s)&&l.setShape(s.shape)))),!1===r.morph?h.disableMorphing=!0:h.disableMorphing&&(h.disableMorphing=!1),HD.normal.cfg=HD.normal.conOpt=HD.emphasis.cfg=HD.emphasis.conOpt=HD.blur.cfg=HD.blur.conOpt=HD.select.cfg=HD.select.conOpt=null,HD.isLegacy=!1,function(t,n,i,r,e,a){if(t.isGroup)return;iR(i,null,a),iR(i,RD,a);var o=a.normal.conOpt,u=a.emphasis.conOpt,s=a.blur.conOpt,l=a.select.conOpt;if(null!=o||null!=u||null!=l||null!=s){var f=t.getTextContent();if(!1===o)f&&t.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},f?f.clearStates():(f=jD(o),t.setTextContent(f)),ZD(null,f,n,o,null,r,e);for(var h=o&&o.style,c=0;c<ED.length;c++){var v=ED[c];if(v!==FD){var d=a[v].conOpt;qD(v,f,0,eR(o,d,v),null)}}h?f.dirty():f.markRedraw()}}}(h,i,r,e,f,HD),function(t,n,i,r,e){var a=i.clipPath;if(!1===a)t&&t.getClipPath()&&t.removeClipPath();else if(a){var o=t.getClipPath();o&&nR(o,a,r)&&(o=null),o||(o=jD(a),t.setClipPath(o)),ZD(null,o,n,a,null,r,e)}}(h,i,r,e,f),ZD(t,h,i,r,HD,e,f),bt(r,"info")&&(eD(h).info=r.info);for(var c=0;c<ED.length;c++){var v=ED[c];if(v!==FD){var d=rR(r,v);qD(v,h,0,eR(r,d,v),HD)}}return function(t,n,i){if(!t.isGroup){var r=t,e=i.currentZ,a=i.currentZLevel;r.z=e,r.zlevel=a;var o=n.z2;null!=o&&(r.z2=o||0);for(var u=0;u<ED.length;u++)KD(r,n,ED[u])}}(h,r,e),"group"===r.type&&function(t,n,i,r,e){var a=r.children,o=a?a.length:0,u=r.$mergeChildren,s="byName"===u||r.diffChildrenByName,l=!1===u;if(!o&&!s&&!l)return;if(s)return f={api:t,oldChildren:n.children()||[],newChildren:a||[],dataIndex:i,seriesModel:e,group:n},void new ig(f.oldChildren,f.newChildren,oR,oR,f).add(uR).update(uR).remove(sR).execute();var f;l&&n.removeAll();for(var h=0;h<o;h++){var c=a[h],v=n.childAt(h);c?(null==c.ignore&&(c.ignore=!1),tR(t,v,i,c,e,n)):v.ignore=!0}for(var d=n.childCount()-1;d>=h;d--){var p=n.childAt(d);aR(n,p,e)}}(t,h,i,r,e),o>=0?a.replaceAt(h,o):a.add(h),h}function nR(t,n,i){var r,e=eD(t),a=n.type,o=n.shape,u=n.style;return i.isUniversalTransitionEnabled()||null!=a&&a!==e.customGraphicType||"path"===a&&((r=o)&&(bt(r,"pathData")||bt(r,"d")))&&lR(o)!==e.customPathData||"image"===a&&bt(u,"image")&&u.image!==e.customImagePath}function iR(t,n,i){var r=n?rR(t,n):t,e=n?eR(t,r,RD):t.style,a=t.type,o=r?r.textConfig:null,u=t.textContent,s=u?n?rR(u,n):u:null;if(e&&(i.isLegacy||fD(e,a,!!o,!!s))){i.isLegacy=!0;var l=hD(e,a,!n);!o&&l.textConfig&&(o=l.textConfig),!s&&l.textContent&&(s=l.textContent)}if(!n&&s){var f=s;!f.type&&(f.type="text")}var h=n?i[n]:i.normal;h.cfg=o,h.conOpt=s}function rR(t,n){return n?t?t[n]:null:t}function eR(t,n,i){var r=n&&n.style;return null==r&&i===RD&&t&&(r=t.styleEmphasis),r}function aR(t,n,i){n&&MD(n,eD(t).option,i)}function oR(t,n){var i=t&&t.name;return null!=i?i:"e\0\0"+n}function uR(t,n){var i=this.context,r=null!=t?i.newChildren[t]:null,e=null!=n?i.oldChildren[n]:null;tR(i.api,e,i.dataIndex,r,i.seriesModel,i.group)}function sR(t){var n=this.context,i=n.oldChildren[t];i&&MD(i,eD(i).option,n.seriesModel)}function lR(t){return t&&(t.pathData||t.d)}var fR=ca(),hR=z,cR=Y,vR=function(){function t(){this.ll=!1,this.animationThreshold=15}return t.prototype.render=function(t,n,i,r){var e=n.get("value"),a=n.get("status");if(this.fv=t,this.cv=n,this.Gi=i,r||this.vv!==e||this.dv!==a){this.vv=e,this.dv=a;var o=this.pv,u=this.mv;if(!a||"hide"===a)return o&&o.hide(),void(u&&u.hide());o&&o.show(),u&&u.show();var s={};this.makeElOption(s,e,t,n,i);var l=s.graphicKey;l!==this.yv&&this.clear(i),this.yv=l;var f=this.gv=this.determineAnimation(t,n);if(o){var h=G(dR,n,f);this.updatePointerEl(o,s,h),this.updateLabelEl(o,s,h,n)}else o=this.pv=new Se,this.createPointerEl(o,s,t,n),this.createLabelEl(o,s,t,n),i.getZr().add(o);gR(o,n,!0),this.bv(e)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,n){var i=n.get("animation"),r=t.axis,e="category"===r.type,a=n.get("snap");if(!a&&!e)return!1;if("auto"===i||null==i){var o=this.animationThreshold;if(e&&r.getBandWidth()>o)return!0;if(a){var u=Ck(t).seriesDataCount,s=r.getExtent();return Math.abs(s[0]-s[1])/u>o}return!1}return!0===i},t.prototype.makeElOption=function(t,n,i,r,e){},t.prototype.createPointerEl=function(t,n,i,r){var e=n.pointer;if(e){var a=fR(t).pointerEl=new Nf[e.type](hR(n.pointer));t.add(a)}},t.prototype.createLabelEl=function(t,n,i,r){if(n.label){var e=fR(t).labelEl=new wu(hR(n.label));t.add(e),mR(e,r)}},t.prototype.updatePointerEl=function(t,n,i){var r=fR(t).pointerEl;r&&n.pointer&&(r.setStyle(n.pointer.style),i(r,{shape:n.pointer.shape}))},t.prototype.updateLabelEl=function(t,n,i,r){var e=fR(t).labelEl;e&&(e.setStyle(n.label.style),i(e,{x:n.label.x,y:n.label.y}),mR(e,r))},t.prototype.bv=function(t){if(!this.ll&&this.updateHandleTransform){var n,i=this.cv,r=this.Gi.getZr(),e=this.mv,a=i.getModel("handle"),o=i.get("status");if(!a.get("show")||!o||"hide"===o)return e&&r.remove(e),void(this.mv=null);this.mv||(n=!0,e=this.mv=bf(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){sn(t.event)},onmousedown:cR(this.wv,this,0,0),drift:cR(this.wv,this),ondragend:cR(this.xv,this)}),r.add(e)),gR(e,i,!1),e.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=a.get("size");X(u)||(u=[u,u]),e.scaleX=u[0]/2,e.scaleY=u[1]/2,dp(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this.Mv(t,n)}},t.prototype.Mv=function(t,n){dR(this.cv,!n&&this.gv,this.mv,yR(this.getHandleTransform(t,this.fv,this.cv)))},t.prototype.wv=function(t,n){var i=this.mv;if(i){this.ll=!0;var r=this.updateHandleTransform(yR(i),[t,n],this.fv,this.cv);this.Sv=r,i.stopAnimation(),i.attr(yR(r)),fR(i).lastProp=null,this.kv()}},t.prototype.kv=function(){if(this.mv){var t=this.Sv,n=this.fv;this.Gi.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype.xv=function(){if(this.ll=!1,this.mv){var t=this.cv.get("value");this.Mv(t),this.Gi.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this.vv=null,this.dv=null;var n=t.getZr(),i=this.pv,r=this.mv;n&&i&&(this.yv=null,i&&n.remove(i),r&&n.remove(r),this.pv=null,this.mv=null,this.Sv=null),pp(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,n,i){return{x:t[i=i||0],y:t[1-i],width:n[i],height:n[1-i]}},t}();function dR(t,n,i,r){pR(fR(i).lastProp,r)||(fR(i).lastProp=r,n?Ul(i,r,t):(i.stopAnimation(),i.attr(r)))}function pR(t,n){if(K(t)&&K(n)){var i=!0;return E(n,(function(n,r){i=i&&pR(t[r],n)})),!!i}return t===n}function mR(t,n){t[n.get(["label","show"])?"show":"hide"]()}function yR(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function gR(t,n,i){var r=n.get("z"),e=n.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=r&&(t.z=r),null!=e&&(t.zlevel=e),t.silent=i)}))}function bR(t){var n,i=t.get("type"),r=t.getModel(i+"Style");return"line"===i?(n=r.getLineStyle()).fill=null:"shadow"===i&&((n=r.getAreaStyle()).stroke=null),n}function wR(t,n,i,r,e){var a=xR(i.get("value"),n.axis,n.ecModel,i.get("seriesDataIndices"),{precision:i.get(["label","precision"]),formatter:i.get(["label","formatter"])}),o=i.getModel("label"),u=Gh(o.get("padding")||0),s=o.getFont(),l=ue(a,s),f=e.position,h=l.width+u[1]+u[3],c=l.height+u[0]+u[2],v=e.align;"right"===v&&(f[0]-=h),"center"===v&&(f[0]-=h/2);var d=e.verticalAlign;"bottom"===d&&(f[1]-=c),"middle"===d&&(f[1]-=c/2),function(t,n,i,r){var e=r.getWidth(),a=r.getHeight();t[0]=Math.min(t[0]+n,e)-n,t[1]=Math.min(t[1]+i,a)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(f,h,c,r);var p=o.get("backgroundColor");p&&"auto"!==p||(p=n.get(["axisLine","lineStyle","color"])),t.label={x:f[0],y:f[1],style:Of(o,{text:a,font:s,fill:o.getTextColor(),padding:u,backgroundColor:p}),z2:10}}function xR(t,n,i,r,e){t=n.scale.parse(t);var a=n.scale.getLabel({value:t},{precision:e.precision}),o=e.formatter;if(o){var u={value:_b(n,{value:t}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};E(r,(function(t){var n=i.getSeriesByIndex(t.seriesIndex),r=t.dataIndexInside,e=n&&n.getDataParams(r);e&&u.seriesData.push(e)})),j(o)?a=o.replace("{value}",a):U(o)&&(a=o(u))}return a}function MR(t,n,i){var r=[1,0,0,1,0,0];return yn(r,r,i.rotation),mn(r,r,i.position),df([t.dataToCoord(n),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],r)}function SR(t,n,i,r,e,a){var o=bk.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=e.get(["label","margin"]),wR(n,r,e,a,{position:MR(r.axis,t,i),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function kR(t,n,i){return{x1:t[i=i||0],y1:t[1-i],x2:n[i],y2:n[1-i]}}function AR(t,n,i){return{x:t[i=i||0],y:t[1-i],width:n[i],height:n[1-i]}}function NR(t,n,i,r,e,a){return{cx:t,cy:n,r0:i,r:r,startAngle:e,endAngle:a,clockwise:!0}}var CR=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.makeElOption=function(t,n,i,r,e){var a=i.axis,o=a.grid,u=r.get("type"),s=TR(o,a).getOtherAxis(a).getGlobalExtent(),l=a.toGlobalCoord(a.dataToCoord(n,!0));if(u&&"none"!==u){var f=bR(r),h=IR[u](a,l,s);h.style=f,t.graphicKey=h.type,t.pointer=h}SR(n,t,lk(o.model,i),i,r,e)},n.prototype.getHandleTransform=function(t,n,i){var r=lk(n.axis.grid.model,n,{labelInside:!1});r.labelMargin=i.get(["handle","margin"]);var e=MR(n.axis,t,r);return{x:e[0],y:e[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(t,n,i,r){var e=i.axis,a=e.grid,o=e.getGlobalExtent(!0),u=TR(a,e).getOtherAxis(e).getGlobalExtent(),s="x"===e.dim?0:1,l=[t.x,t.y];l[s]+=n[s],l[s]=Math.min(o[1],l[s]),l[s]=Math.max(o[0],l[s]);var f=(u[1]+u[0])/2,h=[f,f];h[s]=l[s];return{x:l[0],y:l[1],rotation:t.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][s]}},n}(vR);function TR(t,n){var i={};return i[n.dim+"AxisIndex"]=n.index,t.getCartesian(i)}var IR={line:function(t,n,i){return{type:"Line",subPixelOptimize:!0,shape:kR([n,i[0]],[n,i[1]],zR(t))}},shadow:function(t,n,i){var r=Math.max(1,t.getBandWidth()),e=i[1]-i[0];return{type:"Rect",shape:AR([n-r/2,i[0]],[r,e],zR(t))}}};function zR(t){return"x"===t.dim?0:1}var LR=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(lc),OR=ca(),DR=E;function RR(t,n,i){if(!h.node){var r=n.getZr();OR(r).records||(OR(r).records={}),function(t,n){if(OR(t).initialized)return;function i(i,r){t.on(i,(function(i){var e=function(t){var n={showTip:[],hideTip:[]},i=function(r){var e=n[r.type];e?e.push(r):(r.dispatchAction=i,t.dispatchAction(r))};return{dispatchAction:i,pendings:n}}(n);DR(OR(t).records,(function(t){t&&r(t,i,e.dispatchAction)})),function(t,n){var i,r=t.showTip.length,e=t.hideTip.length;r?i=t.showTip[r-1]:e&&(i=t.hideTip[e-1]);i&&(i.dispatchAction=null,n.dispatchAction(i))}(e.pendings,n)}))}OR(t).initialized=!0,i("click",G(BR,"click")),i("mousemove",G(BR,"mousemove")),i("globalout",FR)}(r,n),(OR(r).records[t]||(OR(r).records[t]={})).handler=i}}function FR(t,n,i){t.handler("leave",null,i)}function BR(t,n,i,r){n.handler(t,i,r)}function _R(t,n){if(!h.node){var i=n.getZr();(OR(i).records||{})[t]&&(OR(i).records[t]=null)}}var ER=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){var r=n.getComponent("tooltip"),e=t.get("triggerOn")||r&&r.get("triggerOn")||"mousemove|click";RR("axisPointer",i,(function(t,n,i){"none"!==e&&("leave"===t||e.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:n&&n.offsetX,y:n&&n.offsetY})}))},n.prototype.remove=function(t,n){_R("axisPointer",n)},n.prototype.dispose=function(t,n){_R("axisPointer",n)},n.type="axisPointer",n}(tp);function PR(t,n){var i,r=[],e=t.seriesIndex;if(null==e||!(i=n.getSeriesByIndex(e)))return{point:[]};var a=i.getData(),o=ha(a,t);if(null==o||o<0||X(o))return{point:[]};var u=a.getItemGraphicEl(o),s=i.coordinateSystem;if(i.getTooltipPosition)r=i.getTooltipPosition(o)||[];else if(s&&s.dataToPoint)if(t.isStacked){var l=s.getBaseAxis(),f=s.getOtherAxis(l).dim,h=l.dim,c="x"===f||"radius"===f?1:0,v=a.mapDimension(h),d=[];d[c]=a.get(v,o),d[1-c]=a.get(a.getCalculationInfo("stackResultDimension"),o),r=s.dataToPoint(d)||[]}else r=s.dataToPoint(a.getValues(P(s.dimensions,(function(t){return a.mapDimension(t)})),o))||[];else if(u){var p=u.getBoundingRect().clone();p.applyTransform(u.transform),r=[p.x+p.width/2,p.y+p.height/2]}return{point:r,el:u}}var WR=ca();function VR(t,n,i){var r=t.currTrigger,e=[t.x,t.y],a=t,o=t.dispatchAction||Y(i.dispatchAction,i),u=n.getComponent("axisPointer").coordSysAxesInfo;if(u){UR(e)&&(e=PR({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},n).point);var s=UR(e),l=a.axesInfo,f=u.axesInfo,h="leave"===r||UR(e),c={},v={},d={list:[],map:{}},p={showPointer:G(YR,v),showTooltip:G(GR,d)};E(u.coordSysMap,(function(t,n){var i=s||t.containPoint(e);E(u.coordSysAxesInfo[n],(function(t,n){var r=t.axis,a=function(t,n){for(var i=0;i<(t||[]).length;i++){var r=t[i];if(n.axis.dim===r.axisDim&&n.axis.model.componentIndex===r.axisIndex)return r}}(l,t);if(!h&&i&&(!l||a)){var o=a&&a.value;null!=o||s||(o=r.pointToData(e)),null!=o&&HR(t,o,p,!1,c)}}))}));var m={};return E(f,(function(t,n){var i=t.linkGroup;i&&!v[n]&&E(i.axesInfo,(function(n,r){var e=v[r];if(n!==t&&e){var a=e.value;i.mapper&&(a=t.axis.scale.parse(i.mapper(a,XR(n),XR(t)))),m[t.key]=a}}))})),E(m,(function(t,n){HR(f[n],t,p,!0,c)})),function(t,n,i){var r=i.axesInfo=[];E(n,(function(n,i){var e=n.axisPointerModel.option,a=t[i];a?(!n.useHandle&&(e.status="show"),e.value=a.value,e.seriesDataIndices=(a.payloadBatch||[]).slice()):!n.useHandle&&(e.status="hide"),"show"===e.status&&r.push({axisDim:n.axis.dim,axisIndex:n.axis.model.componentIndex,value:e.value})}))}(v,f,c),function(t,n,i,r){if(UR(n)||!t.list.length)return void r({type:"hideTip"});var e=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:e.dataIndexInside,dataIndex:e.dataIndex,seriesIndex:e.seriesIndex,dataByCoordSys:t.list})}(d,e,t,o),function(t,n,i){var r=i.getZr(),e="axisPointerLastHighlights",a=WR(r)[e]||{},o=WR(r)[e]={};E(t,(function(t,n){var i=t.axisPointerModel.option;"show"===i.status&&t.triggerEmphasis&&E(i.seriesDataIndices,(function(t){var n=t.seriesIndex+" | "+t.dataIndex;o[n]=t}))}));var u=[],s=[];E(a,(function(t,n){!o[n]&&s.push(t)})),E(o,(function(t,n){!a[n]&&u.push(t)})),s.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:s}),u.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:u})}(f,0,i),c}}function HR(t,n,i,r,e){var a=t.axis;if(!a.scale.isBlank()&&a.containData(n))if(t.involveSeries){var o=function(t,n){var i=n.axis,r=i.dim,e=t,a=[],o=Number.MAX_VALUE,u=-1;return E(n.seriesModels,(function(n,s){var l,f,h=n.getData().mapDimensionsAll(r);if(n.getAxisTooltipData){var c=n.getAxisTooltipData(h,t,i);f=c.dataIndices,l=c.nestestValue}else{if(!(f=n.getData().indicesOfNearest(h[0],t,"category"===i.type?.5:null)).length)return;l=n.getData().get(h[0],f[0])}if(null!=l&&isFinite(l)){var v=t-l,d=Math.abs(v);d<=o&&((d<o||v>=0&&u<0)&&(o=d,u=v,e=l,a.length=0),E(f,(function(t){a.push({seriesIndex:n.seriesIndex,dataIndexInside:t,dataIndex:n.getData().getRawIndex(t)})})))}})),{payloadBatch:a,snapToValue:e}}(n,t),u=o.payloadBatch,s=o.snapToValue;u[0]&&null==e.seriesIndex&&D(e,u[0]),!r&&t.snap&&a.containData(s)&&null!=s&&(n=s),i.showPointer(t,n,u),i.showTooltip(t,o,s)}else i.showPointer(t,n)}function YR(t,n,i,r){t[n.key]={value:i,payloadBatch:r}}function GR(t,n,i,r){var e=i.payloadBatch,a=n.axis,o=a.model,u=n.axisPointerModel;if(n.triggerTooltip&&e.length){var s=n.coordSys.model,l=Ik(s),f=t.map[l];f||(f=t.map[l]={coordSysId:s.id,coordSysIndex:s.componentIndex,coordSysType:s.type,coordSysMainType:s.mainType,dataByAxis:[]},t.list.push(f)),f.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:r,valueLabelOpt:{precision:u.get(["label","precision"]),formatter:u.get(["label","formatter"])},seriesDataIndices:e.slice()})}}function XR(t){var n=t.axis.model,i={},r=i.axisDim=t.axis.dim;return i.axisIndex=i[r+"AxisIndex"]=n.componentIndex,i.axisName=i[r+"AxisName"]=n.name,i.axisId=i[r+"AxisId"]=n.id,i}function UR(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function jR(t){Lk.registerAxisPointerClass("CartesianAxisPointer",CR),t.registerComponentModel(LR),t.registerComponentView(ER),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!X(n)&&(t.axisPointer.link=[n])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,n){t.getComponent("axisPointer").coordSysAxesInfo=Ak(t,n)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},VR)}var ZR=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.makeElOption=function(t,n,i,r,e){var a=i.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var o=a.polar,u=o.getOtherAxis(a).getExtent(),s=a.dataToCoord(n),l=r.get("type");if(l&&"none"!==l){var f=bR(r),h=qR[l](a,o,s,u);h.style=f,t.graphicKey=h.type,t.pointer=h}var c=function(t,n,i,r,e){var a=n.axis,o=a.dataToCoord(t),u=r.getAngleAxis().getExtent()[0];u=u/180*Math.PI;var s,l,f,h=r.getRadiusAxis().getExtent();if("radius"===a.dim){var c=[1,0,0,1,0,0];yn(c,c,u),mn(c,c,[r.cx,r.cy]),s=df([o,-e],c);var v=n.getModel("axisLabel").get("rotate")||0,d=bk.innerTextLayout(u,v*Math.PI/180,-1);l=d.textAlign,f=d.textVerticalAlign}else{var p=h[1];s=r.coordToPoint([p+e,o]);var m=r.cx,y=r.cy;l=Math.abs(s[0]-m)/p<.3?"center":s[0]>m?"left":"right",f=Math.abs(s[1]-y)/p<.3?"middle":s[1]>y?"top":"bottom"}return{position:s,align:l,verticalAlign:f}}(n,i,0,o,r.get(["label","margin"]));wR(t,i,r,e,c)},n}(vR);var qR={line:function(t,n,i,r){return"angle"===t.dim?{type:"Line",shape:kR(n.coordToPoint([r[0],i]),n.coordToPoint([r[1],i]))}:{type:"Circle",shape:{cx:n.cx,cy:n.cy,r:i}}},shadow:function(t,n,i,r){var e=Math.max(1,t.getBandWidth()),a=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:NR(n.cx,n.cy,r[0],r[1],(-i-e/2)*a,(e/2-i)*a)}:{type:"Sector",shape:NR(n.cx,n.cy,i-e/2,i+e/2,0,2*Math.PI)}}},KR=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.findAxisModel=function(t){var n;return this.ecModel.eachComponent(t,(function(t){t.getCoordSysModel()===this&&(n=t)}),this),n},n.type="polar",n.dependencies=["radiusAxis","angleAxis"],n.defaultOption={z:0,center:["50%","50%"],radius:"80%"},n}(lc),JR=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",ma).models[0]},n.type="polarAxis",n}(lc);B(JR,Vb);var $R=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="angleAxis",n}(JR),QR=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="radiusAxis",n}(JR),tF=function(t){function n(n,i){return t.call(this,"radius",n,i)||this}return l(n,t),n.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)["radius"===this.dim?0:1]},n}(cw);tF.prototype.dataToRadius=cw.prototype.dataToCoord,tF.prototype.radiusToData=cw.prototype.coordToData;var nF=ca(),iF=function(t){function n(n,i){return t.call(this,"angle",n,i||[0,360])||this}return l(n,t),n.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)["radius"===this.dim?0:1]},n.prototype.calculateCategoryInterval=function(){var t=this,n=t.getLabelModel(),i=t.scale,r=i.getExtent(),e=i.count();if(r[1]-r[0]<1)return 0;var a=r[0],o=t.dataToCoord(a+1)-t.dataToCoord(a),u=Math.abs(o),s=ue(null==a?"":a+"",n.getFont(),"center","top"),l=Math.max(s.height,7)/u;isNaN(l)&&(l=1/0);var f=Math.max(0,Math.floor(l)),h=nF(t.model),c=h.lastAutoInterval,v=h.lastTickCount;return null!=c&&null!=v&&Math.abs(c-f)<=1&&Math.abs(v-e)<=1&&c>f?f=c:(h.lastTickCount=e,h.lastAutoInterval=f),f},n}(cw);iF.prototype.dataToAngle=cw.prototype.dataToCoord,iF.prototype.angleToData=cw.prototype.coordToData;var rF=["radius","angle"],eF=function(){function t(t){this.dimensions=rF,this.type="polar",this.cx=0,this.cy=0,this.Av=new tF,this.Nv=new iF,this.axisPointerEnabled=!0,this.name=t||"",this.Av.polar=this.Nv.polar=this}return t.prototype.containPoint=function(t){var n=this.pointToCoord(t);return this.Av.contain(n[0])&&this.Nv.contain(n[1])},t.prototype.containData=function(t){return this.Av.containData(t[0])&&this.Nv.containData(t[1])},t.prototype.getAxis=function(t){return this["_"+t+"Axis"]},t.prototype.getAxes=function(){return[this.Av,this.Nv]},t.prototype.getAxesByScale=function(t){var n=[],i=this.Nv,r=this.Av;return i.scale.type===t&&n.push(i),r.scale.type===t&&n.push(r),n},t.prototype.getAngleAxis=function(){return this.Nv},t.prototype.getRadiusAxis=function(){return this.Av},t.prototype.getOtherAxis=function(t){var n=this.Nv;return t===n?this.Av:n},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var n=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},t.prototype.dataToPoint=function(t,n){return this.coordToPoint([this.Av.dataToRadius(t[0],n),this.Nv.dataToAngle(t[1],n)])},t.prototype.pointToData=function(t,n){var i=this.pointToCoord(t);return[this.Av.radiusToData(i[0],n),this.Nv.angleToData(i[1],n)]},t.prototype.pointToCoord=function(t){var n=t[0]-this.cx,i=t[1]-this.cy,r=this.getAngleAxis(),e=r.getExtent(),a=Math.min(e[0],e[1]),o=Math.max(e[0],e[1]);r.inverse?a=o-360:o=a+360;var u=Math.sqrt(n*n+i*i);n/=u,i/=u;for(var s=Math.atan2(-i,n)/Math.PI*180,l=s<a?1:-1;s<a||s>o;)s+=360*l;return[u,s]},t.prototype.coordToPoint=function(t){var n=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*n+this.cx,-Math.sin(i)*n+this.cy]},t.prototype.getArea=function(){var t=this.getAngleAxis(),n=this.getRadiusAxis().getExtent().slice();n[0]>n[1]&&n.reverse();var i=t.getExtent(),r=Math.PI/180,e=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-i[0]*r,endAngle:-i[1]*r,clockwise:t.inverse,contain:function(t,n){var i=t-this.cx,r=n-this.cy,a=i*i+r*r,o=this.r,u=this.r0;return o!==u&&a-e<=o*o&&a+e>=u*u}}},t.prototype.convertToPixel=function(t,n,i){return aF(n)===this?this.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,n,i){return aF(n)===this?this.pointToData(i):null},t}();function aF(t){var n=t.seriesModel,i=t.polarModel;return i&&i.coordinateSystem||n&&n.coordinateSystem}function oF(t,n){var i=this,r=i.getAngleAxis(),e=i.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),e.scale.setExtent(1/0,-1/0),t.eachSeries((function(t){if(t.coordinateSystem===i){var n=t.getData();E(Wb(n,"radius"),(function(t){e.scale.unionExtentFromData(n,t)})),E(Wb(n,"angle"),(function(t){r.scale.unionExtentFromData(n,t)}))}})),Rb(r.scale,r.model),Rb(e.scale,e.model),"category"===r.type&&!r.onBand){var a=r.getExtent(),o=360/r.scale.count();r.inverse?a[1]+=o:a[1]-=o,r.setExtent(a[0],a[1])}}function uF(t,n){var i;if(t.type=n.get("type"),t.scale=Fb(n),t.onBand=n.get("boundaryGap")&&"category"===t.type,t.inverse=n.get("inverse"),function(t){return"angleAxis"===t.mainType}(n)){t.inverse=t.inverse!==n.get("clockwise");var r=n.get("startAngle"),e=null!==(i=n.get("endAngle"))&&void 0!==i?i:r+(t.inverse?-360:360);t.setExtent(r,e)}n.axis=t,t.model=n}var sF={dimensions:rF,create:function(t,n){var i=[];return t.eachComponent("polar",(function(t,r){var e=new eF(r+"");e.update=oF;var a=e.getRadiusAxis(),o=e.getAngleAxis(),u=t.findAxisModel("radiusAxis"),s=t.findAxisModel("angleAxis");uF(a,u),uF(o,s),function(t,n,i){var r=n.get("center"),e=i.getWidth(),a=i.getHeight();t.cx=ze(r[0],e),t.cy=ze(r[1],a);var o=t.getRadiusAxis(),u=Math.min(e,a)/2,s=n.get("radius");null==s?s=[0,"100%"]:X(s)||(s=[0,s]);var l=[ze(s[0],u),ze(s[1],u)];o.inverse?o.setExtent(l[1],l[0]):o.setExtent(l[0],l[1])}(e,t,n),i.push(e),t.coordinateSystem=e,e.model=t})),t.eachSeries((function(t){if("polar"===t.get("coordinateSystem")){var n=t.getReferringComponents("polar",ma).models[0];t.coordinateSystem=n.coordinateSystem}})),i}},lF=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function fF(t,n,i){n[1]>n[0]&&(n=n.slice().reverse());var r=t.coordToPoint([n[0],i]),e=t.coordToPoint([n[1],i]);return{x1:r[0],y1:r[1],x2:e[0],y2:e[1]}}function hF(t){return t.getRadiusAxis().inverse?0:1}function cF(t){var n=t[0],i=t[t.length-1];n&&i&&Math.abs(Math.abs(n.coord-i.coord)-360)<1e-4&&t.pop()}var vF=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.axisPointerClass="PolarAxisPointer",i}return l(n,t),n.prototype.render=function(t,n){if(this.group.removeAll(),t.get("show")){var i=t.axis,r=i.polar,e=r.getRadiusAxis().getExtent(),a=i.getTicksCoords(),o=i.getMinorTicksCoords(),u=P(i.getViewLabels(),(function(t){t=z(t);var n=i.scale,r="ordinal"===n.type?n.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=i.dataToCoord(r),t}));cF(u),cF(a),E(lF,(function(n){!t.get([n,"show"])||i.scale.isBlank()&&"axisLine"!==n||dF[n](this.group,t,r,a,o,e,u)}),this)}},n.type="angleAxis",n}(Lk),dF={axisLine:function(t,n,i,r,e,a){var o,u=n.getModel(["axisLine","lineStyle"]),s=i.getAngleAxis(),l=Math.PI/180,f=s.getExtent(),h=hF(i),c=h?0:1,v=360===Math.abs(f[1]-f[0])?"Circle":"Arc";(o=0===a[c]?new Nf[v]({shape:{cx:i.cx,cy:i.cy,r:a[h],startAngle:-f[0]*l,endAngle:-f[1]*l,clockwise:s.inverse},style:u.getLineStyle(),z2:1,silent:!0}):new yl({shape:{cx:i.cx,cy:i.cy,r:a[h],r0:a[c]},style:u.getLineStyle(),z2:1,silent:!0})).style.fill=null,t.add(o)},axisTick:function(t,n,i,r,e,a){var o=n.getModel("axisTick"),u=(o.get("inside")?-1:1)*o.get("length"),s=a[hF(i)],l=P(r,(function(t){return new Al({shape:fF(i,[s,s+u],t.coord)})}));t.add(lf(l,{style:R(o.getModel("lineStyle").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,n,i,r,e,a){if(e.length){for(var o=n.getModel("axisTick"),u=n.getModel("minorTick"),s=(o.get("inside")?-1:1)*u.get("length"),l=a[hF(i)],f=[],h=0;h<e.length;h++)for(var c=0;c<e[h].length;c++)f.push(new Al({shape:fF(i,[l,l+s],e[h][c].coord)}));t.add(lf(f,{style:R(u.getModel("lineStyle").getLineStyle(),R(o.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,n,i,r,e,a,o){var u=n.getCategories(!0),s=n.getModel("axisLabel"),l=s.get("margin"),f=n.get("triggerEvent");E(o,(function(r,e){var o=s,h=r.tickValue,c=a[hF(i)],v=i.coordToPoint([c+l,r.coord]),d=i.cx,p=i.cy,m=Math.abs(v[0]-d)/c<.3?"center":v[0]>d?"left":"right",y=Math.abs(v[1]-p)/c<.3?"middle":v[1]>p?"top":"bottom";if(u&&u[h]){var g=u[h];K(g)&&g.textStyle&&(o=new th(g.textStyle,s,s.ecModel))}var b=new wu({silent:bk.isLabelSilent(n),style:Of(o,{x:v[0],y:v[1],fill:o.getTextColor()||n.get(["axisLine","lineStyle","color"]),text:r.formattedLabel,align:m,verticalAlign:y})});if(t.add(b),f){var w=bk.makeAxisEventDataBase(n);w.targetType="axisLabel",w.value=r.rawLabel,Du(b).eventData=w}}),this)},splitLine:function(t,n,i,r,e,a){var o=n.getModel("splitLine").getModel("lineStyle"),u=o.get("color"),s=0;u=u instanceof Array?u:[u];for(var l=[],f=0;f<r.length;f++){var h=s++%u.length;l[h]=l[h]||[],l[h].push(new Al({shape:fF(i,a,r[f].coord)}))}for(f=0;f<l.length;f++)t.add(lf(l[f],{style:R({stroke:u[f%u.length]},o.getLineStyle()),silent:!0,z:n.get("z")}))},minorSplitLine:function(t,n,i,r,e,a){if(e.length){for(var o=n.getModel("minorSplitLine").getModel("lineStyle"),u=[],s=0;s<e.length;s++)for(var l=0;l<e[s].length;l++)u.push(new Al({shape:fF(i,a,e[s][l].coord)}));t.add(lf(u,{style:o.getLineStyle(),silent:!0,z:n.get("z")}))}},splitArea:function(t,n,i,r,e,a){if(r.length){var o=n.getModel("splitArea").getModel("areaStyle"),u=o.get("color"),s=0;u=u instanceof Array?u:[u];for(var l=[],f=Math.PI/180,h=-r[0].coord*f,c=Math.min(a[0],a[1]),v=Math.max(a[0],a[1]),d=n.get("clockwise"),p=1,m=r.length;p<=m;p++){var y=p===m?r[0].coord:r[p].coord,g=s++%u.length;l[g]=l[g]||[],l[g].push(new pl({shape:{cx:i.cx,cy:i.cy,r0:c,r:v,startAngle:h,endAngle:-y*f,clockwise:d},silent:!0})),h=-y*f}for(p=0;p<l.length;p++)t.add(lf(l[p],{style:R({fill:u[p%u.length]},o.getAreaStyle()),silent:!0}))}}},pF=["axisLine","axisTickLabel","axisName"],mF=["splitLine","splitArea","minorSplitLine"],yF=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.axisPointerClass="PolarAxisPointer",i}return l(n,t),n.prototype.render=function(t,n){if(this.group.removeAll(),t.get("show")){var i=this.qs,r=this.qs=new Se;this.group.add(r);var e=t.axis,a=e.polar,o=a.getAngleAxis(),u=e.getTicksCoords(),s=e.getMinorTicksCoords(),l=o.getExtent()[0],f=e.getExtent(),h=function(t,n,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}(a,t,l),c=new bk(t,h);E(pF,c.add,c),r.add(c.getGroup()),yf(i,r,t),E(mF,(function(n){t.get([n,"show"])&&!e.scale.isBlank()&&gF[n](this.group,t,a,l,f,u,s)}),this)}},n.type="radiusAxis",n}(Lk),gF={splitLine:function(t,n,i,r,e,a){var o=n.getModel("splitLine").getModel("lineStyle"),u=o.get("color"),s=0,l=i.getAngleAxis(),f=Math.PI/180,h=l.getExtent(),c=360===Math.abs(h[1]-h[0])?"Circle":"Arc";u=u instanceof Array?u:[u];for(var v=[],d=0;d<a.length;d++){var p=s++%u.length;v[p]=v[p]||[],v[p].push(new Nf[c]({shape:{cx:i.cx,cy:i.cy,r:Math.max(a[d].coord,0),startAngle:-h[0]*f,endAngle:-h[1]*f,clockwise:l.inverse}}))}for(d=0;d<v.length;d++)t.add(lf(v[d],{style:R({stroke:u[d%u.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(t,n,i,r,e,a,o){if(o.length){for(var u=n.getModel("minorSplitLine").getModel("lineStyle"),s=[],l=0;l<o.length;l++)for(var f=0;f<o[l].length;f++)s.push(new $s({shape:{cx:i.cx,cy:i.cy,r:o[l][f].coord}}));t.add(lf(s,{style:R({fill:null},u.getLineStyle()),silent:!0}))}},splitArea:function(t,n,i,r,e,a){if(a.length){var o=n.getModel("splitArea").getModel("areaStyle"),u=o.get("color"),s=0;u=u instanceof Array?u:[u];for(var l=[],f=a[0].coord,h=1;h<a.length;h++){var c=s++%u.length;l[c]=l[c]||[],l[c].push(new pl({shape:{cx:i.cx,cy:i.cy,r0:f,r:a[h].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),f=a[h].coord}for(h=0;h<l.length;h++)t.add(lf(l[h],{style:R({fill:u[h%u.length]},o.getAreaStyle()),silent:!0}))}}};function bF(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function wF(t,n){return n.dim+t.model.componentIndex}function xF(t,n,i){var r={},e=function(t){var n={};E(t,(function(t,i){var r=t.getData(),e=t.coordinateSystem,a=e.getBaseAxis(),o=wF(e,a),u=a.getExtent(),s="category"===a.type?a.getBandWidth():Math.abs(u[1]-u[0])/r.count(),l=n[o]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=l.stacks;n[o]=l;var h=bF(t);f[h]||l.autoWidthCount++,f[h]=f[h]||{width:0,maxWidth:0};var c=ze(t.get("barWidth"),s),v=ze(t.get("barMaxWidth"),s),d=t.get("barGap"),p=t.get("barCategoryGap");c&&!f[h].width&&(c=Math.min(l.remainedWidth,c),f[h].width=c,l.remainedWidth-=c),v&&(f[h].maxWidth=v),null!=d&&(l.gap=d),null!=p&&(l.categoryGap=p)}));var i={};return E(n,(function(t,n){i[n]={};var r=t.stacks,e=t.bandWidth,a=ze(t.categoryGap,e),o=ze(t.gap,1),u=t.remainedWidth,s=t.autoWidthCount,l=(u-a)/(s+(s-1)*o);l=Math.max(l,0),E(r,(function(t,n){var i=t.maxWidth;i&&i<l&&(i=Math.min(i,u),t.width&&(i=Math.min(i,t.width)),u-=i,t.width=i,s--)})),l=(u-a)/(s+(s-1)*o),l=Math.max(l,0);var f,h=0;E(r,(function(t,n){t.width||(t.width=l),f=t,h+=t.width*(1+o)})),f&&(h-=f.width*o);var c=-h/2;E(r,(function(t,r){i[n][r]=i[n][r]||{offset:c,width:t.width},c+=t.width*(1+o)}))})),i}(V(n.getSeriesByType(t),(function(t){return!n.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type})));n.eachSeriesByType(t,(function(t){if("polar"===t.coordinateSystem.type){var n=t.getData(),i=t.coordinateSystem,a=i.getBaseAxis(),o=wF(i,a),u=bF(t),s=e[o][u],l=s.offset,f=s.width,h=i.getOtherAxis(a),c=t.coordinateSystem.cx,v=t.coordinateSystem.cy,d=t.get("barMinHeight")||0,p=t.get("barMinAngle")||0;r[u]=r[u]||[];for(var m=n.mapDimension(h.dim),y=n.mapDimension(a.dim),g=Dg(n,m),b="radius"!==a.dim||!t.get("roundCap",!0),w=h.model.get("startValue"),x=h.dataToCoord(w||0),M=0,S=n.count();M<S;M++){var k=n.get(m,M),A=n.get(y,M),N=k>=0?"p":"n",C=x;g&&(r[u][A]||(r[u][A]={p:x,n:x}),C=r[u][A][N]);var T=void 0,I=void 0,z=void 0,L=void 0;if("radius"===h.dim){var O=h.dataToCoord(k)-x,D=a.dataToCoord(A);Math.abs(O)<d&&(O=(O<0?-1:1)*d),T=C,I=C+O,L=(z=D-l)-f,g&&(r[u][A][N]=I)}else{var R=h.dataToCoord(k,b)-x,F=a.dataToCoord(A);Math.abs(R)<p&&(R=(R<0?-1:1)*p),I=(T=F+l)+f,z=C,L=C+R,g&&(r[u][A][N]=L)}n.setItemLayout(M,{cx:c,cy:v,r0:T,r:I,startAngle:-z*Math.PI/180,endAngle:-L*Math.PI/180,clockwise:z>=L})}}}))}var MF={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},SF={splitNumber:5},kF=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="polar",n}(tp);function AF(t,n){n=n||{};var i=t.coordinateSystem,r=t.axis,e={},a=r.position,o=r.orient,u=i.getRect(),s=[u.x,u.x+u.width,u.y,u.y+u.height],l={horizontal:{top:s[2],bottom:s[3]},vertical:{left:s[0],right:s[1]}};e.position=["vertical"===o?l.vertical[a]:s[0],"horizontal"===o?l.horizontal[a]:s[3]];e.rotation=Math.PI/2*{horizontal:0,vertical:1}[o];e.labelDirection=e.tickDirection=e.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],t.get(["axisTick","inside"])&&(e.tickDirection=-e.tickDirection),it(n.labelInside,t.get(["axisLabel","inside"]))&&(e.labelDirection=-e.labelDirection);var f=n.rotate;return null==f&&(f=t.get(["axisLabel","rotate"])),e.labelRotation="top"===a?-f:f,e.z2=1,e}var NF=["axisLine","axisTickLabel","axisName"],CF=["splitArea","splitLine"],TF=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.axisPointerClass="SingleAxisPointer",i}return l(n,t),n.prototype.render=function(n,i,r,e){var a=this.group;a.removeAll();var o=this.qs;this.qs=new Se;var u=AF(n),s=new bk(n,u);E(NF,s.add,s),a.add(this.qs),a.add(s.getGroup()),E(CF,(function(t){n.get([t,"show"])&&IF[t](this,this.group,this.qs,n)}),this),yf(o,this.qs,n),t.prototype.render.call(this,n,i,r,e)},n.prototype.remove=function(){Rk(this)},n.type="singleAxis",n}(Lk),IF={splitLine:function(t,n,i,r){var e=r.axis;if(!e.scale.isBlank()){var a=r.getModel("splitLine"),o=a.getModel("lineStyle"),u=o.get("color");u=u instanceof Array?u:[u];for(var s=o.get("width"),l=r.coordinateSystem.getRect(),f=e.isHorizontal(),h=[],c=0,v=e.getTicksCoords({tickModel:a}),d=[],p=[],m=0;m<v.length;++m){var y=e.toGlobalCoord(v[m].coord);f?(d[0]=y,d[1]=l.y,p[0]=y,p[1]=l.y+l.height):(d[0]=l.x,d[1]=y,p[0]=l.x+l.width,p[1]=y);var g=new Al({shape:{x1:d[0],y1:d[1],x2:p[0],y2:p[1]},silent:!0});hf(g.shape,s);var b=c++%u.length;h[b]=h[b]||[],h[b].push(g)}var w=o.getLineStyle(["color"]);for(m=0;m<h.length;++m)n.add(lf(h[m],{style:R({stroke:u[m%u.length]},w),silent:!0}))}},splitArea:function(t,n,i,r){Dk(t,i,r,r)}},zF=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.getCoordSysModel=function(){return this},n.type="singleAxis",n.layoutMode="box",n.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},n}(lc);B(zF,Vb.prototype);var LF=function(t){function n(n,i,r,e,a){var o=t.call(this,n,i,r)||this;return o.type=e||"value",o.position=a||"bottom",o}return l(n,t),n.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},n.prototype.pointToData=function(t,n){return this.coordinateSystem.pointToData(t)[0]},n}(cw),OF=["single"],DF=function(){function t(t,n,i){this.type="single",this.dimension="single",this.dimensions=OF,this.axisPointerEnabled=!0,this.model=t,this.en(t,n,i)}return t.prototype.en=function(t,n,i){var r=this.dimension,e=new LF(r,Fb(t),[0,0],t.get("type"),t.get("position")),a="category"===e.type;e.onBand=a&&t.get("boundaryGap"),e.inverse=t.get("inverse"),e.orient=t.get("orient"),t.axis=e,e.model=t,e.coordinateSystem=this,this.Cv=e},t.prototype.update=function(t,n){t.eachSeries((function(t){if(t.coordinateSystem===this){var n=t.getData();E(n.mapDimensionsAll(this.dimension),(function(t){this.Cv.scale.unionExtentFromData(n,t)}),this),Rb(this.Cv.scale,this.Cv.model)}}),this)},t.prototype.resize=function(t,n){this.Bn=ic({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:n.getWidth(),height:n.getHeight()}),this.Tv()},t.prototype.getRect=function(){return this.Bn},t.prototype.Tv=function(){var t=this.Bn,n=this.Cv,i=n.isHorizontal(),r=i?[0,t.width]:[0,t.height],e=n.inverse?1:0;n.setExtent(r[e],r[1-e]),this.Iv(n,i?t.x:t.y)},t.prototype.Iv=function(t,n){var i=t.getExtent(),r=i[0]+i[1],e=t.isHorizontal();t.toGlobalCoord=e?function(t){return t+n}:function(t){return r-t+n},t.toLocalCoord=e?function(t){return t-n}:function(t){return r-t+n}},t.prototype.getAxis=function(){return this.Cv},t.prototype.getBaseAxis=function(){return this.Cv},t.prototype.getAxes=function(){return[this.Cv]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var n=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(t[0]))&&t[1]>=n.y&&t[1]<=n.y+n.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=n.y&&t[0]<=n.y+n.height},t.prototype.pointToData=function(t){var n=this.getAxis();return[n.coordToData(n.toLocalCoord(t["horizontal"===n.orient?0:1]))]},t.prototype.dataToPoint=function(t){var n=this.getAxis(),i=this.getRect(),r=[],e="horizontal"===n.orient?0:1;return t instanceof Array&&(t=t[0]),r[e]=n.toGlobalCoord(n.dataToCoord(+t)),r[1-e]=0===e?i.y+i.height/2:i.x+i.width/2,r},t.prototype.convertToPixel=function(t,n,i){return RF(n)===this?this.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,n,i){return RF(n)===this?this.pointToData(i):null},t}();function RF(t){var n=t.seriesModel,i=t.singleAxisModel;return i&&i.coordinateSystem||n&&n.coordinateSystem}var FF={create:function(t,n){var i=[];return t.eachComponent("singleAxis",(function(r,e){var a=new DF(r,t,n);a.name="single_"+e,a.resize(r,n),r.coordinateSystem=a,i.push(a)})),t.eachSeries((function(t){if("singleAxis"===t.get("coordinateSystem")){var n=t.getReferringComponents("singleAxis",ma).models[0];t.coordinateSystem=n&&n.coordinateSystem}})),i},dimensions:OF},BF=["x","y"],_F=["width","height"],EF=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.makeElOption=function(t,n,i,r,e){var a=i.axis,o=a.coordinateSystem,u=VF(o,1-WF(a)),s=o.dataToPoint(n)[0],l=r.get("type");if(l&&"none"!==l){var f=bR(r),h=PF[l](a,s,u);h.style=f,t.graphicKey=h.type,t.pointer=h}SR(n,t,AF(i),i,r,e)},n.prototype.getHandleTransform=function(t,n,i){var r=AF(n,{labelInside:!1});r.labelMargin=i.get(["handle","margin"]);var e=MR(n.axis,t,r);return{x:e[0],y:e[1],rotation:r.rotation+(r.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(t,n,i,r){var e=i.axis,a=e.coordinateSystem,o=WF(e),u=VF(a,o),s=[t.x,t.y];s[o]+=n[o],s[o]=Math.min(u[1],s[o]),s[o]=Math.max(u[0],s[o]);var l=VF(a,1-o),f=(l[1]+l[0])/2,h=[f,f];return h[o]=s[o],{x:s[0],y:s[1],rotation:t.rotation,cursorPoint:h,tooltipOption:{verticalAlign:"middle"}}},n}(vR),PF={line:function(t,n,i){return{type:"Line",subPixelOptimize:!0,shape:kR([n,i[0]],[n,i[1]],WF(t))}},shadow:function(t,n,i){var r=t.getBandWidth(),e=i[1]-i[0];return{type:"Rect",shape:AR([n-r/2,i[0]],[r,e],WF(t))}}};function WF(t){return t.isHorizontal()?0:1}function VF(t,n){var i=t.getRect();return[i[BF[n]],i[BF[n]]+i[_F[n]]]}var HF=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="single",n}(tp);var YF=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(n,i,r){var e=oc(n);t.prototype.init.apply(this,arguments),GF(n,e)},n.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),GF(this.option,n)},n.prototype.getCellSize=function(){return this.option.cellSize},n.type="calendar",n.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},n}(lc);function GF(t,n){var i,r=t.cellSize;1===(i=X(r)?r:t.cellSize=[r,r]).length&&(i[1]=i[0]);var e=P([0,1],(function(t){return function(t,n){return null!=t[Qh[n][0]]||null!=t[Qh[n][1]]&&null!=t[Qh[n][2]]}(n,t)&&(i[t]="auto"),null!=i[t]&&"auto"!==i[t]}));ac(t,n,{type:"box",ignoreSize:e})}var XF=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){var r=this.group;r.removeAll();var e=t.coordinateSystem,a=e.getRangeInfo(),o=e.getOrient(),u=n.getLocaleModel();this.zv(t,a,r),this.Lv(t,a,o,r),this.Ov(t,a,o,r),this.Dv(t,u,o,r),this.Rv(t,u,a,o,r)},n.prototype.zv=function(t,n,i){for(var r=t.coordinateSystem,e=t.getModel("itemStyle").getItemStyle(),a=r.getCellWidth(),o=r.getCellHeight(),u=n.start.time;u<=n.end.time;u=r.getNextNDay(u,1).time){var s=r.dataToRect([u],!1).tl,l=new yu({shape:{x:s[0],y:s[1],width:a,height:o},cursor:"default",style:e});i.add(l)}},n.prototype.Lv=function(t,n,i,r){var e=this,a=t.coordinateSystem,o=t.getModel(["splitLine","lineStyle"]).getLineStyle(),u=t.get(["splitLine","show"]),s=o.lineWidth;this.Fv=[],this.Bv=[],this._v=[],this.Ev=[];for(var l=n.start,f=0;l.time<=n.end.time;f++){c(l.formatedDate),0===f&&(l=a.getDateInfo(n.start.y+"-"+n.start.m));var h=l.date;h.setMonth(h.getMonth()+1),l=a.getDateInfo(h)}function c(n){e._v.push(a.getDateInfo(n)),e.Ev.push(a.dataToRect([n],!1).tl);var s=e.Pv(t,n,i);e.Fv.push(s[0]),e.Bv.push(s[s.length-1]),u&&e.Wv(s,o,r)}c(a.getNextNDay(n.end.time,1).formatedDate),u&&this.Wv(e.Vv(e.Fv,s,i),o,r),u&&this.Wv(e.Vv(e.Bv,s,i),o,r)},n.prototype.Vv=function(t,n,i){var r=[t[0].slice(),t[t.length-1].slice()],e="horizontal"===i?0:1;return r[0][e]=r[0][e]-n/2,r[1][e]=r[1][e]+n/2,r},n.prototype.Wv=function(t,n,i){var r=new Ml({z2:20,shape:{points:t},style:n});i.add(r)},n.prototype.Pv=function(t,n,i){for(var r=t.coordinateSystem,e=r.getDateInfo(n),a=[],o=0;o<7;o++){var u=r.getNextNDay(e.time,o),s=r.dataToRect([u.time],!1);a[2*u.day]=s.tl,a[2*u.day+1]=s["horizontal"===i?"bl":"tr"]}return a},n.prototype.Hv=function(t,n){return j(t)&&t?(i=t,E(n,(function(t,n){i=i.replace("{"+n+"}",t)})),i):U(t)?t(n):n.nameMap;var i},n.prototype.Yv=function(t,n,i,r,e){var a=n[0],o=n[1],u=["center","bottom"];"bottom"===r?(o+=e,u=["center","top"]):"left"===r?a-=e:"right"===r?(a+=e,u=["center","top"]):o-=e;var s=0;return"left"!==r&&"right"!==r||(s=Math.PI/2),{rotation:s,x:a,y:o,style:{align:u[0],verticalAlign:u[1]}}},n.prototype.Ov=function(t,n,i,r){var e=t.getModel("yearLabel");if(e.get("show")){var a=e.get("margin"),o=e.get("position");o||(o="horizontal"!==i?"top":"left");var u=[this.Fv[this.Fv.length-1],this.Bv[0]],s=(u[0][0]+u[1][0])/2,l=(u[0][1]+u[1][1])/2,f="horizontal"===i?0:1,h={top:[s,u[f][1]],bottom:[s,u[1-f][1]],left:[u[1-f][0],l],right:[u[f][0],l]},c=n.start.y;+n.end.y>+n.start.y&&(c=c+"-"+n.end.y);var v=e.get("formatter"),d={start:n.start.y,end:n.end.y,nameMap:c},p=this.Hv(v,d),m=new wu({z2:30,style:Of(e,{text:p}),silent:e.get("silent")});m.attr(this.Yv(m,h[o],i,o,a)),r.add(m)}},n.prototype.Gv=function(t,n,i,r,e){var a="left",o="top",u=t[0],s=t[1];return"horizontal"===i?(s+=e,n&&(a="center"),"start"===r&&(o="bottom")):(u+=e,n&&(o="middle"),"start"===r&&(a="right")),{x:u,y:s,align:a,verticalAlign:o}},n.prototype.Dv=function(t,n,i,r){var e=t.getModel("monthLabel");if(e.get("show")){var a=e.get("nameMap"),o=e.get("margin"),u=e.get("position"),s=e.get("align"),l=[this.Fv,this.Bv];a&&!j(a)||(a&&(n=hh(a)||n),a=n.get(["time","monthAbbr"])||[]);var f="start"===u?0:1,h="horizontal"===i?0:1;o="start"===u?-o:o;for(var c="center"===s,v=e.get("silent"),d=0;d<l[f].length-1;d++){var p=l[f][d].slice(),m=this._v[d];if(c){var y=this.Ev[d];p[h]=(y[h]+l[0][d+1][h])/2}var g=e.get("formatter"),b=a[+m.m-1],w={yyyy:m.y,yy:(m.y+"").slice(2),MM:m.m,M:+m.m,nameMap:b},x=this.Hv(g,w),M=new wu({z2:30,style:D(Of(e,{text:x}),this.Gv(p,c,i,u,o)),silent:v});r.add(M)}}},n.prototype.Xv=function(t,n,i,r,e){var a="center",o="middle",u=t[0],s=t[1],l="start"===i;return"horizontal"===n?(u=u+r+(l?1:-1)*e[0]/2,a=l?"right":"left"):(s=s+r+(l?1:-1)*e[1]/2,o=l?"bottom":"top"),{x:u,y:s,align:a,verticalAlign:o}},n.prototype.Rv=function(t,n,i,r,e){var a=t.getModel("dayLabel");if(a.get("show")){var o=t.coordinateSystem,u=a.get("position"),s=a.get("nameMap"),l=a.get("margin"),f=o.getFirstDayOfWeek();if(!s||j(s))s&&(n=hh(s)||n),s=n.get(["time","dayOfWeekShort"])||P(n.get(["time","dayOfWeekAbbr"]),(function(t){return t[0]}));var h=o.getNextNDay(i.end.time,7-i.lweek).time,c=[o.getCellWidth(),o.getCellHeight()];l=ze(l,Math.min(c[1],c[0])),"start"===u&&(h=o.getNextNDay(i.start.time,-(7+i.fweek)).time,l=-l);for(var v=a.get("silent"),d=0;d<7;d++){var p,m=o.getNextNDay(h,d),y=o.dataToRect([m.time],!1).center;p=Math.abs((d+f)%7);var g=new wu({z2:30,style:D(Of(a,{text:s[p]}),this.Xv(y,r,u,l,c)),silent:v});e.add(g)}}},n.type="calendar",n}(tp),UF=864e5,jF=function(){function t(n,i,r){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this.Xe=n}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this.Uv},t.prototype.getModel=function(){return this.Xe},t.prototype.getRect=function(){return this.Bn},t.prototype.getCellWidth=function(){return this.jv},t.prototype.getCellHeight=function(){return this.Zv},t.prototype.getOrient=function(){return this.qv},t.prototype.getFirstDayOfWeek=function(){return this.Kv},t.prototype.getDateInfo=function(t){var n=(t=We(t)).getFullYear(),i=t.getMonth()+1,r=i<10?"0"+i:""+i,e=t.getDate(),a=e<10?"0"+e:""+e,o=t.getDay();return{y:n+"",m:r,d:a,day:o=Math.abs((o+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:n+"-"+r+"-"+a,date:t}},t.prototype.getNextNDay=function(t,n){return 0===(n=n||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+n),this.getDateInfo(t)},t.prototype.update=function(t,n){this.Kv=+this.Xe.getModel("dayLabel").get("firstDay"),this.qv=this.Xe.get("orient"),this.Jv=this.Xe.getModel("itemStyle").getItemStyle().lineWidth||0,this.Uv=this.$v(this.Qv());var i=this.Uv.weeks||1,r=["width","height"],e=this.Xe.getCellSize().slice(),a=this.Xe.getBoxLayoutParams(),o="horizontal"===this.qv?[i,7]:[7,i];E([0,1],(function(t){l(e,t)&&(a[r[t]]=e[t]*o[t])}));var u={width:n.getWidth(),height:n.getHeight()},s=this.Bn=ic(a,u);function l(t,n){return null!=t[n]&&"auto"!==t[n]}E([0,1],(function(t){l(e,t)||(e[t]=s[r[t]]/o[t])})),this.jv=e[0],this.Zv=e[1]},t.prototype.dataToPoint=function(t,n){X(t)&&(t=t[0]),null==n&&(n=!0);var i=this.getDateInfo(t),r=this.Uv,e=i.formatedDate;if(n&&!(i.time>=r.start.time&&i.time<r.end.time+UF))return[NaN,NaN];var a=i.day,o=this.$v([r.start.time,e]).nthWeek;return"vertical"===this.qv?[this.Bn.x+a*this.jv+this.jv/2,this.Bn.y+o*this.Zv+this.Zv/2]:[this.Bn.x+o*this.jv+this.jv/2,this.Bn.y+a*this.Zv+this.Zv/2]},t.prototype.pointToData=function(t){var n=this.pointToDate(t);return n&&n.time},t.prototype.dataToRect=function(t,n){var i=this.dataToPoint(t,n);return{contentShape:{x:i[0]-(this.jv-this.Jv)/2,y:i[1]-(this.Zv-this.Jv)/2,width:this.jv-this.Jv,height:this.Zv-this.Jv},center:i,tl:[i[0]-this.jv/2,i[1]-this.Zv/2],tr:[i[0]+this.jv/2,i[1]-this.Zv/2],br:[i[0]+this.jv/2,i[1]+this.Zv/2],bl:[i[0]-this.jv/2,i[1]+this.Zv/2]}},t.prototype.pointToDate=function(t){var n=Math.floor((t[0]-this.Bn.x)/this.jv)+1,i=Math.floor((t[1]-this.Bn.y)/this.Zv)+1,r=this.Uv.range;return"vertical"===this.qv?this.td(i,n-1,r):this.td(n,i-1,r)},t.prototype.convertToPixel=function(t,n,i){var r=ZF(n);return r===this?r.dataToPoint(i):null},t.prototype.convertFromPixel=function(t,n,i){var r=ZF(n);return r===this?r.pointToData(i):null},t.prototype.containPoint=function(t){return!1},t.prototype.Qv=function(){var t,n=this.Xe.get("range");if(X(n)&&1===n.length&&(n=n[0]),X(n))t=n;else{var i=n.toString();if(/^\d{4}$/.test(i)&&(t=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var r=this.getDateInfo(i),e=r.date;e.setMonth(e.getMonth()+1);var a=this.getNextNDay(e,-1);t=[r.formatedDate,a.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(t=[i,i])}if(!t)return n;var o=this.$v(t);return o.start.time>o.end.time&&t.reverse(),t},t.prototype.$v=function(t){var n,i=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];i[0].time>i[1].time&&(n=!0,i.reverse());var r=Math.floor(i[1].time/UF)-Math.floor(i[0].time/UF)+1,e=new Date(i[0].time),a=e.getDate(),o=i[1].date.getDate();e.setDate(a+r-1);var u=e.getDate();if(u!==o)for(var s=e.getTime()-i[1].time>0?1:-1;(u=e.getDate())!==o&&(e.getTime()-i[1].time)*s>0;)r-=s,e.setDate(u-s);var l=Math.floor((r+i[0].day+6)/7),f=n?1-l:l-1;return n&&i.reverse(),{range:[i[0].formatedDate,i[1].formatedDate],start:i[0],end:i[1],allDay:r,weeks:l,nthWeek:f,fweek:i[0].day,lweek:i[1].day}},t.prototype.td=function(t,n,i){var r=this.$v(i);if(t>r.weeks||0===t&&n<r.fweek||t===r.weeks&&n>r.lweek)return null;var e=7*(t-1)-r.fweek+n,a=new Date(r.start.time);return a.setDate(+r.start.d+e),this.getDateInfo(a)},t.create=function(n,i){var r=[];return n.eachComponent("calendar",(function(n){var i=new t(n);r.push(i),n.coordinateSystem=i})),n.eachSeries((function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=r[t.get("calendarIndex")||0])})),r},t.dimensions=["time","value"],t}();function ZF(t){var n=t.calendarModel,i=t.seriesModel;return n?n.coordinateSystem:i?i.coordinateSystem:null}function qF(t,n){var i;return E(n,(function(n){null!=t[n]&&"auto"!==t[n]&&(i=!0)})),i}var KF=["transition","enterFrom","leaveTo"],JF=KF.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function $F(t,n,i){if(i&&(!t[i]&&n[i]&&(t[i]={}),t=t[i],n=n[i]),t&&n)for(var r=i?KF:JF,e=0;e<r.length;e++){var a=r[e];null==t[a]&&null!=n[a]&&(t[a]=n[a])}}var QF=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.preventAutoZ=!0,i}return l(n,t),n.prototype.mergeOption=function(n,i){var r=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,n,i),this.option.elements=r},n.prototype.optionUpdated=function(t,n){var i=this.option,r=(n?i:t).elements,e=i.elements=n?[]:i.elements,a=[];this.nd(r,a,null);var o=aa(e,a,"normalMerge"),u=this.rd=[];E(o,(function(t,n){var i=t.newOption;i&&(u.push(i),function(t,n){var i=t.existing;if(n.id=t.keyInfo.id,!n.type&&i&&(n.type=i.type),null==n.parentId){var r=n.parentOption;r?n.parentId=r.id:i&&(n.parentId=i.parentId)}n.parentOption=null}(t,i),function(t,n,i){var r=D({},i),e=t[n],a=i.$action||"merge";"merge"===a?e?(L(e,r,!0),ac(e,r,{ignoreSize:!0}),uc(i,e),$F(i,e),$F(i,e,"shape"),$F(i,e,"style"),$F(i,e,"extra"),i.clipPath=e.clipPath):t[n]=r:"replace"===a?t[n]=r:"remove"===a&&e&&(t[n]=null)}(e,n,i),function(t,n){if(t&&(t.hv=n.hv=[qF(n,["left","right"]),qF(n,["top","bottom"])],"group"===t.type)){var i=t,r=n;null==i.width&&(i.width=r.width=0),null==i.height&&(i.height=r.height=0)}}(e[n],i))}),this),i.elements=V(e,(function(t){return t&&delete t.$action,null!=t}))},n.prototype.nd=function(t,n,i){E(t,(function(t){if(t){i&&(t.parentOption=i),n.push(t);var r=t.children;r&&r.length&&this.nd(r,n,t),delete t.children}}),this)},n.prototype.useElOptionsToUpdate=function(){var t=this.rd;return this.rd=null,t},n.type="graphic",n.defaultOption={elements:[]},n}(lc),tB={path:null,compoundPath:null,group:Se,image:fu,text:wu},nB=ca(),iB=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(){this.ed=pt()},n.prototype.render=function(t,n,i){t!==this.ad&&this.us(),this.ad=t,this.od(t),this.ud(t,i)},n.prototype.od=function(t){var n=t.useElOptionsToUpdate();if(n){var i=this.ed,r=this.group,e=t.get("z"),a=t.get("zlevel");E(n,(function(n){var o=sa(n.id,null),u=null!=o?i.get(o):null,s=sa(n.parentId,null),l=null!=s?i.get(s):r,f=n.type,h=n.style;"text"===f&&h&&n.hv&&n.hv[1]&&(h.textVerticalAlign=h.textBaseline=h.verticalAlign=h.align=null);var c=n.textContent,v=n.textConfig;if(h&&fD(h,f,!!v,!!c)){var d=hD(h,f,!0);!v&&d.textConfig&&(v=n.textConfig=d.textConfig),!c&&d.textContent&&(c=d.textContent)}var p=function(t){return t=D({},t),E(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat($h),(function(n){delete t[n]})),t}(n),m=n.$action||"merge",y="merge"===m,g="replace"===m;if(y){var b=u;(N=!u)?b=eB(o,l,n.type,i):(b&&(nB(b).isNew=!1),OD(b)),b&&(wD(b,p,t,{isInit:N}),oB(b,n,e,a))}else if(g){aB(u,n,i,t);var w=eB(o,l,n.type,i);w&&(wD(w,p,t,{isInit:!0}),oB(w,n,e,a))}else"remove"===m&&(xD(u,n),aB(u,n,i,t));var x=i.get(o);if(x&&c)if(y){var M=x.getTextContent();M?M.attr(c):x.setTextContent(new wu(c))}else g&&x.setTextContent(new wu(c));if(x){var S=n.clipPath;if(S){var k=S.type,A=void 0,N=!1;if(y){var C=x.getClipPath();A=(N=!C||nB(C).type!==k)?rB(k):C}else g&&(N=!0,A=rB(k));x.setClipPath(A),wD(A,S,t,{isInit:N}),DD(A,S.keyframeAnimation,t)}var T=nB(x);x.setTextConfig(v),T.option=n,function(t,n,i){var r=Du(t).eventData;t.silent||t.ignore||r||(r=Du(t).eventData={componentType:"graphic",componentIndex:n.componentIndex,name:t.name});r&&(r.info=i.info)}(x,t,n),Sf({el:x,componentModel:t,itemName:x.name,itemTooltipOption:n.tooltip}),DD(x,n.keyframeAnimation,t)}}))}},n.prototype.ud=function(t,n){for(var i=t.option.elements,r=this.group,e=this.ed,a=n.getWidth(),o=n.getHeight(),u=["x","y"],s=0;s<i.length;s++){if((d=null!=(v=sa((c=i[s]).id,null))?e.get(v):null)&&d.isGroup){var l=(p=d.parent)===r,f=nB(d),h=nB(p);f.width=ze(f.option.width,l?a:h.width)||0,f.height=ze(f.option.height,l?o:h.height)||0}}for(s=i.length-1;s>=0;s--){var c,v,d;if(d=null!=(v=sa((c=i[s]).id,null))?e.get(v):null){var p=d.parent,m=(h=nB(p),{}),y=rc(d,c,p===r?{width:a,height:o}:{width:h.width,height:h.height},null,{hv:c.hv,boundingMode:c.bounding},m);if(!nB(d).isNew&&y){for(var g=c.transition,b={},w=0;w<u.length;w++){var x=u[w],M=m[x];g&&(SD(g)||F(g,x)>=0)?b[x]=M:d[x]=M}Ul(d,b,t,0)}else d.attr(m)}}},n.prototype.us=function(){var t=this,n=this.ed;n.each((function(i){aB(i,nB(i).option,n,t.ad)})),this.ed=pt()},n.prototype.dispose=function(){this.us()},n.type="graphic",n}(tp);function rB(t){var n=new(bt(tB,t)?tB[t]:af(t))({});return nB(n).type=t,n}function eB(t,n,i,r){var e=rB(i);return n.add(e),r.set(t,e),nB(e).id=t,nB(e).isNew=!0,e}function aB(t,n,i,r){t&&t.parent&&("group"===t.type&&t.traverse((function(t){aB(t,n,i,r)})),MD(t,n,r),i.removeKey(nB(t).id))}function oB(t,n,i,r){t.isGroup||E([["cursor",io.prototype.cursor],["zlevel",r||0],["z",i||0],["z2",0]],(function(i){var r=i[0];bt(n,r)?t[r]=rt(n[r],i[1]):null==t[r]&&(t[r]=i[1])})),E(H(n),(function(i){if(0===i.indexOf("on")){var r=n[i];t[i]=U(r)?r:null}})),bt(n,"draggable")&&(t.draggable=n.draggable),null!=n.name&&(t.name=n.name),null!=n.id&&(t.id=n.id)}var uB=["x","y","radius","angle","single"],sB=["cartesian2d","polar","singleAxis"];function lB(t){return t+"Axis"}function fB(t,n){var i,r=pt(),e=[],a=pt();t.eachComponent({mainType:"dataZoom",query:n},(function(t){a.get(t.uid)||u(t)}));do{i=!1,t.eachComponent("dataZoom",o)}while(i);function o(t){!a.get(t.uid)&&function(t){var n=!1;return t.eachTargetAxis((function(t,i){var e=r.get(t);e&&e[i]&&(n=!0)})),n}(t)&&(u(t),i=!0)}function u(t){a.set(t.uid,!0),e.push(t),t.eachTargetAxis((function(t,n){(r.get(t)||r.set(t,[]))[n]=!0}))}return e}function hB(t){var n=t.ecModel,i={infoList:[],infoMap:pt()};return t.eachTargetAxis((function(t,r){var e=n.getComponent(lB(t),r);if(e){var a=e.getCoordSysModel();if(a){var o=a.uid,u=i.infoMap.get(o);u||(u={model:a,axisModels:[]},i.infoList.push(u),i.infoMap.set(o,u)),u.axisModels.push(e)}}})),i}var cB=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),vB=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.sd=!0,i.ld=!0,i.fd=["percent","percent"],i}return l(n,t),n.prototype.init=function(t,n,i){var r=dB(t);this.settledOption=r,this.mergeDefaultAndTheme(t,i),this.Ya(r)},n.prototype.mergeOption=function(t){var n=dB(t);L(this.option,t,!0),L(this.settledOption,n,!0),this.Ya(n)},n.prototype.Ya=function(t){var n=this.option;this.hd(t),this.vd(t);var i=this.settledOption;E([["start","startValue"],["end","endValue"]],(function(t,r){"value"===this.fd[r]&&(n[t[0]]=i[t[0]]=null)}),this),this.dd()},n.prototype.dd=function(){var t=this.get("orient",!0),n=this.pd=pt();this.md(n)?this.qv=t||this.yd():(this.qv=t||"horizontal",this.gd(n,this.qv)),this.ld=!0,n.each((function(t){t.indexList.length&&(this.ld=!1)}),this)},n.prototype.md=function(t){var n=!1;return E(uB,(function(i){var r=this.getReferringComponents(lB(i),ya);if(r.specified){n=!0;var e=new cB;E(r.models,(function(t){e.add(t.componentIndex)})),t.set(i,e)}}),this),n},n.prototype.gd=function(t,n){var i=this.ecModel,r=!0;if(r){var e="vertical"===n?"y":"x";a(i.findComponents({mainType:e+"Axis"}),e)}r&&a(i.findComponents({mainType:"singleAxis",filter:function(t){return t.get("orient",!0)===n}}),"single");function a(n,i){var e=n[0];if(e){var a=new cB;if(a.add(e.componentIndex),t.set(i,a),r=!1,"x"===i||"y"===i){var o=e.getReferringComponents("grid",ma).models[0];o&&E(n,(function(t){e.componentIndex!==t.componentIndex&&o===t.getReferringComponents("grid",ma).models[0]&&a.add(t.componentIndex)}))}}}r&&E(uB,(function(n){if(r){var e=i.findComponents({mainType:lB(n),filter:function(t){return"category"===t.get("type",!0)}});if(e[0]){var a=new cB;a.add(e[0].componentIndex),t.set(n,a),r=!1}}}),this)},n.prototype.yd=function(){var t;return this.eachTargetAxis((function(n){!t&&(t=n)}),this),"y"===t?"vertical":"horizontal"},n.prototype.hd=function(t){if(t.hasOwnProperty("throttle")&&(this.sd=!1),this.sd){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},n.prototype.vd=function(t){var n=this.fd,i=this.get("rangeMode");E([["start","startValue"],["end","endValue"]],(function(r,e){var a=null!=t[r[0]],o=null!=t[r[1]];a&&!o?n[e]="percent":!a&&o?n[e]="value":i?n[e]=i[e]:a&&(n[e]="percent")}))},n.prototype.noTarget=function(){return this.ld},n.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis((function(n,i){null==t&&(t=this.ecModel.getComponent(lB(n),i))}),this),t},n.prototype.eachTargetAxis=function(t,n){this.pd.each((function(i,r){E(i.indexList,(function(i){t.call(n,r,i)}))}))},n.prototype.getAxisProxy=function(t,n){var i=this.getAxisModel(t,n);if(i)return i.bd},n.prototype.getAxisModel=function(t,n){var i=this.pd.get(t);if(i&&i.indexMap[n])return this.ecModel.getComponent(lB(t),n)},n.prototype.setRawRange=function(t){var n=this.option,i=this.settledOption;E([["start","startValue"],["end","endValue"]],(function(r){null==t[r[0]]&&null==t[r[1]]||(n[r[0]]=i[r[0]]=t[r[0]],n[r[1]]=i[r[1]]=t[r[1]])}),this),this.vd(t)},n.prototype.setCalculatedRange=function(t){var n=this.option;E(["start","startValue","end","endValue"],(function(i){n[i]=t[i]}))},n.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},n.prototype.getValueRange=function(t,n){if(null!=t||null!=n)return this.getAxisProxy(t,n).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},n.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.bd;for(var n,i=this.pd.keys(),r=0;r<i.length;r++)for(var e=i[r],a=this.pd.get(e),o=0;o<a.indexList.length;o++){var u=this.getAxisProxy(e,a.indexList[o]);if(u.hostedBy(this))return u;n||(n=u)}return n},n.prototype.getRangePropMode=function(){return this.fd.slice()},n.prototype.getOrient=function(){return this.qv},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={z:4,filterMode:"filter",start:0,end:100},n}(lc);function dB(t){var n={};return E(["start","end","startValue","endValue","throttle"],(function(i){t.hasOwnProperty(i)&&(n[i]=t[i])})),n}var pB=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="dataZoom.select",n}(vB),mB=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i,r){this.dataZoomModel=t,this.ecModel=n,this.api=i},n.type="dataZoom",n}(tp),yB=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="dataZoom.select",n}(mB),gB=E,bB=Oe,wB=function(){function t(t,n,i,r){this.wd=t,this.xd=n,this.ecModel=r,this.Md=i}return t.prototype.hostedBy=function(t){return this.Md===t},t.prototype.getDataValueWindow=function(){return this.Sd.slice()},t.prototype.getDataPercentWindow=function(){return this.kd.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries((function(n){if(function(t){var n=t.get("coordinateSystem");return F(sB,n)>=0}(n)){var i=lB(this.wd),r=n.getReferringComponents(i,ma).models[0];r&&this.xd===r.componentIndex&&t.push(n)}}),this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this.wd+"Axis",this.xd)},t.prototype.getMinMaxSpan=function(){return z(this.Ad)},t.prototype.calculateDataWindow=function(t){var n,i=this.Nd,r=this.getAxisModel().axis.scale,e=this.Md.getRangePropMode(),a=[0,100],o=[],u=[];gB(["start","end"],(function(s,l){var f=t[s],h=t[s+"Value"];"percent"===e[l]?(null==f&&(f=a[l]),h=r.parse(Ie(f,a,i))):(n=!0,f=Ie(h=null==h?i[l]:r.parse(h),i,a)),u[l]=null==h||isNaN(h)?i[l]:h,o[l]=null==f||isNaN(f)?a[l]:f})),bB(u),bB(o);var s=this.Ad;function l(t,n,i,e,a){var o=a?"Span":"ValueSpan";HI(0,t,i,"all",s["min"+o],s["max"+o]);for(var u=0;u<2;u++)n[u]=Ie(t[u],i,e,!0),a&&(n[u]=r.parse(n[u]))}return n?l(u,o,i,a,!1):l(o,u,a,i,!0),{valueWindow:u,percentWindow:o}},t.prototype.reset=function(t){if(t===this.Md){var n=this.getTargetSeriesModels();this.Nd=function(t,n,i){var r=[1/0,-1/0];gB(i,(function(t){!function(t,n,i){n&&E(Wb(n,i),(function(i){var r=n.getApproximateExtent(i);r[0]<t[0]&&(t[0]=r[0]),r[1]>t[1]&&(t[1]=r[1])}))}(r,t.getData(),n)}));var e=t.getAxisModel(),a=Lb(e.axis.scale,e,r).calculate();return[a.min,a.max]}(this,this.wd,n),this.Cd();var i=this.calculateDataWindow(t.settledOption);this.Sd=i.valueWindow,this.kd=i.percentWindow,this.Td()}},t.prototype.filterData=function(t,n){if(t===this.Md){var i=this.wd,r=this.getTargetSeriesModels(),e=t.get("filterMode"),a=this.Sd;"none"!==e&&gB(r,(function(t){var n=t.getData(),r=n.mapDimensionsAll(i);if(r.length){if("weakFilter"===e){var o=n.getStore(),u=P(r,(function(t){return n.getDimensionIndex(t)}),n);n.filterSelf((function(t){for(var n,i,e,s=0;s<r.length;s++){var l=o.get(u[s],t),f=!isNaN(l),h=l<a[0],c=l>a[1];if(f&&!h&&!c)return!0;f&&(e=!0),h&&(n=!0),c&&(i=!0)}return e&&n&&i}))}else gB(r,(function(i){if("empty"===e)t.setData(n=n.map(i,(function(t){return function(t){return t>=a[0]&&t<=a[1]}(t)?t:NaN})));else{var r={};r[i]=a,n.selectRange(r)}}));gB(r,(function(t){n.setApproximateExtent(a,t)}))}}))}},t.prototype.Cd=function(){var t=this.Ad={},n=this.Md,i=this.Nd;gB(["min","max"],(function(r){var e=n.get(r+"Span"),a=n.get(r+"ValueSpan");null!=a&&(a=this.getAxisModel().axis.scale.parse(a)),null!=a?e=Ie(i[0]+a,i,[0,100],!0):null!=e&&(a=Ie(e,[0,100],i,!0)-i[0]),t[r+"Span"]=e,t[r+"ValueSpan"]=a}),this)},t.prototype.Td=function(){var t=this.getAxisModel(),n=this.kd,i=this.Sd;if(n){var r=Re(i,[0,500]);r=Math.min(r,20);var e=t.axis.scale.rawExtentInfo;0!==n[0]&&e.setDeterminedMinMax("min",+i[0].toFixed(r)),100!==n[1]&&e.setDeterminedMinMax("max",+i[1].toFixed(r)),e.freeze()}},t}();var xB={getTargetSeries:function(t){function n(n){t.eachComponent("dataZoom",(function(i){i.eachTargetAxis((function(r,e){var a=t.getComponent(lB(r),e);n(r,e,a,i)}))}))}n((function(t,n,i,r){i.bd=null}));var i=[];n((function(n,r,e,a){e.bd||(e.bd=new wB(n,r,a,t),i.push(e.bd))}));var r=pt();return E(i,(function(t){E(t.getTargetSeriesModels(),(function(t){r.set(t.uid,t)}))})),r},overallReset:function(t,n){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(n,i){t.getAxisProxy(n,i).reset(t)})),t.eachTargetAxis((function(i,r){t.getAxisProxy(i,r).filterData(t,n)}))})),t.eachComponent("dataZoom",(function(t){var n=t.findRepresentativeAxisProxy();if(n){var i=n.getDataPercentWindow(),r=n.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:r[0],endValue:r[1]})}}))}};var MB=!1;function SB(t){MB||(MB=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,xB),function(t){t.registerAction("dataZoom",(function(t,n){E(fB(n,t),(function(n){n.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))}))}(t),t.registerSubTypeDefaulter("dataZoom",(function(){return"slider"})))}function kB(t){t.registerComponentModel(pB),t.registerComponentView(yB),SB(t)}var AB=function(){return function(){}}(),NB={};function CB(t,n){NB[t]=n}function TB(t){return NB[t]}var IB=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;E(this.option.feature,(function(t,i){var r=TB(i);r&&(r.getDefaultOption&&(r.defaultOption=r.getDefaultOption(n)),L(t,r.defaultOption))}))},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},n}(lc);function zB(t,n){var i=Gh(n.get("padding")),r=n.getItemStyle(["color","opacity"]);return r.fill=n.get("backgroundColor"),t=new yu({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:n.get("borderRadius")},style:r,silent:!0,z2:-1})}var LB=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.render=function(t,n,i,r){var e=this.group;if(e.removeAll(),t.get("show")){var a=+t.get("itemSize"),o="vertical"===t.get("orient"),u=t.get("feature")||{},s=this.Id||(this.Id={}),l=[];E(u,(function(t,n){l.push(n)})),new ig(this.zd||[],l).add(f).update(f).remove(G(f,null)).execute(),this.zd=l,function(t,n,i){var r=n.getBoxLayoutParams(),e=n.get("padding"),a={width:i.getWidth(),height:i.getHeight()},o=ic(r,a,e);nc(n.get("orient"),t,n.get("itemGap"),o.width,o.height),rc(t,r,a,e)}(e,t,i),e.add(zB(e.getBoundingRect(),t)),o||e.eachChild((function(t){var n=t.Ld,r=t.ensureState("emphasis"),o=r.textConfig||(r.textConfig={}),u=t.getTextContent(),s=u&&u.ensureState("emphasis");if(s&&!U(s)&&n){var l=s.style||(s.style={}),f=ue(n,wu.makeFont(l)),h=t.x+e.x,c=!1;t.y+e.y+a+f.height>i.getHeight()&&(o.position="top",c=!0);var v=c?-5-f.height:a+10;h+f.width/2>i.getWidth()?(o.position=["100%",v],l.align="right"):h-f.width/2<0&&(o.position=[0,v],l.align="left")}}))}function f(f,h){var c,v=l[f],d=l[h],p=u[v],m=new th(p,t,t.ecModel);if(r&&null!=r.newTitle&&r.featureName===v&&(p.title=r.newTitle),v&&!d){if(function(t){return 0===t.indexOf("my")}(v))c={onclick:m.option.onclick,featureName:v};else{var y=TB(v);if(!y)return;c=new y}s[v]=c}else if(!(c=s[d]))return;c.uid=ih("toolbox-feature"),c.model=m,c.ecModel=n,c.api=i;var g=c instanceof AB;v||!d?!m.get("show")||g&&c.unusable?g&&c.remove&&c.remove(n,i):(!function(r,u,s){var l,f,h=r.getModel("iconStyle"),c=r.getModel(["emphasis","iconStyle"]),v=u instanceof AB&&u.getIcons?u.getIcons():r.get("icon"),d=r.get("title")||{};j(v)?(l={})[s]=v:l=v;j(d)?(f={})[s]=d:f=d;var p=r.iconPaths={};E(l,(function(s,l){var v=bf(s,{},{x:-a/2,y:-a/2,width:a,height:a});v.setStyle(h.getItemStyle()),v.ensureState("emphasis").style=c.getItemStyle();var d=new wu({style:{text:f[l],align:c.get("textAlign"),borderRadius:c.get("textBorderRadius"),padding:c.get("textPadding"),fill:null,font:Ef({fontStyle:c.get("textFontStyle"),fontFamily:c.get("textFontFamily"),fontSize:c.get("textFontSize"),fontWeight:c.get("textFontWeight")},n)},ignore:!0});v.setTextContent(d),Sf({el:v,componentModel:t,itemName:l,formatterParamsExtra:{title:f[l]}}),v.Ld=f[l],v.on("mouseover",(function(){var n=c.getItemStyle(),r=o?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";d.setStyle({fill:c.get("textFill")||n.fill||n.stroke||"#000",backgroundColor:c.get("textBackgroundColor")}),v.setTextConfig({position:c.get("textPosition")||r}),d.ignore=!t.get("showTitle"),i.enterEmphasis(this)})).on("mouseout",(function(){"emphasis"!==r.get(["iconStatus",l])&&i.leaveEmphasis(this),d.hide()})),("emphasis"===r.get(["iconStatus",l])?ss:ls)(v),e.add(v),v.on("click",Y(u.onclick,u,n,i,l)),p[l]=v}))}(m,c,v),m.setIconStatus=function(t,n){var i=this.option,r=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=n,r[t]&&("emphasis"===n?ss:ls)(r[t])},c instanceof AB&&c.render&&c.render(m,n,i,r)):g&&c.dispose&&c.dispose(n,i)}},n.prototype.updateView=function(t,n,i,r){E(this.Id,(function(t){t instanceof AB&&t.updateView&&t.updateView(t.model,n,i,r)}))},n.prototype.remove=function(t,n){E(this.Id,(function(i){i instanceof AB&&i.remove&&i.remove(t,n)})),this.group.removeAll()},n.prototype.dispose=function(t,n){E(this.Id,(function(i){i instanceof AB&&i.dispose&&i.dispose(t,n)}))},n.type="toolbox",n}(tp);var OB=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.onclick=function(t,n){var i=this.model,r=i.get("name")||t.get("title.0.text")||"echarts",e="svg"===n.getZr().painter.getType(),a=e?"svg":i.get("type",!0)||"png",o=n.getConnectedDataURL({type:a,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),u=h.browser;if("function"!=typeof MouseEvent||!u.newEdge&&(u.ie||u.edge))if(window.navigator.msSaveOrOpenBlob||e){var s=o.split(","),l=s[0].indexOf("base64")>-1,f=e?decodeURIComponent(s[1]):s[1];l&&(f=window.atob(f));var c=r+"."+a;if(window.navigator.msSaveOrOpenBlob){for(var v=f.length,d=new Uint8Array(v);v--;)d[v]=f.charCodeAt(v);var p=new Blob([d]);window.navigator.msSaveOrOpenBlob(p,c)}else{var m=document.createElement("iframe");document.body.appendChild(m);var y=m.contentWindow,g=y.document;g.open("image/svg+xml","replace"),g.write(f),g.close(),y.focus(),g.execCommand("SaveAs",!0,c),document.body.removeChild(m)}}else{var b=i.get("lang"),w='<body style="margin:0;"><img src="'+o+'" style="max-width:100%;" title="'+(b&&b[0]||"")+'" /></body>',x=window.open();x.document.write(w),x.document.title=r}else{var M=document.createElement("a");M.download=r+"."+a,M.target="_blank",M.href=o;var S=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});M.dispatchEvent(S)}},n.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},n}(AB),DB="__ec_magicType_stack__",RB=[["line","bar"],["stack"]],FB=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.getIcons=function(){var t=this.model,n=t.get("icon"),i={};return E(t.get("type"),(function(t){n[t]&&(i[t]=n[t])})),i},n.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},n.prototype.onclick=function(t,n,i){var r=this.model,e=r.get(["seriesIndex",i]);if(BB[i]){var a,o={series:[]};E(RB,(function(t){F(t,i)>=0&&E(t,(function(t){r.setIconStatus(t,"normal")}))})),r.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==e?null:{seriesIndex:e}},(function(t){var n=t.subType,e=t.id,a=BB[i](n,e,t,r);a&&(R(a,t.option),o.series.push(a));var u=t.coordinateSystem;if(u&&"cartesian2d"===u.type&&("line"===i||"bar"===i)){var s=u.getAxesByScale("ordinal")[0];if(s){var l=s.dim+"Axis",f=t.getReferringComponents(l,ma).models[0].componentIndex;o[l]=o[l]||[];for(var h=0;h<=f;h++)o[l][f]=o[l][f]||{};o[l][f].boundaryGap="bar"===i}}}));var u=i;"stack"===i&&(a=L({stack:r.option.title.tiled,tiled:r.option.title.stack},r.option.title),"emphasis"!==r.get(["iconStatus",i])&&(u="tiled")),n.dispatchAction({type:"changeMagicType",currentType:u,newOption:o,newTitle:a,featureName:"magicType"})}},n}(AB),BB={line:function(t,n,i,r){if("bar"===t)return L({id:n,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(t,n,i,r){if("line"===t)return L({id:n,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(t,n,i,r){var e=i.get("stack")===DB;if("line"===t||"bar"===t)return r.setIconStatus("stack",e?"normal":"emphasis"),L({id:n,stack:e?"":DB},r.get(["option","stack"])||{},!0)}};Xy({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},(function(t,n){n.mergeOption(t.newOption)}));var _B=new Array(60).join("-"),EB="\t";function PB(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var WB=new RegExp("[\t]+","g");function VB(t,n){var i=t.split(new RegExp("\n*"+_B+"\n*","g")),r={series:[]};return E(i,(function(t,i){if(function(t){if(t.slice(0,t.indexOf("\n")).indexOf(EB)>=0)return!0}(t)){var e=function(t){for(var n=t.split(/\n+/g),i=[],r=P(PB(n.shift()).split(WB),(function(t){return{name:t,data:[]}})),e=0;e<n.length;e++){var a=PB(n[e]).split(WB);i.push(a.shift());for(var o=0;o<a.length;o++)r[o]&&(r[o].data[e]=a[o])}return{series:r,categories:i}}(t),a=n[i],o=a.axisDim+"Axis";a&&(r[o]=r[o]||[],r[o][a.axisIndex]={data:e.categories},r.series=r.series.concat(e.series))}else{e=function(t){for(var n=t.split(/\n+/g),i=PB(n.shift()),r=[],e=0;e<n.length;e++){var a=PB(n[e]);if(a){var o=a.split(WB),u="",s=void 0,l=!1;isNaN(o[0])?(l=!0,u=o[0],o=o.slice(1),r[e]={name:u,value:[]},s=r[e].value):s=r[e]=[];for(var f=0;f<o.length;f++)s.push(+o[f]);1===s.length&&(l?r[e].value=s[0]:r[e]=s[0])}}return{name:i,data:r}}(t);r.series.push(e)}})),r}var HB=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.onclick=function(t,n){setTimeout((function(){n.dispatchAction({type:"hideTip"})}));var i=n.getDom(),r=this.model;this.Fe&&i.removeChild(this.Fe);var e=document.createElement("div");e.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",e.style.backgroundColor=r.get("backgroundColor")||"#fff";var a=document.createElement("h4"),o=r.get("lang")||[];a.innerHTML=o[0]||r.get("title"),a.style.cssText="margin:10px 20px",a.style.color=r.get("textColor");var u=document.createElement("div"),s=document.createElement("textarea");u.style.cssText="overflow:auto";var l=r.get("optionToContent"),f=r.get("contentToOption"),h=function(t){var n,i,r,e=function(t){var n={},i=[],r=[];return t.eachRawSeries((function(t){var e=t.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)i.push(t);else{var a=e.getBaseAxis();if("category"===a.type){var o=a.dim+"_"+a.index;n[o]||(n[o]={categoryAxis:a,valueAxis:e.getOtherAxis(a),series:[]},r.push({axisDim:a.dim,axisIndex:a.index})),n[o].series.push(t)}else i.push(t)}})),{seriesGroupByCategoryAxis:n,other:i,meta:r}}(t);return{value:V([(i=e.seriesGroupByCategoryAxis,r=[],E(i,(function(t,n){var i=t.categoryAxis,e=t.valueAxis.dim,a=[" "].concat(P(t.series,(function(t){return t.name}))),o=[i.model.getCategories()];E(t.series,(function(t){var n=t.getRawData();o.push(t.getRawData().mapArray(n.mapDimension(e),(function(t){return t})))}));for(var u=[a.join(EB)],s=0;s<o[0].length;s++){for(var l=[],f=0;f<o.length;f++)l.push(o[f][s]);u.push(l.join(EB))}r.push(u.join("\n"))})),r.join("\n\n"+_B+"\n\n")),(n=e.other,P(n,(function(t){var n=t.getRawData(),i=[t.name],r=[];return n.each(n.dimensions,(function(){for(var t=arguments.length,e=arguments[t-1],a=n.getName(e),o=0;o<t-1;o++)r[o]=arguments[o];i.push((a?a+EB:"")+r.join(EB))})),i.join("\n")})).join("\n\n"+_B+"\n\n"))],(function(t){return!!t.replace(/[\n\t\s]/g,"")})).join("\n\n"+_B+"\n\n"),meta:e.meta}}(t);if(U(l)){var c=l(n.getOption());j(c)?u.innerHTML=c:Q(c)&&u.appendChild(c)}else{s.readOnly=r.get("readOnly");var v=s.style;v.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",v.color=r.get("textColor"),v.borderColor=r.get("textareaBorderColor"),v.backgroundColor=r.get("textareaColor"),s.value=h.value,u.appendChild(s)}var d=h.meta,p=document.createElement("div");p.style.cssText="position:absolute;bottom:5px;left:0;right:0";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",y=document.createElement("div"),g=document.createElement("div");m+=";background-color:"+r.get("buttonColor"),m+=";color:"+r.get("buttonTextColor");var b=this;function w(){i.removeChild(e),b.Fe=null}un(y,"click",w),un(g,"click",(function(){if(null==f&&null!=l||null!=f&&null==l)w();else{var t;try{t=U(f)?f(u,n.getOption()):VB(s.value,d)}catch(i){throw w(),new Error("Data view format error "+i)}t&&n.dispatchAction({type:"changeDataView",newOption:t}),w()}})),y.innerHTML=o[1],g.innerHTML=o[2],g.style.cssText=y.style.cssText=m,!r.get("readOnly")&&p.appendChild(g),p.appendChild(y),e.appendChild(a),e.appendChild(u),e.appendChild(p),u.style.height=i.clientHeight-80+"px",i.appendChild(e),this.Fe=e},n.prototype.remove=function(t,n){this.Fe&&n.getDom().removeChild(this.Fe)},n.prototype.dispose=function(t,n){this.remove(t,n)},n.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},n}(AB);function YB(t,n){return P(t,(function(t,i){var r=n&&n[i];if(K(r)&&!X(r)){K(t)&&!X(t)||(t={value:t});var e=null!=r.name&&null==t.name;return t=R(t,r),e&&delete t.name,t}return t}))}Xy({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},(function(t,n){var i=[];E(t.newOption.series,(function(t){var r=n.getSeriesByName(t.name)[0];if(r){var e=r.get("data");i.push({name:t.name,data:YB(t.data,e)})}else i.push(D({type:"scatter"},t))})),n.mergeOption(R({series:i},t.newOption))}));var GB=E,XB=ca();function UB(t){var n=XB(t);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var jB=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.onclick=function(t,n){!function(t){XB(t).snapshots=null}(t),n.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},n}(AB);Xy({type:"restore",event:"restore",update:"prepareAndUpdate"},(function(t,n){n.resetOption("recreate")}));var ZB=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],qB=function(){function t(t,n,i){var r=this;this.Od=[];var e=JB(n,t);E($B,(function(t,n){(!i||!i.include||F(i.include,n)>=0)&&t(e,r.Od)}))}return t.prototype.setOutputRanges=function(t,n){return this.matchOutputRanges(t,n,(function(t,n,i){if((t.coordRanges||(t.coordRanges=[])).push(n),!t.coordRange){t.coordRange=n;var r=n_[t.brushType](0,i,n);t.Dd={offset:r_[t.brushType](r.values,t.range,[1,1]),xyMinMax:r.xyMinMax}}})),t},t.prototype.matchOutputRanges=function(t,n,i){E(t,(function(t){var r=this.findTargetInfo(t,n);r&&!0!==r&&E(r.coordSyses,(function(r){var e=n_[t.brushType](1,r,t.range,!0);i(t,e.values,r,n)}))}),this)},t.prototype.setInputRanges=function(t,n){E(t,(function(t){var i,r,e,a,o,u=this.findTargetInfo(t,n);if(t.range=t.range||[],u&&!0!==u){t.panelId=u.panelId;var s=n_[t.brushType](0,u.coordSys,t.coordRange),l=t.Dd;t.range=l?r_[t.brushType](s.values,l.offset,(i=s.xyMinMax,r=l.xyMinMax,e=a_(i),a=a_(r),o=[e[0]/a[0],e[1]/a[1]],isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o)):s.values}}),this)},t.prototype.makePanelOpts=function(t,n){return P(this.Od,(function(i){var r=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:n?n(i):null,clipPath:Gz(r),isTargetByCursor:Uz(r,t,i.coordSysModel),getLinearBrushOtherExtent:Xz(r)}}))},t.prototype.controlSeries=function(t,n,i){var r=this.findTargetInfo(t,i);return!0===r||r&&F(r.coordSyses,n.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,n){for(var i=this.Od,r=JB(n,t),e=0;e<i.length;e++){var a=i[e],o=t.panelId;if(o){if(a.panelId===o)return a}else for(var u=0;u<QB.length;u++)if(QB[u](r,a))return a}return!0},t}();function KB(t){return t[0]>t[1]&&t.reverse(),t}function JB(t,n){return da(t,n,{includeMainTypes:ZB})}var $B={grid:function(t,n){var i=t.xAxisModels,r=t.yAxisModels,e=t.gridModels,a=pt(),o={},u={};(i||r||e)&&(E(i,(function(t){var n=t.axis.grid.model;a.set(n.id,n),o[n.id]=!0})),E(r,(function(t){var n=t.axis.grid.model;a.set(n.id,n),u[n.id]=!0})),E(e,(function(t){a.set(t.id,t),o[t.id]=!0,u[t.id]=!0})),a.each((function(t){var e=t.coordinateSystem,a=[];E(e.getCartesians(),(function(t,n){(F(i,t.getAxis("x").model)>=0||F(r,t.getAxis("y").model)>=0)&&a.push(t)})),n.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:a[0],coordSyses:a,getPanelRect:t_.grid,xAxisDeclared:o[t.id],yAxisDeclared:u[t.id]})})))},geo:function(t,n){E(t.geoModels,(function(t){var i=t.coordinateSystem;n.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:t_.geo})}))}},QB=[function(t,n){var i=t.xAxisModel,r=t.yAxisModel,e=t.gridModel;return!e&&i&&(e=i.axis.grid.model),!e&&r&&(e=r.axis.grid.model),e&&e===n.gridModel},function(t,n){var i=t.geoModel;return i&&i===n.geoModel}],t_={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,n=t.getBoundingRect().clone();return n.applyTransform(vf(t)),n}},n_={lineX:G(i_,0),lineY:G(i_,1),rect:function(t,n,i,r){var e=t?n.pointToData([i[0][0],i[1][0]],r):n.dataToPoint([i[0][0],i[1][0]],r),a=t?n.pointToData([i[0][1],i[1][1]],r):n.dataToPoint([i[0][1],i[1][1]],r),o=[KB([e[0],a[0]]),KB([e[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(t,n,i,r){var e=[[1/0,-1/0],[1/0,-1/0]];return{values:P(i,(function(i){var a=t?n.pointToData(i,r):n.dataToPoint(i,r);return e[0][0]=Math.min(e[0][0],a[0]),e[1][0]=Math.min(e[1][0],a[1]),e[0][1]=Math.max(e[0][1],a[0]),e[1][1]=Math.max(e[1][1],a[1]),a})),xyMinMax:e}}};function i_(t,n,i,r){var e=i.getAxis(["x","y"][t]),a=KB(P([0,1],(function(t){return n?e.coordToData(e.toLocalCoord(r[t]),!0):e.toGlobalCoord(e.dataToCoord(r[t]))}))),o=[];return o[t]=a,o[1-t]=[NaN,NaN],{values:a,xyMinMax:o}}var r_={lineX:G(e_,0),lineY:G(e_,1),rect:function(t,n,i){return[[t[0][0]-i[0]*n[0][0],t[0][1]-i[0]*n[0][1]],[t[1][0]-i[1]*n[1][0],t[1][1]-i[1]*n[1][1]]]},polygon:function(t,n,i){return P(t,(function(t,r){return[t[0]-i[0]*n[r][0],t[1]-i[1]*n[r][1]]}))}};function e_(t,n,i,r){return[n[0]-r[t]*i[0],n[1]-r[t]*i[1]]}function a_(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var o_,u_,s_=E,l_=Qe+"toolbox-dataZoom_",f_=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.render=function(t,n,i,r){this.rc||(this.rc=new vz(i.getZr()),this.rc.on("brush",Y(this.ec,this)).mount()),function(t,n,i,r,e){var a=i.Rd;r&&"takeGlobalCursor"===r.type&&(a="dataZoomSelect"===r.key&&r.dataZoomSelectActive);i.Rd=a,t.setIconStatus("zoom",a?"emphasis":"normal");var o=new qB(c_(t),n,{include:["grid"]}),u=o.makePanelOpts(e,(function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"}));i.rc.setPanels(u).enableBrush(!(!a||!u.length)&&{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()})}(t,n,this,r,i),function(t,n){t.setIconStatus("back",function(t){return UB(t).length}(n)>1?"emphasis":"normal")}(t,n)},n.prototype.onclick=function(t,n,i){h_[i].call(this)},n.prototype.remove=function(t,n){this.rc&&this.rc.unmount()},n.prototype.dispose=function(t,n){this.rc&&this.rc.dispose()},n.prototype.ec=function(t){var n=t.areas;if(t.isEnd&&n.length){var i={},r=this.ecModel;this.rc.updateCovers([]),new qB(c_(this.model),r,{include:["grid"]}).matchOutputRanges(n,r,(function(t,n,i){if("cartesian2d"===i.type){var r=t.brushType;"rect"===r?(e("x",i,n[0]),e("y",i,n[1])):e({lineX:"x",lineY:"y"}[r],i,n)}})),function(t,n){var i=UB(t);GB(n,(function(n,r){for(var e=i.length-1;e>=0&&!i[e][r];e--);if(e<0){var a=t.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(a){var o=a.getPercentRange();i[0][r]={dataZoomId:r,start:o[0],end:o[1]}}}})),i.push(n)}(r,i),this.Fd(i)}function e(t,n,e){var a=n.getAxis(t),o=a.model,u=function(t,n,i){var r;return i.eachComponent({mainType:"dataZoom",subType:"select"},(function(i){i.getAxisModel(t,n.componentIndex)&&(r=i)})),r}(t,o,r),s=u.findRepresentativeAxisProxy(o).getMinMaxSpan();null==s.minValueSpan&&null==s.maxValueSpan||(e=HI(0,e.slice(),a.scale.getExtent(),0,s.minValueSpan,s.maxValueSpan)),u&&(i[u.id]={dataZoomId:u.id,startValue:e[0],endValue:e[1]})}},n.prototype.Fd=function(t){var n=[];s_(t,(function(t,i){n.push(z(t))})),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},n.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},n}(AB),h_={zoom:function(){var t=!this.Rd;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this.Fd(function(t){var n=UB(t),i=n[n.length-1];n.length>1&&n.pop();var r={};return GB(i,(function(t,i){for(var e=n.length-1;e>=0;e--)if(t=n[e][i]){r[i]=t;break}})),r}(this.ecModel))}};function c_(t){var n={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return null==n.xAxisIndex&&null==n.xAxisId&&(n.xAxisIndex="all"),null==n.yAxisIndex&&null==n.yAxisId&&(n.yAxisIndex="all"),n}o_="dataZoom",u_=function(t){var n=t.getComponent("toolbox",0),i=["feature","dataZoom"];if(n&&null!=n.get(i)){var r=n.getModel(i),e=[],a=da(t,c_(r));return s_(a.xAxisModels,(function(t){return o(t,"xAxis","xAxisIndex")})),s_(a.yAxisModels,(function(t){return o(t,"yAxis","yAxisIndex")})),e}function o(t,n,i){var a=t.componentIndex,o={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:l_+n+a};o[i]=a,e.push(o)}},ut(null==Lc.get(o_)&&u_),Lc.set(o_,u_);var v_=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(lc);function d_(t){var n=t.get("confine");return null!=n?!!n:"richText"===t.get("renderMode")}function p_(t){if(h.domSupported)for(var n=document.documentElement.style,i=0,r=t.length;i<r;i++)if(t[i]in n)return t[i]}var m_=p_(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function y_(t,n){if(!t)return n;n=Yh(n,!0);var i=t.indexOf(n);return(t=-1===i?n:"-"+t.slice(0,i)+"-"+n).toLowerCase()}var g_=y_(p_(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),b_=y_(m_,"transform"),w_="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(h.transform3dSupported?"will-change:transform;":"");function x_(t,n,i){var r=t.toFixed(0)+"px",e=n.toFixed(0)+"px";if(!h.transformSupported)return i?"top:"+e+";left:"+r+";":[["top",e],["left",r]];var a=h.transform3dSupported,o="translate"+(a?"3d":"")+"("+r+","+e+(a?",0":"")+")";return i?"top:0;left:0;"+b_+":"+o+";":[["top",0],["left",0],[m_,o]]}function M_(t,n,i){var r=[],e=t.get("transitionDuration"),a=t.get("backgroundColor"),o=t.get("shadowBlur"),u=t.get("shadowColor"),s=t.get("shadowOffsetX"),l=t.get("shadowOffsetY"),f=t.getModel("textStyle"),c=Wd(t,"html"),v=s+"px "+l+"px "+o+"px "+u;return r.push("box-shadow:"+v),n&&e&&r.push(function(t,n){var i="cubic-bezier(0.23,1,0.32,1)",r=" "+t/2+"s "+i,e="opacity"+r+",visibility"+r;return n||(r=" "+t+"s "+i,e+=h.transformSupported?","+b_+r:",left"+r+",top"+r),g_+":"+e}(e,i)),a&&r.push("background-color:"+a),E(["width","color","radius"],(function(n){var i="border-"+n,e=Yh(i),a=t.get(e);null!=a&&r.push(i+":"+a+("color"===n?"":"px"))})),r.push(function(t){var n=[],i=t.get("fontSize"),r=t.getTextColor();r&&n.push("color:"+r),n.push("font:"+t.getFont());var e=rt(t.get("lineHeight"),Math.round(3*i/2));i&&n.push("line-height:"+e+"px");var a=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,u=t.get("textShadowOffsetX")||0,s=t.get("textShadowOffsetY")||0;return a&&o&&n.push("text-shadow:"+u+"px "+s+"px "+o+"px "+a),E(["decoration","align"],(function(i){var r=t.get(i);r&&n.push("text-"+i+":"+r)})),n.join(";")}(f)),null!=c&&r.push("padding:"+Gh(c).join("px ")+"px"),r.join(";")+";"}function S_(t,n,i,r,e){var a=n&&n.painter;if(i){var o=a&&a.getViewportRoot();o&&function(t,n,i,r,e){Zt(jt,n,r,e,!0)&&Zt(t,i,jt[0],jt[1])}(t,o,i,r,e)}else{t[0]=r,t[1]=e;var u=a&&a.getViewportRootOffset();u&&(t[0]+=u.offsetLeft,t[1]+=u.offsetTop)}t[2]=t[0]/n.getWidth(),t[3]=t[1]/n.getHeight()}var k_=function(){function t(t,n){if(this.Bd=!1,this._d=[0,0,0,0],this.Ed=!0,this.Pd=!1,this.Wd=!0,this.Vd=!0,h.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this.Be=t.getZr(),e=n.appendTo,a=e&&(j(e)?document.querySelector(e):Q(e)?e:U(e)&&e(t.getDom()));S_(this._d,r,a,t.getWidth()/2,t.getHeight()/2),(a||t.getDom()).appendChild(i),this.Gi=t,this.Hd=a;var o=this;i.onmouseenter=function(){o.Ed&&(clearTimeout(o.Yd),o.Bd=!0),o.Gd=!0},i.onmousemove=function(t){if(t=t||window.event,!o.Ed){var n=r.handler;on(r.painter.getViewportRoot(),t,!0),n.dispatch("mousemove",t)}},i.onmouseleave=function(){o.Gd=!1,o.Ed&&o.Bd&&o.hideLater(o.Xd)}}return t.prototype.update=function(t){if(!this.Hd){var n=this.Gi.getDom(),i=(a="position",(o=(e=n).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?o[a]:null),r=n.style;"absolute"!==r.position&&"absolute"!==i&&(r.position="relative")}var e,a,o,u=t.get("alwaysShowContent");u&&this.Ud(),this.Pd=u,this.el.className=t.get("className")||""},t.prototype.show=function(t,n){clearTimeout(this.Yd),clearTimeout(this.jd);var i=this.el,r=i.style,e=this._d;i.innerHTML?r.cssText=w_+M_(t,!this.Wd,this.Vd)+x_(e[0],e[1],!0)+"border-color:"+qh(n)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this.Ed?"auto":"none"):r.display="none",this.Bd=!0,this.Wd=!1,this.Vd=!1},t.prototype.setContent=function(t,n,i,r,e){var a=this.el;if(null!=t){var o="";if(j(e)&&"item"===i.get("trigger")&&!d_(i)&&(o=function(t,n,i){if(!j(i)||"inside"===i)return"";var r=t.get("backgroundColor"),e=t.get("borderWidth");n=qh(n);var a,o,u="left"===(a=i)?"right":"right"===a?"left":"top"===a?"bottom":"top",s=Math.max(1.5*Math.round(e),6),l="",f=b_+":";F(["left","right"],u)>-1?(l+="top:50%",f+="translateY(-50%) rotate("+(o="left"===u?-225:-45)+"deg)"):(l+="left:50%",f+="translateX(-50%) rotate("+(o="top"===u?225:45)+"deg)");var h=o*Math.PI/180,c=s+e,v=c*Math.abs(Math.cos(h))+c*Math.abs(Math.sin(h)),d=n+" solid "+e+"px;";return'<div style="'+["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",(l+=";"+u+":-"+Math.round(100*((v-Math.SQRT2*e)/2+Math.SQRT2*e-(v-c)/2))/100+"px")+";"+f+";","border-bottom:"+d,"border-right:"+d,"background-color:"+r+";"].join("")+'"></div>'}(i,r,e)),j(t))a.innerHTML=t+o;else if(t){a.innerHTML="",X(t)||(t=[t]);for(var u=0;u<t.length;u++)Q(t[u])&&t[u].parentNode!==a&&a.appendChild(t[u]);if(o&&a.childNodes.length){var s=document.createElement("div");s.innerHTML=o,a.appendChild(s)}}}else a.innerHTML=""},t.prototype.setEnterable=function(t){this.Ed=t},t.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},t.prototype.moveTo=function(t,n){if(this.el){var i=this._d;if(S_(i,this.Be,this.Hd,t,n),null!=i[0]&&null!=i[1]){var r=this.el.style;E(x_(i[0],i[1]),(function(t){r[t[0]]=t[1]}))}}},t.prototype.Ud=function(){var t=this._d[2],n=this._d[3];this.moveTo(t*this.Be.getWidth(),n*this.Be.getHeight())},t.prototype.hide=function(){var t=this,n=this.el.style;n.visibility="hidden",n.opacity="0",h.transform3dSupported&&(n.willChange=""),this.Bd=!1,this.jd=setTimeout((function(){return t.Vd=!0}),500)},t.prototype.hideLater=function(t){!this.Bd||this.Gd&&this.Ed||this.Pd||(t?(this.Xd=t,this.Bd=!1,this.Yd=setTimeout(Y(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this.Bd},t.prototype.dispose=function(){clearTimeout(this.Yd),clearTimeout(this.jd);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this.Hd=null},t}(),A_=function(){function t(t){this.Bd=!1,this._d=[0,0,0,0],this.Pd=!1,this.Ed=!0,this.Be=t.getZr(),T_(this._d,this.Be,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var n=t.get("alwaysShowContent");n&&this.Ud(),this.Pd=n},t.prototype.show=function(){this.Yd&&clearTimeout(this.Yd),this.el.show(),this.Bd=!0},t.prototype.setContent=function(t,n,i,r,e){var a=this;K(t)&&Ke(""),this.el&&this.Be.remove(this.el);var o=i.getModel("textStyle");this.el=new wu({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:o.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:Wd(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),E(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){a.el.style[t]=i.get(t)})),E(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){a.el.style[t]=o.get(t)||0})),this.Be.add(this.el);var u=this;this.el.on("mouseover",(function(){u.Ed&&(clearTimeout(u.Yd),u.Bd=!0),u.Gd=!0})),this.el.on("mouseout",(function(){u.Ed&&u.Bd&&u.hideLater(u.Xd),u.Gd=!1}))},t.prototype.setEnterable=function(t){this.Ed=t},t.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),i=C_(t.style);return[n.width+i.left+i.right,n.height+i.top+i.bottom]},t.prototype.moveTo=function(t,n){var i=this.el;if(i){var r=this._d;T_(r,this.Be,t,n),t=r[0],n=r[1];var e=i.style,a=N_(e.borderWidth||0),o=C_(e);i.x=t+a+o.left,i.y=n+a+o.top,i.markRedraw()}},t.prototype.Ud=function(){var t=this._d[2],n=this._d[3];this.moveTo(t*this.Be.getWidth(),n*this.Be.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this.Bd=!1},t.prototype.hideLater=function(t){!this.Bd||this.Gd&&this.Ed||this.Pd||(t?(this.Xd=t,this.Bd=!1,this.Yd=setTimeout(Y(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this.Bd},t.prototype.dispose=function(){this.Be.remove(this.el)},t}();function N_(t){return Math.max(0,t)}function C_(t){var n=N_(t.shadowBlur||0),i=N_(t.shadowOffsetX||0),r=N_(t.shadowOffsetY||0);return{left:N_(n-i),right:N_(n+i),top:N_(n-r),bottom:N_(n+r)}}function T_(t,n,i,r){t[0]=i,t[1]=r,t[2]=t[0]/n.getWidth(),t[3]=t[1]/n.getHeight()}var I_=new yu({shape:{x:-1,y:-1,width:2,height:2}}),z_=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(t,n){if(!h.node&&n.getDom()){var i,r=t.getComponent("tooltip"),e=this.Zd="auto"===(i=r.get("renderMode"))?h.domSupported?"html":"richText":i||"html";this.qd="richText"===e?new A_(n):new k_(n,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},n.prototype.render=function(t,n,i){if(!h.node&&i.getDom()){this.group.removeAll(),this.Kd=t,this.ov=n,this.Gi=i;var r=this.qd;r.update(t),r.setEnterable(t.get("enterable")),this.Jd(),this.$d(),"richText"!==this.Zd&&t.get("transitionDuration")?dp(this,"_updatePosition",50,"fixRate"):pp(this,"_updatePosition")}},n.prototype.Jd=function(){var t=this.Kd.get("triggerOn");RR("itemTooltip",this.Gi,Y((function(n,i,r){"none"!==t&&(t.indexOf(n)>=0?this.Qd(i,r):"leave"===n&&this.tp(r))}),this))},n.prototype.$d=function(){var t=this.Kd,n=this.ov,i=this.Gi,r=t.get("triggerOn");if(null!=this.np&&null!=this.ip&&"none"!==r&&"click"!==r){var e=this;clearTimeout(this.rp),this.rp=setTimeout((function(){!i.isDisposed()&&e.manuallyShowTip(t,n,i,{x:e.np,y:e.ip,dataByCoordSys:e.ep})}))}},n.prototype.manuallyShowTip=function(t,n,i,r){if(r.from!==this.uid&&!h.node&&i.getDom()){var e=O_(r,i);this.ap="";var a=r.dataByCoordSys,o=function(t,n,i){var r=pa(t).queryOptionMap,e=r.keys()[0];if(!e||"series"===e)return;var a=ga(n,e,r.get(e),{useDefault:!1,enableAll:!1,enableNone:!1}),o=a.models[0];if(!o)return;var u,s=i.getViewOfComponentModel(o);if(s.group.traverse((function(n){var i=Du(n).tooltipConfig;if(i&&i.name===t.name)return u=n,!0})),u)return{componentMainType:e,componentIndex:o.componentIndex,el:u}}(r,n,i);if(o){var u=o.el.getBoundingRect().clone();u.applyTransform(o.el.transform),this.Qd({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:o.el,position:r.position,positionDefault:"bottom"},e)}else if(r.tooltip&&null!=r.x&&null!=r.y){var s=I_;s.x=r.x,s.y=r.y,s.update(),Du(s).tooltipConfig={name:null,option:r.tooltip},this.Qd({offsetX:r.x,offsetY:r.y,target:s},e)}else if(a)this.Qd({offsetX:r.x,offsetY:r.y,position:r.position,dataByCoordSys:a,tooltipOption:r.tooltipOption},e);else if(null!=r.seriesIndex){if(this.op(t,n,i,r))return;var l=PR(r,n),f=l.point[0],c=l.point[1];null!=f&&null!=c&&this.Qd({offsetX:f,offsetY:c,target:l.el,position:r.position,positionDefault:"bottom"},e)}else null!=r.x&&null!=r.y&&(i.dispatchAction({type:"updateAxisPointer",x:r.x,y:r.y}),this.Qd({offsetX:r.x,offsetY:r.y,position:r.position,target:i.getZr().findHover(r.x,r.y).target},e))}},n.prototype.manuallyHideTip=function(t,n,i,r){var e=this.qd;this.Kd&&e.hideLater(this.Kd.get("hideDelay")),this.np=this.ip=this.ep=null,r.from!==this.uid&&this.tp(O_(r,i))},n.prototype.op=function(t,n,i,r){var e=r.seriesIndex,a=r.dataIndex,o=n.getComponent("axisPointer").coordSysAxesInfo;if(null!=e&&null!=a&&null!=o){var u=n.getSeriesByIndex(e);if(u)if("axis"===L_([u.getData().getItemModel(a),u,(u.coordinateSystem||{}).model],this.Kd).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:e,dataIndex:a,position:r.position}),!0}},n.prototype.Qd=function(t,n){var i=t.target;if(this.Kd){this.np=t.offsetX,this.ip=t.offsetY;var r=t.dataByCoordSys;if(r&&r.length)this.up(r,t);else if(i){var e,a;if("legend"===Du(i).ssrType)return;this.ep=null,em(i,(function(t){return null!=Du(t).dataIndex?(e=t,!0):null!=Du(t).tooltipConfig?(a=t,!0):void 0}),!0),e?this.sp(t,e,n):a?this.lp(t,a,n):this.tp(n)}else this.ep=null,this.tp(n)}},n.prototype.fp=function(t,n){var i=t.get("showDelay");n=Y(n,this),clearTimeout(this.hp),i>0?this.hp=setTimeout(n,i):n()},n.prototype.up=function(t,n){var i=this.ov,r=this.Kd,e=[n.offsetX,n.offsetY],a=L_([n.tooltipOption],r),o=this.Zd,u=[],s=zd("section",{blocks:[],noHeader:!0}),l=[],f=new Vd;E(t,(function(t){E(t.dataByAxis,(function(t){var n=i.getComponent(t.axisDim+"Axis",t.axisIndex),e=t.value;if(n&&null!=e){var a=xR(e,n.axis,i,t.seriesDataIndices,t.valueLabelOpt),h=zd("section",{header:a,noHeader:!st(a),sortBlocks:!0,blocks:[]});s.blocks.push(h),E(t.seriesDataIndices,(function(s){var c=i.getSeriesByIndex(s.seriesIndex),v=s.dataIndexInside,d=c.getDataParams(v);if(!(d.dataIndex<0)){d.axisDim=t.axisDim,d.axisIndex=t.axisIndex,d.axisType=t.axisType,d.axisId=t.axisId,d.axisValue=_b(n.axis,{value:e}),d.axisValueLabel=a,d.marker=f.makeTooltipMarker("item",qh(d.color),o);var p=Uv(c.formatTooltip(v,!0,null)),m=p.frag;if(m){var y=L_([c],r).get("valueFormatter");h.blocks.push(y?D({valueFormatter:y},m):m)}p.text&&l.push(p.text),u.push(d)}}))}}))})),s.blocks.reverse(),l.reverse();var h=n.position,c=a.get("order"),v=Bd(s,f,o,c,i.get("useUTC"),a.get("textStyle"));v&&l.unshift(v);var d="richText"===o?"\n\n":"<br/>",p=l.join(d);this.fp(a,(function(){this.vp(t,u)?this.dp(a,h,e[0],e[1],this.qd,u):this.mp(a,p,u,Math.random()+"",e[0],e[1],h,null,f)}))},n.prototype.sp=function(t,n,i){var r=this.ov,e=Du(n),a=e.seriesIndex,o=r.getSeriesByIndex(a),u=e.dataModel||o,s=e.dataIndex,l=e.dataType,f=u.getData(l),h=this.Zd,c=t.positionDefault,v=L_([f.getItemModel(s),u,o&&(o.coordinateSystem||{}).model],this.Kd,c?{position:c}:null),d=v.get("trigger");if(null==d||"item"===d){var p=u.getDataParams(s,l),m=new Vd;p.marker=m.makeTooltipMarker("item",qh(p.color),h);var y=Uv(u.formatTooltip(s,!1,l)),g=v.get("order"),b=v.get("valueFormatter"),w=y.frag,x=w?Bd(b?D({valueFormatter:b},w):w,m,h,g,r.get("useUTC"),v.get("textStyle")):y.text,M="item_"+u.name+"_"+s;this.fp(v,(function(){this.mp(v,x,p,M,t.offsetX,t.offsetY,t.position,t.target,m)})),i({type:"showTip",dataIndexInside:s,dataIndex:f.getRawIndex(s),seriesIndex:a,from:this.uid})}},n.prototype.lp=function(t,n,i){var r="html"===this.Zd,e=Du(n),a=e.tooltipConfig.option||{},o=a.encodeHTMLContent;if(j(a)){a={content:a,formatter:a},o=!0}o&&r&&a.content&&((a=z(a)).content=$t(a.content));var u=[a],s=this.ov.getComponent(e.componentMainType,e.componentIndex);s&&u.push(s),u.push({formatter:a.content});var l=t.positionDefault,f=L_(u,this.Kd,l?{position:l}:null),h=f.get("content"),c=Math.random()+"",v=new Vd;this.fp(f,(function(){var i=z(f.get("formatterParams")||{});this.mp(f,h,i,c,t.offsetX,t.offsetY,t.position,n,v)})),i({type:"showTip",from:this.uid})},n.prototype.mp=function(t,n,i,r,e,a,o,u,s){if(this.ap="",t.get("showContent")&&t.get("show")){var l=this.qd;l.setEnterable(t.get("enterable"));var f=t.get("formatter");o=o||t.get("position");var h=n,c=this.yp([e,a],i,t.get("trigger"),t.get("borderColor")).color;if(f)if(j(f)){var v=t.ecModel.get("useUTC"),d=X(i)?i[0]:i;h=f,d&&d.axisType&&d.axisType.indexOf("time")>=0&&(h=Ah(d.axisValue,h,v)),h=Zh(h,i,!0)}else if(U(f)){var p=Y((function(n,r){n===this.ap&&(l.setContent(r,s,t,c,o),this.dp(t,o,e,a,l,i,u))}),this);this.ap=r,h=f(i,r,p)}else h=f;l.setContent(h,s,t,c,o),l.show(t,c),this.dp(t,o,e,a,l,i,u)}},n.prototype.yp=function(t,n,i,r){return"axis"===i||X(n)?{color:r||("html"===this.Zd?"#fff":"none")}:X(n)?void 0:{color:r||n.color||n.borderColor}},n.prototype.dp=function(t,n,i,r,e,a,o){var u=this.Gi.getWidth(),s=this.Gi.getHeight();n=n||t.get("position");var l=e.getSize(),f=t.get("align"),h=t.get("verticalAlign"),c=o&&o.getBoundingRect().clone();if(o&&c.applyTransform(o.transform),U(n)&&(n=n([i,r],a,e.el,c,{viewSize:[u,s],contentSize:l.slice()})),X(n))i=ze(n[0],u),r=ze(n[1],s);else if(K(n)){var v=n;v.width=l[0],v.height=l[1];var d=ic(v,{width:u,height:s});i=d.x,r=d.y,f=null,h=null}else if(j(n)&&o){var p=function(t,n,i,r){var e=i[0],a=i[1],o=Math.ceil(Math.SQRT2*r)+8,u=0,s=0,l=n.width,f=n.height;switch(t){case"inside":u=n.x+l/2-e/2,s=n.y+f/2-a/2;break;case"top":u=n.x+l/2-e/2,s=n.y-a-o;break;case"bottom":u=n.x+l/2-e/2,s=n.y+f+o;break;case"left":u=n.x-e-o,s=n.y+f/2-a/2;break;case"right":u=n.x+l+o,s=n.y+f/2-a/2}return[u,s]}(n,c,l,t.get("borderWidth"));i=p[0],r=p[1]}else{p=function(t,n,i,r,e,a,o){var u=i.getSize(),s=u[0],l=u[1];null!=a&&(t+s+a+2>r?t-=s+a:t+=a);null!=o&&(n+l+o>e?n-=l+o:n+=o);return[t,n]}(i,r,e,u,s,f?null:20,h?null:20);i=p[0],r=p[1]}if(f&&(i-=D_(f)?l[0]/2:"right"===f?l[0]:0),h&&(r-=D_(h)?l[1]/2:"bottom"===h?l[1]:0),d_(t)){p=function(t,n,i,r,e){var a=i.getSize(),o=a[0],u=a[1];return t=Math.min(t+o,r)-o,n=Math.min(n+u,e)-u,t=Math.max(t,0),n=Math.max(n,0),[t,n]}(i,r,e,u,s);i=p[0],r=p[1]}e.moveTo(i,r)},n.prototype.vp=function(t,n){var i=this.ep,r=this.gp,e=!!i&&i.length===t.length;return e&&E(i,(function(i,a){var o=i.dataByAxis||[],u=(t[a]||{}).dataByAxis||[];(e=e&&o.length===u.length)&&E(o,(function(t,i){var a=u[i]||{},o=t.seriesDataIndices||[],s=a.seriesDataIndices||[];(e=e&&t.value===a.value&&t.axisType===a.axisType&&t.axisId===a.axisId&&o.length===s.length)&&E(o,(function(t,n){var i=s[n];e=e&&t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex})),r&&E(t.seriesDataIndices,(function(t){var i=t.seriesIndex,a=n[i],o=r[i];a&&o&&o.data!==a.data&&(e=!1)}))}))})),this.ep=t,this.gp=n,!!e},n.prototype.tp=function(t){this.ep=null,t({type:"hideTip",from:this.uid})},n.prototype.dispose=function(t,n){!h.node&&n.getDom()&&(pp(this,"_updatePosition"),this.qd.dispose(),_R("itemTooltip",n))},n.type="tooltip",n}(tp);function L_(t,n,i){var r,e=n.ecModel;i?(r=new th(i,e,e),r=new th(n.option,r,e)):r=n;for(var a=t.length-1;a>=0;a--){var o=t[a];o&&(o instanceof th&&(o=o.get("tooltip",!0)),j(o)&&(o={formatter:o}),o&&(r=new th(o,r,e)))}return r}function O_(t,n){return t.dispatchAction||Y(n.dispatchAction,n)}function D_(t){return"center"===t||"middle"===t}var R_=["rect","polygon","keep","clear"];function F_(t,n){var i=ta(t?t.brush:[]);if(i.length){var r=[];E(i,(function(t){var n=t.hasOwnProperty("toolbox")?t.toolbox:[];n instanceof Array&&(r=r.concat(n))}));var e=t&&t.toolbox;X(e)&&(e=e[0]),e||(e={feature:{}},t.toolbox=[e]);var a,o,u=e.feature||(e.feature={}),s=u.brush||(u.brush={}),l=s.type||(s.type=[]);l.push.apply(l,r),o={},E(a=l,(function(t){o[t]=1})),a.length=0,E(o,(function(t,n){a.push(n)})),n&&!l.length&&l.push.apply(l,R_)}}var B_=E;function __(t){if(t)for(var n in t)if(t.hasOwnProperty(n))return!0}function E_(t,n,i){var r={};return B_(n,(function(n){var e,a=r[n]=((e=function(){}).prototype.bp=e.prototype,new e);B_(t[n],(function(t,r){if(FC.isValidType(r)){var e={type:r,visual:t};i&&i(e,n),a[r]=new FC(e),"opacity"===r&&((e=z(e)).type="colorAlpha",a.bp.wp=new FC(e))}}))})),r}function P_(t,n,i){var r;E(i,(function(t){n.hasOwnProperty(t)&&__(n[t])&&(r=!0)})),r&&E(i,(function(i){n.hasOwnProperty(i)&&__(n[i])?t[i]=z(n[i]):delete t[i]}))}var W_={lineX:V_(0),lineY:V_(1),rect:{point:function(t,n,i){return t&&i.boundingRect.contain(t[0],t[1])},rect:function(t,n,i){return t&&i.boundingRect.intersect(t)}},polygon:{point:function(t,n,i){return t&&i.boundingRect.contain(t[0],t[1])&&Yb(i.range,t[0],t[1])},rect:function(t,n,i){var r=i.range;if(!t||r.length<=1)return!1;var e=t.x,a=t.y,o=t.width,u=t.height,s=r[0];return!!(Yb(r,e,a)||Yb(r,e+o,a)||Yb(r,e,a+u)||Yb(r,e+o,a+u)||In.create(t).contain(s[0],s[1])||wf(e,a,e+o,a,r)||wf(e,a,e,a+u,r)||wf(e+o,a,e+o,a+u,r)||wf(e,a+u,e+o,a+u,r))||void 0}}};function V_(t){var n=["x","y"],i=["width","height"];return{point:function(n,i,r){if(n){var e=r.range;return H_(n[t],e)}},rect:function(r,e,a){if(r){var o=a.range,u=[r[n[t]],r[n[t]]+r[i[t]]];return u[1]<u[0]&&u.reverse(),H_(u[0],o)||H_(u[1],o)||H_(o[0],u)||H_(o[1],u)}}}}function H_(t,n){return n[0]<=t&&t<=n[1]}var Y_=["inBrush","outOfBrush"],G_="__ecBrushSelect",X_="__ecInBrushSelectEvent";function U_(t){t.eachComponent({mainType:"brush"},(function(n){(n.brushTargetManager=new qB(n.option,t)).setInputRanges(n.areas,t)}))}function j_(t,n,i){var r,e,a=[];t.eachComponent({mainType:"brush"},(function(t){i&&"takeGlobalCursor"===i.type&&t.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1})})),U_(t),t.eachComponent({mainType:"brush"},(function(n,i){var o={brushId:n.id,brushIndex:i,brushName:n.name,areas:z(n.areas),selected:[]};a.push(o);var u=n.option,s=u.brushLink,l=[],f=[],h=[],c=!1;i||(r=u.throttleType,e=u.throttleDelay);var v=P(n.areas,(function(t){var n=K_[t.brushType],i=R({boundingRect:n?n(t):void 0},t);return i.selectors=function(t){var n=t.brushType,i={point:function(r){return W_[n].point(r,i,t)},rect:function(r){return W_[n].rect(r,i,t)}};return i}(i),i})),d=E_(n.option,Y_,(function(t){t.mappingMethod="fixed"}));function p(t){return"all"===s||!!l[t]}function m(t){return!!t.length}X(s)&&E(s,(function(t){l[t]=1})),t.eachSeries((function(i,r){var e=h[r]=[];"parallel"===i.subType?function(t,n){var i=t.coordinateSystem;c=c||i.hasAxisBrushed(),p(n)&&i.eachActiveState(t.getData(),(function(t,n){"active"===t&&(f[n]=1)}))}(i,r):function(i,r,e){if(!i.brushSelector||function(t,n){var i=t.option.seriesIndex;return null!=i&&"all"!==i&&(X(i)?F(i,n)<0:n!==i)}(n,r))return;if(E(v,(function(r){n.brushTargetManager.controlSeries(r,i,t)&&e.push(r),c=c||m(e)})),p(r)&&m(e)){var a=i.getData();a.each((function(t){q_(i,e,a,t)&&(f[t]=1)}))}}(i,r,e)})),t.eachSeries((function(t,n){var i={seriesId:t.id,seriesIndex:n,seriesName:t.name,dataIndex:[]};o.selected.push(i);var r=h[n],e=t.getData(),a=p(n)?function(t){return f[t]?(i.dataIndex.push(e.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(n){return q_(t,r,e,n)?(i.dataIndex.push(e.getRawIndex(n)),"inBrush"):"outOfBrush"};(p(n)?c:m(r))&&function(t,n,i,r,e){var a,o={};function u(t){return Qp(i,a,t)}function s(t,n){nm(i,a,t,n)}E(t,(function(t){var i=FC.prepareVisualTypes(n[t]);o[t]=i})),i.each((function(t,l){a=t;var f=i.getRawDataItem(a);if(!f||!1!==f.visualMap)for(var h=r.call(e,t),c=n[h],v=o[h],d=0,p=v.length;d<p;d++){var m=v[d];c[m]&&c[m].applyVisual(t,u,s)}}))}(Y_,d,e,a)}))})),function(t,n,i,r,e){if(!e)return;var a=t.getZr();if(a[X_])return;a[G_]||(a[G_]=Z_);var o=dp(a,G_,i,n);o(t,r)}(n,r,e,a,i)}function Z_(t,n){if(!t.isDisposed()){var i=t.getZr();i[X_]=!0,t.dispatchAction({type:"brushSelect",batch:n}),i[X_]=!1}}function q_(t,n,i,r){for(var e=0,a=n.length;e<a;e++){var o=n[e];if(t.brushSelector(r,i,o.selectors,o))return!0}}var K_={rect:function(t){return J_(t.range)},polygon:function(t){for(var n,i=t.range,r=0,e=i.length;r<e;r++){n=n||[[1/0,-1/0],[1/0,-1/0]];var a=i[r];a[0]<n[0][0]&&(n[0][0]=a[0]),a[0]>n[0][1]&&(n[0][1]=a[0]),a[1]<n[1][0]&&(n[1][0]=a[1]),a[1]>n[1][1]&&(n[1][1]=a[1])}return n&&J_(n)}};function J_(t){return new In(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var $_=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(t,n){this.ecModel=t,this.api=n,this.model,(this.rc=new vz(n.getZr())).on("brush",Y(this.ec,this)).mount()},n.prototype.render=function(t,n,i,r){this.model=t,this.Wl(t,n,i,r)},n.prototype.updateTransform=function(t,n,i,r){U_(n),this.Wl(t,n,i,r)},n.prototype.updateVisual=function(t,n,i,r){this.updateTransform(t,n,i,r)},n.prototype.updateView=function(t,n,i,r){this.Wl(t,n,i,r)},n.prototype.Wl=function(t,n,i,r){(!r||r.$from!==t.id)&&this.rc.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},n.prototype.dispose=function(){this.rc.dispose()},n.prototype.ec=function(t){var n=this.model.id,i=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:z(i),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:z(i),$from:n})},n.type="brush",n}(tp),Q_=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.areas=[],i.brushOption={},i}return l(n,t),n.prototype.optionUpdated=function(t,n){var i=this.option;!n&&P_(i,t,["inBrush","outOfBrush"]);var r=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:"#ddd"},r.hasOwnProperty("liftZ")||(r.liftZ=5)},n.prototype.setAreas=function(t){t&&(this.areas=P(t,(function(t){return tE(this.option,t)}),this))},n.prototype.setBrushOption=function(t){this.brushOption=tE(this.option,t),this.brushType=this.brushOption.brushType},n.type="brush",n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},n}(lc);function tE(t,n){return L({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new th(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},n,!0)}var nE=["rect","polygon","lineX","lineY","keep","clear"],iE=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return l(n,t),n.prototype.render=function(t,n,i){var r,e,a;n.eachComponent({mainType:"brush"},(function(t){r=t.brushType,e=t.brushOption.brushMode||"single",a=a||!!t.areas.length})),this.jh=r,this.xp=e,E(t.get("type",!0),(function(n){t.setIconStatus(n,("keep"===n?"multiple"===e:"clear"===n?a:n===r)?"emphasis":"normal")}))},n.prototype.updateView=function(t,n,i){this.render(t,n,i)},n.prototype.getIcons=function(){var t=this.model,n=t.get("icon",!0),i={};return E(t.get("type",!0),(function(t){n[t]&&(i[t]=n[t])})),i},n.prototype.onclick=function(t,n,i){var r=this.jh,e=this.xp;"clear"===i?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?r:r!==i&&i,brushMode:"keep"===i?"multiple"===e?"single":"multiple":e}})},n.getDefaultOption=function(t){return{show:!0,type:nE.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},n}(AB);var rE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.layoutMode={type:"box",ignoreSize:!0},i}return l(n,t),n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(lc),eE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.render=function(t,n,i){if(this.group.removeAll(),t.get("show")){var r=this.group,e=t.getModel("textStyle"),a=t.getModel("subtextStyle"),o=t.get("textAlign"),u=rt(t.get("textBaseline"),t.get("textVerticalAlign")),s=new wu({style:Of(e,{text:t.get("text"),fill:e.getTextColor()},{disableBox:!0}),z2:10}),l=s.getBoundingRect(),f=t.get("subtext"),h=new wu({style:Of(a,{text:f,fill:a.getTextColor(),y:l.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),c=t.get("link"),v=t.get("sublink"),d=t.get("triggerEvent",!0);s.silent=!c&&!d,h.silent=!v&&!d,c&&s.on("click",(function(){Kh(c,"_"+t.get("target"))})),v&&h.on("click",(function(){Kh(v,"_"+t.get("subtarget"))})),Du(s).eventData=Du(h).eventData=d?{componentType:"title",componentIndex:t.componentIndex}:null,r.add(s),f&&r.add(h);var p=r.getBoundingRect(),m=t.getBoxLayoutParams();m.width=p.width,m.height=p.height;var y=ic(m,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));o||("middle"===(o=t.get("left")||t.get("right"))&&(o="center"),"right"===o?y.x+=y.width:"center"===o&&(y.x+=y.width/2)),u||("center"===(u=t.get("top")||t.get("bottom"))&&(u="middle"),"bottom"===u?y.y+=y.height:"middle"===u&&(y.y+=y.height/2),u=u||"top"),r.x=y.x,r.y=y.y,r.markRedraw();var g={align:o,verticalAlign:u};s.setStyle(g),h.setStyle(g),p=r.getBoundingRect();var b=y.margin,w=t.getItemStyle(["color","opacity"]);w.fill=t.get("backgroundColor");var x=new yu({shape:{x:p.x-b[3],y:p.y-b[0],width:p.width+b[1]+b[3],height:p.height+b[0]+b[2],r:t.get("borderRadius")},style:w,subPixelOptimize:!0,silent:!0});r.add(x)}},n.type="title",n}(tp);var aE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.layoutMode="box",i}return l(n,t),n.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),this.Mp()},n.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),this.Mp()},n.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var n=this.qi.count();this.option.loop?t=(t%n+n)%n:(t>=n&&(t=n-1),t<0&&(t=0)),this.option.currentIndex=t},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this.qi.count()-1},n.prototype.setPlayState=function(t){this.option.autoPlay=!!t},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype.Mp=function(){var t,n=this.option,i=n.data||[],r=n.axisType,e=this.Sp=[];"category"===r?(t=[],E(i,(function(n,i){var r,a=sa(ra(n),"");K(n)?(r=z(n)).value=i:r=i,t.push(r),e.push(a)}))):t=i;var a={category:"ordinal",time:"time",value:"number"}[r]||"number";(this.qi=new Ng([{name:"value",type:a}],this)).initData(t,e)},n.prototype.getData=function(){return this.qi},n.prototype.getCategories=function(){if("category"===this.get("axisType"))return this.Sp.slice()},n.type="timeline",n.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},n}(lc),oE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="timeline.slider",n.defaultOption=rh(aE.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),n}(aE);B(oE,Xv.prototype);var uE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="timeline",n}(tp),sE=function(t){function n(n,i,r,e){var a=t.call(this,n,i,r)||this;return a.type=e||"value",a}return l(n,t),n.prototype.getLabelModel=function(){return this.model.getModel("label")},n.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},n}(cw),lE=Math.PI,fE=ca(),hE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(t,n){this.api=n},n.prototype.render=function(t,n,i){if(this.model=t,this.api=i,this.ecModel=n,this.group.removeAll(),t.get("show",!0)){var r=this.Aa(t,i),e=this.kp("_mainGroup"),a=this.kp("_labelGroup"),o=this.Cv=this.Ap(r,t);t.formatTooltip=function(t){return zd("nameValue",{noName:!0,value:o.scale.getLabel({value:t})})},E(["AxisLine","AxisTick","Control","CurrentPointer"],(function(n){this["_render"+n](r,e,o,t)}),this),this.Np(r,a,o,t),this.Cp(r,t)}this.Tp(),this.Ip()},n.prototype.remove=function(){this.zp(),this.group.removeAll()},n.prototype.dispose=function(){this.zp()},n.prototype.Aa=function(t,n){var i,r,e,a,o=t.get(["label","position"]),u=t.get("orient"),s=function(t,n){return ic(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},t.get("padding"))}(t,n),l={horizontal:"center",vertical:(i=null==o||"auto"===o?"horizontal"===u?s.y+s.height/2<n.getHeight()/2?"-":"+":s.x+s.width/2<n.getWidth()/2?"+":"-":j(o)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][o]:o)>=0||"+"===i?"left":"right"},f={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},h={horizontal:0,vertical:lE/2},c="vertical"===u?s.height:s.width,v=t.getModel("controlStyle"),d=v.get("show",!0),p=d?v.get("itemSize"):0,m=d?v.get("itemGap"):0,y=p+m,g=t.get(["label","rotate"])||0;g=g*lE/180;var b=v.get("position",!0),w=d&&v.get("showPlayBtn",!0),x=d&&v.get("showPrevBtn",!0),M=d&&v.get("showNextBtn",!0),S=0,k=c;"left"===b||"bottom"===b?(w&&(r=[0,0],S+=y),x&&(e=[S,0],S+=y),M&&(a=[k-p,0],k-=y)):(w&&(r=[k-p,0],k-=y),x&&(e=[0,0],S+=y),M&&(a=[k-p,0],k-=y));var A=[S,k];return t.get("inverse")&&A.reverse(),{viewRect:s,mainLength:c,orient:u,rotation:h[u],labelRotation:g,labelPosOpt:i,labelAlign:t.get(["label","align"])||l[u],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||f[u],playPosition:r,prevBtnPosition:e,nextBtnPosition:a,axisExtent:A,controlSize:p,controlGap:m}},n.prototype.Cp=function(t,n){var i=this.cf,r=this.Lp,e=t.viewRect;if("vertical"===t.orient){var a=[1,0,0,1,0,0],o=e.x,u=e.y+e.height;mn(a,a,[-o,-u]),yn(a,a,-lE/2),mn(a,a,[o,u]),(e=e.clone()).applyTransform(a)}var s=m(e),l=m(i.getBoundingRect()),f=m(r.getBoundingRect()),h=[i.x,i.y],c=[r.x,r.y];c[0]=h[0]=s[0][0];var v,d=t.labelPosOpt;null==d||j(d)?(y(h,l,s,1,v="+"===d?0:1),y(c,f,s,1,1-v)):(y(h,l,s,1,v=d>=0?0:1),c[1]=h[1]+d);function p(t){t.originX=s[0][0]-t.x,t.originY=s[1][0]-t.y}function m(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function y(t,n,i,r,e){t[r]+=i[r][e]-n[r][e]}i.setPosition(h),r.setPosition(c),i.rotation=r.rotation=t.rotation,p(i),p(r)},n.prototype.Ap=function(t,n){var i=n.getData(),r=n.get("axisType"),e=function(t,n){if(n=n||t.get("type"),n)switch(n){case"category":return new Zg({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new fb({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new Kg}}(n,r);e.getTicks=function(){return i.mapArray(["value"],(function(t){return{value:t}}))};var a=i.getDataExtent("value");e.setExtent(a[0],a[1]),e.calcNiceTicks();var o=new sE("value",e,t.axisExtent,r);return o.model=n,o},n.prototype.kp=function(t){var n=this[t]=new Se;return this.group.add(n),n},n.prototype.Op=function(t,n,i,r){var e=i.getExtent();if(r.get(["lineStyle","show"])){var a=new Al({shape:{x1:e[0],y1:0,x2:e[1],y2:0},style:D({lineCap:"round"},r.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(a);var o=this.Dp=new Al({shape:{x1:e[0],x2:this.Rp?this.Rp.x:e[0],y1:0,y2:0},style:R({lineCap:"round",lineWidth:a.style.lineWidth},r.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(o)}},n.prototype.Fp=function(t,n,i,r){var e=this,a=r.getData(),o=i.scale.getTicks();this.Bp=[],E(o,(function(t){var o=i.dataToCoord(t.value),u=a.getItemModel(t.value),s=u.getModel("itemStyle"),l=u.getModel(["emphasis","itemStyle"]),f=u.getModel(["progress","itemStyle"]),h={x:o,y:0,onclick:Y(e._p,e,t.value)},c=cE(u,s,n,h);c.ensureState("emphasis").style=l.getItemStyle(),c.ensureState("progress").style=f.getItemStyle(),xs(c);var v=Du(c);u.get("tooltip")?(v.dataIndex=t.value,v.dataModel=r):v.dataIndex=v.dataModel=null,e.Bp.push(c)}))},n.prototype.Np=function(t,n,i,r){var e=this;if(i.getLabelModel().get("show")){var a=r.getData(),o=i.getViewLabels();this.Ep=[],E(o,(function(r){var o=r.tickValue,u=a.getItemModel(o),s=u.getModel("label"),l=u.getModel(["emphasis","label"]),f=u.getModel(["progress","label"]),h=i.dataToCoord(r.tickValue),c=new wu({x:h,y:0,rotation:t.labelRotation-t.rotation,onclick:Y(e._p,e,o),silent:!1,style:Of(s,{text:r.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});c.ensureState("emphasis").style=Of(l),c.ensureState("progress").style=Of(f),n.add(c),xs(c),fE(c).dataIndex=o,e.Ep.push(c)}))}},n.prototype.Pp=function(t,n,i,r){var e=t.controlSize,a=t.rotation,o=r.getModel("controlStyle").getItemStyle(),u=r.getModel(["emphasis","controlStyle"]).getItemStyle(),s=r.getPlayState(),l=r.get("inverse",!0);function f(t,i,s,l){if(t){var f=he(rt(r.get(["controlStyle",i+"BtnSize"]),e),e),h=function(t,n,i,r){var e=r.style,a=bf(t.get(["controlStyle",n]),r||{},new In(i[0],i[1],i[2],i[3]));e&&a.setStyle(e);return a}(r,i+"Icon",[0,-f/2,f,f],{x:t[0],y:t[1],originX:e/2,originY:0,rotation:l?-a:0,rectHover:!0,style:o,onclick:s});h.ensureState("emphasis").style=u,n.add(h),xs(h)}}f(t.nextBtnPosition,"next",Y(this._p,this,l?"-":"+")),f(t.prevBtnPosition,"prev",Y(this._p,this,l?"+":"-")),f(t.playPosition,s?"stop":"play",Y(this.Wp,this,!s),!0)},n.prototype.Vp=function(t,n,i,r){var e=r.getData(),a=r.getCurrentIndex(),o=e.getItemModel(a).getModel("checkpointStyle"),u=this,s={onCreate:function(t){t.draggable=!0,t.drift=Y(u.Hp,u),t.ondragend=Y(u.Yp,u),vE(t,u.Dp,a,i,r,!0)},onUpdate:function(t){vE(t,u.Dp,a,i,r)}};this.Rp=cE(o,o,this.cf,{},this.Rp,s)},n.prototype.Wp=function(t){this.zp(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},n.prototype.Hp=function(t,n,i){this.zp(),this.Gp([i.offsetX,i.offsetY])},n.prototype.Yp=function(t){this.Gp([t.offsetX,t.offsetY],!0)},n.prototype.Gp=function(t,n){var i=this.Xp(t)[0],r=Oe(this.Cv.getExtent().slice());i>r[1]&&(i=r[1]),i<r[0]&&(i=r[0]),this.Rp.x=i,this.Rp.markRedraw();var e=this.Dp;e&&(e.shape.x2=i,e.dirty());var a=this.Up(i),o=this.model;(n||a!==o.getCurrentIndex()&&o.get("realtime"))&&this._p(a)},n.prototype.Tp=function(){var t=this;this.zp(),this.model.getPlayState()&&(this.jp=setTimeout((function(){var n=t.model;t._p(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))}),this.model.get("playInterval")))},n.prototype.Xp=function(t){return df(t,this.cf.getLocalTransform(),!0)},n.prototype.Up=function(t){var n,i=this.model.getData(),r=1/0,e=this.Cv;return i.each(["value"],(function(i,a){var o=e.dataToCoord(i),u=Math.abs(o-t);u<r&&(r=u,n=a)})),n},n.prototype.zp=function(){this.jp&&(clearTimeout(this.jp),this.jp=null)},n.prototype._p=function(t){var n=this.model.getCurrentIndex();"+"===t?t=n+1:"-"===t&&(t=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},n.prototype.Ip=function(){var t=this.model.getCurrentIndex(),n=this.Bp,i=this.Ep;if(n)for(var r=0;r<n.length;r++)n&&n[r]&&n[r].toggleState("progress",r<t);if(i)for(r=0;r<i.length;r++)i&&i[r]&&i[r].toggleState("progress",fE(i[r]).dataIndex<=t)},n.type="timeline.slider",n}(uE);function cE(t,n,i,r,e,a){var o=n.get("color");e?(e.setColor(o),i.add(e),a&&a.onUpdate(e)):((e=mm(t.get("symbol"),-1,-1,2,2,o)).setStyle("strokeNoScale",!0),i.add(e),a&&a.onCreate(e));var u=n.getItemStyle(["color"]);e.setStyle(u),r=L({rectHover:!0,z2:100},r,!0);var s=ym(t.get("symbolSize"));r.scaleX=s[0]/2,r.scaleY=s[1]/2;var l=gm(t.get("symbolOffset"),s);l&&(r.x=(r.x||0)+l[0],r.y=(r.y||0)+l[1]);var f=t.get("symbolRotate");return r.rotation=(f||0)*Math.PI/180||0,e.attr(r),e.updateTransform(),e}function vE(t,n,i,r,e,a){if(!t.dragging){var o=e.getModel("checkpointStyle"),u=r.dataToCoord(e.getData().get("value",i));if(a||!o.get("animation",!0))t.attr({x:u,y:0}),n&&n.attr({shape:{x2:u}});else{var s={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:u,y:0},s),n&&n.animateTo({shape:{x2:u}},s)}}}function dE(t){var n=t&&t.timeline;X(n)||(n=n?[n]:[]),E(n,(function(t){t&&function(t){var n=t.type,i={number:"value",time:"time"};i[n]&&(t.axisType=i[n],delete t.type);if(pE(t),mE(t,"controlPosition")){var r=t.controlStyle||(t.controlStyle={});mE(r,"position")||(r.position=t.controlPosition),"none"!==r.position||mE(r,"show")||(r.show=!1,delete r.position),delete t.controlPosition}E(t.data||[],(function(t){K(t)&&!X(t)&&(!mE(t,"value")&&mE(t,"name")&&(t.value=t.name),pE(t))}))}(t)}))}function pE(t){var n=t.itemStyle||(t.itemStyle={}),i=n.emphasis||(n.emphasis={}),r=t.label||t.label||{},e=r.normal||(r.normal={}),a={normal:1,emphasis:1};E(r,(function(t,n){a[n]||mE(e,n)||(e[n]=t)})),i.label&&!mE(r,"emphasis")&&(r.emphasis=i.label,delete i.label)}function mE(t,n){return t.hasOwnProperty(n)}function yE(t,n){if(!t)return!1;for(var i=X(t)?t:[t],r=0;r<i.length;r++)if(i[r]&&i[r][n])return!0;return!1}function gE(t){na(t,"label",["show"])}var bE=ca(),wE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.createdBySelf=!1,i}return l(n,t),n.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),this.Di(t,i,!1,!0)},n.prototype.isAnimationEnabled=function(){if(h.node)return!1;var t=this.Zp;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},n.prototype.mergeOption=function(t,n){this.Di(t,n,!1,!1)},n.prototype.Di=function(t,n,i,r){var e=this.mainType;i||n.eachSeries((function(t){var i=t.get(this.mainType,!0),a=bE(t)[e];i&&i.data?(a?a.Di(i,n,!0):(r&&gE(i),E(i.data,(function(t){t instanceof Array?(gE(t[0]),gE(t[1])):gE(t)})),D(a=this.createMarkerModelFromSeries(i,this,n),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),a.Zp=t),bE(t)[e]=a):bE(t)[e]=null}),this)},n.prototype.formatTooltip=function(t,n,i){var r=this.getData(),e=this.getRawValue(t),a=r.getName(t);return zd("section",{header:this.name,blocks:[zd("nameValue",{name:a,value:e,noName:!a,noValue:null==e})]})},n.prototype.getData=function(){return this.qi},n.prototype.setData=function(t){this.qi=t},n.prototype.getDataParams=function(t,n){var i=Xv.prototype.getDataParams.call(this,t,n),r=this.Zp;return r&&(i.seriesId=r.id,i.seriesName=r.name,i.seriesType=r.subType),i},n.getMarkerModelFromSeries=function(t,n){return bE(t)[n]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(lc);B(wE,Xv.prototype);var xE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.createMarkerModelFromSeries=function(t,i,r){return new n(t,i,r)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(wE);function ME(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function SE(t,n,i,r,e,a){var o=[],u=Dg(n,r)?n.getCalculationInfo("stackResultDimension"):r,s=IE(n,u,t),l=n.indicesOfNearest(u,s)[0];o[e]=n.get(i,l),o[a]=n.get(u,l);var f=n.get(r,l),h=De(n.get(r,l));return(h=Math.min(h,20))>=0&&(o[a]=+o[a].toFixed(h)),[o,f]}var kE={min:G(SE,"min"),max:G(SE,"max"),average:G(SE,"average"),median:G(SE,"median")};function AE(t,n){if(n){var i=t.getData(),r=t.coordinateSystem,e=r&&r.dimensions;if(!function(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}(n)&&!X(n.coord)&&X(e)){var a=NE(n,i,r,t);if((n=z(n)).type&&kE[n.type]&&a.baseAxis&&a.valueAxis){var o=F(e,a.baseAxis.dim),u=F(e,a.valueAxis.dim),s=kE[n.type](i,a.baseDataDim,a.valueDataDim,o,u);n.coord=s[0],n.value=s[1]}else n.coord=[null!=n.xAxis?n.xAxis:n.radiusAxis,null!=n.yAxis?n.yAxis:n.angleAxis]}if(null!=n.coord&&X(e))for(var l=n.coord,f=0;f<2;f++)kE[l[f]]&&(l[f]=IE(i,i.mapDimension(e[f]),l[f]));else n.coord=[];return n}}function NE(t,n,i,r){var e={};return null!=t.valueIndex||null!=t.valueDim?(e.valueDataDim=null!=t.valueIndex?n.getDimension(t.valueIndex):t.valueDim,e.valueAxis=i.getAxis(function(t,n){var i=t.getData().getDimensionInfo(n);return i&&i.coordDim}(r,e.valueDataDim)),e.baseAxis=i.getOtherAxis(e.valueAxis),e.baseDataDim=n.mapDimension(e.baseAxis.dim)):(e.baseAxis=r.getBaseAxis(),e.valueAxis=i.getOtherAxis(e.baseAxis),e.baseDataDim=n.mapDimension(e.baseAxis.dim),e.valueDataDim=n.mapDimension(e.valueAxis.dim)),e}function CE(t,n){return!(t&&t.containData&&n.coord&&!ME(n))||t.containData(n.coord)}function TE(t,n){return t?function(t,i,r,e){return Kv(e<2?t.coord&&t.coord[e]:t.value,n[e])}:function(t,i,r,e){return Kv(t.value,n[e])}}function IE(t,n,i){if("average"===i){var r=0,e=0;return t.each(n,(function(t,n){isNaN(t)||(r+=t,e++)})),r/e}return"median"===i?t.getMedian(n):t.getDataExtent(n)["max"===i?1:0]}var zE=ca(),LE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.init=function(){this.markerGroupMap=pt()},n.prototype.render=function(t,n,i){var r=this,e=this.markerGroupMap;e.each((function(t){zE(t).keep=!1})),n.eachSeries((function(t){var e=wE.getMarkerModelFromSeries(t,r.type);e&&r.renderSeries(t,e,n,i)})),e.each((function(t){!zE(t).keep&&r.group.remove(t.group)}))},n.prototype.markKeep=function(t){zE(t).keep=!0},n.prototype.toggleBlurSeries=function(t,n){var i=this;E(t,(function(t){var r=wE.getMarkerModelFromSeries(t,i.type);r&&r.getData().eachItemGraphicEl((function(t){t&&(n?fs(t):hs(t))}))}))},n.type="marker",n}(tp);function OE(t,n,i){var r=n.coordinateSystem;t.each((function(e){var a,o=t.getItemModel(e),u=ze(o.get("x"),i.getWidth()),s=ze(o.get("y"),i.getHeight());if(isNaN(u)||isNaN(s)){if(n.getMarkerPosition)a=n.getMarkerPosition(t.getValues(t.dimensions,e));else if(r){var l=t.get(r.dimensions[0],e),f=t.get(r.dimensions[1],e);a=r.dataToPoint([l,f])}}else a=[u,s];isNaN(u)||(a[0]=u),isNaN(s)||(a[1]=s),t.setItemLayout(e,a)}))}var DE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.updateTransform=function(t,n,i){n.eachSeries((function(t){var n=wE.getMarkerModelFromSeries(t,"markPoint");n&&(OE(n.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout())}),this)},n.prototype.renderSeries=function(t,n,i,r){var e=t.coordinateSystem,a=t.id,o=t.getData(),u=this.markerGroupMap,s=u.get(a)||u.set(a,new AM),l=function(t,n,i){var r;r=t?P(t&&t.dimensions,(function(t){return D(D({},n.getData().getDimensionInfo(n.getData().mapDimension(t))||{}),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var e=new Ng(r,i),a=P(i.get("data"),G(AE,n));t&&(a=V(a,G(CE,t)));var o=TE(!!t,r);return e.initData(a,null,o),e}(e,t,n);n.setData(l),OE(n.getData(),t,r),l.each((function(t){var i=l.getItemModel(t),r=i.getShallow("symbol"),e=i.getShallow("symbolSize"),a=i.getShallow("symbolRotate"),u=i.getShallow("symbolOffset"),s=i.getShallow("symbolKeepAspect");if(U(r)||U(e)||U(a)||U(u)){var f=n.getRawValue(t),h=n.getDataParams(t);U(r)&&(r=r(f,h)),U(e)&&(e=e(f,h)),U(a)&&(a=a(f,h)),U(u)&&(u=u(f,h))}var c=i.getModel("itemStyle").getItemStyle(),v=tm(o,"color");c.fill||(c.fill=v),l.setItemVisual(t,{symbol:r,symbolSize:e,symbolRotate:a,symbolOffset:u,symbolKeepAspect:s,style:c})})),s.updateData(l),this.group.add(s.group),l.eachItemGraphicEl((function(t){t.traverse((function(t){Du(t).dataModel=n}))})),this.markKeep(s),s.group.silent=n.get("silent")||t.get("silent")},n.type="markPoint",n}(LE);var RE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.createMarkerModelFromSeries=function(t,i,r){return new n(t,i,r)},n.type="markLine",n.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},n}(wE),FE=ca(),BE=function(t,n,i,r){var e,a=t.getData();if(X(r))e=r;else{var o=r.type;if("min"===o||"max"===o||"average"===o||"median"===o||null!=r.xAxis||null!=r.yAxis){var u=void 0,s=void 0;if(null!=r.yAxis||null!=r.xAxis)u=n.getAxis(null!=r.yAxis?"y":"x"),s=it(r.yAxis,r.xAxis);else{var l=NE(r,a,n,t);u=l.valueAxis,s=IE(a,Rg(a,l.valueDataDim),o)}var f="x"===u.dim?0:1,h=1-f,c=z(r),v={coord:[]};c.type=null,c.coord=[],c.coord[h]=-1/0,v.coord[h]=1/0;var d=i.get("precision");d>=0&&q(s)&&(s=+s.toFixed(Math.min(d,20))),c.coord[f]=v.coord[f]=s,e=[c,v,{type:o,valueIndex:r.valueIndex,value:s}]}else e=[]}var p=[AE(t,e[0]),AE(t,e[1]),D({},e[2])];return p[2].type=p[2].type||null,L(p[2],p[0]),L(p[2],p[1]),p};function _E(t){return!isNaN(t)&&!isFinite(t)}function EE(t,n,i,r){var e=1-t,a=r.dimensions[t];return _E(n[e])&&_E(i[e])&&n[t]===i[t]&&r.getAxis(a).containData(n[t])}function PE(t,n){if("cartesian2d"===t.type){var i=n[0].coord,r=n[1].coord;if(i&&r&&(EE(1,i,r,t)||EE(0,i,r,t)))return!0}return CE(t,n[0])&&CE(t,n[1])}function WE(t,n,i,r,e){var a,o=r.coordinateSystem,u=t.getItemModel(n),s=ze(u.get("x"),e.getWidth()),l=ze(u.get("y"),e.getHeight());if(isNaN(s)||isNaN(l)){if(r.getMarkerPosition)a=r.getMarkerPosition(t.getValues(t.dimensions,n));else{var f=o.dimensions,h=t.get(f[0],n),c=t.get(f[1],n);a=o.dataToPoint([h,c])}if(PM(o,"cartesian2d")){var v=o.getAxis("x"),d=o.getAxis("y");f=o.dimensions;_E(t.get(f[0],n))?a[0]=v.toGlobalCoord(v.getExtent()[i?0:1]):_E(t.get(f[1],n))&&(a[1]=d.toGlobalCoord(d.getExtent()[i?0:1]))}isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l)}else a=[s,l];t.setItemLayout(n,a)}var VE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.updateTransform=function(t,n,i){n.eachSeries((function(t){var n=wE.getMarkerModelFromSeries(t,"markLine");if(n){var r=n.getData(),e=FE(n).from,a=FE(n).to;e.each((function(n){WE(e,n,!0,t,i),WE(a,n,!1,t,i)})),r.each((function(t){r.setItemLayout(t,[e.getItemLayout(t),a.getItemLayout(t)])})),this.markerGroupMap.get(t.id).updateLayout()}}),this)},n.prototype.renderSeries=function(t,n,i,r){var e=t.coordinateSystem,a=t.id,o=t.getData(),u=this.markerGroupMap,s=u.get(a)||u.set(a,new qT);this.group.add(s.group);var l=function(t,n,i){var r;r=t?P(t&&t.dimensions,(function(t){return D(D({},n.getData().getDimensionInfo(n.getData().mapDimension(t))||{}),{name:t,ordinalMeta:null})})):[{name:"value",type:"float"}];var e=new Ng(r,i),a=new Ng(r,i),o=new Ng([],i),u=P(i.get("data"),G(BE,n,t,i));t&&(u=V(u,G(PE,t)));var s=TE(!!t,r);return e.initData(P(u,(function(t){return t[0]})),null,s),a.initData(P(u,(function(t){return t[1]})),null,s),o.initData(P(u,(function(t){return t[2]}))),o.hasItemOption=!0,{from:e,to:a,line:o}}(e,t,n),f=l.from,h=l.to,c=l.line;FE(n).from=f,FE(n).to=h,n.setData(c);var v=n.get("symbol"),d=n.get("symbolSize"),p=n.get("symbolRotate"),m=n.get("symbolOffset");function y(n,i,e){var a=n.getItemModel(i);WE(n,i,e,t,r);var u=a.getModel("itemStyle").getItemStyle();null==u.fill&&(u.fill=tm(o,"color")),n.setItemVisual(i,{symbolKeepAspect:a.get("symbolKeepAspect"),symbolOffset:rt(a.get("symbolOffset",!0),m[e?0:1]),symbolRotate:rt(a.get("symbolRotate",!0),p[e?0:1]),symbolSize:rt(a.get("symbolSize"),d[e?0:1]),symbol:rt(a.get("symbol",!0),v[e?0:1]),style:u})}X(v)||(v=[v,v]),X(d)||(d=[d,d]),X(p)||(p=[p,p]),X(m)||(m=[m,m]),l.from.each((function(t){y(f,t,!0),y(h,t,!1)})),c.each((function(t){var n=c.getItemModel(t).getModel("lineStyle").getLineStyle();c.setItemLayout(t,[f.getItemLayout(t),h.getItemLayout(t)]),null==n.stroke&&(n.stroke=f.getItemVisual(t,"style").fill),c.setItemVisual(t,{fromSymbolKeepAspect:f.getItemVisual(t,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(t,"symbolOffset"),fromSymbolRotate:f.getItemVisual(t,"symbolRotate"),fromSymbolSize:f.getItemVisual(t,"symbolSize"),fromSymbol:f.getItemVisual(t,"symbol"),toSymbolKeepAspect:h.getItemVisual(t,"symbolKeepAspect"),toSymbolOffset:h.getItemVisual(t,"symbolOffset"),toSymbolRotate:h.getItemVisual(t,"symbolRotate"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol"),style:n})})),s.updateData(c),l.line.eachItemGraphicEl((function(t){Du(t).dataModel=n,t.traverse((function(t){Du(t).dataModel=n}))})),this.markKeep(s),s.group.silent=n.get("silent")||t.get("silent")},n.type="markLine",n}(LE);var HE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.createMarkerModelFromSeries=function(t,i,r){return new n(t,i,r)},n.type="markArea",n.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},n}(wE),YE=ca(),GE=function(t,n,i,r){var e=r[0],a=r[1];if(e&&a){var o=AE(t,e),u=AE(t,a),s=o.coord,l=u.coord;s[0]=it(s[0],-1/0),s[1]=it(s[1],-1/0),l[0]=it(l[0],1/0),l[1]=it(l[1],1/0);var f=O([{},o,u]);return f.coord=[o.coord,u.coord],f.x0=o.x,f.y0=o.y,f.x1=u.x,f.y1=u.y,f}};function XE(t){return!isNaN(t)&&!isFinite(t)}function UE(t,n,i,r){var e=1-t;return XE(n[e])&&XE(i[e])}function jE(t,n){var i=n.coord[0],r=n.coord[1],e={coord:i,x:n.x0,y:n.y0},a={coord:r,x:n.x1,y:n.y1};return PM(t,"cartesian2d")?!(!i||!r||!UE(1,i,r)&&!UE(0,i,r))||function(t,n,i){return!(t&&t.containZone&&n.coord&&i.coord&&!ME(n)&&!ME(i))||t.containZone(n.coord,i.coord)}(t,e,a):CE(t,e)||CE(t,a)}function ZE(t,n,i,r,e){var a,o=r.coordinateSystem,u=t.getItemModel(n),s=ze(u.get(i[0]),e.getWidth()),l=ze(u.get(i[1]),e.getHeight());if(isNaN(s)||isNaN(l)){if(r.getMarkerPosition){var f=t.getValues(["x0","y0"],n),h=t.getValues(["x1","y1"],n),c=o.clampData(f),v=o.clampData(h),d=[];"x0"===i[0]?d[0]=c[0]>v[0]?h[0]:f[0]:d[0]=c[0]>v[0]?f[0]:h[0],"y0"===i[1]?d[1]=c[1]>v[1]?h[1]:f[1]:d[1]=c[1]>v[1]?f[1]:h[1],a=r.getMarkerPosition(d,i,!0)}else{var p=[g=t.get(i[0],n),b=t.get(i[1],n)];o.clampData&&o.clampData(p,p),a=o.dataToPoint(p,!0)}if(PM(o,"cartesian2d")){var m=o.getAxis("x"),y=o.getAxis("y"),g=t.get(i[0],n),b=t.get(i[1],n);XE(g)?a[0]=m.toGlobalCoord(m.getExtent()["x0"===i[0]?0:1]):XE(b)&&(a[1]=y.toGlobalCoord(y.getExtent()["y0"===i[1]?0:1]))}isNaN(s)||(a[0]=s),isNaN(l)||(a[1]=l)}else a=[s,l];return a}var qE=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],KE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.updateTransform=function(t,n,i){n.eachSeries((function(t){var n=wE.getMarkerModelFromSeries(t,"markArea");if(n){var r=n.getData();r.each((function(n){var e=P(qE,(function(e){return ZE(r,n,e,t,i)}));r.setItemLayout(n,e),r.getItemGraphicEl(n).setShape("points",e)}))}}),this)},n.prototype.renderSeries=function(t,n,i,r){var e=t.coordinateSystem,a=t.id,o=t.getData(),u=this.markerGroupMap,s=u.get(a)||u.set(a,{group:new Se});this.group.add(s.group),this.markKeep(s);var l=function(t,n,i){var r,e,a=["x0","y0","x1","y1"];if(t){var o=P(t&&t.dimensions,(function(t){var i=n.getData();return D(D({},i.getDimensionInfo(i.mapDimension(t))||{}),{name:t,ordinalMeta:null})}));e=P(a,(function(t,n){return{name:t,type:o[n%2].type}})),r=new Ng(e,i)}else r=new Ng(e=[{name:"value",type:"float"}],i);var u=P(i.get("data"),G(GE,n,t,i));t&&(u=V(u,G(jE,t)));var s=t?function(t,n,i,r){return Kv(t.coord[Math.floor(r/2)][r%2],e[r])}:function(t,n,i,r){return Kv(t.value,e[r])};return r.initData(u,null,s),r.hasItemOption=!0,r}(e,t,n);n.setData(l),l.each((function(n){var i=P(qE,(function(i){return ZE(l,n,i,t,r)})),a=e.getAxis("x").scale,u=e.getAxis("y").scale,s=a.getExtent(),f=u.getExtent(),h=[a.parse(l.get("x0",n)),a.parse(l.get("x1",n))],c=[u.parse(l.get("y0",n)),u.parse(l.get("y1",n))];Oe(h),Oe(c);var v=!!(s[0]>h[1]||s[1]<h[0]||f[0]>c[1]||f[1]<c[0]);l.setItemLayout(n,{points:i,allClipped:v});var d=l.getItemModel(n).getModel("itemStyle").getItemStyle(),p=tm(o,"color");d.fill||(d.fill=p,j(d.fill)&&(d.fill=Gi(d.fill,.4))),d.stroke||(d.stroke=p),l.setItemVisual(n,"style",d)})),l.diff(YE(s).data).add((function(t){var n=l.getItemLayout(t);if(!n.allClipped){var i=new wl({shape:{points:n.points}});l.setItemGraphicEl(t,i),s.group.add(i)}})).update((function(t,i){var r=YE(s).data.getItemGraphicEl(i),e=l.getItemLayout(t);e.allClipped?r&&s.group.remove(r):(r?Ul(r,{shape:{points:e.points}},n,t):r=new wl({shape:{points:e.points}}),l.setItemGraphicEl(t,r),s.group.add(r))})).remove((function(t){var n=YE(s).data.getItemGraphicEl(t);s.group.remove(n)})).execute(),l.eachItemGraphicEl((function(t,i){var r=l.getItemModel(i),e=l.getItemVisual(i,"style");t.useStyle(l.getItemVisual(i,"style")),zf(t,Lf(r),{labelFetcher:n,labelDataIndex:i,defaultText:l.getName(i)||"",inheritColor:j(e.fill)?Gi(e.fill,1):"#000"}),Ns(t,r),Ms(t,null,null,r.get(["emphasis","disabled"])),Du(t).dataModel=n})),YE(s).data=l,s.group.silent=n.get("silent")||t.get("silent")},n.type="markArea",n}(LE);var JE=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.layoutMode={type:"box",ignoreSize:!0},i}return l(n,t),n.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this.qp(t)},n.prototype.mergeOption=function(n,i){t.prototype.mergeOption.call(this,n,i),this.qp(n)},n.prototype.qp=function(t){var n=t.selector,i=this.ecModel;!0===n&&(n=t.selector=["all","inverse"]),X(n)&&E(n,(function(t,r){j(t)&&(t={type:t}),n[r]=L(t,function(t,n){return"all"===n?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===n?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(i,t.type))}))},n.prototype.optionUpdated=function(){this.Kp(this.ecModel);var t=this.qi;if(t[0]&&"single"===this.get("selectedMode")){for(var n=!1,i=0;i<t.length;i++){var r=t[i].get("name");if(this.isSelected(r)){this.select(r),n=!0;break}}!n&&this.select(t[0].get("name"))}},n.prototype.Kp=function(t){var n=[],i=[];t.eachRawSeries((function(r){var e,a=r.name;if(i.push(a),r.legendVisualProvider){var o=r.legendVisualProvider.getAllNames();t.isSeriesFiltered(r)||(i=i.concat(o)),o.length?n=n.concat(o):e=!0}else e=!0;e&&la(r)&&n.push(r.name)})),this.Jp=i;var r=this.get("data")||n,e=pt(),a=P(r,(function(t){return(j(t)||q(t))&&(t={name:t}),e.get(t.name)?null:(e.set(t.name,!0),new th(t,this,this.ecModel))}),this);this.qi=V(a,(function(t){return!!t}))},n.prototype.getData=function(){return this.qi},n.prototype.select=function(t){var n=this.option.selected;"single"===this.get("selectedMode")&&E(this.qi,(function(t){n[t.get("name")]=!1}));n[t]=!0},n.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},n.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?"unSelect":"select"](t)},n.prototype.allSelect=function(){var t=this.qi,n=this.option.selected;E(t,(function(t){n[t.get("name",!0)]=!0}))},n.prototype.inverseSelect=function(){var t=this.qi,n=this.option.selected;E(t,(function(t){var i=t.get("name",!0);n.hasOwnProperty(i)||(n[i]=!0),n[i]=!n[i]}))},n.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&F(this.Jp,t)>=0},n.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(lc),$E=G,QE=E,tP=Se,nP=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.newlineDisabled=!1,i}return l(n,t),n.prototype.init=function(){this.group.add(this.$p=new tP),this.group.add(this.Qp=new tP),this.tm=!0},n.prototype.getContentGroup=function(){return this.$p},n.prototype.getSelectorGroup=function(){return this.Qp},n.prototype.render=function(t,n,i){var r=this.tm;if(this.tm=!1,this.resetInner(),t.get("show",!0)){var e=t.get("align"),a=t.get("orient");e&&"auto"!==e||(e="right"===t.get("left")&&"vertical"===a?"right":"left");var o=t.get("selector",!0),u=t.get("selectorPosition",!0);!o||u&&"auto"!==u||(u="horizontal"===a?"end":"start"),this.renderInner(e,t,n,i,o,a,u);var s=t.getBoxLayoutParams(),l={width:i.getWidth(),height:i.getHeight()},f=t.get("padding"),h=ic(s,l,f),c=this.layoutInner(t,e,h,r,o,u),v=ic(R({width:c.width,height:c.height},s),l,f);this.group.x=v.x-c.x,this.group.y=v.y-c.y,this.group.markRedraw(),this.group.add(this.nm=zB(c,t))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this.nm&&this.group.remove(this.nm),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(t,n,i,r,e,a,o){var u=this.getContentGroup(),s=pt(),l=n.get("selectedMode"),f=[];i.eachRawSeries((function(t){!t.get("legendHoverLink")&&f.push(t.id)})),QE(n.getData(),(function(e,a){var o=e.get("name");if(!this.newlineDisabled&&(""===o||"\n"===o)){var h=new tP;return h.newline=!0,void u.add(h)}var c=i.getSeriesByName(o)[0];if(!s.get(o))if(c){var v=c.getData(),d=v.getVisual("legendLineStyle")||{},p=v.getVisual("legendIcon"),m=v.getVisual("style"),y=this.im(c,o,a,e,n,t,d,m,p,l,r);y.on("click",$E(iP,o,null,r,f)).on("mouseover",$E(eP,c.name,null,r,f)).on("mouseout",$E(aP,c.name,null,r,f)),i.ssr&&y.eachChild((function(t){var n=Du(t);n.seriesIndex=c.seriesIndex,n.dataIndex=a,n.ssrType="legend"})),s.set(o,!0)}else i.eachRawSeries((function(u){if(!s.get(o)&&u.legendVisualProvider){var h=u.legendVisualProvider;if(!h.containName(o))return;var c=h.indexOfName(o),v=h.getItemVisual(c,"style"),d=h.getItemVisual(c,"legendIcon"),p=Pi(v.fill);p&&0===p[3]&&(p[3]=.2,v=D(D({},v),{fill:Xi(p,"rgba")}));var m=this.im(u,o,a,e,n,t,{},v,d,l,r);m.on("click",$E(iP,null,o,r,f)).on("mouseover",$E(eP,null,o,r,f)).on("mouseout",$E(aP,null,o,r,f)),i.ssr&&m.eachChild((function(t){var n=Du(t);n.seriesIndex=u.seriesIndex,n.dataIndex=a,n.ssrType="legend"})),s.set(o,!0)}}),this)}),this),e&&this.rm(e,n,r,a,o)},n.prototype.rm=function(t,n,i,r,e){var a=this.getSelectorGroup();QE(t,(function(t){var r=t.type,e=new wu({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===r?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});a.add(e),zf(e,{normal:n.getModel("selectorLabel"),emphasis:n.getModel(["emphasis","selectorLabel"])},{defaultText:t.title}),xs(e)}))},n.prototype.im=function(t,n,i,r,e,a,o,u,s,l,f){var h=t.visualDrawType,c=e.get("itemWidth"),v=e.get("itemHeight"),d=e.isSelected(n),p=r.get("symbolRotate"),m=r.get("symbolKeepAspect"),y=r.get("icon"),g=function(t,n,i,r,e,a,o){function u(t,n){"auto"===t.lineWidth&&(t.lineWidth=n.lineWidth>0?2:0),QE(t,(function(i,r){"inherit"===t[r]&&(t[r]=n[r])}))}var s=n.getModel("itemStyle"),l=s.getItemStyle(),f=0===t.lastIndexOf("empty",0)?"fill":"stroke",h=s.getShallow("decal");l.decal=h&&"inherit"!==h?Ym(h,o):r.decal,"inherit"===l.fill&&(l.fill=r[e]);"inherit"===l.stroke&&(l.stroke=r[f]);"inherit"===l.opacity&&(l.opacity=("fill"===e?r:i).opacity);u(l,r);var c=n.getModel("lineStyle"),v=c.getLineStyle();if(u(v,i),"auto"===l.fill&&(l.fill=r.fill),"auto"===l.stroke&&(l.stroke=r.fill),"auto"===v.stroke&&(v.stroke=r.fill),!a){var d=n.get("inactiveBorderWidth"),p=l[f];l.lineWidth="auto"===d?r.lineWidth>0&&p?2:0:l.lineWidth,l.fill=n.get("inactiveColor"),l.stroke=n.get("inactiveBorderColor"),v.stroke=c.get("inactiveColor"),v.lineWidth=c.get("inactiveWidth")}return{itemStyle:l,lineStyle:v}}(s=y||s||"roundRect",r,o,u,h,d,f),b=new tP,w=r.getModel("textStyle");if(!U(t.getLegendIcon)||y&&"inherit"!==y){var x="inherit"===y&&t.getData().getVisual("symbol")?"inherit"===p?t.getData().getVisual("symbolRotate"):p:0;b.add(function(t){var n=t.icon||"roundRect",i=mm(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);i.setStyle(t.itemStyle),i.rotation=(t.iconRotate||0)*Math.PI/180,i.setOrigin([t.itemWidth/2,t.itemHeight/2]),n.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2);return i}({itemWidth:c,itemHeight:v,icon:s,iconRotate:x,itemStyle:g.itemStyle,symbolKeepAspect:m}))}else b.add(t.getLegendIcon({itemWidth:c,itemHeight:v,icon:s,iconRotate:p,itemStyle:g.itemStyle,lineStyle:g.lineStyle,symbolKeepAspect:m}));var M="left"===a?c+5:-5,S=a,k=e.get("formatter"),A=n;j(k)&&k?A=k.replace("{name}",null!=n?n:""):U(k)&&(A=k(n));var N=d?w.getTextColor():r.get("inactiveColor");b.add(new wu({style:Of(w,{text:A,x:M,y:v/2,fill:N,align:S,verticalAlign:"middle"},{inheritColor:N})}));var C=new yu({shape:b.getBoundingRect(),style:{fill:"transparent"}}),T=r.getModel("tooltip");return T.get("show")&&Sf({el:C,componentModel:e,itemName:n,itemTooltipOption:T.option}),b.add(C),b.eachChild((function(t){t.silent=!0})),C.silent=!l,this.getContentGroup().add(b),xs(b),b.am=i,b},n.prototype.layoutInner=function(t,n,i,r,e,a){var o=this.getContentGroup(),u=this.getSelectorGroup();nc(t.get("orient"),o,t.get("itemGap"),i.width,i.height);var s=o.getBoundingRect(),l=[-s.x,-s.y];if(u.markRedraw(),o.markRedraw(),e){nc("horizontal",u,t.get("selectorItemGap",!0));var f=u.getBoundingRect(),h=[-f.x,-f.y],c=t.get("selectorButtonGap",!0),v=t.getOrient().index,d=0===v?"width":"height",p=0===v?"height":"width",m=0===v?"y":"x";"end"===a?h[v]+=s[d]+c:l[v]+=f[d]+c,h[1-v]+=s[p]/2-f[p]/2,u.x=h[0],u.y=h[1],o.x=l[0],o.y=l[1];var y={x:0,y:0};return y[d]=s[d]+c+f[d],y[p]=Math.max(s[p],f[p]),y[m]=Math.min(0,f[m]+h[1-v]),y}return o.x=l[0],o.y=l[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this.tm=!0},n.type="legend.plain",n}(tp);function iP(t,n,i,r){aP(t,n,i,r),i.dispatchAction({type:"legendToggleSelect",name:null!=t?t:n}),eP(t,n,i,r)}function rP(t){for(var n,i=t.getZr().storage.getDisplayList(),r=0,e=i.length;r<e&&!(n=i[r].states.emphasis);)r++;return n&&n.hoverLayer}function eP(t,n,i,r){rP(i)||i.dispatchAction({type:"highlight",seriesName:t,name:n,excludeSeriesId:r})}function aP(t,n,i,r){rP(i)||i.dispatchAction({type:"downplay",seriesName:t,name:n,excludeSeriesId:r})}function oP(t){var n=t.findComponents({mainType:"legend"});n&&n.length&&t.filterSeries((function(t){for(var i=0;i<n.length;i++)if(!n[i].isSelected(t.name))return!1;return!0}))}function uP(t,n,i){var r="allSelect"===t||"inverseSelect"===t,e={},a=[];i.eachComponent({mainType:"legend",query:n},(function(i){r?i[t]():i[t](n.name),sP(i,e),a.push(i.componentIndex)}));var o={};return i.eachComponent("legend",(function(t){E(e,(function(n,i){t[n?"select":"unSelect"](i)})),sP(t,o)})),r?{selected:o,legendIndex:a}:{name:n.name,selected:o}}function sP(t,n){var i=n||{};return E(t.getData(),(function(n){var r=n.get("name");if("\n"!==r&&""!==r){var e=t.isSelected(r);bt(i,r)?i[r]=i[r]&&e:i[r]=e}})),i}function lP(t){t.registerComponentModel(JE),t.registerComponentView(nP),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,oP),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(t){t.registerAction("legendToggleSelect","legendselectchanged",G(uP,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",G(uP,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",G(uP,"inverseSelect")),t.registerAction("legendSelect","legendselected",G(uP,"select")),t.registerAction("legendUnSelect","legendunselected",G(uP,"unSelect"))}(t)}var fP=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},n.prototype.init=function(n,i,r){var e=oc(n);t.prototype.init.call(this,n,i,r),hP(this,n,e)},n.prototype.mergeOption=function(n,i){t.prototype.mergeOption.call(this,n,i),hP(this,this.option,n)},n.type="legend.scroll",n.defaultOption=rh(JE.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(JE);function hP(t,n,i){var r=[1,1];r[t.getOrient().index]=0,ac(n,i,{type:"box",ignoreSize:!!r})}var cP=Se,vP=["width","height"],dP=["x","y"],pP=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.newlineDisabled=!0,i.om=0,i}return l(n,t),n.prototype.init=function(){t.prototype.init.call(this),this.group.add(this.Hf=new cP),this.Hf.add(this.getContentGroup()),this.group.add(this.um=new cP)},n.prototype.resetInner=function(){t.prototype.resetInner.call(this),this.um.removeAll(),this.Hf.removeClipPath(),this.Hf.sm=null},n.prototype.renderInner=function(n,i,r,e,a,o,u){var s=this;t.prototype.renderInner.call(this,n,i,r,e,a,o,u);var l=this.um,f=i.get("pageIconSize",!0),h=X(f)?f:[f,f];v("pagePrev",0);var c=i.getModel("pageTextStyle");function v(t,n){var r=t+"DataIndex",a=bf(i.get("pageIcons",!0)[i.getOrient().name][n],{onclick:Y(s.lm,s,r,i,e)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});a.name=t,l.add(a)}l.add(new wu({name:"pageText",style:{text:"xx/xx",fill:c.getTextColor(),font:c.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),v("pageNext",1)},n.prototype.layoutInner=function(t,n,i,r,e,a){var o=this.getSelectorGroup(),u=t.getOrient().index,s=vP[u],l=dP[u],f=vP[1-u],h=dP[1-u];e&&nc("horizontal",o,t.get("selectorItemGap",!0));var c=t.get("selectorButtonGap",!0),v=o.getBoundingRect(),d=[-v.x,-v.y],p=z(i);e&&(p[s]=i[s]-v[s]-c);var m=this.fm(t,r,p,u,s,f,h,l);if(e){if("end"===a)d[u]+=m[s]+c;else{var y=v[s]+c;d[u]-=y,m[l]-=y}m[s]+=v[s]+c,d[1-u]+=m[h]+m[f]/2-v[f]/2,m[f]=Math.max(m[f],v[f]),m[h]=Math.min(m[h],v[h]+d[1-u]),o.x=d[0],o.y=d[1],o.markRedraw()}return m},n.prototype.fm=function(t,n,i,r,e,a,o,u){var s=this.getContentGroup(),l=this.Hf,f=this.um;nc(t.get("orient"),s,t.get("itemGap"),r?i.width:null,r?null:i.height),nc("horizontal",f,t.get("pageButtonItemGap",!0));var h=s.getBoundingRect(),c=f.getBoundingRect(),v=this.hm=h[e]>i[e],d=[-h.x,-h.y];n||(d[r]=s[u]);var p=[0,0],m=[-c.x,-c.y],y=rt(t.get("pageButtonGap",!0),t.get("itemGap",!0));v&&("end"===t.get("pageButtonPosition",!0)?m[r]+=i[e]-c[e]:p[r]+=c[e]+y);m[1-r]+=h[a]/2-c[a]/2,s.setPosition(d),l.setPosition(p),f.setPosition(m);var g={x:0,y:0};if(g[e]=v?i[e]:h[e],g[a]=Math.max(h[a],c[a]),g[o]=Math.min(0,c[o]+m[1-r]),l.sm=i[e],v){var b={x:0,y:0};b[e]=Math.max(i[e]-c[e]-y,0),b[a]=g[a],l.setClipPath(new yu({shape:b})),l.sm=b[e]}else f.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var w=this.vm(t);return null!=w.pageIndex&&Ul(s,{x:w.contentPosition[0],y:w.contentPosition[1]},v?t:null),this.dm(t,w),g},n.prototype.lm=function(t,n,i){var r=this.vm(n)[t];null!=r&&i.dispatchAction({type:"legendScroll",scrollDataIndex:r,legendId:n.id})},n.prototype.dm=function(t,n){var i=this.um;E(["pagePrev","pageNext"],(function(r){var e=null!=n[r+"DataIndex"],a=i.childOfName(r);a&&(a.setStyle("fill",e?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),a.cursor=e?"pointer":"default")}));var r=i.childOfName("pageText"),e=t.get("pageFormatter"),a=n.pageIndex,o=null!=a?a+1:0,u=n.pageCount;r&&e&&r.setStyle("text",j(e)?e.replace("{current}",null==o?"":o+"").replace("{total}",null==u?"":u+""):e({current:o,total:u}))},n.prototype.vm=function(t){var n=t.get("scrollDataIndex",!0),i=this.getContentGroup(),r=this.Hf.sm,e=t.getOrient().index,a=vP[e],o=dP[e],u=this.pm(n),s=i.children(),l=s[u],f=s.length,h=f?1:0,c={contentPosition:[i.x,i.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!l)return c;var v=g(l);c.contentPosition[e]=-v.s;for(var d=u+1,p=v,m=v,y=null;d<=f;++d)(!(y=g(s[d]))&&m.e>p.s+r||y&&!b(y,p.s))&&(p=m.i>p.i?m:y)&&(null==c.pageNextDataIndex&&(c.pageNextDataIndex=p.i),++c.pageCount),m=y;for(d=u-1,p=v,m=v,y=null;d>=-1;--d)(y=g(s[d]))&&b(m,y.s)||!(p.i<m.i)||(m=p,null==c.pagePrevDataIndex&&(c.pagePrevDataIndex=p.i),++c.pageCount,++c.pageIndex),p=y;return c;function g(t){if(t){var n=t.getBoundingRect(),i=n[o]+t[o];return{s:i,e:i+n[a],i:t.am}}}function b(t,n){return t.e>=n&&t.s<=n+r}},n.prototype.pm=function(t){return this.hm?(this.getContentGroup().eachChild((function(r,e){var a=r.am;null==i&&null!=a&&(i=e),a===t&&(n=e)})),null!=n?n:i):0;var n,i},n.type="legend.scroll",n}(nP);function mP(t){Qy(lP),t.registerComponentModel(fP),t.registerComponentView(pP),function(t){t.registerAction("legendScroll","legendscroll",(function(t,n){var i=t.scrollDataIndex;null!=i&&n.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(i)}))}))}(t)}var yP=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="dataZoom.inside",n.defaultOption=rh(vB.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(vB),gP=ca();function bP(t,n){if(n){t.removeKey(n.model.uid);var i=n.controller;i&&i.dispose()}}function wP(t,n){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:n})}function xP(t,n,i,r){return t.coordinateSystem.containPoint([i,r])}function MP(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,(function(t,n){var i=gP(n),r=i.coordSysRecordMap||(i.coordSysRecordMap=pt());r.each((function(t){t.dataZoomInfoMap=null})),t.eachComponent({mainType:"dataZoom",subType:"inside"},(function(t){E(hB(t).infoList,(function(i){var e=i.model.uid,a=r.get(e)||r.set(e,function(t,n){var i={model:n,containsPoint:G(xP,n),dispatchAction:G(wP,t),dataZoomInfoMap:null,controller:null},r=i.controller=new uA(t.getZr());return E(["pan","zoom","scrollMove"],(function(t){r.on(t,(function(n){var r=[];i.dataZoomInfoMap.each((function(e){if(n.isAvailableBehavior(e.model.option)){var a=(e.getRange||{})[t],o=a&&a(e.dzReferCoordSysInfo,i.model.mainType,i.controller,n);!e.model.get("disabled",!0)&&o&&r.push({dataZoomId:e.model.id,start:o[0],end:o[1]})}})),r.length&&i.dispatchAction(r)}))})),i}(n,i.model));(a.dataZoomInfoMap||(a.dataZoomInfoMap=pt())).set(t.uid,{dzReferCoordSysInfo:i,model:t,getRange:null})}))})),r.each((function(t){var n,i=t.controller,e=t.dataZoomInfoMap;if(e){var a=e.keys()[0];null!=a&&(n=e.get(a))}if(n){var o=function(t){var n,i="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},e=!0;return t.each((function(t){var a=t.model,o=!a.get("disabled",!0)&&(!a.get("zoomLock",!0)||"move");r[i+o]>r[i+n]&&(n=o),e=e&&a.get("preventDefaultMouseMove",!0)})),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!e}}}(e);i.enable(o.controlType,o.opt),i.setPointerChecker(t.containsPoint),dp(t,"dispatchAction",n.model.get("throttle",!0),"fixRate")}else bP(r,t)}))}))}var SP=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="dataZoom.inside",n}return l(n,t),n.prototype.render=function(n,i,r){t.prototype.render.apply(this,arguments),n.noTarget()?this.us():(this.range=n.getPercentRange(),function(t,n,i){gP(t).coordSysRecordMap.each((function(t){var r=t.dataZoomInfoMap.get(n.uid);r&&(r.getRange=i)}))}(r,n,{pan:Y(kP.pan,this),zoom:Y(kP.zoom,this),scrollMove:Y(kP.scrollMove,this)}))},n.prototype.dispose=function(){this.us(),t.prototype.dispose.apply(this,arguments)},n.prototype.us=function(){!function(t,n){for(var i=gP(t).coordSysRecordMap,r=i.keys(),e=0;e<r.length;e++){var a=r[e],o=i.get(a),u=o.dataZoomInfoMap;if(u){var s=n.uid;u.get(s)&&(u.removeKey(s),u.keys().length||bP(i,o))}}}(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n}(mB),kP={zoom:function(t,n,i,r){var e=this.range,a=e.slice(),o=t.axisModels[0];if(o){var u=NP[n](null,[r.originX,r.originY],o,i,t),s=(u.signal>0?u.pixelStart+u.pixelLength-u.pixel:u.pixel-u.pixelStart)/u.pixelLength*(a[1]-a[0])+a[0],l=Math.max(1/r.scale,0);a[0]=(a[0]-s)*l+s,a[1]=(a[1]-s)*l+s;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return HI(0,a,[0,100],0,f.minSpan,f.maxSpan),this.range=a,e[0]!==a[0]||e[1]!==a[1]?a:void 0}},pan:AP((function(t,n,i,r,e,a){var o=NP[r]([a.oldX,a.oldY],[a.newX,a.newY],n,e,i);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength})),scrollMove:AP((function(t,n,i,r,e,a){return NP[r]([0,0],[a.scrollDelta,a.scrollDelta],n,e,i).signal*(t[1]-t[0])*a.scrollDelta}))};function AP(t){return function(n,i,r,e){var a=this.range,o=a.slice(),u=n.axisModels[0];if(u)return HI(t(o,u,n,i,r,e),o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1]?o:void 0}}var NP={grid:function(t,n,i,r,e){var a=i.axis,o={},u=e.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(o.pixel=n[0]-t[0],o.pixelLength=u.width,o.pixelStart=u.x,o.signal=a.inverse?1:-1):(o.pixel=n[1]-t[1],o.pixelLength=u.height,o.pixelStart=u.y,o.signal=a.inverse?-1:1),o},polar:function(t,n,i,r,e){var a=i.axis,o={},u=e.model.coordinateSystem,s=u.getRadiusAxis().getExtent(),l=u.getAngleAxis().getExtent();return t=t?u.pointToCoord(t):[0,0],n=u.pointToCoord(n),"radiusAxis"===i.mainType?(o.pixel=n[0]-t[0],o.pixelLength=s[1]-s[0],o.pixelStart=s[0],o.signal=a.inverse?1:-1):(o.pixel=n[1]-t[1],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?-1:1),o},singleAxis:function(t,n,i,r,e){var a=i.axis,o=e.model.coordinateSystem.getRect(),u={};return t=t||[0,0],"horizontal"===a.orient?(u.pixel=n[0]-t[0],u.pixelLength=o.width,u.pixelStart=o.x,u.signal=a.inverse?1:-1):(u.pixel=n[1]-t[1],u.pixelLength=o.height,u.pixelStart=o.y,u.signal=a.inverse?-1:1),u}};function CP(t){SB(t),t.registerComponentModel(yP),t.registerComponentView(SP),MP(t)}var TP=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=rh(vB.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),n}(vB),IP=yu,zP="horizontal",LP="vertical",OP=["line","bar","candlestick","scatter"],DP={easing:"cubicOut",duration:100,delay:0},RP=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.Ai={},i}return l(n,t),n.prototype.init=function(t,n){this.api=n,this.ec=Y(this.ec,this),this.ym=Y(this.ym,this)},n.prototype.render=function(n,i,r,e){if(t.prototype.render.apply(this,arguments),dp(this,"_dispatchZoomAction",n.get("throttle"),"fixRate"),this.qv=n.getOrient(),!1!==n.get("show")){if(n.noTarget())return this.us(),void this.group.removeAll();e&&"dataZoom"===e.type&&e.from===this.uid||this.gm(),this.bm()}else this.group.removeAll()},n.prototype.dispose=function(){this.us(),t.prototype.dispose.apply(this,arguments)},n.prototype.us=function(){pp(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this.ec),t.off("mouseup",this.ym)},n.prototype.gm=function(){var t=this.group;t.removeAll(),this.wm=!1,this.Ai.brushRect=null,this.xm(),this.Mm();var n=this.Ai.sliderGroup=new Se;this.di(),this.bv(),this.Sm(),t.add(n),this.km()},n.prototype.xm=function(){var t=this.dataZoomModel,n=this.api,i=t.get("brushSelect")?7:0,r=this.Am(),e={width:n.getWidth(),height:n.getHeight()},a=this.qv===zP?{right:e.width-r.x-r.width,top:e.height-30-7-i,width:r.width,height:30}:{right:7,top:r.y,width:30,height:r.height},o=oc(t.option);E(["right","top","width","height"],(function(t){"ph"===o[t]&&(o[t]=a[t])}));var u=ic(o,e);this.Nm={x:u.x,y:u.y},this.Cm=[u.width,u.height],this.qv===LP&&this.Cm.reverse()},n.prototype.km=function(){var t=this.group,n=this.Nm,i=this.qv,r=this.dataZoomModel.getFirstTargetAxisModel(),e=r&&r.get("inverse"),a=this.Ai.sliderGroup,o=(this.Tm||{}).otherAxisInverse;a.attr(i!==zP||e?i===zP&&e?{scaleY:o?1:-1,scaleX:-1}:i!==LP||e?{scaleY:o?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:o?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:o?1:-1,scaleX:1});var u=t.getBoundingRect([a]);t.x=n.x-u.x,t.y=n.y-u.y,t.markRedraw()},n.prototype.Im=function(){return[0,this.Cm[0]]},n.prototype.di=function(){var t=this.dataZoomModel,n=this.Cm,i=this.Ai.sliderGroup,r=t.get("brushSelect");i.add(new IP({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var e=new IP({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Y(this.zm,this)}),a=this.api.getZr();r?(e.on("mousedown",this.Lm,this),e.cursor="crosshair",a.on("mousemove",this.ec),a.on("mouseup",this.ym)):(a.off("mousemove",this.ec),a.off("mouseup",this.ym)),i.add(e)},n.prototype.Sm=function(){var t=this.Tm=this.Om();if(this.Ai.dataShadowSegs=[],t){var n=this.Cm,i=this.Dm||[],r=t.series,e=r.getRawData(),a=r.getShadowDim&&r.getShadowDim(),o=a&&e.getDimensionInfo(a)?r.getShadowDim():t.otherDim;if(null!=o){var u=this.Rm,s=this.Fm;if(e!==this.Bm||o!==this._m||n[0]!==i[0]||n[1]!==i[1]){var l=e.getDataExtent(o),f=.3*(l[1]-l[0]);l=[l[0]-f,l[1]+f];var h,c=[0,n[1]],v=[0,n[0]],d=[[n[0],0],[0,0]],p=[],m=v[1]/(e.count()-1),y=0,g=Math.round(e.count()/n[0]);e.each([o],(function(t,n){if(g>0&&n%g)y+=m;else{var i=null==t||isNaN(t)||""===t,r=i?0:Ie(t,l,c,!0);i&&!h&&n?(d.push([d[d.length-1][0],0]),p.push([p[p.length-1][0],0])):!i&&h&&(d.push([y,0]),p.push([y,0])),d.push([y,r]),p.push([y,r]),y+=m,h=i}})),u=this.Rm=d,s=this.Fm=p}this.Bm=e,this._m=o,this.Dm=[n[0],n[1]];for(var b,w,x,M,S,k=this.dataZoomModel,A=0;A<3;A++){var N=(b=1===A,w=void 0,x=void 0,M=void 0,S=void 0,w=k.getModel(b?"selectedDataBackground":"dataBackground"),x=new Se,M=new wl({shape:{points:u},segmentIgnoreThreshold:1,style:w.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),S=new Ml({shape:{points:s},segmentIgnoreThreshold:1,style:w.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),x.add(M),x.add(S),x);this.Ai.sliderGroup.add(N),this.Ai.dataShadowSegs.push(N)}}}},n.prototype.Om=function(){var t=this.dataZoomModel,n=t.get("showDataShadow");if(!1!==n){var i,r=this.ecModel;return t.eachTargetAxis((function(e,a){E(t.getAxisProxy(e,a).getTargetSeriesModels(),(function(t){if(!(i||!0!==n&&F(OP,t.get("type"))<0)){var o,u=r.getComponent(lB(e),a).axis,s={x:"y",y:"x",radius:"angle",angle:"radius"}[e],l=t.coordinateSystem;null!=s&&l.getOtherAxis&&(o=l.getOtherAxis(u).inverse),s=t.getData().mapDimension(s),i={thisAxis:u,series:t,thisDim:e,otherDim:s,otherAxisInverse:o}}}),this)}),this),i}},n.prototype.bv=function(){var t=this.group,n=this.Ai,i=n.handles=[null,null],r=n.handleLabels=[null,null],e=this.Ai.sliderGroup,a=this.Cm,o=this.dataZoomModel,u=this.api,s=o.get("borderRadius")||0,l=o.get("brushSelect"),f=n.filler=new IP({silent:l,style:{fill:o.get("fillerColor")},textConfig:{position:"inside"}});e.add(f),e.add(new IP({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:a[0],height:a[1],r:s},style:{stroke:o.get("dataBackgroundColor")||o.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),E([0,1],(function(n){var a=o.get("handleIcon");!vm[a]&&a.indexOf("path://")<0&&a.indexOf("image://")<0&&(a="path://"+a);var u=mm(a,-1,0,2,2,null,!0);u.attr({cursor:FP(this.qv),draggable:!0,drift:Y(this.Em,this,n),ondragend:Y(this.Pm,this),onmouseover:Y(this.Wm,this,!0),onmouseout:Y(this.Wm,this,!1),z2:5});var s=u.getBoundingRect(),l=o.get("handleSize");this.Vm=ze(l,this.Cm[1]),this.Hm=s.width/s.height*this.Vm,u.setStyle(o.getModel("handleStyle").getItemStyle()),u.style.strokeNoScale=!0,u.rectHover=!0,u.ensureState("emphasis").style=o.getModel(["emphasis","handleStyle"]).getItemStyle(),xs(u);var f=o.get("handleColor");null!=f&&(u.style.fill=f),e.add(i[n]=u);var h=o.getModel("textStyle"),c=(o.get("handleLabel")||{}).show||!1;t.add(r[n]=new wu({silent:!0,invisible:!c,style:Of(h,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:h.getTextColor(),font:h.getFont()}),z2:10}))}),this);var h=f;if(l){var c=ze(o.get("moveHandleSize"),a[1]),v=n.moveHandle=new yu({style:o.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:a[1]-.5,height:c}}),d=.8*c,p=n.moveHandleIcon=mm(o.get("moveHandleIcon"),-d/2,-d/2,d,d,"#fff",!0);p.silent=!0,p.y=a[1]+c/2-.5,v.ensureState("emphasis").style=o.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var m=Math.min(a[1]/2,Math.max(c,10));(h=n.moveZone=new yu({invisible:!0,shape:{y:a[1]-m,height:c+m}})).on("mouseover",(function(){u.enterEmphasis(v)})).on("mouseout",(function(){u.leaveEmphasis(v)})),e.add(v),e.add(p),e.add(h)}h.attr({draggable:!0,cursor:FP(this.qv),drift:Y(this.Em,this,"all"),ondragstart:Y(this.Wm,this,!0),ondragend:Y(this.Pm,this),onmouseover:Y(this.Wm,this,!0),onmouseout:Y(this.Wm,this,!1)})},n.prototype.Mm=function(){var t=this.Ym=this.dataZoomModel.getPercentRange(),n=this.Im();this.Gm=[Ie(t[0],[0,100],n,!0),Ie(t[1],[0,100],n,!0)]},n.prototype.Xm=function(t,n){var i=this.dataZoomModel,r=this.Gm,e=this.Im(),a=i.findRepresentativeAxisProxy().getMinMaxSpan(),o=[0,100];HI(n,r,e,i.get("zoomLock")?"all":t,null!=a.minSpan?Ie(a.minSpan,o,e,!0):null,null!=a.maxSpan?Ie(a.maxSpan,o,e,!0):null);var u=this.Ym,s=this.Ym=Oe([Ie(r[0],e,o,!0),Ie(r[1],e,o,!0)]);return!u||u[0]!==s[0]||u[1]!==s[1]},n.prototype.bm=function(t){var n=this.Ai,i=this.Gm,r=Oe(i.slice()),e=this.Cm;E([0,1],(function(t){var r=n.handles[t],a=this.Vm;r.attr({scaleX:a/2,scaleY:a/2,x:i[t]+(t?-1:1),y:e[1]/2-a/2})}),this),n.filler.setShape({x:r[0],y:0,width:r[1]-r[0],height:e[1]});var a={x:r[0],width:r[1]-r[0]};n.moveHandle&&(n.moveHandle.setShape(a),n.moveZone.setShape(a),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",a.x+a.width/2));for(var o=n.dataShadowSegs,u=[0,r[0],r[1],e[0]],s=0;s<o.length;s++){var l=o[s],f=l.getClipPath();f||(f=new yu,l.setClipPath(f)),f.setShape({x:u[s],y:0,width:u[s+1]-u[s],height:e[1]})}this.Um(t)},n.prototype.Um=function(t){var n=this.dataZoomModel,i=this.Ai,r=i.handleLabels,e=this.qv,a=["",""];if(n.get("showDetail")){var o=n.findRepresentativeAxisProxy();if(o){var u=o.getAxisModel().axis,s=this.Ym,l=t?o.calculateDataWindow({start:s[0],end:s[1]}).valueWindow:o.getDataValueWindow();a=[this.jm(l[0],u),this.jm(l[1],u)]}}var f=Oe(this.Gm.slice());function h(t){var n=vf(i.handles[t].parent,this.group),o=pf(0===t?"right":"left",n),u=this.Hm/2+5,s=df([f[t]+(0===t?-u:u),this.Cm[1]/2],n);r[t].setStyle({x:s[0],y:s[1],verticalAlign:e===zP?"middle":o,align:e===zP?o:"center",text:a[t]})}h.call(this,0),h.call(this,1)},n.prototype.jm=function(t,n){var i=this.dataZoomModel,r=i.get("labelFormatter"),e=i.get("labelPrecision");null!=e&&"auto"!==e||(e=n.getPixelPrecision());var a=null==t||isNaN(t)?"":"category"===n.type||"time"===n.type?n.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(e,20));return U(r)?r(t,a):j(r)?r.replace("{value}",a):a},n.prototype.Wm=function(t){var n=(this.dataZoomModel.get("handleLabel")||{}).show||!1,i=this.dataZoomModel.getModel(["emphasis","handleLabel"]).get("show")||!1,r=t||this.ll?i:n,e=this.Ai,a=e.handleLabels;a[0].attr("invisible",!r),a[1].attr("invisible",!r),e.moveHandle&&this.api[r?"enterEmphasis":"leaveEmphasis"](e.moveHandle,1)},n.prototype.Em=function(t,n,i,r){this.ll=!0,sn(r.event);var e=df([n,i],this.Ai.sliderGroup.getLocalTransform(),!0),a=this.Xm(t,e[0]),o=this.dataZoomModel.get("realtime");this.bm(!o),a&&o&&this.Fd(!0)},n.prototype.Pm=function(){this.ll=!1,this.Wm(!1),!this.dataZoomModel.get("realtime")&&this.Fd(!1)},n.prototype.zm=function(t){var n=this.Cm,i=this.Ai.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>n[0]||i[1]<0||i[1]>n[1])){var r=this.Gm,e=(r[0]+r[1])/2,a=this.Xm("all",i[0]-e);this.bm(),a&&this.Fd(!1)}},n.prototype.Lm=function(t){var n=t.offsetX,i=t.offsetY;this.Zm=new wn(n,i),this.wm=!0,this.qm=+new Date},n.prototype.ym=function(t){if(this.wm){var n=this.Ai.brushRect;if(this.wm=!1,n){n.attr("ignore",!0);var i=n.shape;if(!(+new Date-this.qm<200&&Math.abs(i.width)<5)){var r=this.Im(),e=[0,100];this.Ym=Oe([Ie(i.x,r,e,!0),Ie(i.x+i.width,r,e,!0)]),this.Gm=[i.x,i.x+i.width],this.bm(),this.Fd(!1)}}}},n.prototype.ec=function(t){this.wm&&(sn(t.event),this.Km(t.offsetX,t.offsetY))},n.prototype.Km=function(t,n){var i=this.Ai,r=this.dataZoomModel,e=i.brushRect;e||(e=i.brushRect=new IP({silent:!0,style:r.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(e)),e.attr("ignore",!1);var a=this.Zm,o=this.Ai.sliderGroup,u=o.transformCoordToLocal(t,n),s=o.transformCoordToLocal(a.x,a.y),l=this.Cm;u[0]=Math.max(Math.min(l[0],u[0]),0),e.setShape({x:s[0],y:0,width:u[0]-s[0],height:l[1]})},n.prototype.Fd=function(t){var n=this.Ym;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?DP:null,start:n[0],end:n[1]})},n.prototype.Am=function(){var t,n=hB(this.dataZoomModel).infoList;if(!t&&n.length){var i=n[0].model.coordinateSystem;t=i.getRect&&i.getRect()}if(!t){var r=this.api.getWidth(),e=this.api.getHeight();t={x:.2*r,y:.2*e,width:.6*r,height:.6*e}}return t},n.type="dataZoom.slider",n}(mB);function FP(t){return"vertical"===t?"ns-resize":"ew-resize"}function BP(t){t.registerComponentModel(TP),t.registerComponentView(RP),SB(t)}var _P=function(t,n,i){var r=z((EP[t]||{})[n]);return i&&X(r)?r[r.length-1]:r},EP={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},PP=FC.mapVisual,WP=FC.eachVisual,VP=X,HP=E,YP=Oe,GP=Ie,XP=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.stateList=["inRange","outOfRange"],i.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],i.layoutMode={type:"box",ignoreSize:!0},i.dataBound=[-1/0,1/0],i.targetVisuals={},i.controllerVisuals={},i}return l(n,t),n.prototype.init=function(t,n,i){this.mergeDefaultAndTheme(t,i)},n.prototype.optionUpdated=function(t,n){var i=this.option;!n&&P_(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(t){var n=this.stateList;t=Y(t,this),this.controllerVisuals=E_(this.option.controller,n,t),this.targetVisuals=E_(this.option.target,n,t)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,n=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,i){n.push(i)})):n=ta(t),n},n.prototype.eachTargetSeries=function(t,n){E(this.getTargetSeriesIndices(),(function(i){var r=this.ecModel.getSeriesByIndex(i);r&&t.call(n,r)}),this)},n.prototype.isTargetSeries=function(t){var n=!1;return this.eachTargetSeries((function(i){i===t&&(n=!0)})),n},n.prototype.formatValueText=function(t,n,i){var r,e=this.option,a=e.precision,o=this.dataBound,u=e.formatter;i=i||["<",">"],X(t)&&(t=t.slice(),r=!0);var s=n?t:r?[l(t[0]),l(t[1])]:l(t);return j(u)?u.replace("{value}",r?s[0]:s).replace("{value2}",r?s[1]:s):U(u)?r?u(t[0],t[1]):u(t):r?t[0]===o[0]?i[0]+" "+s[1]:t[1]===o[1]?i[1]+" "+s[0]:s[0]+" - "+s[1]:s;function l(t){return t===o[0]?"min":t===o[1]?"max":(+t).toFixed(Math.min(a,20))}},n.prototype.resetExtent=function(){var t=this.option,n=YP([t.min,t.max]);this.Nd=n},n.prototype.getDataDimensionIndex=function(t){var n=this.option.dimension;if(null!=n)return t.getDimensionIndex(n);for(var i=t.dimensions,r=i.length-1;r>=0;r--){var e=i[r],a=t.getDimensionInfo(e);if(!a.isCalculationCoord)return a.storeDimIndex}},n.prototype.getExtent=function(){return this.Nd.slice()},n.prototype.completeVisualOption=function(){var t=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},r=n.target||(n.target={}),e=n.controller||(n.controller={});L(r,i),L(e,i);var a=this.isCategory();function o(i){VP(n.color)&&!i.inRange&&(i.inRange={color:n.color.slice().reverse()}),i.inRange=i.inRange||{color:t.get("gradientColor")}}o.call(this,r),o.call(this,e),function(t,n,i){var r=t[n],e=t[i];r&&!e&&(e=t[i]={},HP(r,(function(t,n){if(FC.isValidType(n)){var i=_P(n,"inactive",a);null!=i&&(e[n]=i,"color"!==n||e.hasOwnProperty("opacity")||e.hasOwnProperty("colorAlpha")||(e.opacity=[0,0]))}})))}.call(this,r,"inRange","outOfRange"),function(t){var n=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,i=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,r=this.get("inactiveColor"),e=this.getItemSymbol()||"roundRect";HP(this.stateList,(function(o){var u=this.itemSize,s=t[o];s||(s=t[o]={color:a?r:[r]}),null==s.symbol&&(s.symbol=n&&z(n)||(a?e:[e])),null==s.symbolSize&&(s.symbolSize=i&&z(i)||(a?u[0]:[u[0],u[0]])),s.symbol=PP(s.symbol,(function(t){return"none"===t?e:t}));var l=s.symbolSize;if(null!=l){var f=-1/0;WP(l,(function(t){t>f&&(f=t)})),s.symbolSize=PP(l,(function(t){return GP(t,[0,f],[0,u[0]],!0)}))}}),this)}.call(this,e)},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(t){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(t){return null},n.prototype.getVisualMeta=function(t){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(lc),UP=[20,140],jP=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.optionUpdated=function(n,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this.Jm()},n.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var n=this.itemSize;(null==n[0]||isNaN(n[0]))&&(n[0]=UP[0]),(null==n[1]||isNaN(n[1]))&&(n[1]=UP[1])},n.prototype.Jm=function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):X(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},n.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),E(this.stateList,(function(t){var n=this.option.controller[t].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)}),this)},n.prototype.setSelected=function(t){this.option.range=t.slice(),this.Jm()},n.prototype.getSelected=function(){var t=this.getExtent(),n=Oe((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},n.prototype.getValueState=function(t){var n=this.option.range,i=this.getExtent();return(n[0]<=i[0]||n[0]<=t)&&(n[1]>=i[1]||t<=n[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(t){var n=[];return this.eachTargetSeries((function(i){var r=[],e=i.getData();e.each(this.getDataDimensionIndex(e),(function(n,i){t[0]<=n&&n<=t[1]&&r.push(i)}),this),n.push({seriesId:i.id,dataIndex:r})}),this),n},n.prototype.getVisualMeta=function(t){var n=ZP(this,"outOfRange",this.getExtent()),i=ZP(this,"inRange",this.option.range.slice()),r=[];function e(n,i){r.push({value:n,color:t(n,i)})}for(var a=0,o=0,u=i.length,s=n.length;o<s&&(!i.length||n[o]<=i[0]);o++)n[o]<i[a]&&e(n[o],"outOfRange");for(var l=1;a<u;a++,l=0)l&&r.length&&e(i[a],"outOfRange"),e(i[a],"inRange");for(l=1;o<s;o++)(!i.length||i[i.length-1]<n[o])&&(l&&(r.length&&e(r[r.length-1].value,"outOfRange"),l=0),e(n[o],"outOfRange"));var f=r.length;return{stops:r,outerColors:[f?r[0].color:"transparent",f?r[f-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=rh(XP.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(XP);function ZP(t,n,i){if(i[0]===i[1])return i.slice();for(var r=(i[1]-i[0])/200,e=i[0],a=[],o=0;o<=200&&e<i[1];o++)a.push(e),e+=r;return a.push(i[1]),a}var qP=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.autoPositionValues={left:1,right:1,top:1,bottom:1},i}return l(n,t),n.prototype.init=function(t,n){this.ecModel=t,this.api=n},n.prototype.render=function(t,n,i,r){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,n,i,r):this.group.removeAll()},n.prototype.renderBackground=function(t){var n=this.visualMapModel,i=Gh(n.get("padding")||0),r=t.getBoundingRect();t.add(new yu({z2:-1,silent:!0,shape:{x:r.x-i[3],y:r.y-i[0],width:r.width+i[3]+i[1],height:r.height+i[0]+i[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},n.prototype.getControllerVisual=function(t,n,i){var r=(i=i||{}).forceState,e=this.visualMapModel,a={};if("color"===n){var o=e.get("contentColor");a.color=o}function u(t){return a[t]}function s(t,n){a[t]=n}var l=e.controllerVisuals[r||e.getValueState(t)];return E(FC.prepareVisualTypes(l),(function(r){var e=l[r];i.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",e=l.wp),FC.dependsOn(r,n)&&e&&e.applyVisual(t,u,s)})),a[n]},n.prototype.positionGroup=function(t){var n=this.visualMapModel,i=this.api;rc(t,n.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},n.prototype.doRender=function(t,n,i,r){},n.type="visualMap",n}(tp),KP=[["left","right","width"],["top","bottom","height"]];function JP(t,n,i){var r=t.option,e=r.align;if(null!=e&&"auto"!==e)return e;for(var a={width:n.getWidth(),height:n.getHeight()},o="horizontal"===r.orient?1:0,u=KP[o],s=[0,null,10],l={},f=0;f<3;f++)l[KP[1-o][f]]=s[f],l[u[f]]=2===f?i[0]:r[u[f]];var h=[["x","width",3],["y","height",0]][o],c=ic(l,a,r.padding);return u[(c.margin[h[2]]||0)+c[h[0]]+.5*c[h[1]]<.5*a[h[1]]?0:1]}function $P(t,n){return E(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(n?n.componentIndex:"")})),t}var QP=Ie,tW=E,nW=Math.min,iW=Math.max,rW=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.$m={},i.Qm=[],i.Gm=[],i.ny=[],i}return l(n,t),n.prototype.init=function(n,i){t.prototype.init.call(this,n,i),this.iy=Y(this.iy,this),this.ey=Y(this.ey,this)},n.prototype.doRender=function(t,n,i,r){r&&"selectDataRange"===r.type&&r.from===this.uid||this.gm()},n.prototype.gm=function(){this.group.removeAll();var t=this.visualMapModel,n=this.group;this.qv=t.get("orient"),this.oy=t.get("calculable"),this.Mm(),this.uy(n);var i=t.get("text");this.ly(n,i,0),this.ly(n,i,1),this.bm(!0),this.renderBackground(n),this.bm(),this.hy(),this.vy(),this.positionGroup(n)},n.prototype.ly=function(t,n,i){if(n){var r=n[1-i];r=null!=r?r+"":"";var e=this.visualMapModel,a=e.get("textGap"),o=e.itemSize,u=this.$m.mainGroup,s=this.ee([o[0]/2,0===i?-a:o[1]+a],u),l=this.ee(0===i?"bottom":"top",u),f=this.qv,h=this.visualMapModel.textStyleModel;this.group.add(new wu({style:Of(h,{x:s[0],y:s[1],verticalAlign:"horizontal"===f?"middle":l,align:"horizontal"===f?l:"center",text:r})}))}},n.prototype.uy=function(t){var n=this.visualMapModel,i=this.$m,r=n.itemSize,e=this.qv,a=this.oy,o=JP(n,this.api,r),u=i.mainGroup=this.py(o),s=new Se;u.add(s),s.add(i.outOfRange=eW()),s.add(i.inRange=eW(null,a?oW(this.qv):null,Y(this.my,this,"all",!1),Y(this.my,this,"all",!0))),s.setClipPath(new yu({shape:{x:0,y:0,width:r[0],height:r[1],r:3}}));var l=n.textStyleModel.getTextRect("国"),f=iW(l.width,l.height);a&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this.gy(n,u,0,r,f,e),this.gy(n,u,1,r,f,e)),this.by(n,u,r,f,e),t.add(u)},n.prototype.gy=function(t,n,i,r,e,a){var o=Y(this.my,this,i,!1),u=Y(this.my,this,i,!0),s=he(t.get("handleSize"),r[0]),l=mm(t.get("handleIcon"),-s/2,-s/2,s,s,null,!0),f=oW(this.qv);l.attr({cursor:f,draggable:!0,drift:o,ondragend:u,onmousemove:function(t){sn(t.event)}}),l.x=r[0]/2,l.useStyle(t.getModel("handleStyle").getItemStyle()),l.setStyle({strokeNoScale:!0,strokeFirst:!0}),l.style.lineWidth*=2,l.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Cs(l,!0),n.add(l);var h=this.visualMapModel.textStyleModel,c=new wu({cursor:f,draggable:!0,drift:o,onmousemove:function(t){sn(t.event)},ondragend:u,style:Of(h,{x:0,y:0,text:""})});c.ensureState("blur").style={opacity:.1},c.stateTransition={duration:200},this.group.add(c);var v=[s,0],d=this.$m;d.handleThumbs[i]=l,d.handleLabelPoints[i]=v,d.handleLabels[i]=c},n.prototype.by=function(t,n,i,r,e){var a=he(t.get("indicatorSize"),i[0]),o=mm(t.get("indicatorIcon"),-a/2,-a/2,a,a,null,!0);o.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var u=t.getModel("indicatorStyle").getItemStyle();if(o instanceof fu){var s=o.style;o.useStyle(D({image:s.image,x:s.x,y:s.y,width:s.width,height:s.height},u))}else o.useStyle(u);n.add(o);var l=this.visualMapModel.textStyleModel,f=new wu({silent:!0,invisible:!0,style:Of(l,{x:0,y:0,text:""})});this.group.add(f);var h=[("horizontal"===e?r/2:6)+i[0]/2,0],c=this.$m;c.indicator=o,c.indicatorLabel=f,c.indicatorLabelPoint=h,this.wy=!0},n.prototype.my=function(t,n,i,r){if(this.oy){if(this.ll=!n,!n){var e=this.ee([i,r],this.$m.mainGroup,!0);this.Xm(t,e[1]),this.ey(),this.bm()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this.Qm.slice()}),n?!this.My&&this.Sy():aW(this.visualMapModel)&&this.ky(this.Gm[t],!1)}},n.prototype.Mm=function(){var t=this.visualMapModel,n=this.Qm=t.getSelected(),i=t.getExtent(),r=[0,t.itemSize[1]];this.Gm=[QP(n[0],i,r,!0),QP(n[1],i,r,!0)]},n.prototype.Xm=function(t,n){n=n||0;var i=this.visualMapModel,r=this.Gm,e=[0,i.itemSize[1]];HI(n,r,e,t,0);var a=i.getExtent();this.Qm=[QP(r[0],e,a,!0),QP(r[1],e,a,!0)]},n.prototype.bm=function(t){var n=this.visualMapModel,i=n.getExtent(),r=this.$m,e=[0,n.itemSize[1]],a=t?e:this.Gm,o=this.Ay(this.Qm,i,a,"inRange"),u=this.Ay(i,i,e,"outOfRange");r.inRange.setStyle({fill:o.barColor}).setShape("points",o.barPoints),r.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this.Ny(a,o)},n.prototype.Ay=function(t,n,i,r){var e={forceState:r,convertOpacityToAlpha:!0},a=this.Cy(t,e),o=[this.getControllerVisual(t[0],"symbolSize",e),this.getControllerVisual(t[1],"symbolSize",e)],u=this.Ty(i,o);return{barColor:new Rl(0,0,0,1,a),barPoints:u,handlesColor:[a[0].color,a[a.length-1].color]}},n.prototype.Cy=function(t,n){var i=[],r=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],"color",n),offset:0});for(var e=1;e<100;e++){var a=t[0]+r*e;if(a>t[1])break;i.push({color:this.getControllerVisual(a,"color",n),offset:e/100})}return i.push({color:this.getControllerVisual(t[1],"color",n),offset:1}),i},n.prototype.Ty=function(t,n){var i=this.visualMapModel.itemSize;return[[i[0]-n[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-n[1],t[1]]]},n.prototype.py=function(t){var n=this.qv,i=this.visualMapModel.get("inverse");return new Se("horizontal"!==n||i?"horizontal"===n&&i?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==n||i?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},n.prototype.Ny=function(t,n){if(this.oy){var i=this.$m,r=this.visualMapModel,e=i.handleThumbs,a=i.handleLabels,o=r.itemSize,u=r.getExtent(),s=this.ee("left",i.mainGroup);tW([0,1],(function(l){var f=e[l];f.setStyle("fill",n.handlesColor[l]),f.y=t[l];var h=QP(t[l],[0,o[1]],u,!0),c=this.getControllerVisual(h,"symbolSize");f.scaleX=f.scaleY=c/o[0],f.x=o[0]-c/2;var v=df(i.handleLabelPoints[l],vf(f,this.group));if("horizontal"===this.qv){var d="left"===s||"top"===s?(o[0]-c)/2:(o[0]-c)/-2;v[1]+=d}a[l].setStyle({x:v[0],y:v[1],text:r.formatValueText(this.Qm[l]),verticalAlign:"middle",align:"vertical"===this.qv?this.ee("left",i.mainGroup):"center"})}),this)}},n.prototype.Iy=function(t,n,i,r){var e=this.visualMapModel,a=e.getExtent(),o=e.itemSize,u=[0,o[1]],s=this.$m,l=s.indicator;if(l){l.attr("invisible",!1);var f=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),h=this.getControllerVisual(t,"symbolSize"),c=QP(t,a,u,!0),v=o[0]-h/2,d={x:l.x,y:l.y};l.y=c,l.x=v;var p=df(s.indicatorLabelPoint,vf(l,this.group)),m=s.indicatorLabel;m.attr("invisible",!1);var y=this.ee("left",s.mainGroup),g="horizontal"===this.qv;m.setStyle({text:(i||"")+e.formatValueText(n),verticalAlign:g?y:"middle",align:g?"center":y});var b={x:v,y:c,style:{fill:f}},w={style:{x:p[0],y:p[1]}};if(e.ecModel.isAnimationEnabled()&&!this.wy){var x={duration:100,easing:"cubicInOut",additive:!0};l.x=d.x,l.y=d.y,l.animateTo(b,x),m.animateTo(w,x)}else l.attr(b),m.attr(w);this.wy=!1;var M=this.$m.handleLabels;if(M)for(var S=0;S<M.length;S++)this.api.enterBlur(M[S])}},n.prototype.hy=function(){var t=this;this.$m.mainGroup.on("mousemove",(function(n){if(t.My=!0,!t.ll){var i=t.visualMapModel.itemSize,r=t.ee([n.offsetX,n.offsetY],t.$m.mainGroup,!0,!0);r[1]=nW(iW(0,r[1]),i[1]),t.ky(r[1],0<=r[0]&&r[0]<=i[0])}})).on("mouseout",(function(){t.My=!1,!t.ll&&t.Sy()}))},n.prototype.vy=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this.iy,this),t.on("mouseout",this.ey,this)):this.zy()},n.prototype.ky=function(t,n){var i=this.visualMapModel,r=i.itemSize;if(i.option.hoverLink){var e=[0,r[1]],a=i.getExtent();t=nW(iW(e[0],t),e[1]);var o=function(t,n,i){var r=6,e=t.get("hoverLinkDataSize");e&&(r=QP(e,n,i,!0)/2);return r}(i,a,e),u=[t-o,t+o],s=QP(t,e,a,!0),l=[QP(u[0],e,a,!0),QP(u[1],e,a,!0)];u[0]<e[0]&&(l[0]=-1/0),u[1]>e[1]&&(l[1]=1/0),n&&(l[0]===-1/0?this.Iy(s,l[1],"< ",o):l[1]===1/0?this.Iy(s,l[0],"> ",o):this.Iy(s,s,"≈ ",o));var f=this.ny,h=[];(n||aW(i))&&(h=this.ny=i.findTargetDataIndices(l));var c=function(t,n){var i={},r={};return e(t||[],i),e(n||[],r,i),[a(i),a(r)];function e(t,n,i){for(var r=0,e=t.length;r<e;r++){var a=sa(t[r].seriesId,null);if(null==a)return;for(var o=ta(t[r].dataIndex),u=i&&i[a],s=0,l=o.length;s<l;s++){var f=o[s];u&&u[f]?u[f]=null:(n[a]||(n[a]={}))[f]=1}}}function a(t,n){var i=[];for(var r in t)if(t.hasOwnProperty(r)&&null!=t[r])if(n)i.push(+r);else{var e=a(t[r],!0);e.length&&i.push({seriesId:r,dataIndex:e})}return i}}(f,h);this.Ly("downplay",$P(c[0],i)),this.Ly("highlight",$P(c[1],i))}},n.prototype.iy=function(t){var n;if(em(t.target,(function(t){var i=Du(t);if(null!=i.dataIndex)return n=i,!0}),!0),n){var i=this.ecModel.getSeriesByIndex(n.seriesIndex),r=this.visualMapModel;if(r.isTargetSeries(i)){var e=i.getData(n.dataType),a=e.getStore().get(r.getDataDimensionIndex(e),n.dataIndex);isNaN(a)||this.Iy(a,a)}}},n.prototype.ey=function(){var t=this.$m;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var n=this.$m.handleLabels;if(n)for(var i=0;i<n.length;i++)this.api.leaveBlur(n[i])},n.prototype.Sy=function(){this.ey();var t=this.ny;this.Ly("downplay",$P(t,this.visualMapModel)),t.length=0},n.prototype.zy=function(){this.ey();var t=this.api.getZr();t.off("mouseover",this.iy),t.off("mouseout",this.ey)},n.prototype.ee=function(t,n,i,r){var e=vf(n,r?null:this.group);return X(t)?df(t,e,i):pf(t,e,i)},n.prototype.Ly=function(t,n){n&&n.length&&this.api.dispatchAction({type:t,batch:n})},n.prototype.dispose=function(){this.zy(),this.Sy()},n.type="visualMap.continuous",n}(qP);function eW(t,n,i,r){return new wl({shape:{points:t},draggable:!!i,cursor:n,drift:i,onmousemove:function(t){sn(t.event)},ondragend:r})}function aW(t){var n=t.get("hoverLinkOnHandle");return!!(null==n?t.get("realtime"):n)}function oW(t){return"vertical"===t?"ns-resize":"ew-resize"}var uW={type:"selectDataRange",event:"dataRangeSelected",update:"update"},sW=function(t,n){n.eachComponent({mainType:"visualMap",query:t},(function(n){n.setSelected(t.selected)}))},lW=[{createOnAllSeries:!0,reset:function(t,n){var i=[];return n.eachComponent("visualMap",(function(n){var r,e,a,o,u,s=t.pipelineContext;!n.isTargetSeries(t)||s&&s.large||i.push((r=n.stateList,e=n.targetVisuals,a=Y(n.getValueState,n),o=n.getDataDimensionIndex(t.getData()),u={},E(r,(function(t){var n=FC.prepareVisualTypes(e[t]);u[t]=n})),{progress:function(t,n){var i,r;function s(t){return Qp(n,r,t)}function l(t,i){nm(n,r,t,i)}null!=o&&(i=n.getDimensionIndex(o));for(var f=n.getStore();null!=(r=t.next());){var h=n.getRawDataItem(r);if(!h||!1!==h.visualMap)for(var c=null!=o?f.get(i,r):r,v=a(c),d=e[v],p=u[v],m=0,y=p.length;m<y;m++){var g=p[m];d[g]&&d[g].applyVisual(c,s,l)}}}}))})),i}},{createOnAllSeries:!0,reset:function(t,n){var i=t.getData(),r=[];n.eachComponent("visualMap",(function(n){if(n.isTargetSeries(t)){var e=n.getVisualMeta(Y(fW,null,t,n))||{stops:[],outerColors:[]},a=n.getDataDimensionIndex(i);a>=0&&(e.dimension=a,r.push(e))}})),t.getData().setVisual("visualMeta",r)}}];function fW(t,n,i,r){for(var e=n.targetVisuals[r],a=FC.prepareVisualTypes(e),o={color:tm(t.getData(),"color")},u=0,s=a.length;u<s;u++){var l=a[u],f=e["opacity"===l?"wp":l];f&&f.applyVisual(i,h,c)}return o.color;function h(t){return o[t]}function c(t,n){o[t]=n}}var hW=E;function cW(t){var n=t&&t.visualMap;X(n)||(n=n?[n]:[]),hW(n,(function(t){if(t){vW(t,"splitList")&&!vW(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var n=t.pieces;n&&X(n)&&hW(n,(function(t){K(t)&&(vW(t,"start")&&!vW(t,"min")&&(t.min=t.start),vW(t,"end")&&!vW(t,"max")&&(t.max=t.end))}))}}))}function vW(t,n){return t&&t.hasOwnProperty&&t.hasOwnProperty(n)}var dW=!1;function pW(t){dW||(dW=!0,t.registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})),t.registerAction(uW,sW),E(lW,(function(n){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,n)})),t.registerPreprocessor(cW))}function mW(t){t.registerComponentModel(jP),t.registerComponentView(rW),pW(t)}var yW=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i.Oy=[],i}return l(n,t),n.prototype.optionUpdated=function(n,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this.Dy=this.Ry();this.Oy=[],gW[this.Dy].call(this,this.Oy),this.Fy(n,i);var e=this.option.categories;this.resetVisual((function(t,n){"categories"===r?(t.mappingMethod="category",t.categories=z(e)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=P(this.Oy,(function(t){return t=z(t),"inRange"!==n&&(t.visual=null),t})))}))},n.prototype.completeVisualOption=function(){var n=this.option,i={},r=FC.listVisualTypes(),e=this.isCategory();function a(t,n,i){return t&&t[n]&&t[n].hasOwnProperty(i)}E(n.pieces,(function(t){E(r,(function(n){t.hasOwnProperty(n)&&(i[n]=1)}))})),E(i,(function(t,i){var r=!1;E(this.stateList,(function(t){r=r||a(n,t,i)||a(n.target,t,i)}),this),!r&&E(this.stateList,(function(t){(n[t]||(n[t]={}))[i]=_P(i,"inRange"===t?"active":"inactive",e)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},n.prototype.Fy=function(t,n){var i=this.option,r=this.Oy,e=(n?i:t).selected||{};if(i.selected=e,E(r,(function(t,n){var i=this.getSelectedMapKey(t);e.hasOwnProperty(i)||(e[i]=!0)}),this),"single"===i.selectedMode){var a=!1;E(r,(function(t,n){var i=this.getSelectedMapKey(t);e[i]&&(a?e[i]=!1:a=!0)}),this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(t){return"categories"===this.Dy?t.value+"":t.index+""},n.prototype.getPieceList=function(){return this.Oy},n.prototype.Ry=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(t){this.option.selected=z(t)},n.prototype.getValueState=function(t){var n=FC.findPieceIndex(t,this.Oy);return null!=n&&this.option.selected[this.getSelectedMapKey(this.Oy[n])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(t){var n=[],i=this.Oy;return this.eachTargetSeries((function(r){var e=[],a=r.getData();a.each(this.getDataDimensionIndex(a),(function(n,r){FC.findPieceIndex(n,i)===t&&e.push(r)}),this),n.push({seriesId:r.id,dataIndex:e})}),this),n},n.prototype.getRepresentValue=function(t){var n;if(this.isCategory())n=t.value;else if(null!=t.value)n=t.value;else{var i=t.interval||[];n=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return n},n.prototype.getVisualMeta=function(t){if(!this.isCategory()){var n=[],i=["",""],r=this,e=this.Oy.slice();if(e.length){var a=e[0].interval[0];a!==-1/0&&e.unshift({interval:[-1/0,a]}),(a=e[e.length-1].interval[1])!==1/0&&e.push({interval:[a,1/0]})}else e.push({interval:[-1/0,1/0]});var o=-1/0;return E(e,(function(t){var n=t.interval;n&&(n[0]>o&&u([o,n[0]],"outOfRange"),u(n.slice()),o=n[1])}),this),{stops:n,outerColors:i}}function u(e,a){var o=r.getRepresentValue({interval:e});a||(a=r.getValueState(o));var u=t(o,a);e[0]===-1/0?i[0]=u:e[1]===1/0?i[1]=u:n.push({value:e[0],color:u},{value:e[1],color:u})}},n.type="visualMap.piecewise",n.defaultOption=rh(XP.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(XP),gW={splitNumber:function(t){var n=this.option,i=Math.min(n.precision,20),r=this.getExtent(),e=n.splitNumber;e=Math.max(parseInt(e,10),1),n.splitNumber=e;for(var a=(r[1]-r[0])/e;+a.toFixed(i)!==a&&i<5;)i++;n.precision=i,a=+a.toFixed(i),n.minOpen&&t.push({interval:[-1/0,r[0]],close:[0,0]});for(var o=0,u=r[0];o<e;u+=a,o++){var s=o===e-1?r[1]:u+a;t.push({interval:[u,s],close:[1,1]})}n.maxOpen&&t.push({interval:[r[1],1/0],close:[0,0]}),Ge(t),E(t,(function(t,n){t.index=n,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var n=this.option;E(n.categories,(function(n){t.push({text:this.formatValueText(n,!0),value:n})}),this),bW(n,t)},pieces:function(t){var n=this.option;E(n.pieces,(function(n,i){K(n)||(n={value:n});var r={text:"",index:i};if(null!=n.label&&(r.text=n.label),n.hasOwnProperty("value")){var e=r.value=n.value;r.interval=[e,e],r.close=[1,1]}else{for(var a=r.interval=[],o=r.close=[0,0],u=[1,0,1],s=[-1/0,1/0],l=[],f=0;f<2;f++){for(var h=[["gte","gt","min"],["lte","lt","max"]][f],c=0;c<3&&null==a[f];c++)a[f]=n[h[c]],o[f]=u[c],l[f]=2===c;null==a[f]&&(a[f]=s[f])}l[0]&&a[1]===1/0&&(o[0]=0),l[1]&&a[0]===-1/0&&(o[1]=0),a[0]===a[1]&&o[0]&&o[1]&&(r.value=a[0])}r.visual=FC.retrieveVisuals(n),t.push(r)}),this),bW(n,t),Ge(t),E(t,(function(t){var n=t.close,i=[["<","≤"][n[1]],[">","≥"][n[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)}),this)}};function bW(t,n){var i=t.inverse;("vertical"===t.orient?!i:i)&&n.reverse()}var wW=function(t){function n(){var i=null!==t&&t.apply(this,arguments)||this;return i.type=n.type,i}return l(n,t),n.prototype.doRender=function(){var t=this.group;t.removeAll();var n=this.visualMapModel,i=n.get("textGap"),r=n.textStyleModel,e=r.getFont(),a=r.getTextColor(),o=this.By(),u=n.itemSize,s=this._y(),l=s.endsText,f=it(n.get("showLabel",!0),!l),h=!n.get("selectedMode");l&&this.ly(t,l[0],u,f,o),E(s.viewPieceList,(function(r){var s=r.piece,l=new Se;l.onclick=Y(this.Ey,this,s),this.Py(l,r.indexInModelPieceList);var c=n.getRepresentValue(s);if(this.Wy(l,c,[0,0,u[0],u[1]],h),f){var v=this.visualMapModel.getValueState(c);l.add(new wu({style:{x:"right"===o?-i:u[0]+i,y:u[1]/2,text:s.text,verticalAlign:"middle",align:o,font:e,fill:a,opacity:"outOfRange"===v?.5:1},silent:h}))}t.add(l)}),this),l&&this.ly(t,l[1],u,f,o),nc(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},n.prototype.Py=function(t,n){var i=this;t.on("mouseover",(function(){return r("highlight")})).on("mouseout",(function(){return r("downplay")}));var r=function(t){var r=i.visualMapModel;r.option.hoverLink&&i.api.dispatchAction({type:t,batch:$P(r.findTargetDataIndices(n),r)})}},n.prototype.By=function(){var t=this.visualMapModel,n=t.option;if("vertical"===n.orient)return JP(t,this.api,t.itemSize);var i=n.align;return i&&"auto"!==i||(i="left"),i},n.prototype.ly=function(t,n,i,r,e){if(n){var a=new Se,o=this.visualMapModel.textStyleModel;a.add(new wu({style:Of(o,{x:r?"right"===e?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:r?e:"center",text:n})})),t.add(a)}},n.prototype._y=function(){var t=this.visualMapModel,n=P(t.getPieceList(),(function(t,n){return{piece:t,indexInModelPieceList:n}})),i=t.get("text"),r=t.get("orient"),e=t.get("inverse");return("horizontal"===r?e:!e)?n.reverse():i&&(i=i.slice().reverse()),{viewPieceList:n,endsText:i}},n.prototype.Wy=function(t,n,i,r){var e=mm(this.getControllerVisual(n,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(n,"color"));e.silent=r,t.add(e)},n.prototype.Ey=function(t){var n=this.visualMapModel,i=n.option,r=i.selectedMode;if(r){var e=z(i.selected),a=n.getSelectedMapKey(t);"single"===r||!0===r?(e[a]=!0,E(e,(function(t,n){e[n]=n===a}))):e[a]=!e[a],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:e})}},n.type="visualMap.piecewise",n}(qP);function xW(t){t.registerComponentModel(yW),t.registerComponentView(wW),pW(t)}var MW={label:{enabled:!0},decal:{show:!1}},SW=ca(),kW={};function AW(t,n){var i=t.getModel("aria");if(i.get("enabled")){var r=z(MW);L(r.label,t.getLocaleModel().get("aria"),!1),L(i.option,r,!1),function(){if(i.getModel("decal").get("show")){var n=pt();t.eachSeries((function(t){if(!t.isColorBySeries()){var i=n.get(t.type);i||(i={},n.set(t.type,i)),SW(t).scope=i}})),t.eachRawSeries((function(n){if(!t.isSeriesFiltered(n))if(U(n.enableAriaDecal))n.enableAriaDecal();else{var i=n.getData();if(n.isColorBySeries()){var r=Ec(n.ecModel,n.name,kW,t.getSeriesCount()),e=i.getVisual("decal");i.setVisual("decal",l(e,r))}else{var a=n.getRawData(),o={},u=SW(n).scope;i.each((function(t){var n=i.getRawIndex(t);o[n]=t}));var s=a.count();a.each((function(t){var r=o[t],e=a.getName(t)||t+"",f=Ec(n.ecModel,e,u,s),h=i.getItemVisual(r,"decal");i.setItemVisual(r,"decal",l(h,f))}))}}function l(t,n){var i=t?D(D({},n),t):n;return i.dirty=!0,i}}))}}(),function(){var r=n.getZr().dom;if(!r)return;var a=t.getLocaleModel().get("aria"),o=i.getModel("label");if(o.option=R(o.option,a),!o.get("enabled"))return;if(r.setAttribute("role","img"),o.get("description"))return void r.setAttribute("aria-label",o.get("description"));var u,s=t.getSeriesCount(),l=o.get(["data","maxCount"])||10,f=o.get(["series","maxCount"])||10,h=Math.min(s,f);if(s<1)return;var c=function(){var n=t.get("title");n&&n.length&&(n=n[0]);return n&&n.text}();u=c?e(o.get(["general","withTitle"]),{title:c}):o.get(["general","withoutTitle"]);var v=[];u+=e(s>1?o.get(["series","multiple","prefix"]):o.get(["series","single","prefix"]),{seriesCount:s}),t.eachSeries((function(n,i){if(i<h){var r=void 0,a=n.get("name")?"withName":"withoutName";r=e(r=s>1?o.get(["series","multiple",a]):o.get(["series","single",a]),{seriesId:n.seriesIndex,seriesName:n.get("name"),seriesType:(w=n.subType,x=t.getLocaleModel().get(["series","typeNames"]),x[w]||x.chart)});var u=n.getData();if(u.count()>l)r+=e(o.get(["data","partialData"]),{displayCnt:l});else r+=o.get(["data","allData"]);for(var f=o.get(["data","separator","middle"]),c=o.get(["data","separator","end"]),d=o.get(["data","excludeDimensionId"]),p=[],m=0;m<u.count();m++)if(m<l){var y=u.getName(m),g=d?V(u.getValues(m),(function(t,n){return-1===F(d,n)})):u.getValues(m),b=o.get(["data",y?"withName":"withoutName"]);p.push(e(b,{name:y,value:g.join(f)}))}r+=p.join(f)+c,v.push(r)}var w,x}));var d=o.getModel(["series","multiple","separator"]),p=d.get("middle"),m=d.get("end");u+=v.join(p)+m,r.setAttribute("aria-label",u)}()}function e(t,n){if(!j(t))return t;var i=t;return E(n,(function(t,n){i=i.replace(new RegExp("\\{\\s*"+n+"\\s*\\}","g"),t)})),i}}function NW(t){if(t&&t.aria){var n=t.aria;null!=n.show&&(n.enabled=n.show),n.label=n.label||{},E(["description","general","series","data"],(function(t){null!=n[t]&&(n.label[t]=n[t])}))}}var CW={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},TW=function(){function t(t){var n;if(null==(this.Vy=j(t)?new RegExp(t):(n=t,"[object RegExp]"===g.call(n)?t:null))){Ke("")}}return t.prototype.evaluate=function(t){var n=typeof t;return j(n)?this.Vy.test(t):!!q(n)&&this.Vy.test(t+"")},t}(),IW=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),zW=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(!t[n].evaluate())return!1;return!0},t}(),LW=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(t[n].evaluate())return!0;return!1},t}(),OW=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),DW=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,n=(0,this.getValue)(this.valueGetterParam),i=t?this.valueParser(n):null,r=0;r<this.subCondList.length;r++)if(!this.subCondList[r].evaluate(t?i:n))return!1;return!0},t}();function RW(t,n){if(!0===t||!1===t){var i=new IW;return i.value=t,i}return BW(t)||Ke(""),t.and?FW("and",t,n):t.or?FW("or",t,n):t.not?function(t,n){var i=t.not,r="";BW(i)||Ke(r);var e=new OW;e.child=RW(i,n),e.child||Ke(r);return e}(t,n):function(t,n){for(var i="",r=n.prepareGetValue(t),e=[],a=H(t),o=t.parser,u=o?$v(o):null,s=0;s<a.length;s++){var l=a[s];if("parser"!==l&&!n.valueGetterAttrMap.get(l)){var f=bt(CW,l)?CW[l]:l,h=t[l],c=u?u(h):h,v=rd(f,c)||"reg"===f&&new TW(c);v||Ke(i),e.push(v)}}e.length||Ke(i);var d=new DW;return d.valueGetterParam=r,d.valueParser=u,d.getValue=n.getValue,d.subCondList=e,d}(t,n)}function FW(t,n,i){var r=n[t];X(r)||Ke(""),r.length||Ke("");var e="and"===t?new zW:new LW;return e.children=P(r,(function(t){return RW(t,i)})),e.children.length||Ke(""),e}function BW(t){return K(t)&&!_(t)}var _W=function(){function t(t,n){this.Hy=RW(t,n)}return t.prototype.evaluate=function(){return this.Hy.evaluate()},t}();var EW={type:"echarts:filter",transform:function(t){for(var n,i,r,e=t.upstream,a=(i=t.config,r={valueGetterAttrMap:pt({dimension:!0}),prepareGetValue:function(t){var n=t.dimension;bt(t,"dimension")||Ke("");var i=e.getDimensionInfo(n);return i||Ke(""),{dimIdx:i.index}},getValue:function(t){return e.retrieveValueFromItem(n,t.dimIdx)}},new _W(i,r)),o=[],u=0,s=e.count();u<s;u++)n=e.getRawDataItem(u),a.evaluate()&&o.push(n);return{data:o}}},PW={type:"echarts:sort",transform:function(t){var n=t.upstream,i=t.config,r="",e=ta(i);e.length||Ke(r);var a=[];E(e,(function(t){var i=t.dimension,e=t.order,o=t.parser,u=t.incomparable;if(null==i&&Ke(r),"asc"!==e&&"desc"!==e&&Ke(r),u&&"min"!==u&&"max"!==u){Ke("")}if("asc"!==e&&"desc"!==e){Ke("")}var s=n.getDimensionInfo(i);s||Ke(r);var l=o?$v(o):null;o&&!l&&Ke(r),a.push({dimIdx:s.index,parser:l,comparator:new nd(e,u)})}));var o=n.sourceFormat;o!==pc&&o!==mc&&Ke(r);for(var u=[],s=0,l=n.count();s<l;s++)u.push(n.getRawDataItem(s));return u.sort((function(t,i){for(var r=0;r<a.length;r++){var e=a[r],o=n.retrieveValueFromItem(t,e.dimIdx),u=n.retrieveValueFromItem(i,e.dimIdx);e.parser&&(o=e.parser(o),u=e.parser(u));var s=e.comparator.evaluate(o,u);if(0!==s)return s}return 0})),{data:u}}};var WW=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="dataset",n}return l(n,t),n.prototype.init=function(n,i,r){t.prototype.init.call(this,n,i,r),this.Yy=new Md(this),Sd(this)},n.prototype.mergeOption=function(n,i){t.prototype.mergeOption.call(this,n,i),Sd(this)},n.prototype.optionUpdated=function(){this.Yy.dirty()},n.prototype.getSourceManager=function(){return this.Yy},n.type="dataset",n.defaultOption={seriesLayoutBy:wc},n}(lc),VW=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type="dataset",n}return l(n,t),n.type="dataset",n}(tp);var HW=Po.CMD;function YW(t,n){return Math.abs(t-n)<1e-5}function GW(t){var n,i,r,e,a,o,u,s,l,f,h,c,v,d,p,m,y,g,b,w,x,M,S,k,A=t.data,N=t.len(),C=[],T=0,I=0,z=0,L=0;function O(t,i){n&&n.length>2&&C.push(n),n=[t,i]}function D(t,i,r,e){YW(t,r)&&YW(i,e)||n.push(t,i,r,e,r,e)}for(var R=0;R<N;){var F=A[R++],B=1===R;switch(B&&(z=T=A[R],L=I=A[R+1],F!==HW.L&&F!==HW.C&&F!==HW.Q||(n=[z,L])),F){case HW.M:T=z=A[R++],I=L=A[R++],O(z,L);break;case HW.L:D(T,I,i=A[R++],r=A[R++]),T=i,I=r;break;case HW.C:n.push(A[R++],A[R++],A[R++],A[R++],T=A[R++],I=A[R++]);break;case HW.Q:i=A[R++],r=A[R++],e=A[R++],a=A[R++],n.push(T+2/3*(i-T),I+2/3*(r-I),e+2/3*(i-e),a+2/3*(r-a),e,a),T=e,I=a;break;case HW.A:var _=A[R++],E=A[R++],P=A[R++],W=A[R++],V=A[R++],H=A[R++]+V;R+=1;var Y=!A[R++];i=Math.cos(V)*P+_,r=Math.sin(V)*W+E,B?O(z=i,L=r):D(T,I,i,r),T=Math.cos(H)*P+_,I=Math.sin(H)*W+E;for(var G=(Y?-1:1)*Math.PI/2,X=V;Y?X>H:X<H;X+=G){var U=Y?Math.max(X+G,H):Math.min(X+G,H);o=X,u=U,s=_,l=E,f=P,h=W,c=void 0,v=void 0,d=void 0,p=void 0,m=void 0,y=void 0,g=void 0,b=void 0,w=void 0,x=void 0,M=void 0,S=void 0,k=void 0,c=Math.abs(u-o),v=4*Math.tan(c/4)/3,d=u<o?-1:1,p=Math.cos(o),m=Math.sin(o),y=Math.cos(u),g=Math.sin(u),b=p*f+s,w=m*h+l,x=y*f+s,M=g*h+l,S=f*v*d,k=h*v*d,n.push(b-S*m,w+k*p,x+S*g,M-k*y,x,M)}break;case HW.R:z=T=A[R++],L=I=A[R++],i=z+A[R++],r=L+A[R++],O(i,L),D(i,L,i,r),D(i,r,z,r),D(z,r,z,L),D(z,L,i,L);break;case HW.Z:n&&D(T,I,z,L),T=z,I=L}}return n&&n.length>2&&C.push(n),C}function XW(t,n,i,r,e,a,o,u,s,l){if(YW(t,i)&&YW(n,r)&&YW(e,o)&&YW(a,u))s.push(o,u);else{var f=2/l,h=f*f,c=o-t,v=u-n,d=Math.sqrt(c*c+v*v);c/=d,v/=d;var p=i-t,m=r-n,y=e-o,g=a-u,b=p*p+m*m,w=y*y+g*g;if(b<h&&w<h)s.push(o,u);else{var x=c*p+v*m,M=-c*y-v*g;if(b-x*x<h&&x>=0&&w-M*M<h&&M>=0)s.push(o,u);else{var S=[],k=[];ci(t,i,e,o,.5,S),ci(n,r,a,u,.5,k),XW(S[0],k[0],S[1],k[1],S[2],k[2],S[3],k[3],s,l),XW(S[4],k[4],S[5],k[5],S[6],k[6],S[7],k[7],s,l)}}}}function UW(t,n,i){var r=t[n],e=t[1-n],a=Math.abs(r/e),o=Math.ceil(Math.sqrt(a*i)),u=Math.floor(i/o);0===u&&(u=1,o=i);for(var s=[],l=0;l<o;l++)s.push(u);var f=i-o*u;if(f>0)for(l=0;l<f;l++)s[l%o]+=1;return s}function jW(t,n,i){for(var r=t.r0,e=t.r,a=t.startAngle,o=t.endAngle,u=Math.abs(o-a),s=u*e,l=e-r,f=s>Math.abs(l),h=UW([s,l],f?0:1,n),c=(f?u:l)/h.length,v=0;v<h.length;v++)for(var d=(f?l:u)/h[v],p=0;p<h[v];p++){var m={};f?(m.startAngle=a+c*v,m.endAngle=a+c*(v+1),m.r0=r+d*p,m.r=r+d*(p+1)):(m.startAngle=a+d*p,m.endAngle=a+d*(p+1),m.r0=r+c*v,m.r=r+c*(v+1)),m.clockwise=t.clockwise,m.cx=t.cx,m.cy=t.cy,i.push(m)}}function ZW(t,n,i,r){return t*r-i*n}function qW(t,n,i,r,e,a,o,u){var s=i-t,l=r-n,f=o-e,h=u-a,c=ZW(f,h,s,l);if(Math.abs(c)<1e-6)return null;var v=ZW(t-e,n-a,f,h)/c;return v<0||v>1?null:new wn(v*s+t,v*l+n)}function KW(t,n,i){var r=new wn;wn.sub(r,i,n),r.normalize();var e=new wn;return wn.sub(e,t,n),e.dot(r)}function JW(t,n){var i=t[t.length-1];i&&i[0]===n[0]&&i[1]===n[1]||t.push(n)}function $W(t){var n=t.points,i=[],r=[];vo(n,i,r);var e=new In(i[0],i[1],r[0]-i[0],r[1]-i[1]),a=e.width,o=e.height,u=e.x,s=e.y,l=new wn,f=new wn;return a>o?(l.x=f.x=u+a/2,l.y=s,f.y=s+o):(l.y=f.y=s+o/2,l.x=u,f.x=u+a),function(t,n,i){for(var r=t.length,e=[],a=0;a<r;a++){var o=t[a],u=t[(a+1)%r],s=qW(o[0],o[1],u[0],u[1],n.x,n.y,i.x,i.y);s&&e.push({projPt:KW(s,n,i),pt:s,idx:a})}if(e.length<2)return[{points:t},{points:t}];e.sort((function(t,n){return t.projPt-n.projPt}));var l=e[0],f=e[e.length-1];if(f.idx<l.idx){var h=l;l=f,f=h}var c=[l.pt.x,l.pt.y],v=[f.pt.x,f.pt.y],d=[c],p=[v];for(a=l.idx+1;a<=f.idx;a++)JW(d,t[a].slice());for(JW(d,v),JW(d,c),a=f.idx+1;a<=l.idx+r;a++)JW(p,t[a%r].slice());return JW(p,c),JW(p,v),[{points:d},{points:p}]}(n,l,f)}function QW(t,n,i,r){if(1===i)r.push(n);else{var e=Math.floor(i/2),a=t(n);QW(t,a[0],e,r),QW(t,a[1],i-e,r)}return r}function tV(t,n){n.setStyle(t.style),n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel}function nV(t,n){var i,r=[],e=t.shape;switch(t.type){case"rect":!function(t,n,i){for(var r=t.width,e=t.height,a=r>e,o=UW([r,e],a?0:1,n),u=a?"width":"height",s=a?"height":"width",l=a?"x":"y",f=a?"y":"x",h=t[u]/o.length,c=0;c<o.length;c++)for(var v=t[s]/o[c],d=0;d<o[c];d++){var p={};p[l]=c*h,p[f]=d*v,p[u]=h,p[s]=v,p.x+=t.x,p.y+=t.y,i.push(p)}}(e,n,r),i=yu;break;case"sector":jW(e,n,r),i=pl;break;case"circle":jW({r0:0,r:e.r,startAngle:0,endAngle:2*Math.PI,cx:e.cx,cy:e.cy},n,r),i=pl;break;default:var a=t.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,u=P(function(t,n){var i=GW(t),r=[];n=n||1;for(var e=0;e<i.length;e++){var a=i[e],o=[],u=a[0],s=a[1];o.push(u,s);for(var l=2;l<a.length;){var f=a[l++],h=a[l++],c=a[l++],v=a[l++],d=a[l++],p=a[l++];XW(u,s,f,h,c,v,d,p,o,n),u=d,s=p}r.push(o)}return r}(t.getUpdatedPathProxy(),o),(function(t){return function(t){for(var n=[],i=0;i<t.length;)n.push([t[i++],t[i++]]);return n}(t)})),s=u.length;if(0===s)QW($W,{points:u[0]},n,r);else if(s===n)for(var l=0;l<s;l++)r.push({points:u[l]});else{var f=0,h=P(u,(function(t){var n=[],i=[];vo(t,n,i);var r=(i[1]-n[1])*(i[0]-n[0]);return f+=r,{poly:t,area:r}}));h.sort((function(t,n){return n.area-t.area}));var c=n;for(l=0;l<s;l++){var v=h[l];if(c<=0)break;var d=l===s-1?c:Math.ceil(v.area/f*n);d<0||(QW($W,{points:v.poly},d,r),c-=d)}}i=wl}if(!i)return function(t,n){for(var i=[],r=0;r<n;r++)i.push(Ks(t));return i}(t,n);var p=[];for(l=0;l<r.length;l++){var m=new i;m.setShape(r[l]),tV(t,m),p.push(m)}return p}function iV(t,n){var i=t.length,r=n.length;if(i===r)return[t,n];for(var e=[],a=[],o=i<r?t:n,u=Math.min(i,r),s=Math.abs(r-i)/6,l=(u-2)/6,f=Math.ceil(s/l)+1,h=[o[0],o[1]],c=s,v=2;v<u;){var d=o[v-2],p=o[v-1],m=o[v++],y=o[v++],g=o[v++],b=o[v++],w=o[v++],x=o[v++];if(c<=0)h.push(m,y,g,b,w,x);else{for(var M=Math.min(c,f-1)+1,S=1;S<=M;S++){var k=S/M;ci(d,m,g,w,k,e),ci(p,y,b,x,k,a),d=e[3],p=a[3],h.push(e[1],a[1],e[2],a[2],d,p),m=e[5],y=a[5],g=e[6],b=a[6]}c-=M-1}}return o===t?[h,n]:[t,h]}function rV(t,n){for(var i=t.length,r=t[i-2],e=t[i-1],a=[],o=0;o<n.length;)a[o++]=r,a[o++]=e;return a}function eV(t){for(var n=0,i=0,r=0,e=t.length,a=0,o=e-2;a<e;o=a,a+=2){var u=t[o],s=t[o+1],l=t[a],f=t[a+1],h=u*f-l*s;n+=h,i+=(u+l)*h,r+=(s+f)*h}return 0===n?[t[0]||0,t[1]||0]:[i/n/3,r/n/3,n]}function aV(t,n,i,r){for(var e=(t.length-2)/6,a=1/0,o=0,u=t.length,s=u-2,l=0;l<e;l++){for(var f=6*l,h=0,c=0;c<u;c+=2){var v=0===c?f:(f+c-2)%s+2,d=t[v]-i[0],p=t[v+1]-i[1],m=n[c]-r[0]-d,y=n[c+1]-r[1]-p;h+=m*m+y*y}h<a&&(a=h,o=l)}return o}function oV(t){for(var n=[],i=t.length,r=0;r<i;r+=2)n[r]=t[i-r-2],n[r+1]=t[i-r-1];return n}function uV(t){return t.Gy}var sV="__mOriginal_";function lV(t,n,i){var r=sV+n,e=t[r]||t[n];t[r]||(t[r]=t[n]);var a=i.replace,o=i.after,u=i.before;t[n]=function(){var t,n=arguments;return u&&u.apply(this,n),t=a?a.apply(this,n):e.apply(this,n),o&&o.apply(this,n),t}}function fV(t,n){var i=sV+n;t[i]&&(t[n]=t[i],t[i]=null)}function hV(t,n){for(var i=0;i<t.length;i++)for(var r=t[i],e=0;e<r.length;){var a=r[e],o=r[e+1];r[e++]=n[0]*a+n[2]*o+n[4],r[e++]=n[1]*a+n[3]*o+n[5]}}function cV(t,n){var i=t.getUpdatedPathProxy(),r=n.getUpdatedPathProxy(),e=function(t,n){for(var i,r,e,a=[],o=[],u=0;u<Math.max(t.length,n.length);u++){var s=t[u],l=n[u],f=void 0,h=void 0;s?l?(r=f=(i=iV(s,l))[0],e=h=i[1]):(h=rV(e||s,s),f=s):(f=rV(r||l,l),h=l),a.push(f),o.push(h)}return[a,o]}(GW(i),GW(r)),a=e[0],o=e[1],u=t.getComputedTransform(),s=n.getComputedTransform();u&&hV(a,u),s&&hV(o,s),lV(n,"updateTransform",{replace:function(){this.transform=null}}),n.transform=null;var l=function(t,n,i,r){for(var e,a=[],o=0;o<t.length;o++){var u=t[o],s=n[o],l=eV(u),f=eV(s);null==e&&(e=l[2]<0!=f[2]<0);var h=[],c=[],v=0,d=1/0,p=[],m=u.length;e&&(u=oV(u));for(var y=6*aV(u,s,l,f),g=m-2,b=0;b<g;b+=2){var w=(y+b)%g+2;h[b+2]=u[w]-l[0],h[b+3]=u[w+1]-l[1]}h[0]=u[y]-l[0],h[1]=u[y+1]-l[1];for(var x=r/i,M=-r/2;M<=r/2;M+=x){var S=Math.sin(M),k=Math.cos(M),A=0;for(b=0;b<u.length;b+=2){var N=h[b],C=h[b+1],T=s[b]-f[0],I=s[b+1]-f[1],z=T*k-I*S,L=T*S+I*k;p[b]=z,p[b+1]=L;var O=z-N,D=L-C;A+=O*O+D*D}if(A<d){d=A,v=M;for(var R=0;R<p.length;R++)c[R]=p[R]}}a.push({from:h,to:c,fromCp:l,toCp:f,rotation:-v})}return a}(a,o,10,Math.PI),f=[];lV(n,"buildPath",{replace:function(t){for(var i=n.Xy,r=1-i,e=[],a=0;a<l.length;a++){var o=l[a],u=o.from,s=o.to,h=o.rotation*i,c=o.fromCp,v=o.toCp,d=Math.sin(h),p=Math.cos(h);Bt(e,c,v,i);for(var m=0;m<u.length;m+=2){var y=u[m],g=u[m+1],b=y*r+(S=s[m])*i,w=g*r+(k=s[m+1])*i;f[m]=b*p-w*d+e[0],f[m+1]=b*d+w*p+e[1]}var x=f[0],M=f[1];t.moveTo(x,M);for(m=2;m<u.length;){var S=f[m++],k=f[m++],A=f[m++],N=f[m++],C=f[m++],T=f[m++];x===S&&M===k&&A===C&&N===T?t.lineTo(C,T):t.bezierCurveTo(S,k,A,N,C,T),x=C,M=T}}}})}function vV(t,n,i){if(!t||!n)return n;var r=i.done,e=i.during;return cV(t,n),n.Xy=0,n.animateTo({Xy:1},R({during:function(t){n.dirtyShape(),e&&e(t)},done:function(){fV(n,"buildPath"),fV(n,"updateTransform"),n.Xy=-1,n.createPathProxy(),n.dirtyShape(),r&&r()}},i)),n}function dV(t,n,i,r,e,a){t=e===i?0:Math.round(32767*(t-i)/(e-i)),n=a===r?0:Math.round(32767*(n-r)/(a-r));for(var o,u=0,s=32768;s>0;s/=2){var l=0,f=0;(t&s)>0&&(l=1),(n&s)>0&&(f=1),u+=s*s*(3*l^f),0===f&&(1===l&&(t=s-1-t,n=s-1-n),o=t,t=n,n=o)}return u}function pV(t){var n=1/0,i=1/0,r=-1/0,e=-1/0,a=P(t,(function(t){var a=t.getBoundingRect(),o=t.getComputedTransform(),u=a.x+a.width/2+(o?o[4]:0),s=a.y+a.height/2+(o?o[5]:0);return n=Math.min(u,n),i=Math.min(s,i),r=Math.max(u,r),e=Math.max(s,e),[u,s]}));return P(a,(function(a,o){return{cp:a,z:dV(a[0],a[1],n,i,r,e),path:t[o]}})).sort((function(t,n){return t.z-n.z})).map((function(t){return t.path}))}function mV(t){return nV(t.path,t.count)}function yV(t){return X(t[0])}function gV(t,n){for(var i=[],r=t.length,e=0;e<r;e++)i.push({one:t[e],many:[]});for(e=0;e<n.length;e++){var a=n[e].length,o=void 0;for(o=0;o<a;o++)i[o%r].many.push(n[e][o])}var u=0;for(e=r-1;e>=0;e--)if(!i[e].many.length){var s=i[u].many;if(s.length<=1){if(!u)return i;u=0}a=s.length;var l=Math.ceil(a/2);i[e].many=s.slice(l,a),i[u].many=s.slice(0,l),u++}return i}var bV={clone:function(t){for(var n=[],i=1-Math.pow(1-t.path.style.opacity,1/t.count),r=0;r<t.count;r++){var e=Ks(t.path);e.setStyle("opacity",i),n.push(e)}return n},split:null};function wV(t,n,i,r,e,a){if(t.length&&n.length){var o=Gl("update",r,e);if(o&&o.duration>0){var u,s,l=r.getModel("universalTransition").get("delay"),f=Object.assign({setToFinal:!0},o);yV(t)&&(u=t,s=n),yV(n)&&(u=n,s=t);for(var h=u?u===t:t.length>n.length,c=u?gV(s,u):gV(h?n:t,[h?t:n]),v=0,d=0;d<c.length;d++)v+=c[d].many.length;var p=0;for(d=0;d<c.length;d++)m(c[d],h,p,v),p+=c[d].many.length}}function m(t,n,r,e,o){var u=t.many,s=t.one;if(1!==u.length||o)for(var h=R({dividePath:bV[i],individualDelay:l&&function(t,n,i,a){return l(t+r,e)}},f),c=n?function(t,n,i){var r=[];!function t(n){for(var i=0;i<n.length;i++){var e=n[i];uV(e)?t(e.childrenRef()):e instanceof au&&r.push(e)}}(t);var e=r.length;if(!e)return{fromIndividuals:[],toIndividuals:[],count:0};var a=(i.dividePath||mV)({path:n,count:e});if(a.length!==e)return{fromIndividuals:[],toIndividuals:[],count:0};r=pV(r),a=pV(a);for(var o=i.done,u=i.during,s=i.individualDelay,l=new ne,f=0;f<e;f++){var h=r[f],c=a[f];c.parent=n,c.copyTransform(l),s||cV(h,c)}function v(t){for(var n=0;n<a.length;n++)a[n].addSelfToZr(t)}function d(){n.Gy=!1,n.Xy=-1,n.childrenRef=null,fV(n,"addSelfToZr"),fV(n,"removeSelfFromZr")}n.Gy=!0,n.childrenRef=function(){return a},lV(n,"addSelfToZr",{after:function(t){v(t)}}),lV(n,"removeSelfFromZr",{after:function(t){for(var n=0;n<a.length;n++)a[n].removeSelfFromZr(t)}});var p=a.length;if(s){var m=p,y=function(){0==--m&&(d(),o&&o())};for(f=0;f<p;f++){var g=s?R({delay:(i.delay||0)+s(f,p,r[f],a[f]),done:y},i):i;vV(r[f],a[f],g)}}else n.Xy=0,n.animateTo({Xy:1},R({during:function(t){for(var i=0;i<p;i++){var r=a[i];r.Xy=n.Xy,r.dirtyShape()}u&&u(t)},done:function(){d();for(var n=0;n<t.length;n++)fV(t[n],"updateTransform");o&&o()}},i));return n.Y&&v(n.Y),{fromIndividuals:r,toIndividuals:a,count:p}}(u,s,h):function(t,n,i){var r=n.length,e=[],a=i.dividePath||mV;if(uV(t)){!function t(n){for(var i=0;i<n.length;i++){var r=n[i];uV(r)?t(r.childrenRef()):r instanceof au&&e.push(r)}}(t.childrenRef());var o=e.length;if(o<r)for(var u=0,s=o;s<r;s++)e.push(Ks(e[u++%o]));e.length=r}else{e=a({path:t,count:r});var l=t.getComputedTransform();for(s=0;s<e.length;s++)e[s].setLocalTransform(l);if(e.length!==r)return{fromIndividuals:[],toIndividuals:[],count:0}}e=pV(e),n=pV(n);var f=i.individualDelay;for(s=0;s<r;s++){var h=f?R({delay:(i.delay||0)+f(s,r,e[s],n[s])},i):i;vV(e[s],n[s],h)}return{fromIndividuals:e,toIndividuals:n,count:n.length}}(s,u,h),v=c.fromIndividuals,d=c.toIndividuals,p=v.length,y=0;y<p;y++){g=l?R({delay:l(y,p)},f):f;a(v[y],d[y],n?u[y]:t.one,n?t.one:u[y],g)}else{var g,b=n?u[0]:s,w=n?s:u[0];if(uV(b))m({many:[b],one:w},!0,r,e,!0);else vV(b,w,g=l?R({delay:l(r,e)},f):f),a(b,w,b,w,g)}}}function xV(t){if(!t)return[];if(X(t)){for(var n=[],i=0;i<t.length;i++)n.push(xV(t[i]));return n}var r=[];return t.traverse((function(t){t instanceof au&&!t.disableMorphing&&!t.invisible&&!t.ignore&&r.push(t)})),r}var MV=ca();function SV(t,n,i,r){var e=function(t,n){for(var i=t.dimensions,r=0;r<i.length;r++){var e=t.getDimensionInfo(i[r]);if(e&&0===e.otherDims[n])return i[r]}}(t,r?"itemChildGroupId":"itemGroupId");if(e){var a=function(t,n,i){var r=t.getDimensionInfo(i),e=r&&r.ordinalMeta;if(r){var a=t.get(r.name,n);return e&&e.categories[a]||a+""}}(t,n,e);return a}var o=t.getRawDataItem(n),u=r?"childGroupId":"groupId";return o&&o[u]?o[u]+"":r?void 0:i||t.getId(n)}function kV(t){var n=[];return E(t,(function(t){var i=t.data,r=t.dataGroupId;if(!(i.count()>1e4))for(var e=i.getIndices(),a=0;a<e.length;a++)n.push({data:i,groupId:SV(i,a,r,!1),childGroupId:SV(i,a,r,!0),divide:t.divide,dataIndex:a})})),n}function AV(t,n,i){t.traverse((function(t){t instanceof au&&jl(t,{style:{opacity:0}},n,{dataIndex:i,isFrom:!0})}))}function NV(t){if(t.parent){var n=t.getComputedTransform();t.setLocalTransform(n),t.parent.remove(t)}}function CV(t){t.stopAnimation(),t.isGroup&&t.traverse((function(t){t.stopAnimation()}))}function TV(t,n,i){var r=Gl("update",i,n);r&&t.traverse((function(t){if(t instanceof io){var n=function(t){return Yl(t).oldStyle}(t);n&&t.animateFrom({style:n},r)}}))}function IV(t,n,i){var r=kV(t),e=kV(n);function a(t,n,i,r,e){(i||t)&&n.animateFrom({style:i&&i!==t?D(D({},i.style),t.style):t.style},e)}var o=!1,u=0,s=pt(),l=pt();r.forEach((function(t){t.groupId&&s.set(t.groupId,!0),t.childGroupId&&l.set(t.childGroupId,!0)}));for(var f=0;f<e.length;f++){var h=e[f].groupId;if(l.get(h)){u=1;break}var c=e[f].childGroupId;if(c&&s.get(c)){u=2;break}}function v(t,n){return function(i){var r=i.data,e=i.dataIndex;return n?r.getId(e):t?1===u?i.childGroupId:i.groupId:2===u?i.childGroupId:i.groupId}}var d=function(t,n){var i=t.length;if(i!==n.length)return!1;for(var r=0;r<i;r++){var e=t[r],a=n[r];if(e.data.getId(e.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}(r,e),p={};if(!d)for(f=0;f<e.length;f++){var m=e[f],y=m.data.getItemGraphicEl(m.dataIndex);y&&(p[y.id]=!0)}function g(t,n){var i=r[n],u=e[t],s=u.data.hostModel,l=i.data.getItemGraphicEl(i.dataIndex),f=u.data.getItemGraphicEl(u.dataIndex);l!==f?l&&p[l.id]||f&&(CV(f),l?(CV(l),NV(l),o=!0,wV(xV(l),xV(f),u.divide,s,t,a)):AV(f,s,t)):f&&TV(f,u.dataIndex,s)}new ig(r,e,v(!0,d),v(!1,d),null,"multiple").update(g).updateManyToOne((function(t,n){var i=e[t],u=i.data,s=u.hostModel,l=u.getItemGraphicEl(i.dataIndex),f=V(P(n,(function(t){return r[t].data.getItemGraphicEl(r[t].dataIndex)})),(function(t){return t&&t!==l&&!p[t.id]}));l&&(CV(l),f.length?(E(f,(function(t){CV(t),NV(t)})),o=!0,wV(xV(f),xV(l),i.divide,s,t,a)):AV(l,s,i.dataIndex))})).updateOneToMany((function(t,n){var i=r[n],u=i.data.getItemGraphicEl(i.dataIndex);if(!u||!p[u.id]){var s=V(P(t,(function(t){return e[t].data.getItemGraphicEl(e[t].dataIndex)})),(function(t){return t&&t!==u})),l=e[t[0]].data.hostModel;s.length&&(E(s,(function(t){return CV(t)})),u?(CV(u),NV(u),o=!0,wV(xV(u),xV(s),i.divide,l,t[0],a)):E(s,(function(n){return AV(n,l,t[0])})))}})).updateManyToMany((function(t,n){new ig(n,t,(function(t){return r[t].data.getId(r[t].dataIndex)}),(function(t){return e[t].data.getId(e[t].dataIndex)})).update((function(i,r){g(t[i],n[r])})).execute()})).execute(),o&&E(n,(function(t){var n=t.data.hostModel,r=n&&i.getViewOfSeriesModel(n),e=Gl("update",n,0);r&&n.isAnimationEnabled()&&e&&e.duration>0&&r.group.traverse((function(t){t instanceof au&&!t.animators.length&&t.animateFrom({style:{opacity:0}},e)}))}))}function zV(t){var n=t.getModel("universalTransition").get("seriesKey");return n||t.id}function LV(t){return X(t)?t.sort().join(","):t}function OV(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function DV(t,n){for(var i=0;i<t.length;i++){if(null!=n.seriesIndex&&n.seriesIndex===t[i].seriesIndex||null!=n.seriesId&&n.seriesId===t[i].id)return i}}Qy([function(t){t.registerPainter("canvas",mM)}]),Qy([function(t){t.registerPainter("svg",fM)}]),Qy([function(t){t.registerChartView(KM),t.registerSeriesModel(yM),t.registerLayout(JM("line",!0)),t.registerVisual({seriesType:"line",reset:function(t){var n=t.getData(),i=t.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=n.getVisual("style").fill),n.setVisual("legendLineStyle",i)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,tS("line"))},function(t){t.registerChartView(fS),t.registerSeriesModel(iS),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,G(ob,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ub("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,tS("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,n){var i=t.componentType||"series";n.eachComponent({mainType:i,query:t},(function(n){t.sortInfo&&n.axis.setCategorySortInfo(t.sortInfo)}))}))},function(t){t.registerChartView(PS),t.registerSeriesModel(YS),im("pie",t.registerAction),t.registerLayout(G(zS,"pie")),t.registerProcessor(OS("pie")),t.registerProcessor({seriesType:"pie",reset:function(t,n){var i=t.getData();i.filterSelf((function(t){var n=i.mapDimension("value"),r=i.get(n,t);return!(q(r)&&!isNaN(r)&&r<0)}))}})},function(t){Qy(Yk),t.registerSeriesModel(GS),t.registerChartView(ZS),t.registerLayout(JM("scatter"))},function(t){Qy(rA),t.registerChartView(Zk),t.registerSeriesModel(qk),t.registerLayout(Gk),t.registerProcessor(OS("radar")),t.registerPreprocessor(jk)},function(t){Qy(ON),t.registerChartView(vN),t.registerSeriesModel(dN),t.registerLayout(mN),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,pN),im("map",t.registerAction)},function(t){t.registerChartView(GN),t.registerSeriesModel(cC),t.registerLayout(dC),t.registerVisual(pC),function(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(t,n){n.eachComponent({mainType:"series",subType:"tree",query:t},(function(n){var i=t.dataIndex,r=n.getData().tree.getNodeByDataIndex(i);r.isExpand=!r.isExpand}))})),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(t,n,i){n.eachComponent({mainType:"series",subType:"tree",query:t},(function(n){var r=IN(n.coordinateSystem,t,void 0,i);n.setCenter&&n.setCenter(r.center),n.setZoom&&n.setZoom(r.zoom)}))}))}(t)},function(t){t.registerSeriesModel(gC),t.registerChartView(LC),t.registerVisual(ZC),t.registerLayout(uT),function(t){for(var n=0;n<mC.length;n++)t.registerAction({type:mC[n],update:"updateView"},wt);t.registerAction({type:"treemapRootToNode",update:"updateView"},(function(t,n){n.eachComponent({mainType:"series",subType:"treemap",query:t},(function(n,i){var r=sC(t,["treemapZoomToNode","treemapRootToNode"],n);if(r){var e=n.getViewRoot();e&&(t.direction=fC(e,r.node)?"rollUp":"drillDown"),n.resetViewRoot(r.node)}}))}))}(t)},function(t){t.registerChartView(sI),t.registerSeriesModel(pI),t.registerProcessor(vT),t.registerVisual(dT),t.registerVisual(mT),t.registerLayout(NT),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,RT),t.registerLayout(BT),t.registerCoordinateSystem("graphView",{dimensions:gN.dimensions,create:_T}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},wt),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},wt),t.registerAction(mI,(function(t,n,i){n.eachComponent({mainType:"series",query:t},(function(n){var r=IN(n.coordinateSystem,t,void 0,i);n.setCenter&&n.setCenter(r.center),n.setZoom&&n.setZoom(r.zoom)}))}))},function(t){t.registerChartView(wI),t.registerSeriesModel(xI)},function(t){t.registerChartView(kI),t.registerSeriesModel(AI),t.registerLayout(NI),t.registerProcessor(OS("funnel"))},function(t){Qy($z),t.registerChartView(CI),t.registerSeriesModel(OI),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,FI)},function(t){t.registerChartView(nL),t.registerSeriesModel(rL),t.registerLayout(eL),t.registerVisual(mL),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(t,n){n.eachComponent({mainType:"series",subType:"sankey",query:t},(function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])}))}))},function(t){t.registerSeriesModel(gL),t.registerChartView(bL),t.registerLayout(NL),t.registerTransform(CL)},function(t){t.registerChartView(_L),t.registerSeriesModel(ZL),t.registerPreprocessor(qL),t.registerVisual(FL),t.registerLayout(KL)},function(t){t.registerChartView(tO),t.registerSeriesModel(nO),t.registerLayout(JM("effectScatter"))},function(t){t.registerChartView(lO),t.registerSeriesModel(vO),t.registerLayout(sO),t.registerVisual(pO)},function(t){t.registerChartView(gO),t.registerSeriesModel(bO)},function(t){t.registerChartView(SO),t.registerSeriesModel(VO),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,G(ob,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,ub("pictorialBar"))},function(t){t.registerChartView(HO),t.registerSeriesModel(YO),t.registerLayout(GO),t.registerProcessor(OS("themeRiver"))},function(t){t.registerChartView(qO),t.registerSeriesModel(KO),t.registerLayout(G(QO,"sunburst")),t.registerProcessor(G(OS,"sunburst")),t.registerVisual(nD),function(t){t.registerAction({type:jO,update:"updateView"},(function(t,n){n.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(n,i){var r=sC(t,[jO],n);if(r){var e=n.getViewRoot();e&&(t.direction=fC(e,r.node)?"rollUp":"drillDown"),n.resetViewRoot(r.node)}}))})),t.registerAction({type:ZO,update:"none"},(function(t,n,i){t=D({},t),n.eachComponent({mainType:"series",subType:"sunburst",query:t},(function(n){var i=sC(t,[ZO],n);i&&(t.dataIndex=i.node.dataIndex)})),i.dispatchAction(D(t,{type:"highlight"}))})),t.registerAction({type:"sunburstUnhighlight",update:"updateView"},(function(t,n,i){t=D({},t),i.dispatchAction(D(t,{type:"downplay"}))}))}(t)},function(t){t.registerChartView(UD),t.registerSeriesModel(aD)}]),Qy((function(t){Qy(Yk),Qy(jR)})),Qy((function(t){Qy(jR),Lk.registerAxisPointerClass("PolarAxisPointer",ZR),t.registerCoordinateSystem("polar",sF),t.registerComponentModel(KR),t.registerComponentView(kF),ik(t,"angle",$R,MF),ik(t,"radius",QR,SF),t.registerComponentView(vF),t.registerComponentView(yF),t.registerLayout(G(xF,"bar"))})),Qy(ON),Qy((function(t){Qy(jR),Lk.registerAxisPointerClass("SingleAxisPointer",EF),t.registerComponentView(HF),t.registerComponentView(TF),t.registerComponentModel(zF),ik(t,"single",zF,zF.defaultOption),t.registerCoordinateSystem("single",FF)})),Qy($z),Qy((function(t){t.registerComponentModel(YF),t.registerComponentView(XF),t.registerCoordinateSystem("calendar",jF)})),Qy((function(t){t.registerComponentModel(QF),t.registerComponentView(iB),t.registerPreprocessor((function(t){var n=t.graphic;X(n)?n[0]&&n[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:n}]:n&&!n.elements&&(t.graphic=[{elements:[n]}])}))})),Qy((function(t){t.registerComponentModel(IB),t.registerComponentView(LB),CB("saveAsImage",OB),CB("magicType",FB),CB("dataView",HB),CB("dataZoom",f_),CB("restore",jB),Qy(kB)})),Qy((function(t){Qy(jR),t.registerComponentModel(v_),t.registerComponentView(z_),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},wt),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},wt)})),Qy(jR),Qy((function(t){t.registerComponentView($_),t.registerComponentModel(Q_),t.registerPreprocessor(F_),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,j_),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},(function(t,n){n.eachComponent({mainType:"brush",query:t},(function(n){n.setAreas(t.areas)}))})),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},wt),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},wt),CB("brush",iE)})),Qy((function(t){t.registerComponentModel(rE),t.registerComponentView(eE)})),Qy((function(t){t.registerComponentModel(oE),t.registerComponentView(hE),t.registerSubTypeDefaulter("timeline",(function(){return"slider"})),function(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},(function(t,n,i){var r=n.getComponent("timeline");return r&&null!=t.currentIndex&&(r.setCurrentIndex(t.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),n.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),R({currentIndex:r.option.currentIndex},t)})),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},(function(t,n){var i=n.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)}))}(t),t.registerPreprocessor(dE)})),Qy((function(t){t.registerComponentModel(xE),t.registerComponentView(DE),t.registerPreprocessor((function(t){yE(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})}))})),Qy((function(t){t.registerComponentModel(RE),t.registerComponentView(VE),t.registerPreprocessor((function(t){yE(t.series,"markLine")&&(t.markLine=t.markLine||{})}))})),Qy((function(t){t.registerComponentModel(HE),t.registerComponentView(KE),t.registerPreprocessor((function(t){yE(t.series,"markArea")&&(t.markArea=t.markArea||{})}))})),Qy((function(t){Qy(lP),Qy(mP)})),Qy((function(t){Qy(CP),Qy(BP)})),Qy(CP),Qy(BP),Qy((function(t){Qy(mW),Qy(xW)})),Qy(mW),Qy(xW),Qy((function(t){t.registerPreprocessor(NW),t.registerVisual(t.PRIORITY.VISUAL.ARIA,AW)})),Qy((function(t){t.registerTransform(EW),t.registerTransform(PW)})),Qy((function(t){t.registerComponentModel(WW),t.registerComponentView(VW)})),Qy((function(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,n,i){E(ta(i.seriesTransition),(function(t){E(ta(t.to),(function(t){for(var n=i.updatedSeries,r=0;r<n.length;r++)(null!=t.seriesIndex&&t.seriesIndex===n[r].seriesIndex||null!=t.seriesId&&t.seriesId===n[r].id)&&(n[r][Xd]=!0)}))}))})),t.registerUpdateLifecycle("series:transition",(function(t,n,i){var r=MV(n);if(r.oldSeries&&i.updatedSeries&&i.optionChanged){var e=i.seriesTransition;if(e)E(ta(e),(function(t){!function(t,n,i,r){var e=[],a=[];E(ta(t.from),(function(t){var i=DV(n.oldSeries,t);i>=0&&e.push({dataGroupId:n.oldDataGroupIds[i],data:n.oldData[i],divide:OV(n.oldData[i]),groupIdDim:t.dimension})})),E(ta(t.to),(function(t){var r=DV(i.updatedSeries,t);if(r>=0){var e=i.updatedSeries[r].getData();a.push({dataGroupId:n.oldDataGroupIds[r],data:e,divide:OV(e),groupIdDim:t.dimension})}})),e.length>0&&a.length>0&&IV(e,a,r)}(t,r,i,n)}));else{var a=function(t,n){var i=pt(),r=pt(),e=pt();return E(t.oldSeries,(function(n,i){var a=t.oldDataGroupIds[i],o=t.oldData[i],u=zV(n),s=LV(u);r.set(s,{dataGroupId:a,data:o}),X(u)&&E(u,(function(t){e.set(t,{key:s,dataGroupId:a,data:o})}))})),E(n.updatedSeries,(function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var n=t.get("dataGroupId"),a=t.getData(),o=zV(t),u=LV(o),s=r.get(u);if(s)i.set(u,{oldSeries:[{dataGroupId:s.dataGroupId,divide:OV(s.data),data:s.data}],newSeries:[{dataGroupId:n,divide:OV(a),data:a}]});else if(X(o)){var l=[];E(o,(function(t){var n=r.get(t);n.data&&l.push({dataGroupId:n.dataGroupId,divide:OV(n.data),data:n.data})})),l.length&&i.set(u,{oldSeries:l,newSeries:[{dataGroupId:n,data:a,divide:OV(a)}]})}else{var f=e.get(o);if(f){var h=i.get(f.key);h||(h={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:OV(f.data)}],newSeries:[]},i.set(f.key,h)),h.newSeries.push({dataGroupId:n,data:a,divide:OV(a)})}}}})),i}(r,i);E(a.keys(),(function(t){var i=a.get(t);IV(i.oldSeries,i.newSeries,n)}))}E(i.updatedSeries,(function(t){t[Xd]&&(t[Xd]=!1)}))}for(var o=t.getSeries(),u=r.oldSeries=[],s=r.oldDataGroupIds=[],l=r.oldData=[],f=0;f<o.length;f++){var h=o[f].getData();h.count()<1e4&&(u.push(o[f]),s.push(o[f].get("dataGroupId")),l.push(h))}}))})),Qy((function(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,n,i){var r=Jw(n).labelManager;r||(r=Jw(n).labelManager=new Kw),r.clearLabels()})),t.registerUpdateLifecycle("series:layoutlabels",(function(t,n,i){var r=Jw(n).labelManager;i.updatedSeries.forEach((function(t){r.addLabelsOfSeries(n.getViewOfSeriesModel(t))})),r.updateLayoutConfig(n),r.layout(n),r.processLabelsOverall()}))}));const RV={class:"dashboard-container"},FV={Uy:"Dashboard",setup(s){let l;const f=["天","周","月","季度","年度"],h=t(2);let c=null;const v=t(!1),d=t=>{const n={"天":[220,232,201,234,290,330,310,320,332,301,334,390],"周":[320,332,301,334,390,330,320,325,305,334,370,380],"月":[120,132,101,134,90,230,210,240,280,290,270,295],"季度":[420,432,401,434,490,430,420,425,405,434,470,480],"年度":[520,532,501,534,590,530,520,525,505,534,570,580]};return{"公司":n[t].map((t=>t*(.8+.4*Math.random()))),"市场":n[t].map((t=>t*(.8+.4*Math.random()))),"竞争对手":n[t].map((t=>t*(.8+.4*Math.random())))}},p=t=>{h.value=t;const n=d(f[t]);l.setOption({series:[{data:n.公司},{data:n.市场},{data:n.竞争对手}]}),document.querySelectorAll(".chart-control").forEach(((n,i)=>{n.classList.toggle("active",i===t)}))},m=()=>{c||(c=setInterval((()=>{if(!v.value){const t=(h.value+1)%f.length;p(t)}}),3e3))},y=()=>{c&&(clearInterval(c),c=null)};n((()=>{l=Wy(document.getElementById("marketTrendsChart"));const t=document.getElementById("marketTrendsChart");t.addEventListener("mouseenter",(()=>{v.value=!0,y()})),t.addEventListener("mouseleave",(()=>{v.value=!1,m()}));const n={backgroundColor:"transparent",tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["您的公司","市场平均值","主要竞争对手"],textStyle:{color:"#94a3b8"},top:0},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisLine:{lineStyle:{color:"#475569"}},axisLabel:{color:"#94a3b8"}}],yAxis:[{type:"value",nameTextStyle:{color:"#94a3b8"},axisLine:{lineStyle:{color:"#475569"}},splitLine:{lineStyle:{color:"#334155"}},axisLabel:{formatter:"{value}",color:"#94a3b8"}}],series:[{name:"您的公司",type:"line",emphasis:{focus:"series"},lineStyle:{width:3},showSymbol:!1,data:d("月").公司,color:"#4a6ff3"},{name:"市场平均值",type:"line",emphasis:{focus:"series"},lineStyle:{width:3},showSymbol:!1,data:d("月").市场,color:"#10b981"},{name:"主要竞争对手",type:"line",emphasis:{focus:"series"},lineStyle:{width:3},showSymbol:!1,data:d("月").竞争对手,color:"#ef4444"}]};l.setOption(n);document.querySelectorAll(".chart-control").forEach(((t,n)=>{t.addEventListener("click",(function(){v.value=!0,p(n),y()})),t.addEventListener("mouseenter",(()=>{v.value=!0,y()})),t.addEventListener("mouseleave",(()=>{v.value=!1,m()}))})),m(),window.addEventListener("resize",g)})),i((()=>{window.removeEventListener("resize",g),l&&l.dispose(),y()}));const g=()=>{l&&l.resize()};return(t,n)=>(u(),r("div",RV,[e(o),n[0]||(n[0]=a('<div class="content-wrapper"><header><div class="logo"><span class="logo-icon">📊</span> 数据驾驶舱 </div></header><div id="dashboard" class="dashboard"><div class="card"><div class="card-header"><div class="card-title"><span class="icon-wrapper"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></span> 市场份额 </div></div><div class="card-value">38.2%</div><div class="card-trend up"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg> +2.4% 较上一季度增加 </div></div><div class="card"><div class="card-header"><div class="card-title"><span class="icon-wrapper"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></span> 收入增长 </div></div><div class="card-value">$1.8M</div><div class="card-trend up"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg> +12.3% 较上一月度 </div></div><div class="card"><div class="card-header"><div class="card-title"><span class="icon-wrapper"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></span> 客户获取 </div></div><div class="card-value">2,437</div><div class="card-trend up"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg> +18.7% 较上一月度 </div></div><div class="card"><div class="card-header"><div class="card-title"><span class="icon-wrapper"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></span> 竞争对手的增长 </div></div><div class="card-value">5.4%</div><div class="card-trend down"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg> -2.1% 较上一季度增加 </div></div></div><div class="chart-container"><div class="chart-header"><div class="chart-title"><span class="icon-wrapper"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg></span> 市场表现趋势 </div><div class="chart-controls"><button class="chart-control">天</button><button class="chart-control">周</button><button class="chart-control active">月</button><button class="chart-control">季度</button><button class="chart-control">年度</button></div></div><div id="marketTrendsChart"></div></div><div class="market-trends"><div class="trend-card"><h3><span class="icon-wrapper"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path><path d="M2 12h20"></path></svg></span> 地理区域表现 </h3><div class="trend-item"><div class="trend-name"><div class="trend-icon" style="background-color:rgba(16, 185, 129, 0.2);"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path><path d="M2 12h20"></path></svg></div> 亚太地区 </div><div class="trend-value up">+32.1%</div></div><div class="trend-item"><div class="trend-name"><div class="trend-icon" style="background-color:rgba(16, 185, 129, 0.2);"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#10b981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path><path d="M2 12h20"></path></svg></div> 北美地区 </div><div class="trend-value up">+8.7%</div></div><div class="trend-item"><div class="trend-name"><div class="trend-icon" style="background-color:rgba(239, 68, 68, 0.2);"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path><path d="M2 12h20"></path></svg></div> 欧洲地区 </div><div class="trend-value down">-2.3%</div></div></div><div class="trend-card"><h3><span class="icon-wrapper"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline></svg></span> 表现欠佳领域 </h3><div class="trend-item"><div class="trend-name"><div class="trend-icon" style="background-color:rgba(239, 68, 68, 0.2);"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline></svg></div> 硬件销售 </div><div class="trend-value down">-8.2%</div></div><div class="trend-item"><div class="trend-name"><div class="trend-icon" style="background-color:rgba(239, 68, 68, 0.2);"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline></svg></div> 消费产品 </div><div class="trend-value down">-5.4%</div></div><div class="trend-item"><div class="trend-name"><div class="trend-icon" style="background-color:rgba(239, 68, 68, 0.2);"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ef4444" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline><polyline points="17 18 23 18 23 12"></polyline></svg></div> 传统支持服务 </div><div class="trend-value down">-3.1%</div></div></div></div></div>',1))]))}};export{FV as default};
